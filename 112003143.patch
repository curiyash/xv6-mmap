diff --git a/.gitignore b/.gitignore
index 3e2c9de..c337aa3 100644
--- a/.gitignore
+++ b/.gitignore
@@ -14,3 +14,4 @@ kernel
 kernelmemfs
 mkfs
 .gdbinit
+check.c
diff --git a/Makefile b/Makefile
index 09d790c..7269d3a 100644
--- a/Makefile
+++ b/Makefile
@@ -181,9 +181,10 @@ UPROGS=\
 	_usertests\
 	_wc\
 	_zombie\
+	_mman_test\
 
-fs.img: mkfs README $(UPROGS)
-	./mkfs fs.img README $(UPROGS)
+fs.img: mkfs README TEST $(UPROGS)
+	./mkfs fs.img README TEST $(UPROGS)
 
 -include *.d
 
@@ -196,7 +197,7 @@ clean:
 
 # make a printout
 FILES = $(shell grep -v '^\#' runoff.list)
-PRINT = runoff.list runoff.spec README toc.hdr toc.ftr $(FILES)
+PRINT = runoff.list runoff.spec README TEST toc.hdr toc.ftr $(FILES)
 
 xv6.pdf: $(PRINT)
 	./runoff
@@ -251,7 +252,7 @@ EXTRA=\
 	mkfs.c ulib.c user.h cat.c echo.c forktest.c grep.c kill.c\
 	ln.c ls.c mkdir.c rm.c stressfs.c usertests.c wc.c zombie.c\
 	printf.c umalloc.c\
-	README dot-bochsrc *.pl toc.* runoff runoff1 runoff.list\
+	README TEST dot-bochsrc *.pl toc.* runoff runoff1 runoff.list\
 	.gdbinit.tmpl gdbutil\
 
 dist:
diff --git a/NOTES b/NOTES
new file mode 100644
index 0000000..d8cc019
--- /dev/null
+++ b/NOTES
@@ -0,0 +1,2 @@
+- Linux creates two different mmap for the same parameters
+    - So same file contents are already present in the process address space, but they aren't looked at. A new mapping is created everytime
diff --git a/README b/README
index 923e0a4..eaf292b 100644
--- a/README
+++ b/README
@@ -1,4 +1,4 @@
-NOTE: we have stopped maintaining the x86 version of xv6, and switched
+xONE: we have stopped maintaining the x86 version of xv6, and switched
 our efforts to the RISC-V version
 (https://github.com/mit-pdos/xv6-riscv.git)
 
@@ -48,4 +48,162 @@ To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
 will need to install a cross-compiler gcc suite capable of producing
 x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
 Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
-simulator and run "make qemu".
\ No newline at end of file
+simulator and run "make qemu".
+
+NNNE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, Bnd Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
+
+####################################################################
+
+xONE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, and Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
+
+NNNE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, Bnd Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
diff --git a/TEST b/TEST
new file mode 100644
index 0000000..b6fc4c6
--- /dev/null
+++ b/TEST
@@ -0,0 +1 @@
+hello
\ No newline at end of file
diff --git a/buf.h b/buf.h
index 3266495..e7b863e 100644
--- a/buf.h
+++ b/buf.h
@@ -7,6 +7,7 @@ struct buf {
   struct buf *prev; // LRU cache list
   struct buf *next;
   struct buf *qnext; // disk queue
+  // You will have 512 bytes but nothing else in the buffer, so why don't you use that space to store information about files
   uchar data[BSIZE];
 };
 #define B_VALID 0x2  // buffer has been read from disk
diff --git a/caveats b/caveats
new file mode 100644
index 0000000..cd82e6e
--- /dev/null
+++ b/caveats
@@ -0,0 +1,10 @@
+- length in mmap parameter is used as an explicit understanding of number of bytes of the last page to be written back to the file
+- I had 2 choices in deciding what to do with maps across fork
+    - page fault and accordingly get the code in each child and fork
+    - If page fault occurs before fork and in parent, then it is directly accessible in child process (does not involve a page fault)
+
+    - I chose 1st because that seems to be more space conservative and fits naturally into the flow of the code
+- Daemons won't work well with MAP_PRIVATE
+    - As soon as parent is gone, page is gone
+    - There is no reference count as well
+    - We will have to copyVMA instead
diff --git a/defs.h b/defs.h
index 82fb982..d2c977f 100644
--- a/defs.h
+++ b/defs.h
@@ -171,20 +171,21 @@ void            uartintr(void);
 void            uartputc(int);
 
 // vm.c
-void            seginit(void);
-void            kvmalloc(void);
-pde_t*          setupkvm(void);
-char*           uva2ka(pde_t*, char*);
-int             allocuvm(pde_t*, uint, uint);
-int             deallocuvm(pde_t*, uint, uint);
-void            freevm(pde_t*);
-void            inituvm(pde_t*, char*, uint);
-int             loaduvm(pde_t*, char*, struct inode*, uint, uint);
-pde_t*          copyuvm(pde_t*, uint);
-void            switchuvm(struct proc*);
-void            switchkvm(void);
-int             copyout(pde_t*, uint, void*, uint);
-void            clearpteu(pde_t *pgdir, char *uva);
+void                seginit(void);
+void                kvmalloc(void);
+pde_t*              setupkvm(void);
+char*               uva2ka(pde_t*, char*);
+int                 allocuvm(pde_t*, uint, uint);
+int                 deallocuvm(pde_t*, uint, uint);
+void                freevm(pde_t*);
+void                inituvm(pde_t*, char*, uint);
+int                 loaduvm(pde_t*, char*, struct inode*, uint, uint);
+pde_t*              copyuvm(pde_t*, uint);
+void                switchuvm(struct proc*);
+void                switchkvm(void);
+int                 copyout(pde_t*, uint, void*, uint);
+void                clearpteu(pde_t *pgdir, char *uva);
+struct mmapInfo*    mmapdup(struct mmapInfo*);
 
 // number of elements in fixed-size array
 #define NELEM(x) (sizeof(x)/sizeof((x)[0]))
diff --git a/file.c b/file.c
index 24b32c2..f3c2af3 100644
--- a/file.c
+++ b/file.c
@@ -9,6 +9,10 @@
 #include "spinlock.h"
 #include "sleeplock.h"
 #include "file.h"
+#include "mmu.h"
+#include "mman.h"
+#include "stat.h"
+#include "proc.h"
 
 struct devsw devsw[NDEV];
 struct {
@@ -96,17 +100,27 @@ filestat(struct file *f, struct stat *st)
 int
 fileread(struct file *f, char *addr, int n)
 {
-  int r;
+  int r = 0;
 
   if(f->readable == 0)
     return -1;
   if(f->type == FD_PIPE)
     return piperead(f->pipe, addr, n);
   if(f->type == FD_INODE){
-    ilock(f->ip);
-    if((r = readi(f->ip, addr, f->off, n)) > 0)
+    if (f->ip!=(struct inode *) 0x80112a24){
+      struct legend2 *map = 0;
+      map = findInCachePage(f, f->off, n, 0);
+      if (!map){
+        return 0;
+      }
+      r = readFromPageCache(map, addr, f->off, n);
       f->off += r;
-    iunlock(f->ip);
+    } else{
+      ilock(f->ip);
+      if((r = readi(f->ip, addr, f->off, n)) > 0)
+        f->off += r;
+      iunlock(f->ip);
+    }
     return r;
   }
   panic("fileread");
@@ -137,12 +151,31 @@ filewrite(struct file *f, char *addr, int n)
       if(n1 > max)
         n1 = max;
 
-      begin_op();
-      ilock(f->ip);
-      if ((r = writei(f->ip, addr + i, f->off, n1)) > 0)
+      if (f->ip != (struct inode *) 0x80112a24){
+        // If not found in cache, readIntoPageCache and write to page cache
+        // readIntoPageCache basically makes sure that the page will be in the cache
+        // writeToPageCache makes sure that only the page cache is written to and nothing else
+        // cprintf("Writing %d bytes from %d\n", n1, f->off);
+        struct legend2 *map = findInCachePage(f, f->off, n1, 1);
+        if (!map){
+          break;
+        }
+        // You should have gotten the appropriate pages into your page cache by now
+        // cprintf("%x\n", map);
+        r = writeToPageCache(map, addr, f->off, n1);
+        // cprintf("%d r: %d\n", f->off, r);
+        if (f->off + n > map->f->ip->size){
+          map->f->ip->size = f->off + n;
         f->off += r;
-      iunlock(f->ip);
-      end_op();
+        }
+      } else{
+        begin_op();
+        ilock(f->ip);
+        if ((r = writei(f->ip, addr + i, f->off, n1)) > 0)
+          f->off += r;
+        iunlock(f->ip);
+        end_op();
+      }
 
       if(r < 0)
         break;
diff --git a/fs.c b/fs.c
index f77275f..d357cd1 100644
--- a/fs.c
+++ b/fs.c
@@ -465,7 +465,8 @@ readi(struct inode *ip, char *dst, uint off, uint n)
     return -1;
   if(off + n > ip->size)
     n = ip->size - off;
-
+  
+  // Buffer should no longer contain data but a pointer to page
   for(tot=0; tot<n; tot+=m, off+=m, dst+=m){
     bp = bread(ip->dev, bmap(ip, off/BSIZE));
     m = min(n - tot, BSIZE - off%BSIZE);
diff --git a/mman.h b/mman.h
new file mode 100644
index 0000000..da55a9d
--- /dev/null
+++ b/mman.h
@@ -0,0 +1,17 @@
+// Return 0xffffffff when mapping fails
+#define MAP_FAILED ((void *)-1)
+
+// Argument values for prot parameter
+#define PROT_READ       0x1
+#define PROT_WRITE      0x2
+#define PROT_EXEC       0x4
+#define PROT_NONE       0x0
+
+// Argument values for flags parameter
+#define MAP_SHARED      0x01
+#define MAP_PRIVATE     0x02
+#define MAP_FIXED       0x10
+#define MAP_ANONYMOUS   0x20
+
+extern void *mmap(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+extern int munmap(void *addr, unsigned int length);
diff --git a/mman_test.c b/mman_test.c
new file mode 100644
index 0000000..e231278
--- /dev/null
+++ b/mman_test.c
@@ -0,0 +1,1143 @@
+#include "types.h"
+#include "stat.h"
+#include "user.h"
+#include "fs.h"
+#include "fcntl.h"
+#include "mman.h"
+
+// Single process, MAP_SHARED - READ_ONLY
+void smsro(){
+    int fd = open("README", 0);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "19 Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "Single process, MAP_SHARED, READ_ONLY ok\n");
+}
+
+void smswo(){
+    int fd = open("README", O_RDWR);
+
+    char *ret = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 4096);
+
+     if (ret != (char *) 0xffffffff){
+        ret[0] = 'r';
+        if (ret[0]=='r'){
+        } else{
+            printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "Single process, MAP_SHARED, READ_ONLY ok\n");
+}
+
+int smsno(){
+    // No access to the mapped page
+    // PROT_NONE and MAP_SHARED doesn't make sense. You allocate the page in pte, but don't load anything. There is no region of memory. It's just inaccessible
+    int fd = open("README", O_RDWR);
+
+    char *ret = mmap(0, 4096, PROT_READ, MAP_SHARED, fd, 0);
+    char *ret2 = mmap(0, 4096, PROT_NONE, MAP_SHARED, fd, 4096);
+    char *ret3 = mmap(0, 4096, PROT_READ, MAP_SHARED, fd, 8192);
+
+     if (ret != MAP_FAILED && ret2 != MAP_FAILED && ret3 !=MAP_FAILED){
+        // Should pagefault
+        printf(1, "0th char: %c | 8192th char: %c\n", ret[0], ret3[0]);
+        printf(1, "This should page fault and never return\n");
+        printf(1, "%c\n", ret2[0]);
+    } else{
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1 && munmap(ret2, 4096) == -1 && munmap(ret3, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    printf(1, "PROT_NONE check fail\n");
+    return -1;
+}
+
+void leftVMAtest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+     if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[4096]);
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "--------------------\n");
+    printf(1, "|    leftVMA ok    |\n");
+    printf(1, "--------------------\n");
+}
+
+void rightVMAtest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "1 Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "2 Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "3 Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[0]);
+    printf(1, "----------------------\n");
+    printf(1, "|    rightVMA ok     |\n");
+    printf(1, "----------------------\n");
+}
+
+void sandwichTest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 4096 * 3, PROT_READ, MAP_SHARED, fd, 0);
+    printf(1, "%c\n", ret[8194]);
+    printf(1, "%c\n", ret[0]);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "Sandwich test fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[0]);
+    printf(1, "---\n");
+    printf(1, "%c\n", ret[8194]);
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    if (munmap(ret+8192, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    printf(1, "--------------------------------\n");
+    printf(1, "|       Sandwich test ok       |\n");
+    printf(1, "--------------------------------\n");
+}
+
+void sanity_check(){
+    int fd = open("README", 0);
+
+    char c[512];
+    for (int i=0; i<3; i++){
+        for (int j=0; j<8; j++){
+            read(fd, c, 512);
+            if (j==0){
+                printf(1, "%c\n", c[0]);
+            }
+        }
+    }
+    // read(fd, buf, 4096);
+    // read(fd, buf, 4096);
+    // printf(1, "%c\n", buf[0]);
+}
+
+void smp(char *status){
+    // Single process MAP_PRIVATE testing
+    // Read test
+    // Write test
+    // None test
+    printf(1, "smp\n");
+    int fd = open("README", O_RDWR);
+    char *read_map = mmap(0, 8192, PROT_READ, MAP_PRIVATE, fd, 0);
+    char *write_map = mmap(0, 4096, PROT_WRITE, MAP_PRIVATE, fd, 4096);
+    char *none_map = mmap(0, 4096, PROT_NONE, MAP_PRIVATE, fd, 8192);
+
+    if (read_map==MAP_FAILED || write_map==MAP_FAILED || none_map==MAP_FAILED){
+        printf(1, "mmap fail %x %x %x\n", read_map, write_map, none_map);
+        return;
+    }
+
+    if (read_map[0]=='x'){
+    } else{
+        printf(1, "MAP_PRIVATE PROT_READ error\n");
+    }
+
+    char before = write_map[0];
+    // This should trigger a copy-on-write => Another pagefault
+    write_map[0] = 'x';
+    if (write_map[0]=='x'){
+    } else{
+        printf(1, "MAP_PRIVATE PROT_WRITE error\n");
+    }
+    char c[512];
+    for (int i=0; i<1; i++){
+        for (int j=0; j<8; j++){
+            read(fd, c, 512);
+        }
+    }
+    read(fd, c, 512);
+    if (c[0] != before){
+        printf(1, "MAP_PRIVATE copy-on-write error\n");
+    }
+    printf(1, "Been there, Done that\n");
+
+    if (fork() == 0){
+        // This should page fault and not return
+        printf(1, "In child\n");
+        memmove(status, "okay", 4);
+        if (none_map[0]){
+            memmove(status, "fail", 4);
+        }
+        exit();
+    } else{
+        sleep(10);
+        wait();
+        char c[5];
+        c[4] = '\0';
+        memmove(c, status, 4);
+        if (strcmp(c, "okay")){
+            printf(1, "MAP_PRIVATE PROT_NONE fail\n");
+            exit();
+        }
+        if (munmap(read_map, 4096) == -1 || munmap(write_map, 4096) == -1 || munmap(none_map, 4096) == -1 ){
+            printf(1, "Unmapping fail\n");
+            return;
+        }
+        printf(1, "----------------------------\n");
+        printf(1, "|      MAP_PRIVATE ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+}
+
+// MAP_SHARED tests with fork
+// Producer-consumer kind of code
+// 1st process writes to the file
+// 2nd process reads from the file
+// Check if both are same
+void msf(){
+    int fd = open("README", O_RDWR);
+    if (fork()==0){
+        char *child_map = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 0);
+        char c[12] = "child writes";
+        memmove(child_map, c, 12);
+        sleep(5);
+        memmove(c, child_map, 12);
+        if (!strcmp(c, "child writes")){
+        } else{
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        memmove(c, &child_map[12], 12);
+        if (!strcmp(c, "paren writes")){
+        } else {
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        printf(1, "Child exiting...\n");
+        exit();
+    } else{
+        char p[13];
+        char *parent_map;
+        
+        parent_map = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 0);
+        sleep(2);
+        
+        memmove(p, parent_map, 12);
+        p[12] = '\0';
+        if (!strcmp(p, "child writes")){
+        } else{
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        strcpy(p, "paren writes");
+        memmove(&parent_map[12], p, 12);
+        sleep(10);
+        printf(1, "--------------------------\n");
+        printf(1, "|     MAP_SHARED ok      |\n");
+        printf(1, "--------------------------\n");
+        if (munmap(parent_map, 4096) == -1){
+            printf(1, "munmap fail\n");
+            exit();
+        }
+    }
+}
+
+// MAP_PRIVATE test with fork
+void mpf(){
+    int fd = open("TEST", O_RDWR);
+    if (fork() == 0){
+        char c[512];
+        for (int i=0; i<512; i++){
+            c[i] = 'c';
+        }
+        char *child_map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+        if (child_map == MAP_FAILED){
+            printf(1, "mmap failed\n");
+            return;
+        }
+        sleep(4);
+        printf(1, "char: %c\n", child_map[0]);
+        memmove(child_map, c, 512);
+
+        int count = 0;
+        for (int i=0; i<512; i++){
+            if (child_map[i]=='c'){
+                count++;
+            }
+        }
+        if (count!=512){
+            printf(1, "MAP_PRIVATE fail\n");
+        }
+        exit();
+    } else{
+        char c[512];
+        for (int i=0; i<512; i++){
+            c[i] = 'p';
+        }
+        char *parent_map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+        if (parent_map == MAP_FAILED){
+            printf(1, "mmap failed\n");
+            return;
+        }
+        for (int i=0; i<8; i++){
+            memmove(parent_map + i*512, c, 512);
+        }
+        sleep(10);
+        memmove(c, parent_map, 512);
+        int count = 0;
+        for (int i=0; i<512; i++){
+            if (c[i]=='p'){
+                count++;
+            }
+        }
+        if (count!=512){
+            printf(1, "MAP_PRIVATE fail\n");
+            return;
+        }
+        if (munmap(parent_map, 4096) == -1){
+            printf(1, "MAP_PRIVATE munmap fail\n");
+            exit();
+        }
+        printf(1, "----------------------------\n");
+        printf(1, "|      MAP_PRIVATE ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+}
+
+// MAP ANONYMOUS test
+
+// Concurrency test
+void concurrency(){
+    unlink("NEW");
+    int fd = open("NEW", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+    if (map == MAP_FAILED){
+        printf(1, "mmap failed\n");
+        exit();
+    }
+
+    if (fork() == 0){
+        // a
+        if (fork() == 0){
+            // b
+            for (int i=0; i < 20; i++){
+                if (i%3 == 0){
+                    memmove(&map[i], "a", 1);
+                }
+            }
+            printf(1, "\n");
+            exit();
+        } else{
+            printf(1, "In child %c %c\n", map[0], map[1]);
+            for (int i=0; i < 20; i++){
+                if (i%3==1){
+                    memmove(&map[i], "b", 1);
+                }
+            }
+
+            printf(1, "Child exited\n");
+            exit();
+        }
+    } else{
+        // c
+        printf(1, "In parent %c\n", map[1]);
+        for (int i=0; i<20; i++){
+            if (i%3 == 2){
+                memmove(&map[i], "c", 1);
+            }
+        }
+    }
+
+    while (wait() != -1){
+    }
+    while (wait() != -1){
+    }
+    int countA = 0, countB = 0, countC = 0, weird = 0;
+    for (int i=0; i < 20; i++){
+        switch(map[i]){
+            case 'a': countA++; break;
+            case 'b': countB++; break;
+            case 'c': countC++; break;
+            default: weird++; break;
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    if (countA==7 && countB == 7 && countC == 6){
+        printf(1, "----------------------------\n");
+        printf(1, "|      concurrency ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+    unlink("NEW");
+}
+
+// Do the maps get correctly carried across fork?
+void forkTestMapShared(){
+    // MAP_SHARED
+    unlink("TEST1");
+    int fd = open("TEST1", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        return;
+    }
+
+    printf(1, "Initially: %c\n", map[0]);
+
+    if (fork() == 0){
+        printf(1, "In child, initially: %c\n", map[0]);
+        map[0] = 'c';
+        map[1] = 'd';
+        exit();
+    } else{
+        sleep(2);
+        printf(1, "In parent: %c\n", map[0]);
+        if (map[0]=='c'){
+            printf(1, "char: %c\n", map[1]);
+        } else{
+            printf(1, "fork test fail\n");
+            exit();
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "forkTestMapShared munmap fail\n");
+        exit();
+    }
+    unlink("TEST1");
+    printf(1, "--------------------------------------\n");
+    printf(1, "|        fork test shared ok         |\n");
+    printf(1, "--------------------------------------\n");
+}
+
+void forkTestMapPrivate(){
+    unlink("TEST2");
+    int fd = open("TEST2", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // pagefault 1
+    printf(1, "Initially: %c\n", map[0]);
+    // Parent has done changes before fork. This is mapped privately. But child will see the change
+    // pagefault 2: copy-on-write
+    map[0] = 'p';
+
+    if (fork() == 0){
+        // pagefault 3
+        printf(1, "In child, initially: %c\n", map[0]);
+        // pagefault 4: copy-on-write
+        map[0] = 'c';
+        map[1] = 'd';
+        exit();
+    } else{
+        sleep(2);
+        printf(1, "In parent: %c\n", map[0]);
+        if (map[0]=='p'){
+            printf(1, "char: %c\n", map[1]);
+        } else{
+            printf(1, "fork test fail\n");
+            exit();
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    unlink("TEST2");
+    printf(1, "----------------------------------------\n");
+    printf(1, "|         fork test private ok         |\n");
+    printf(1, "----------------------------------------\n");
+}
+
+void mapPrivateCorrectness(){
+    unlink("NEW2");
+    int fd = open("NEW2", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+    // Initial
+    map[0] = 'p';
+
+    if (fork() == 0){
+        if (map[0] == 'p'){
+        } else{
+            printf(1, "MAP_PRIVATE incorrect\n");
+            exit();
+        }
+        map[0] = 'c';
+        exit();
+    } else{
+        while (wait() != -1){
+        }
+        if (map[0] =='p'){
+            printf(1, "----------------------------------------------------\n");
+            printf(1, "|            MAP_PRIVATE correctness ok            |\n");
+            printf(1, "----------------------------------------------------\n");
+        } else{
+            printf(1, "MAP_PRIVATE correctness fail\n");
+            exit();
+        }
+    }
+    if (munmap(map, 4096) == -1){
+        printf(1, "MAP_PRIVATE munmap fail\n");
+        exit();
+    }
+    unlink("NEW2");
+}
+
+// MAP_ANONYMOUS
+void sma(){
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    char *map2 = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_PRIVATE, 0, 0);
+    if (map == MAP_FAILED || map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    memmove(map2, "pppp", 4);
+
+    if (fork() == 0){
+        for (int i=0; i < 20; i++){
+            if (i % 2 == 0){
+                memmove(&map[i], "c", 1);
+            }
+        }
+        printf(1, "char child: %c\n", map[0]);
+        printf(1, "private map: %s\n", map2);
+        exit();
+    } else {
+        for (int i=0; i < 20; i++){
+            if (i % 2 == 1){
+                memmove(&map[i], "p", 1);
+            }
+        }
+        printf(1, "char parent: %c\n", map[1]);
+        wait();
+    }
+    int countC = 0, countP = 0;
+    for (int i=0; i < 20; i++){
+        switch(map[i]){
+            case 'c': countC++; break;
+            case 'p': countP++; break;
+            default: break;
+        }
+    }
+    if (munmap(map, 4096) == -1 || munmap(map2, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    if ((countC == countP) && countC == 10){
+        printf(1, "------------------------------\n");
+        printf(1, "|      MAP_ANONYMOUS ok      |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "------------------------------\n");
+        printf(1, "|     MAP_ANONYMOUS fail     |\n");
+        printf(1, "------------------------------\n");
+    }
+}
+
+// Read-Write consistency
+// mmap write
+// file read
+// file write
+// mmap read
+void readWriteTest(){
+    int fd = open("README", O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+    char c[5], buf[5];
+    int pid;
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    // Initial content
+    memmove(c, map, 4);
+    c[4] = '\0';
+    printf(1, "Initial: %s\n", c);
+
+    if ((pid = fork()) == 0){
+        // mmap write
+        memmove(&map[0], "mmap", 4);
+
+        sleep(10);
+        // mmap read
+        memmove(c, &map[4], 4);
+
+        if (!strcmp(c, "file")){
+            printf(1, "--------------------------------------------------\n");
+            printf(1, "|           File write consistency ok            |\n");
+            printf(1, "--------------------------------------------------\n");
+        } else{
+            printf(1, "------------------------------------------------------------------\n");
+            printf(1, "|               File write consistency check fail                |\n");
+            printf(1, "------------------------------------------------------------------\n");
+        }
+        exit();
+    } else{
+        // fileread
+        sleep(2);
+        read(fd, buf, 4);
+        if (!strcmp(buf, "mmap")){
+            printf(1, "------------------------------------------------\n");
+            printf(1, "|           File read consistency ok           |\n");
+            printf(1, "------------------------------------------------\n");
+        } else{
+            kill(pid);
+            wait();
+            printf(1, "----------------------------------------------------------------\n");
+            printf(1, "|               File read consistency check fail               |\n");
+            printf(1, "----------------------------------------------------------------\n");
+            exit();
+        }
+        
+        // File write
+        memmove(buf, "file", 4);
+        write(fd, buf, 4);
+
+        int pid = wait();
+        printf(1, "pid: %d\n", pid);
+    }
+}
+
+void fourfiles(void) {
+    char buf[512];
+  int fd, pid, i, j, n, total, pi;
+  char *names[] = { "f0", "f1", "f2", "f3" };
+  char *fname;
+  int factor = 1;
+
+  printf(1, "fourfiles test\n");
+
+  for(pi = 0; pi < 4; pi++){
+    fname = names[pi];
+    unlink(fname);
+
+    pid = fork();
+    if(pid < 0){
+      printf(1, "fork failed\n");
+      exit();
+    }
+
+    if(pid == 0){
+      fd = open(fname, O_CREATE | O_RDWR);
+      if(fd < 0){
+        printf(1, "create failed\n");
+        exit();
+      }
+
+      memset(buf, '0'+pi, 512);
+      for(i = 0; i < factor; i++){
+        if((n = write(fd, buf, 512)) != 512){
+          printf(1, "write failed %d\n", n);
+          exit();
+        }
+      }
+      exit();
+    }
+  }
+
+  for(pi = 0; pi < 4; pi++){
+    wait();
+  }
+
+  for(i = 0; i < 2; i++){
+    fname = names[i];
+    fd = open(fname, 0);
+    total = 0;
+    while((n = read(fd, buf, sizeof(buf))) > 0 && total < 512 * factor){
+      for(j = 0; j < n; j++){
+        if(buf[j] != '0'+i){
+          printf(1, "wrong char %d %d %d\n", total, j, n);
+          exit();
+        }
+      }
+      total += n;
+    }
+    close(fd);
+    if(total != factor*512){
+      printf(1, "wrong length %d\n", total);
+      exit();
+    }
+    unlink(fname);
+  }
+
+  printf(1, "------------------------\n");
+  printf(1, "|     fourfiles ok     |\n");
+  printf(1, "------------------------\n");
+}
+
+void sharedfd(void){
+  int fd, pid, i, n, nc, np;
+  char buf[10];
+  int factor = 400;
+
+  printf(1, "sharedfd test\n");
+
+  unlink("sharedfd");
+  fd = open("sharedfd", O_CREATE|O_RDWR);
+  if(fd < 0){
+    printf(1, "fstests: cannot open sharedfd for writing");
+    return;
+  }
+  pid = fork();
+  memset(buf, pid==0?'c':'p', sizeof(buf));
+  for(i = 0; i < factor; i++){
+    if(write(fd, buf, sizeof(buf)) != sizeof(buf)){
+      printf(1, "fstests: write sharedfd failed\n");
+      break;
+    }
+  }
+  if(pid == 0)
+    exit();
+  else
+    wait();
+  close(fd);
+  fd = open("sharedfd", 0);
+  if(fd < 0){
+    printf(1, "fstests: cannot open sharedfd for reading\n");
+    return;
+  }
+  nc = np = 0;
+  while((n = read(fd, buf, sizeof(buf))) > 0){
+    for(i = 0; i < sizeof(buf); i++){
+      if(buf[i] == 'c')
+        nc++;
+      if(buf[i] == 'p')
+        np++;
+    }
+  }
+  close(fd);
+//   unlink("sharedfd");
+  printf(1, "%d %d\n", nc, np);
+  if(nc == 10*factor && np == 10*factor){
+    printf(1, "----------------------\n");
+    printf(1, "|    sharedfd ok     |\n");
+    printf(1, "----------------------\n");
+  } else {
+    printf(1, "--------------------------------------\n");
+    printf(1, "|        sharedfd oops %d %d         |\n");
+    printf(1, "--------------------------------------\n");
+    exit();
+  }
+}
+
+void sms(char *status){
+    smsro();
+    smswo();
+    if (fork() == 0){
+        memmove(status, "okay", 4);
+        int stat = smsno();
+        if (stat == -1){
+            memmove(status, "fail", 4);
+        }
+        exit();
+    } else{
+        wait();
+        char c[5];
+        c[4] = '\0';
+        memmove(c, status, 4);
+        printf(1, "%s\n", c);
+        if (strcmp(c, "okay")){
+            printf(1, "----------------------------------------\n");
+            printf(1, "|             MAP_SHARED fail          |\n");
+            printf(1, "----------------------------------------\n");
+        } else{
+            printf(1, "-------------------------------------\n");
+            printf(1, "|          MAP_SHARED  ok           |\n");
+            printf(1, "-------------------------------------\n");
+        }
+    }
+}
+
+// Everything, Everywhere (Wrong) All At Once
+void EveryThingEverywhereAllAtOnce(char *status){
+    // Input checking
+    // Incorrect open access intent and map prot
+    int fd = open("README", O_RDONLY);
+
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "------------------------------------------------------------------------------------------\n");
+        printf(1, "|                     File access and Prot check should have failed                      |\n");
+        printf(1, "------------------------------------------------------------------------------------------\n");
+        exit();
+    }
+
+    // Unmapping a map that doesn't exist
+    if (munmap(map, 4096) == -1){
+    } else{
+        printf(1, "Unmapping unmapped region\n");
+        exit();
+    }
+
+    // Incorrect flags
+    map = mmap(0, 1, PROT_READ, MAP_SHARED | MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Mapping Shared as well as Private map not allowed\n");
+        exit();
+    }
+
+    // Anonymous without Private or Shared
+    map = mmap(0, 1, PROT_READ, MAP_ANONYMOUS, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Anonymous mapping without Shared or Private flag\n");
+        exit();
+    }
+
+    // Incorrect length
+    map = mmap(0, -1, PROT_READ, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Incorrect length\n");
+        exit();
+    }
+
+    // Offset not page-aligned
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, fd, 1);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Offset not page-aligned\n");
+        exit();
+    }
+
+    // Trying to map stdout
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, 1, 1);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Mapped standard output: fail\n");
+        exit();
+    }
+
+    // A successful map
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    } else{
+        // Trying to write to read-only map
+        if (fork() == 0){
+            memmove(status, "okay", 4);
+            map[0] = 'a';
+            memmove(status, "fail", 4);
+            exit();
+        } else{
+            wait();
+            char c[5];
+            c[4] = '\0';
+            memmove(c, status, 4);
+            if (strcmp(c, "okay")){
+                printf(1, "Read-only write fail\n");
+                exit();
+            }
+        }
+    }
+
+    // Unmapping already unmapped map
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    /*
+        It is not an error if the indicated range does not contain any mapped pages
+    */
+    if (munmap(map, 4096) == 0){
+    } else{
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    printf(1, "------------------------------------------------\n");
+    printf(1, "|           Everything Everywhere ok           |\n");
+    printf(1, "------------------------------------------------\n");
+}
+
+void maxVMATest(){
+    // Maximum VMA that can be allotted are 10
+    char *map1 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map1 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map2 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map3 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map3 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map4 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map4 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map5 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map5 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map6 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map6 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map7 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map7 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map8 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map8 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map9 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map9 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map10 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map10 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // This should fail
+    char *map11 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map11 == MAP_FAILED){
+        int res = munmap(map1, 4096) | munmap(map2, 4096) | munmap(map3, 4096) | munmap(map4, 4096) | munmap(map5, 4096) | munmap(map6, 4096) | munmap(map7, 4096) | munmap(map8, 4096) | munmap(map9, 4096) | munmap(map10, 4096);
+        if (res == -1){
+            printf(1, "munmap fail\n");
+            exit();
+        }
+        printf(1, "------------------------------\n");
+        printf(1, "|      Max VMA test ok       |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "Max VMA test fail\n");
+        exit();
+    }
+}
+
+void maxVMAMunmapTest(){
+    int fd = open("README", O_RDONLY);
+    char *map1 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map1 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map2 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map3 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map3 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map4 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map4 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map5 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map5 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map6 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map6 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map7 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map7 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map8 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map8 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map9 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map9 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map10 = mmap(0, 4096*3, PROT_READ, MAP_SHARED, fd, 0);
+    if (map10 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // All these should be successful
+    int res = munmap(map1, 4096) | munmap(map2, 4096) | munmap(map3, 4096) | munmap(map4, 4096) | munmap(map5, 4096) | munmap(map6, 4096) | munmap(map7, 4096) | munmap(map8, 4096) | munmap(map9, 4096);
+
+    if (res == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    // Unmapping of map10 should fail => Not enough VMAs
+    if (munmap(map10+4096, 4096) == -1){
+        printf(1, "------------------------------\n");
+        printf(1, "|      maxVMAMunmap ok       |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "munmap fail\n");
+        exit();
+    }
+}
+
+int main(){
+    // Run Test Set -> make clean -> Run Next Test
+
+    /*----------------------------------------------------- Test Set 1 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------------------------------------------\n");
+    // printf(1, "|   Testing: MAP_ANONYMOUS, MAP_SHARED, MAP_PRIVATE, Somethings that can go wrong   |\n");
+    // printf(1, "-------------------------------------------------------------------------------------\n");
+
+    // sma();
+    // char *status = mmap(0, 4, PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    // if (status == MAP_FAILED){
+    //     printf(1, "mmap fail\n");
+    //     exit();
+    // }
+    // sms(status);
+    // smp(status);
+    // EveryThingEverywhereAllAtOnce(status);
+    // if (munmap(status, 4096) == -1){
+    //     printf(1, "munmap fail\n");
+    //     exit();
+    // }
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 2 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------------------\n");
+    // printf(1, "|   Testing: Unmapping, MAP_SHARED fork, MAP_PRIVATE fork   |\n");
+    // printf(1, "-------------------------------------------------------------\n");
+    // leftVMAtest();
+    // rightVMAtest();
+    // sandwichTest();
+    // msf();
+    // mpf();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 3.1 --------------------------------------------------*/
+    // printf(1, "----------------------------------\n");
+    // printf(1, "|   Testing: VMA mapping limit   |\n");
+    // printf(1, "----------------------------------\n");
+    // maxVMATest();
+    /*----------------------------------------------------- Test Set 3.2 --------------------------------------------------*/
+    // printf(1, "------------------------------------\n");
+    // printf(1, "|   Testing: VMA unmapping limit   |\n");
+    // printf(1, "------------------------------------\n");
+    // maxVMAMunmapTest();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 4 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------\n");
+    // printf(1, "|   Testing: correctness of fork, concurrency   |\n");
+    // printf(1, "-------------------------------------------------\n");
+    // forkTestMapShared();
+    // concurrency();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 5 --------------------------------------------------*/
+    // printf(1, "------------------------------------------------------\n");
+    // printf(1, "|   Testing: correctness of map private, file read write, map private fork, fourfiles, sharedfd   |\n");
+    // printf(1, "------------------------------------------------------\n");
+    // mapPrivateCorrectness();
+    // readWriteTest();
+    // forkTestMapPrivate();
+    // fourfiles();
+    // sharedfd();
+    //---------------------------------------------------------------------------------------------------------------------
+    exit();
+}
diff --git a/mmu.h b/mmu.h
index a82d8e2..90a4430 100644
--- a/mmu.h
+++ b/mmu.h
@@ -83,6 +83,7 @@ struct segdesc {
 #define NPDENTRIES      1024    // # directory entries per page directory
 #define NPTENTRIES      1024    // # PTEs per page table
 #define PGSIZE          4096    // bytes mapped by a page
+#define MAX_PAGES       18      // Max file size of xv6 / 4096
 
 #define PTXSHIFT        12      // offset of PTX in a linear address
 #define PDXSHIFT        22      // offset of PDX in a linear address
@@ -95,6 +96,13 @@ struct segdesc {
 #define PTE_W           0x002   // Writeable
 #define PTE_U           0x004   // User
 #define PTE_PS          0x080   // Page Size
+#define PTE_AVL         0x0a00  // AVL bits for use in copyuvm
+#define PTE_SKIP        0x0600  // Skip the page present check for current process
+#define PTE_PRIVATE     0x0400  // PRIVATE page handling
+#define PTE_ANON        0x0400  // Mark the page as ANON
+#define PTE_DIRTY       0x0040  // Dirty bit
+
+#define PTE_META(pte)        ((((uint)(pte) >> 8) & 0x0f))
 
 // Address in page table or page directory entry
 #define PTE_ADDR(pte)   ((uint)(pte) & ~0xFFF)
@@ -103,6 +111,76 @@ struct segdesc {
 #ifndef __ASSEMBLER__
 typedef uint pte_t;
 
+struct legend{
+  int numPages; // Can use unsigned int. Do you really need to store length if you're storing start and end? Will save me bytes
+  void *start;
+  void *end;
+  struct file *f;
+  int prot;
+  char valid;
+  // Do I need to keep track of processes allowed to access this file?
+  int ref;
+  int mmapFlags;
+  int offset;
+  uint pages[MAX_PAGES];
+};
+
+struct legend2{
+  struct file *f;
+  char *physicalPages[MAX_PAGES];
+  int ref[MAX_PAGES];
+  int mapRef;
+};
+
+struct anon{
+  char *physicalPages[3];
+  int ref;
+};
+
+struct mmapInfo{
+  char *start;
+  char *end;
+  int firstPageIndex;
+  int numPages;
+  int prot;
+  int flags;
+  struct legend2 *pages;
+  struct anon *anonMaps;
+  char fileOp;
+  int ref;
+  int actualFlags;
+};
+
+void freeVMA(struct mmapInfo *vma);
+
+void *mmap_helper(void *addr, int length, int prot, int flags, int fd, int offset);
+
+int munmap_helper(void *addr, unsigned int length);
+
+void clear(pde_t *pgdir, struct mmapInfo *m);
+
+void clearMap(struct legend2 *m);
+
+void clearAnon(struct anon *am);
+
+struct mmapInfo *readIntoPageCache(void *addr, unsigned int length, int prot, int flags, struct file *f, int offset);
+
+int readFromPageCache(struct legend2 *m, char *addr, int offset, int length);
+
+int writeToPageCache(struct legend2 *map, char *addr, int offset, int length);
+
+void unfoldMaps();
+
+void handleMapFault(char *addr);
+
+void cleanUpVMA(struct mmapInfo *vma);
+
+void printVMAStatistics(struct mmapInfo *vma);
+
+struct legend2 *findInCachePage(struct file *f, int offset, int length, int op);
+
+struct legend2 *findInCache(struct file *f);
+
 // Task state segment format
 struct taskstate {
   uint link;         // Old ts selector
diff --git a/param.h b/param.h
index a7e90ef..4b22e85 100644
--- a/param.h
+++ b/param.h
@@ -11,4 +11,5 @@
 #define LOGSIZE      (MAXOPBLOCKS*3)  // max data blocks in on-disk log
 #define NBUF         (MAXOPBLOCKS*3)  // size of disk block cache
 #define FSSIZE       1000  // size of file system in blocks
-
+#define NMAPS        100 // mmaps per system
+#define NOMAPS       10  // mmaps per file
diff --git a/proc.c b/proc.c
index 806b1b1..96df8c7 100644
--- a/proc.c
+++ b/proc.c
@@ -6,6 +6,9 @@
 #include "x86.h"
 #include "proc.h"
 #include "spinlock.h"
+#include "sleeplock.h"
+#include "fs.h"
+#include "file.h"
 
 struct {
   struct spinlock lock;
@@ -189,6 +192,9 @@ fork(void)
     return -1;
   }
 
+  // Before copyuvm, there is no kvm: Would that affect us somehow?
+  // So, here's the thing, you reduce the process size as necessary. But can it be that something that the memory is like mmap | sbrk | mmap. Then we can't just reduce the process size. So do the necessary changes in copyuvm
+
   // Copy process state from proc.
   if((np->pgdir = copyuvm(curproc->pgdir, curproc->sz)) == 0){
     kfree(np->kstack);
@@ -203,9 +209,18 @@ fork(void)
   // Clear %eax so that fork returns 0 in the child.
   np->tf->eax = 0;
 
+  for(i = 0; i < NOMAPS; i++){
+    if(curproc->maps[i] && curproc->maps[i]->ref){
+      if (curproc->maps[i]->anonMaps){
+      }
+      np->maps[i] = mmapdup(curproc->maps[i]);
+    }
+  }
+
   for(i = 0; i < NOFILE; i++)
     if(curproc->ofile[i])
       np->ofile[i] = filedup(curproc->ofile[i]);
+
   np->cwd = idup(curproc->cwd);
 
   safestrcpy(np->name, curproc->name, sizeof(curproc->name));
@@ -233,6 +248,13 @@ exit(void)
 
   if(curproc == initproc)
     panic("init exiting");
+  
+  for (int md = 0; md<NOMAPS; md++){
+    if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
+      cleanUpVMA(curproc->maps[md]);
+      curproc->maps[md] = 0;
+    }
+  }
 
   // Close all open files.
   for(fd = 0; fd < NOFILE; fd++){
@@ -242,6 +264,7 @@ exit(void)
     }
   }
 
+
   begin_op();
   iput(curproc->cwd);
   end_op();
@@ -344,6 +367,7 @@ scheduler(void)
       p->state = RUNNING;
 
       swtch(&(c->scheduler), p->context);
+      // cprintf("ncli oioioi: %d\n", mycpu()->ncli);
       switchkvm();
 
       // Process is done running for now.
@@ -370,8 +394,10 @@ sched(void)
 
   if(!holding(&ptable.lock))
     panic("sched ptable.lock");
-  if(mycpu()->ncli != 1)
+  // cprintf("ncli: %d\n", mycpu()->ncli);
+  if(mycpu()->ncli != 1){
     panic("sched locks");
+  }
   if(p->state == RUNNING)
     panic("sched running");
   if(readeflags()&FL_IF)
diff --git a/proc.h b/proc.h
index 1647114..363aaad 100644
--- a/proc.h
+++ b/proc.h
@@ -49,6 +49,7 @@ struct proc {
   struct file *ofile[NOFILE];  // Open files
   struct inode *cwd;           // Current directory
   char name[16];               // Process name (debugging)
+  struct mmapInfo *maps[NOMAPS];   // Mapped files or region
 };
 
 // Process memory is laid out contiguously, low addresses first:
diff --git a/sh.c b/sh.c
index 054bab9..d1420ce 100644
--- a/sh.c
+++ b/sh.c
@@ -57,6 +57,7 @@ struct cmd *parsecmd(char*);
 void
 runcmd(struct cmd *cmd)
 {
+  printf(1, "Trying to run\n");
   int p[2];
   struct backcmd *bcmd;
   struct execcmd *ecmd;
@@ -164,9 +165,11 @@ main(void)
         printf(2, "cannot cd %s\n", buf+3);
       continue;
     }
-    if(fork1() == 0)
+    if(fork1() == 0){
       runcmd(parsecmd(buf));
+    }
     wait();
+    printf(1, "Came back\n");
   }
   exit();
 }
diff --git a/syscall.c b/syscall.c
index ee85261..491d303 100644
--- a/syscall.c
+++ b/syscall.c
@@ -55,15 +55,22 @@ argint(int n, int *ip)
 // Fetch the nth word-sized system call argument as a pointer
 // to a block of memory of size bytes.  Check that the pointer
 // lies within the process address space.
+// QUESTION: Why is the size signed int? Can I not make it uint directly?
+// ANSWERED: Anyways they're checking for size < 0. So I think it will be safe to convert to an unsigned int directly
+// COMMENT: Skipping check for size < 0 to get full range of unsigned int. Added a check for addition overflow
 int
 argptr(int n, char **pp, int size)
 {
   int i;
+  uint size_corr = (uint) size;
   struct proc *curproc = myproc();
  
+ // From what I understand, the address is treated as an unsigned int
   if(argint(n, &i) < 0)
     return -1;
-  if(size < 0 || (uint)i >= curproc->sz || (uint)i+size > curproc->sz)
+  // QUESTION: Shouldn't I also have a check for (uint)i + size > i?
+  // QUESTION: Do I need more checks here?
+  if(size_corr < 0 || (uint)i >= curproc->sz || (uint)i+size_corr > curproc->sz || (uint)i+size_corr < i)
     return -1;
   *pp = (char*)i;
   return 0;
@@ -103,6 +110,8 @@ extern int sys_unlink(void);
 extern int sys_wait(void);
 extern int sys_write(void);
 extern int sys_uptime(void);
+extern int sys_mmap(void);
+extern int sys_munmap(void);
 
 static int (*syscalls[])(void) = {
 [SYS_fork]    sys_fork,
@@ -126,6 +135,8 @@ static int (*syscalls[])(void) = {
 [SYS_link]    sys_link,
 [SYS_mkdir]   sys_mkdir,
 [SYS_close]   sys_close,
+[SYS_mmap]    sys_mmap,
+[SYS_munmap]  sys_munmap
 };
 
 void
diff --git a/syscall.h b/syscall.h
index bc5f356..e7b18d6 100644
--- a/syscall.h
+++ b/syscall.h
@@ -20,3 +20,5 @@
 #define SYS_link   19
 #define SYS_mkdir  20
 #define SYS_close  21
+#define SYS_mmap   22
+#define SYS_munmap 23
diff --git a/sysfile.c b/sysfile.c
index bfe61b7..f6a288e 100644
--- a/sysfile.c
+++ b/sysfile.c
@@ -442,3 +442,31 @@ sys_pipe(void)
   fd[1] = fd1;
   return 0;
 }
+
+int sys_mmap(void){
+	// Parse the arguments
+	char *addr = 0;
+	int length;
+	int prot, flags, fd, offset;
+	struct file *fp;
+
+	if (argint(1, &length) < 0){
+		return -1;
+	}
+	if (argint(2,&prot) < 0 || argint(3,&flags) < 0 || argfd(4,&fd,&fp) < 0 || argint(5,&offset) < 0){
+		return -1;
+	}
+
+  return (int) mmap_helper(addr, length, prot, flags, fd, offset);
+}
+
+int sys_munmap(void){
+	// Parse arguments
+	char *addr;
+	int length;
+
+	if (argint(1, &length) < 0 || argptr(0, &addr, length) < 0){
+    return -1;
+  }
+  return munmap_helper(addr, length);
+}
diff --git a/tmp.txt b/tmp.txt
new file mode 100644
index 0000000..c6ca469
--- /dev/null
+++ b/tmp.txt
@@ -0,0 +1,60050 @@
+diff --git a/.vscode/settings.json b/.vscode/settings.json
+index 780f7b5..dcfca56 100644
+--- a/.vscode/settings.json
++++ b/.vscode/settings.json
+@@ -14,6 +14,7 @@
+         "fs.h": "c",
+         "spinlock.h": "c",
+         "sleeplock.h": "c",
+-        "file.h": "c"
++        "file.h": "c",
++        "limits": "c"
+     }
+ }
+\ No newline at end of file
+diff --git a/cscope.in.out b/cscope.in.out
+deleted file mode 100644
+index 50ee798..0000000
+Binary files a/cscope.in.out and /dev/null differ
+diff --git a/cscope.out b/cscope.out
+deleted file mode 100644
+index 48c91f4..0000000
+--- a/cscope.out
++++ /dev/null
+@@ -1,59836 +0,0 @@
+-cscope 15 $HOME/Desktop/TY_Sem_2/OS/Labs/Project/xv6-gitlab/xv6 -q 0000002791 0000280594
+-	@asm.h
+-
+-5 
+-	#SEG_NULLASM
+- \
+-
+-6 .
+-wd
+- 0, 0; \
+-
+-7 .
+-by
+- 0, 0, 0, 0
+-
+-	)
+-
+-11 
+-	#SEG_ASM
+-(
+-ty
+-,
+-ba
+-,
+-lim
+-) \
+-
+-12 .
+-	`wd
+- (((
+-lim
+->> 12& 0xffff), ((
+-ba
+-) & 0xffff); \
+-
+-13 .
+-	`by
+- (((
+-ba
+->> 16& 0xff), (0x90 | (
+-ty
+-)), \
+-
+-14 (0xC0 | (((
+-lim
+->> 28& 0xf)), (((
+-ba
+->> 24& 0xff)
+-
+-	)
+-
+-16 
+-	#STA_X
+- 0x8
+-
+-17 
+-	#STA_W
+- 0x2
+-
+-18 
+-	#STA_R
+- 0x2
+-
+-	@bio.c
+-
+-21 
+-	~"tys.h
+-"
+-
+-22 
+-	~"defs.h
+-"
+-
+-23 
+-	~"m.h
+-"
+-
+-24 
+-	~"lock.h
+-"
+-
+-25 
+-	~"ock.h
+-"
+-
+-26 
+-	~"fs.h
+-"
+-
+-27 
+-	~"buf.h
+-"
+-
+-30 
+-lock
+- 
+-	mlock
+-;
+-
+-31 
+-buf
+- 
+-	mbuf
+-[
+-NBUF
+-];
+-
+-35 
+-buf
+- 
+-	mhd
+-;
+-
+-36 } 
+-	gbche
+-;
+-
+-39 
+-	$b
+-()
+-
+-41 
+-buf
+- *
+-b
+-;
+-
+-43 
+-	`lock
+-(&
+-bche
+-.
+-lock
+-, "bcache");
+-
+-47 
+-bche
+-.
+-hd
+-.
+-ev
+- = &bcache.head;
+-
+-48 
+-bche
+-.
+-hd
+-.
+-xt
+- = &bcache.head;
+-
+-49 
+-b
+- = 
+-bche
+-.
+-buf
+-; b < bche.buf+
+-NBUF
+-; b++){
+-
+-50 
+-b
+-->
+-xt
+- = 
+-bche
+-.
+-hd
+-.next;
+-
+-51 
+-b
+-->
+-ev
+- = &
+-bche
+-.
+-hd
+-;
+-
+-52 
+-	`ock
+-(&
+-b
+-->
+-lock
+-, "buffer");
+-
+-53 
+-bche
+-.
+-hd
+-.
+-xt
+-->
+-ev
+- = 
+-b
+-;
+-
+-54 
+-bche
+-.
+-hd
+-.
+-xt
+- = 
+-b
+-;
+-
+-56 
+-	}
+-}
+-
+-61 
+-buf
+-*
+-
+-62 
+-	$bg
+-(
+-ut
+- 
+-dev
+-, u
+-blockno
+-)
+-
+-64 
+-buf
+- *
+-b
+-;
+-
+-66 
+-	`acque
+-(&
+-bche
+-.
+-lock
+-);
+-
+-69 
+-b
+- = 
+-bche
+-.
+-hd
+-.
+-xt
+-; b != &bcache.head; b = b->next){
+-
+-70 if(
+-b
+-->
+-dev
+- =dev && b->
+-blockno
+- == blockno){
+-
+-71 
+-b
+-->
+-ft
+-++;
+-
+-72 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-73 
+-	`acquep
+-(&
+-b
+-->
+-lock
+-);
+-
+-74  
+-b
+-;
+-
+-81 
+-b
+- = 
+-bche
+-.
+-hd
+-.
+-ev
+-; b != &bcache.head; b = b->prev){
+-
+-82 if(
+-b
+-->
+-ft
+- =0 && (b->
+-ags
+- & 
+-B_DIRTY
+-) == 0) {
+-
+-83 
+-b
+-->
+-dev
+- = dev;
+-
+-84 
+-b
+-->
+-blockno
+- = blockno;
+-
+-85 
+-b
+-->
+-ags
+- = 0;
+-
+-86 
+-b
+-->
+-ft
+- = 1;
+-
+-87 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-88 
+-	`acquep
+-(&
+-b
+-->
+-lock
+-);
+-
+-89  
+-b
+-;
+-
+-92 
+-	`nic
+-("bget:o buffers");
+-
+-93 
+-	}
+-}
+-
+-96 
+-buf
+-*
+-
+-97 
+-	$bad
+-(
+-ut
+- 
+-dev
+-, u
+-blockno
+-)
+-
+-99 
+-buf
+- *
+-b
+-;
+-
+-101 
+-b
+- = 
+-	`bg
+-(
+-dev
+-, 
+-blockno
+-);
+-
+-102 if((
+-b
+-->
+-ags
+- & 
+-B_VALID
+-) == 0) {
+-
+-103 
+-	`idw
+-(
+-b
+-);
+-
+-105  
+-b
+-;
+-
+-106 
+-	}
+-}
+-
+-110 
+-	$bwre
+-(
+-buf
+- *
+-b
+-)
+-
+-112 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-113 
+-	`nic
+-("bwrite");
+-
+-114 
+-b
+-->
+-ags
+- |
+-B_DIRTY
+-;
+-
+-115 
+-	`idw
+-(
+-b
+-);
+-
+-116 
+-	}
+-}
+-
+-121 
+-	$bl
+-(
+-buf
+- *
+-b
+-)
+-
+-123 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-124 
+-	`nic
+-("brelse");
+-
+-126 
+-	`ap
+-(&
+-b
+-->
+-lock
+-);
+-
+-128 
+-	`acque
+-(&
+-bche
+-.
+-lock
+-);
+-
+-129 
+-b
+-->
+-ft
+---;
+-
+-130 i(
+-b
+-->
+-ft
+- == 0) {
+-
+-132 
+-b
+-->
+-xt
+-->
+-ev
+- = b->prev;
+-
+-133 
+-b
+-->
+-ev
+-->
+-xt
+- = b->next;
+-
+-134 
+-b
+-->
+-xt
+- = 
+-bche
+-.
+-hd
+-.next;
+-
+-135 
+-b
+-->
+-ev
+- = &
+-bche
+-.
+-hd
+-;
+-
+-136 
+-bche
+-.
+-hd
+-.
+-xt
+-->
+-ev
+- = 
+-b
+-;
+-
+-137 
+-bche
+-.
+-hd
+-.
+-xt
+- = 
+-b
+-;
+-
+-140 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-141 
+-	}
+-}
+-
+-	@bootasm.S
+-
+-1 
+-	~"asm.h
+-"
+-
+-2 
+-	~"memyout.h
+-"
+-
+-3 
+-	~"mmu.h
+-"
+-
+-5 #S 
+-the
+- 
+-f
+- 
+-CPU
+-: 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+-, 
+-jump
+- 
+-to
+- 
+-C
+-.
+-
+-6 #Th
+-BIOS
+- 
+-lds
+- 
+-this
+- 
+-code
+- 
+-om
+- 
+-the
+- 
+-f
+- 
+-
+- 
+-of
+-h
+-hd
+- 
+-disk
+- 
+-to
+-
+-
+-7 #memy 
+-
+- 
+-physil
+- 
+-addss
+- 0x7c00 
+-d
+- 
+-ts
+- 
+-executg
+- 
+-
+- 
+-
+- 
+-mode
+-
+-
+-8 #wh %
+-cs
+-=0 %
+-
+-=7c00.
+-
+-10 .
+-	gcode16
+- #Asmb 16-
+-b
+- 
+-	gmode
+-
+-
+-11 .
+-globl
+- 
+-t
+-
+-
+-12 
+-	gt
+-:
+-
+-13 
+-i
+- #BIOS 
+-abd
+- 
+-us
+-; 
+-	gdib
+-
+-
+-15 #Z
+-da
+- 
+-gmt
+- 
+-gis
+- 
+-DS
+-, 
+-ES
+-, 
+-d
+- 
+-SS
+-.
+-
+-16 
+-	gxw
+- %
+-	gax
+-,%ax #S %
+-ax
+- 
+-to
+- 
+-zo
+-
+-
+-17 
+-	gmovw
+- %
+-	gax
+-,%
+-	gds
+- #-> 
+-Da
+- 
+-Segmt
+-
+-
+-18 
+-	gmovw
+- %
+-	gax
+-,%
+-	ges
+- #-> 
+-Exa
+- 
+-Segmt
+-
+-
+-19 
+-	gmovw
+- %
+-	gax
+-,%
+-	gss
+- #-> 
+-Sck
+- 
+-	gSegmt
+-
+-
+-21 #Physi
+-addss
+- 
+-le
+- 
+-A20
+- 
+-is
+- 
+-td
+- 
+-to
+- 
+-zo
+- 
+-so
+- 
+-th
+- 
+-the
+- 
+-f
+- 
+-PCs
+-
+-
+-22 #wh 2 
+-MB
+- 
+-would
+- 
+-run
+- 
+-sowe
+- 
+-th
+- 
+-assumed
+- 1 MB. 
+-Undo
+-hat.
+-
+-23 
+-	g20
+-.1:
+-
+-24 
+-b
+- 
+-$0x64
+-,%
+-	g
+- #Wa 
+-n
+- 
+-busy
+-
+-
+-25 
+-b
+- 
+-	g$0x2
+-,%
+-
+-
+-
+-26 
+-jnz
+- 
+-	g20
+-.1
+-
+-28 
+-movb
+- 
+-	g$0xd1
+-,%
+-	g
+- #0
+-	gxd1
+- -> 
+-	gpt
+- 0x64
+-
+-29 
+-	goutb
+- %
+-	g
+-,
+-$0x64
+-
+-
+-31 
+-	g20
+-.2:
+-
+-32 
+-b
+- 
+-$0x64
+-,%
+-	g
+- #Wa 
+-n
+- 
+-busy
+-
+-
+-33 
+-b
+- 
+-	g$0x2
+-,%
+-
+-
+-
+-34 
+-jnz
+- 
+-	g20
+-.2
+-
+-36 
+-movb
+- 
+-	g$0xdf
+-,%
+-	g
+- #0
+-	gxdf
+- -> 
+-	gpt
+- 0x60
+-
+-37 
+-	goutb
+- %
+-	g
+-,
+-	g$0x60
+-
+-
+-39 #Swch 
+-om
+- 
+-
+- 
+-to
+- 
+-eed
+- 
+-mode
+-. 
+-U
+- 
+-a
+- 
+-bop
+- 
+-GDT
+- 
+-th
+- 
+-makes
+-
+-
+-40 #vtu 
+-addss
+- 
+-m
+- 
+-dely
+- 
+-to
+- 
+-physil
+-dds
+-so
+- 
+-th
+- 
+-the
+-
+-
+-41 #efiv
+-memy
+- 
+-m
+- 
+-d
+-'t change duringheransition.
+-
+-42 
+-lgdt
+- 
+-gdtdesc
+-
+-
+-43 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-44 
+-l
+- 
+-	g$CR0_PE
+-, %
+-x
+-
+-
+-45 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-48 #Com
+-the
+- 
+-si
+- 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+- 
+-by
+- 
+-usg
+- 
+-a
+- 
+-jmp
+-
+-
+-49 #t
+-ld
+- %
+-cs
+- 
+-d
+- %
+-e
+-. 
+-The
+- 
+-gmt
+- 
+-dests
+- 
+-e
+- 
+-t
+- 
+-up
+- 
+-wh
+- 
+-no
+-
+-
+-50 #i, 
+-so
+- 
+-th
+- 
+-the
+- 
+-mpg
+- 
+-is
+- 
+-l
+-h
+-idty
+- mapping.
+-
+-51 
+-ljmp
+- 
+-$
+-(
+-SEG_KCODE
+-<<3), 
+-	g$t32
+-
+-
+-53 .
+-	gcode32
+- #T
+-asmbr
+- 
+-to
+- 
+-	gge
+- 32-
+-b
+- 
+-code
+- 
+-	gnow
+-.
+-
+-54 
+-	gt32
+-:
+-
+-55 #S 
+-up
+- 
+-the
+- 
+-eed
+--
+-mode
+- 
+-da
+- 
+-gmt
+- 
+-gis
+-
+-
+-56 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-	gax
+- #Ou
+-da
+- 
+-gmt
+- 
+-
+-
+-
+-57 
+-	gmovw
+- %
+-	gax
+-, %
+-	gds
+- #-> 
+-	gDS
+-: 
+-Da
+- 
+-Segmt
+-
+-
+-58 
+-movw
+- %
+-ax
+-, %
+-	ges
+- #-> 
+-	gES
+-: 
+-Exa
+- 
+-Segmt
+-
+-
+-59 
+-movw
+- %
+-ax
+-, %
+-	gss
+- #-> 
+-	gSS
+-: 
+-Sck
+- 
+-Segmt
+-
+-
+-60 
+-movw
+- 
+-$0
+-, %
+-	gax
+- #Z
+-gmts
+- 
+-n
+- 
+-ady
+- 
+-u
+-
+-
+-61 
+-	gmovw
+- %
+-	gax
+-, %
+-	gfs
+- #-> 
+-FS
+-
+-
+-62 
+-	gmovw
+- %
+-	gax
+-, %
+-	ggs
+- #-> 
+-	gGS
+-
+-
+-64 #S 
+-up
+- 
+-the
+- 
+-ack
+- 
+-por
+- 
+-d
+- 
+-
+- 
+-to
+- 
+-C
+-.
+-
+-65 
+-movl
+- 
+-	g$t
+-, %
+-e
+-
+-
+-66 
+-
+- 
+-	gboma
+-
+-
+-68 #I
+-boma
+- 
+-tus
+- (
+-
+- 
+-shouldn
+-'t),rigger Bochs
+-
+-69 #bakpo
+-rug
+- 
+-und
+- 
+-Bochs
+-, 
+-th
+- 
+-lo
+-.
+-
+-70 
+-movw
+- 
+-$0x8a00
+-, %
+-ax
+- #0
+-x8a00
+- -> 
+-pt
+- 0x8a00
+-
+-71 
+-movw
+- %
+-ax
+-, %
+-dx
+-
+-
+-72 
+-outw
+- %
+-ax
+-, %
+-dx
+-
+-
+-73 
+-movw
+- 
+-$0x80
+-, %
+-ax
+- #0
+-x80
+- -> 
+-pt
+- 0x8a00
+-
+-74 
+-outw
+- %
+-ax
+-, %
+-dx
+-
+-
+-75 
+-
+-:
+-
+-76 
+-jmp
+- 
+-
+-
+-
+-78 #Bo
+-GDT
+-
+-
+-79 .
+-p2ign
+- 2 #f 4 
+-by
+- 
+-ignmt
+-
+-
+-80 
+-gdt
+-:
+-
+-81 
+-SEG_NULLASM
+- #nu 
+-g
+-
+-
+-82 
+-SEG_ASM
+-(
+-STA_X
+-|
+-STA_R
+-, 0x0, 0xffffffff#cod
+-g
+-
+-
+-83 
+-	$SEG_ASM
+-(
+-STA_W
+-, 0x0, 0xffffffff#d
+-g
+-
+-
+-85 
+-gdtdesc
+-:
+-
+-86 .
+-	`wd
+- (
+-gdtdesc
+- - 
+-gdt
+- - 1) #sizeof(gdt) - 1
+-
+-87 .
+-gdt
+- #address gdt
+-
+-	@bootmain.c
+-
+-8 
+-	~"tys.h
+-"
+-
+-9 
+-	~"f.h
+-"
+-
+-10 
+-	~"x86.h
+-"
+-
+-11 
+-	~"memyout.h
+-"
+-
+-13 
+-	#SECTSIZE
+- 512
+-
+-	)
+-
+-15 
+-adg
+-(
+-uch
+-*, 
+-ut
+-, uint);
+-
+-18 
+-	$boma
+-()
+-
+-20 
+-fhdr
+- *
+-f
+-;
+-
+-21 
+-oghdr
+- *
+-ph
+-, *
+-h
+-;
+-
+-22 (*
+-y
+-)();
+-
+-23 
+-uch
+-* 
+-
+-;
+-
+-25 
+-f
+- = (
+-fhdr
+-*)0x10000;
+-
+-28 
+-	`adg
+-((
+-uch
+-*)
+-f
+-, 4096, 0);
+-
+-31 if(
+-f
+-->
+-magic
+- !
+-ELF_MAGIC
+-)
+-
+-35 
+-ph
+- = (
+-oghdr
+-*)((
+-uch
+-*)
+-f
+- +lf->
+-phoff
+-);
+-
+-36 
+-h
+- = 
+-ph
+- + 
+-f
+-->
+-phnum
+-;
+-
+-37 ; 
+-ph
+- < 
+-h
+-;h++){
+-
+-38 
+-
+- = (
+-uch
+-*)
+-ph
+-->
+-ddr
+-;
+-
+-39 
+-	`adg
+-(
+-
+-, 
+-ph
+-->
+-fesz
+-,h->
+-off
+-);
+-
+-40 if(
+-ph
+-->
+-memsz
+- >h->
+-fesz
+-)
+-
+-41 
+-	`osb
+-(
+-
+- + 
+-ph
+-->
+-fesz
+-, 0,h->
+-memsz
+- -h->filesz);
+-
+-46 
+-y
+- = ((*)())(
+-f
+-->entry);
+-
+-47 
+-	`y
+-();
+-
+-48 
+-	}
+-}
+-
+-51 
+-	$wadisk
+-()
+-
+-54 (
+-	`b
+-(0x1F7) & 0xC0) != 0x40)
+-
+-56 
+-	}
+-}
+-
+-60 
+-	$ad
+-(*
+-d
+-, 
+-ut
+- 
+-offt
+-)
+-
+-63 
+-	`wadisk
+-();
+-
+-64 
+-	`outb
+-(0x1F2, 1);
+-
+-65 
+-	`outb
+-(0x1F3, 
+-offt
+-);
+-
+-66 
+-	`outb
+-(0x1F4, 
+-offt
+- >> 8);
+-
+-67 
+-	`outb
+-(0x1F5, 
+-offt
+- >> 16);
+-
+-68 
+-	`outb
+-(0x1F6, (
+-offt
+- >> 24) | 0xE0);
+-
+-69 
+-	`outb
+-(0x1F7, 0x20);
+-
+-72 
+-	`wadisk
+-();
+-
+-73 
+-	`
+-(0x1F0, 
+-d
+-, 
+-SECTSIZE
+-/4);
+-
+-74 
+-	}
+-}
+-
+-79 
+-	$adg
+-(
+-uch
+-* 
+-
+-, 
+-ut
+- 
+-cou
+-, u
+-offt
+-)
+-
+-81 
+-uch
+-* 
+-a
+-;
+-
+-83 
+-a
+- = 
+-
+- + 
+-cou
+-;
+-
+-86 
+-
+- -
+-offt
+- % 
+-SECTSIZE
+-;
+-
+-89 
+-offt
+- = (off/ 
+-SECTSIZE
+-) + 1;
+-
+-94 ; 
+-
+- < 
+-a
+-;+
+-SECTSIZE
+-, 
+-offt
+-++)
+-
+-95 
+-	`ad
+-(
+-
+-, 
+-offt
+-);
+-
+-96 
+-	}
+-}
+-
+-	@buf.h
+-
+-1 
+-	sbuf
+- {
+-
+-2 
+-	mags
+-;
+-
+-3 
+-ut
+- 
+-	mdev
+-;
+-
+-4 
+-ut
+- 
+-	mblockno
+-;
+-
+-5 
+-ock
+- 
+-	mlock
+-;
+-
+-6 
+-ut
+- 
+-	mft
+-;
+-
+-7 
+-buf
+- *
+-	mev
+-;
+-
+-8 
+-buf
+- *
+-	mxt
+-;
+-
+-9 
+-buf
+- *
+-	mqxt
+-;
+-
+-10 
+-uch
+- 
+-	mda
+-[
+-BSIZE
+-];
+-
+-12 
+-	#B_VALID
+- 0x2
+-
+-13 
+-	#B_DIRTY
+- 0x4
+-
+-14 
+-
+-	)
+-
+-	@cat.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-5 
+-	gbuf
+-[512];
+-
+-8 
+-	$t
+-(
+-fd
+-)
+-
+-10 
+-n
+-;
+-
+-12 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0) {
+-
+-13 i(
+-	`wre
+-(1, 
+-buf
+-, 
+-n
+-) !=) {
+-
+-14 
+-	`tf
+-(1, "cat: writerror\n");
+-
+-15 
+-	`ex
+-();
+-
+-18 if(
+-n
+- < 0){
+-
+-19 
+-	`tf
+-(1, "cat:eadrror\n");
+-
+-20 
+-	`ex
+-();
+-
+-22 
+-	}
+-}
+-
+-25 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-27 
+-fd
+-, 
+-i
+-;
+-
+-29 if(
+-gc
+- <= 1){
+-
+-30 
+-	`t
+-(0);
+-
+-31 
+-	`ex
+-();
+-
+-34 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-35 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-36 
+-	`tf
+-(1, "t: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-37 
+-	`ex
+-();
+-
+-39 
+-	`t
+-(
+-fd
+-);
+-
+-40 
+-	`o
+-(
+-fd
+-);
+-
+-42 
+-	`ex
+-();
+-
+-43 
+-	}
+-}
+-
+-	@console.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-10 
+-	~"ock.h
+-"
+-
+-11 
+-	~"fs.h
+-"
+-
+-12 
+-	~"fe.h
+-"
+-
+-13 
+-	~"memyout.h
+-"
+-
+-14 
+-	~"mmu.h
+-"
+-
+-15 
+-	~"oc.h
+-"
+-
+-16 
+-	~"x86.h
+-"
+-
+-18 
+-cutc
+-();
+-
+-20 
+-	gnicked
+- = 0;
+-
+-23 
+-lock
+- 
+-	mlock
+-;
+-
+-24 
+-	mlockg
+-;
+-
+-25 } 
+-	gcs
+-;
+-
+-28 
+-	$tt
+-(
+-xx
+-, 
+-ba
+-, 
+-sign
+-)
+-
+-30 
+-digs
+-[] = "0123456789abcdef";
+-
+-31 
+-buf
+-[16];
+-
+-32 
+-i
+-;
+-
+-33 
+-ut
+- 
+-x
+-;
+-
+-35 if(
+-sign
+- && (sig
+-xx
+- < 0))
+-
+-36 
+-x
+- = -
+-xx
+-;
+-
+-38 
+-x
+- = 
+-xx
+-;
+-
+-40 
+-i
+- = 0;
+-
+-42 
+-buf
+-[
+-i
+-++] = 
+-digs
+-[
+-x
+- % 
+-ba
+-];
+-
+-43 }(
+-x
+- /
+-ba
+-) != 0);
+-
+-45 if(
+-sign
+-)
+-
+-46 
+-buf
+-[
+-i
+-++] = '-';
+-
+-48 --
+-i
+- >= 0)
+-
+-49 
+-	`cutc
+-(
+-buf
+-[
+-i
+-]);
+-
+-50 
+-	}
+-}
+-
+-55 
+-	$rtf
+-(*
+-fmt
+-, ...)
+-
+-57 
+-i
+-, 
+-c
+-, 
+-lockg
+-;
+-
+-58 
+-ut
+- *
+-gp
+-;
+-
+-59 *
+-s
+-;
+-
+-61 
+-lockg
+- = 
+-cs
+-.locking;
+-
+-62 if(
+-lockg
+-)
+-
+-63 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-65 i(
+-fmt
+- == 0)
+-
+-66 
+-	`nic
+-("null fmt");
+-
+-68 
+-gp
+- = (
+-ut
+-*)(*)(&
+-fmt
+- + 1);
+-
+-69 
+-i
+- = 0; (
+-c
+- = 
+-fmt
+-[i] & 0xff) != 0; i++){
+-
+-70 if(
+-c
+- != '%'){
+-
+-71 
+-	`cutc
+-(
+-c
+-);
+-
+-74 
+-c
+- = 
+-fmt
+-[++
+-i
+-] & 0xff;
+-
+-75 if(
+-c
+- == 0)
+-
+-77 
+-c
+-){
+-
+-79 
+-	`tt
+-(*
+-gp
+-++, 10, 1);
+-
+-83 
+-	`tt
+-(*
+-gp
+-++, 16, 0);
+-
+-86 if((
+-s
+- = (*)*
+-gp
+-++) == 0)
+-
+-87 
+-s
+- = "(null)";
+-
+-88 ; *
+-s
+-; s++)
+-
+-89 
+-	`cutc
+-(*
+-s
+-);
+-
+-92 
+-	`cutc
+-('%');
+-
+-96 
+-	`cutc
+-('%');
+-
+-97 
+-	`cutc
+-(
+-c
+-);
+-
+-102 if(
+-lockg
+-)
+-
+-103 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-104 
+-	}
+-}
+-
+-107 
+-	$nic
+-(*
+-s
+-)
+-
+-109 
+-i
+-;
+-
+-110 
+-ut
+- 
+-pcs
+-[10];
+-
+-112 
+-	`i
+-();
+-
+-113 
+-cs
+-.
+-lockg
+- = 0;
+-
+-115 
+-	`rtf
+-("picid %d:ic: ", 
+-	`picid
+-());
+-
+-116 
+-	`rtf
+-(
+-s
+-);
+-
+-117 
+-	`rtf
+-("\n");
+-
+-118 
+-	`gpcs
+-(&
+-s
+-, 
+-pcs
+-);
+-
+-119 
+-i
+-=0; i<10; i++)
+-
+-120 
+-	`rtf
+-(" %p", 
+-pcs
+-[
+-i
+-]);
+-
+-121 
+-nicked
+- = 1;
+-
+-124 
+-	}
+-}
+-
+-127 
+-	#BACKSPACE
+- 0x100
+-
+-	)
+-
+-128 
+-	#CRTPORT
+- 0x3d4
+-
+-	)
+-
+-129 
+-usht
+- *
+-	gt
+- = (usht*)
+-P2V
+-(0xb8000);
+-
+-132 
+-	$cgutc
+-(
+-c
+-)
+-
+-134 
+-pos
+-;
+-
+-137 
+-	`outb
+-(
+-CRTPORT
+-, 14);
+-
+-138 
+-pos
+- = 
+-	`b
+-(
+-CRTPORT
+-+1) << 8;
+-
+-139 
+-	`outb
+-(
+-CRTPORT
+-, 15);
+-
+-140 
+-pos
+- |
+-	`b
+-(
+-CRTPORT
+-+1);
+-
+-142 if(
+-c
+- == '\n')
+-
+-143 
+-pos
+- += 80 -os%80;
+-
+-144 if(
+-c
+- =
+-BACKSPACE
+-){
+-
+-145 if(
+-pos
+- > 0) --pos;
+-
+-147 
+-t
+-[
+-pos
+-++] = (
+-c
+-&0xff) | 0x0700;
+-
+-149 if(
+-pos
+- < 0 ||os > 25*80)
+-
+-150 
+-	`nic
+-("pos under/overflow");
+-
+-152 if((
+-pos
+-/80) >= 24){
+-
+-153 
+-	`memmove
+-(
+-t
+-, crt+80, (crt[0])*23*80);
+-
+-154 
+-pos
+- -= 80;
+-
+-155 
+-	`memt
+-(
+-t
+-+
+-pos
+-, 0, (crt[0])*(24*80 -os));
+-
+-158 
+-	`outb
+-(
+-CRTPORT
+-, 14);
+-
+-159 
+-	`outb
+-(
+-CRTPORT
+-+1, 
+-pos
+->>8);
+-
+-160 
+-	`outb
+-(
+-CRTPORT
+-, 15);
+-
+-161 
+-	`outb
+-(
+-CRTPORT
+-+1, 
+-pos
+-);
+-
+-162 
+-t
+-[
+-pos
+-] = ' ' | 0x0700;
+-
+-163 
+-	}
+-}
+-
+-166 
+-	$cutc
+-(
+-c
+-)
+-
+-168 if(
+-nicked
+-){
+-
+-169 
+-	`i
+-();
+-
+-174 if(
+-c
+- =
+-BACKSPACE
+-){
+-
+-175 
+-	`uutc
+-('\b'); uartputc(' '); uartputc('\b');
+-
+-177 
+-	`uutc
+-(
+-c
+-);
+-
+-178 
+-	`cgutc
+-(
+-c
+-);
+-
+-179 
+-	}
+-}
+-
+-181 
+-	#INPUT_BUF
+- 128
+-
+-	)
+-
+-183 
+-	mbuf
+-[
+-INPUT_BUF
+-];
+-
+-184 
+-ut
+- 
+-	mr
+-;
+-
+-185 
+-ut
+- 
+-	mw
+-;
+-
+-186 
+-ut
+- 
+-	me
+-;
+-
+-187 } 
+-	gput
+-;
+-
+-189 
+-	#C
+-(
+-x
+-) ((x)-'@')
+-
+-190 
+-
+-	)
+-
+-192 
+-	$cse
+-((*
+-gc
+-)())
+-
+-194 
+-c
+-, 
+-drocdump
+- = 0;
+-
+-196 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-197 (
+-c
+- = 
+-	`gc
+-()) >= 0){
+-
+-198 
+-c
+-){
+-
+-199 
+-	`C
+-('P'):
+-
+-201 
+-drocdump
+- = 1;
+-
+-203 
+-	`C
+-('U'):
+-
+-204 
+-put
+-.
+-e
+- !put.
+-w
+- &&
+-
+-205 
+-put
+-.
+-buf
+-[(put.
+-e
+--1% 
+-INPUT_BUF
+-] != '\n'){
+-
+-206 
+-put
+-.
+-e
+---;
+-
+-207 
+-	`cutc
+-(
+-BACKSPACE
+-);
+-
+-210 
+-	`C
+-('H'): '\x7f':
+-
+-211 if(
+-put
+-.
+-e
+- !put.
+-w
+-){
+-
+-212 
+-put
+-.
+-e
+---;
+-
+-213 
+-	`cutc
+-(
+-BACKSPACE
+-);
+-
+-217 if(
+-c
+- !0 && 
+-put
+-.
+-e
+--put.
+-r
+- < 
+-INPUT_BUF
+-){
+-
+-218 
+-c
+- = (c == '\r') ? '\n' : c;
+-
+-219 
+-put
+-.
+-buf
+-[put.
+-e
+-++ % 
+-INPUT_BUF
+-] = 
+-c
+-;
+-
+-220 
+-	`cutc
+-(
+-c
+-);
+-
+-221 if(
+-c
+- ='\n' || c =
+-	`C
+-('D'|| 
+-put
+-.
+-e
+- =put.
+-r
+-+
+-INPUT_BUF
+-){
+-
+-222 
+-put
+-.
+-w
+- = iut.
+-e
+-;
+-
+-223 
+-	`wakeup
+-(&
+-put
+-.
+-r
+-);
+-
+-229 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-230 if(
+-drocdump
+-) {
+-
+-231 
+-	`ocdump
+-();
+-
+-233 
+-	}
+-}
+-
+-236 
+-	$csd
+-(
+-ode
+- *
+-
+-, *
+-d
+-, 
+-n
+-)
+-
+-238 
+-ut
+- 
+-rg
+-;
+-
+-239 
+-c
+-;
+-
+-241 
+-	`iuock
+-(
+-
+-);
+-
+-242 
+-rg
+- = 
+-n
+-;
+-
+-243 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-244 
+-n
+- > 0){
+-
+-245 
+-put
+-.
+-r
+- =put.
+-w
+-){
+-
+-246 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-247 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-248 
+-	`ock
+-(
+-
+-);
+-
+-251 
+-	`p
+-(&
+-put
+-.
+-r
+-, &
+-cs
+-.
+-lock
+-);
+-
+-253 
+-c
+- = 
+-put
+-.
+-buf
+-[put.
+-r
+-++ % 
+-INPUT_BUF
+-];
+-
+-254 if(
+-c
+- =
+-	`C
+-('D')){
+-
+-255 if(
+-n
+- < 
+-rg
+-){
+-
+-258 
+-put
+-.
+-r
+---;
+-
+-262 *
+-d
+-++ = 
+-c
+-;
+-
+-263 --
+-n
+-;
+-
+-264 if(
+-c
+- == '\n')
+-
+-267 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-268 
+-	`ock
+-(
+-
+-);
+-
+-270  
+-rg
+- - 
+-n
+-;
+-
+-271 
+-	}
+-}
+-
+-274 
+-	$csewre
+-(
+-ode
+- *
+-
+-, *
+-buf
+-, 
+-n
+-)
+-
+-276 
+-i
+-;
+-
+-278 
+-	`iuock
+-(
+-
+-);
+-
+-279 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-280 
+-i
+- = 0; i < 
+-n
+-; i++)
+-
+-281 
+-	`cutc
+-(
+-buf
+-[
+-i
+-] & 0xff);
+-
+-282 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-283 
+-	`ock
+-(
+-
+-);
+-
+-285  
+-n
+-;
+-
+-286 
+-	}
+-}
+-
+-289 
+-	$cse
+-()
+-
+-291 
+-	`lock
+-(&
+-cs
+-.
+-lock
+-, "console");
+-
+-293 
+-devsw
+-[
+-CONSOLE
+-].
+-wre
+- = 
+-csewre
+-;
+-
+-294 
+-devsw
+-[
+-CONSOLE
+-].
+-ad
+- = 
+-csd
+-;
+-
+-295 
+-cs
+-.
+-lockg
+- = 1;
+-
+-297 
+-	`ipib
+-(
+-IRQ_KBD
+-, 0);
+-
+-298 
+-	}
+-}
+-
+-	@date.h
+-
+-1 
+-	scde
+- {
+-
+-2 
+-ut
+- 
+-	mcd
+-;
+-
+-3 
+-ut
+- 
+-	mmu
+-;
+-
+-4 
+-ut
+- 
+-	mhour
+-;
+-
+-5 
+-ut
+- 
+-	mday
+-;
+-
+-6 
+-ut
+- 
+-	mmth
+-;
+-
+-7 
+-ut
+- 
+-	myr
+-;
+-
+-	@defs.h
+-
+-1 
+-	gbuf
+-;
+-
+-2 
+-	gcxt
+-;
+-
+-3 
+-	gfe
+-;
+-
+-4 
+-	gode
+-;
+-
+-5 
+-	gpe
+-;
+-
+-6 
+-	goc
+-;
+-
+-7 
+-	gcde
+-;
+-
+-8 
+-	glock
+-;
+-
+-9 
+-	gock
+-;
+-
+-10 
+-	g
+-;
+-
+-11 
+-	gsurblock
+-;
+-
+-14 
+-b
+-();
+-
+-15 
+-buf
+-* 
+-bad
+-(
+-ut
+-, uint);
+-
+-16 
+-bl
+-(
+-buf
+-*);
+-
+-17 
+-bwre
+-(
+-buf
+-*);
+-
+-20 
+-cse
+-();
+-
+-21 
+-rtf
+-(*, ...);
+-
+-22 
+-cse
+-((*)());
+-
+-23 
+-	$nic
+-(*
+-	`__ibu__
+-((
+-nu
+-));
+-
+-26 
+-	`exec
+-(*, **);
+-
+-29 
+-fe
+-* 
+-	`foc
+-();
+-
+-30 
+-	`feo
+-(
+-fe
+-*);
+-
+-31 
+-fe
+-* 
+-	`fedup
+-(file*);
+-
+-32 
+-	`fe
+-();
+-
+-33 
+-	`fd
+-(
+-fe
+-*, *, 
+-n
+-);
+-
+-34 
+-	`fe
+-(
+-fe
+-*, 
+-
+-*);
+-
+-35 
+-	`fewre
+-(
+-fe
+-*, *, 
+-n
+-);
+-
+-38 
+-	`adsb
+-(
+-dev
+-, 
+-surblock
+- *
+-sb
+-);
+-
+-39 
+-	`dlk
+-(
+-ode
+-*, *, 
+-ut
+-);
+-
+-40 
+-ode
+-* 
+-	`dlookup
+-(ode*, *, 
+-ut
+-*);
+-
+-41 
+-ode
+-* 
+-	`oc
+-(
+-ut
+-, );
+-
+-42 
+-ode
+-* 
+-	`idup
+-(inode*);
+-
+-43 
+-	`i
+-(
+-dev
+-);
+-
+-44 
+-	`ock
+-(
+-ode
+-*);
+-
+-45 
+-	`ut
+-(
+-ode
+-*);
+-
+-46 
+-	`iuock
+-(
+-ode
+-*);
+-
+-47 
+-	`iuockput
+-(
+-ode
+-*);
+-
+-48 
+-	`iupde
+-(
+-ode
+-*);
+-
+-49 
+-	`mecmp
+-(const *, const *);
+-
+-50 
+-ode
+-* 
+-	`mei
+-(*);
+-
+-51 
+-ode
+-* 
+-	`met
+-(*, *);
+-
+-52 
+-	`adi
+-(
+-ode
+-*, *, 
+-ut
+-, uint);
+-
+-53 
+-	`i
+-(
+-ode
+-*, 
+-
+-*);
+-
+-54 
+-	`wrei
+-(
+-ode
+-*, *, 
+-ut
+-, uint);
+-
+-57 
+-	`ide
+-();
+-
+-58 
+-	`ide
+-();
+-
+-59 
+-	`idw
+-(
+-buf
+-*);
+-
+-62 
+-	`ipib
+-(
+-q
+-, 
+-u
+-);
+-
+-63 
+-uch
+- 
+-ipicid
+-;
+-
+-64 
+-	`ipic
+-();
+-
+-67 * 
+-	`kloc
+-();
+-
+-68 
+-	`k
+-(*);
+-
+-69 
+-	`k1
+-(*, *);
+-
+-70 
+-	`k2
+-(*, *);
+-
+-73 
+-	`kbd
+-();
+-
+-76 
+-	`cmoime
+-(
+-cde
+- *
+-r
+-);
+-
+-77 
+-	`picid
+-();
+-
+-78 
v
+-ut
+-* 
+-pic
+-;
+-
+-79 
+-	`pioi
+-();
+-
+-80 
+-	`pic
+-();
+-
+-81 
+-	`picp
+-(
+-uch
+-, 
+-ut
+-);
+-
+-82 
+-	`mioday
+-();
+-
+-85 
+-	`log
+-(
+-dev
+-);
+-
+-86 
+-	`log_wre
+-(
+-buf
+-*);
+-
+-87 
+-	`beg_
+-();
+-
+-88 
+-	`d_
+-();
+-
+-91 

+-ismp
+-;
+-
+-92 
+-	`mp
+-();
+-
+-95 
+-	`pib
+-();
+-
+-96 
+-	`pic
+-();
+-
+-99 
+-	`poc
+-(
+-fe
+-**, file**);
+-
+-100 
+-	`peo
+-(
+-pe
+-*, );
+-
+-101 
+-	`pd
+-(
+-pe
+-*, *, );
+-
+-102 
+-	`pewre
+-(
+-pe
+-*, *, );
+-
+-106 
+-	`uid
+-();
+-
+-107 
+-	`ex
+-();
+-
+-108 
+-	`fk
+-();
+-
+-109 
+-	`growoc
+-();
+-
+-110 
+-	`kl
+-();
+-
+-111 
+-u
+-* 
+-	`myu
+-();
+-
+-112 
+-oc
+-* 
+-	`myoc
+-();
+-
+-113 
+-	`p
+-();
+-
+-114 
+-	`ocdump
+-();
+-
+-115 
+-	$schedur
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-116 
+-	`sched
+-();
+-
+-117 
+-	`roc
+-(
+-oc
+-*);
+-
+-118 
+-	`p
+-(*, 
+-lock
+-*);
+-
+-119 
+-	`ur
+-();
+-
+-120 
+-	`wa
+-();
+-
+-121 
+-	`wakeup
+-(*);
+-
+-122 
+-	`yld
+-();
+-
+-125 
+-	`swtch
+-(
+-cxt
+-**, context*);
+-
+-128 
+-	`acque
+-(
+-lock
+-*);
+-
+-129 
+-	`gpcs
+-(*, 
+-ut
+-*);
+-
+-130 
+-	`hdg
+-(
+-lock
+-*);
+-
+-131 
+-	`lock
+-(
+-lock
+-*, *);
+-
+-132 
+-	`a
+-(
+-lock
+-*);
+-
+-133 
+-	`pushi
+-();
+-
+-134 
+-	`pi
+-();
+-
+-137 
+-	`acquep
+-(
+-ock
+-*);
+-
+-138 
+-	`ap
+-(
+-ock
+-*);
+-
+-139 
+-	`hdgp
+-(
+-ock
+-*);
+-
+-140 
+-	`ock
+-(
+-ock
+-*, *);
+-
+-143 
+-	`memcmp
+-(c *, c *, 
+-ut
+-);
+-
+-144 * 
+-	`memmove
+-(*, c *, 
+-ut
+-);
+-
+-145 * 
+-	`memt
+-(*, , 
+-ut
+-);
+-
+-146 * 
+-	`ry
+-(*, const *, );
+-
+-147 
+-	`
+-(const *);
+-
+-148 
+-	`cmp
+-(c *, c *, 
+-ut
+-);
+-
+-149 * 
+-	`y
+-(*, const *, );
+-
+-152 
+-	`gt
+-(, *);
+-
+-153 
+-	`gr
+-(, **, );
+-
+-154 
+-	`gr
+-(, **);
+-
+-155 
+-	`tcht
+-(
+-ut
+-, *);
+-
+-156 
+-	`tchr
+-(
+-ut
+-, **);
+-
+-157 
+-	`sys
+-();
+-
+-160 
+-	`tim
+-();
+-
+-163 
+-	`idt
+-();
+-
+-164 
+-ut
+- 
+-ticks
+-;
+-
+-165 
+-	`tv
+-();
+-
+-166 

+-lock
+- 
+-tickock
+-;
+-
+-169 
+-	`ut
+-();
+-
+-170 
+-	`ut
+-();
+-
+-171 
+-	`uutc
+-();
+-
+-174 
+-	`g
+-();
+-
+-175 
+-	`kvmloc
+-();
+-
+-176 
+-pde_t
+-* 
+-	`tupkvm
+-();
+-
+-177 * 
+-	`uva2ka
+-(
+-pde_t
+-*, *);
+-
+-178 
+-	`locuvm
+-(
+-pde_t
+-*, 
+-ut
+-, uint);
+-
+-179 
+-	`docuvm
+-(
+-pde_t
+-*, 
+-ut
+-, uint);
+-
+-180 
+-	`vm
+-(
+-pde_t
+-*);
+-
+-181 
+-	`uvm
+-(
+-pde_t
+-*, *, 
+-ut
+-);
+-
+-182 
+-	`lduvm
+-(
+-pde_t
+-*, *, 
+-ode
+-*, 
+-ut
+-, uint);
+-
+-183 
+-pde_t
+-* 
+-	`cyuvm
+-de_t*, 
+-ut
+-);
+-
+-184 
+-	`swchuvm
+-(
+-oc
+-*);
+-
+-185 
+-	`swchkvm
+-();
+-
+-186 
+-	`cyout
+-(
+-pde_t
+-*, 
+-ut
+-, *, uint);
+-
+-187 
+-	`u
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-);
+-
+-190 
+-	#NELEM
+-(
+-x
+-((x)/((x)[0]))
+-
+-	)
+-
+-	@echo.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 
+-i
+- = 1; i < 
+-gc
+-; i++)
+-
+-11 
+-	`tf
+-(1, "%s%s", 
+-gv
+-[
+-i
+-], i+1 < 
+-gc
+- ? " " : "\n");
+-
+-12 
+-	`ex
+-();
+-
+-13 
+-	}
+-}
+-
+-	@elf.h
+-
+-3 
+-	#ELF_MAGIC
+- 0x464C457FU
+-
+-4 
+-
+-	)
+-
+-6 
+-	sfhdr
+- {
+-
+-7 
+-ut
+- 
+-	mmagic
+-;
+-
+-8 
+-uch
+- 
+-	mf
+-[12];
+-
+-9 
+-usht
+- 
+-	mty
+-;
+-
+-10 
+-usht
+- 
+-	mmache
+-;
+-
+-11 
+-ut
+- 
+-	mvsi
+-;
+-
+-12 
+-ut
+- 
+-	my
+-;
+-
+-13 
+-ut
+- 
+-	mphoff
+-;
+-
+-14 
+-ut
+- 
+-	mshoff
+-;
+-
+-15 
+-ut
+- 
+-	mags
+-;
+-
+-16 
+-usht
+- 
+-	mehsize
+-;
+-
+-17 
+-usht
+- 
+-	mphtsize
+-;
+-
+-18 
+-usht
+- 
+-	mphnum
+-;
+-
+-19 
+-usht
+- 
+-	mshtsize
+-;
+-
+-20 
+-usht
+- 
+-	mshnum
+-;
+-
+-21 
+-usht
+- 
+-	mshdx
+-;
+-
+-25 
+-	soghdr
+- {
+-
+-26 
+-ut
+- 
+-	mty
+-;
+-
+-27 
+-ut
+- 
+-	moff
+-;
+-
+-28 
+-ut
+- 
+-	mvaddr
+-;
+-
+-29 
+-ut
+- 
+-	mddr
+-;
+-
+-30 
+-ut
+- 
+-	mfesz
+-;
+-
+-31 
+-ut
+- 
+-	mmemsz
+-;
+-
+-32 
+-ut
+- 
+-	mags
+-;
+-
+-33 
+-ut
+- 
+-	mign
+-;
+-
+-37 
+-	#ELF_PROG_LOAD
+- 1
+-
+-	)
+-
+-40 
+-	#ELF_PROG_FLAG_EXEC
+- 1
+-
+-	)
+-
+-41 
+-	#ELF_PROG_FLAG_WRITE
+- 2
+-
+-	)
+-
+-42 
+-	#ELF_PROG_FLAG_READ
+- 4
+-
+-	)
+-
+-	@entry.S
+-
+-1 #Th
+-xv6
+- 
+-kl
+- 
+-ts
+- 
+-executg
+- 
+-
+- 
+-this
+- 
+-fe
+-. 
+-This
+- f
+-is
+- 
+-lked
+- 
+-wh
+-
+-
+-2 #th
+-kl
+- 
+-C
+- 
+-code
+-, 
+-so
+- 
+-
+- 
+-n
+- 
+-r
+- 
+-to
+- k
+-symbs
+- 
+-such
+- 
+-as
+- 
+-ma
+-().
+-
+-3 #Th
+-bo
+- 
+-block
+- (
+-boasm
+-.
+-S
+- 
+-d
+- 
+-boma
+-.
+-c
+-
+-jumps
+- 
+-to
+- 
+-y
+- 
+-bow
+-.
+-
+-5 #Muibo 
+-hd
+-, 
+-muibo
+- 
+-bo
+- 
+-lds
+- 
+-like
+- 
+-GNU
+- 
+-Grub
+-.
+-
+-7 #
+-#Usg 
+-GRUB
+- 2, 
+-you
+- 
+-n
+- 
+-bo
+- 
+-xv6
+- 
+-om
+- 
+-a
+- 
+-fe
+- 
+-ed
+- 
+-
+-
+-
+-9 #Lux 
+-fe
+- 
+-syem
+- 
+-by
+- 
+-cyg
+- 
+-kl
+- 
+-
+- 
+-klmemfs
+- 
+-to
+- /
+-bo
+-
+-
+-10 #d 
+-th
+- 
+-addg
+- 
+-this
+- 
+-mu
+- 
+-y
+-:
+-
+-13 #smod 
+-ext2
+-
+-
+-14 #
+-ro
+-='(hd0,msdos1)'
+-
+-15 #
+-kl
+-='/boot/kernel'
+-
+-17 #muibo 
+-$
+-{
+-kl
+-} ${kernel}
+-
+-21 
+-	~"asm.h
+-"
+-
+-22 
+-	~"memyout.h
+-"
+-
+-23 
+-	~"mmu.h
+-"
+-
+-24 
+-	~"m.h
+-"
+-
+-26 #Muibo 
+-hd
+-. 
+-Da
+- 
+-to
+- 
+-de
+- 
+-muibo
+- 
+-ld
+-.
+-
+-27 .
+-	gp2ign
+- 2
+-
+-28 .
+-	gxt
+-
+-
+-29 .
+-globl
+- 
+-muibo_hd
+-
+-
+-30 
+-	gmuibo_hd
+-:
+-
+-31 
+-	#magic
+- 0x1badb002
+-
+-	)
+-
+-32 
+-	#ags
+- 0
+-
+-	)
+-
+-33 .
+-magic
+-
+-
+-34 .
+-ags
+-
+-
+-35 .(-
+-magic
+--
+-ags
+-)
+-
+-37 #By 
+-cvti
+-, 
+-the
+- 
+-_t
+- 
+-symb
+- 
+-ecifs
+-h
+-ELF
+- 
+-y
+- 
+-pot
+-.
+-
+-38 #S 
+-we
+- 
+-hav
+-'t set up virtual memory yet, ourntryoint is
+-
+-39 #th
+-physil
+- 
+-addss
+- 
+-of
+- 'entry'.
+-
+-40 .
+-globl
+- 
+-_t
+-
+-
+-41 
+-	g_t
+- = 
+-V2P_WO
+-(
+-y
+-)
+-
+-43 #Eg 
+-xv6
+- 
+-
+- 
+-bo
+- 
+-oss
+-, 
+-wh
+- 
+-gg
+- 
+-off
+-.
+-
+-44 .
+-globl
+- 
+-y
+-
+-
+-45 
+-	gy
+-:
+-
+-46 #Tu 
+-
+- 
+-ge
+- 
+-size
+- 
+-exnsi
+- 4
+-Mby
+- 
+-ges
+-
+-
+-47 
+-movl
+- %
+-4
+-, %
+-x
+-
+-
+-48 
+-l
+- 
+-$
+-(
+-CR4_PSE
+-), %
+-x
+-
+-
+-49 
+-	gmovl
+- %
+-	gx
+-, %
+-	g4
+-
+-
+-50 #S 
+-ge
+- 
+-dey
+-
+-
+-51 
+-movl
+- 
+-$
+-(
+-V2P_WO
+-(
+-ypgd
+-)), %
+-x
+-
+-
+-52 
+-	gmovl
+- %
+-	gx
+-, %
+-	g3
+-
+-
+-53 #Tu 
+-
+- 
+-gg
+-.
+-
+-54 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-55 
+-l
+- 
+-$
+-(
+-CR0_PG
+-|
+-CR0_WP
+-), %
+-x
+-
+-
+-56 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-58 #S 
+-up
+- 
+-the
+- 
+-ack
+- 
+-por
+-.
+-
+-59 
+-movl
+- 
+-$
+-(
+-ack
+- + 
+-KSTACKSIZE
+-), %
+-	ge
+-
+-
+-61 #Jum
+-to
+- 
+-ma
+-(), 
+-d
+- t
+-executg
+- 
+-
+-
+-
+-62 #high 
+-addss
+-. 
+-The
+- 
+-de
+- 
+-
+- 
+-is
+- 
+-eded
+- 
+-beu
+-
+-
+-63 #th
+-asmbr
+- 
+-odus
+- 
+-a
+- 
+-PC
+--
+-tive
+- 
+-rui
+-
+-
+-64 #f 
+-a
+- 
+-de
+- 
+-jump
+-.
+-
+-65 
+-mov
+- 
+-	g$ma
+-, %
+-x
+-
+-
+-66 
+-	gjmp
+- *%
+-	gx
+-
+-
+-68 .
+-comm
+- 
+-	gack
+-, 
+-	gKSTACKSIZE
+-
+-
+-	@entryother.S
+-
+-1 
+-	~"asm.h
+-"
+-
+-2 
+-	~"memyout.h
+-"
+-
+-3 
+-	~"mmu.h
+-"
+-
+-5 #Each 
+-n
+--
+-bo
+- 
+-CPU
+- ("AP"
+-is
+- 
+-d
+- 
+-up
+- 
+-
+- 
+-
+- 
+-to
+- 
+-a
+- 
+-STARTUP
+-
+-
+-6 #IPI 
+-om
+- 
+-the
+- 
+-bo
+- 
+-CPU
+-. 
+-Sei
+- 
+-B
+-.4.2 
+-of
+-h
+-Mui
+--
+-Pross
+-
+-
+-7 #Scifiti 
+-ys
+- 
+-th
+- 
+-the
+- 
+-AP
+- 
+-wl
+- 
+-t
+- 
+-
+- 
+-
+- 
+-mode
+- 
+-wh
+- 
+-CS
+-:
+-IP
+-
+-
+-8 #
+-to
+- 
+-XY00
+-:0000, 
+-whe
+- 
+-XY
+- 
+-is
+- 
+-
+- 8-
+-b
+- 
+-vue
+- 
+-
+- 
+-wh
+- 
+-the
+-
+-
+-9 #STARTUP. 
+-Thus
+- 
+-this
+- 
+-code
+- 
+-mu
+- 
+-t
+- 
+-
+- 
+-a
+- 4096-
+-by
+- 
+-boundy
+-.
+-
+-10 #
+-#Beu 
+-this
+- 
+-code
+- 
+-ts
+- 
+-DS
+- 
+-to
+- 
+-zo
+-, 
+-
+- 
+-mu
+- 
+-s
+-
+-
+-12 # 
+-
+- 
+-addss
+- 
+-
+- 
+-the
+- 
+-low
+- 2^16 
+-bys
+-.
+-
+-13 #
+-#Sh(
+-
+- 
+-ma
+-.
+-c
+-
+-nds
+- 
+-the
+- 
+-STARTUPs
+- 
+-e
+- 
+-
+- 
+-a
+- 
+-time
+-.
+-
+-15 #I
+-cs
+- 
+-this
+- 
+-code
+- (
+-t
+-
+-
+- 0x7000. 
+-It
+- 
+-puts
+- 
+-the
+- 
+-addss
+- 
+-of
+-
+-
+-16 #
+-wly
+- 
+-lod
+- 
+-r
+--
+-ce
+- 
+-ack
+- 
+-
+- 
+-t
+--4,
+-the
+- 
+-addss
+- 
+-of
+-he
+-
+-17 #a 
+-to
+- 
+-jump
+-(
+-m
+-
+-
+- 
+-t
+--8, 
+-d
+- 
+-the
+- 
+-physil
+- 
+-addss
+-
+-
+-18 #o
+-ypgd
+- 
+-
+- 
+-t
+--12.
+-
+-19 #
+-#Thi
+-code
+- 
+-combes
+- 
+-emts
+- 
+-of
+- 
+-boasm
+-.
+-S
+- 
+-d
+- 
+-y
+-.S.
+-
+-22 .
+-	gcode16
+-
+-
+-23 .
+-globl
+- 
+-t
+-
+-
+-24 
+-	gt
+-:
+-
+-25 
+-i
+-
+-
+-27 #Z
+-da
+- 
+-gmt
+- 
+-gis
+- 
+-DS
+-, 
+-ES
+-, 
+-d
+- 
+-SS
+-.
+-
+-28 
+-	gxw
+- %
+-	gax
+-,%
+-ax
+-
+-
+-29 
+-	gmovw
+- %
+-	gax
+-,%
+-ds
+-
+-
+-30 
+-	gmovw
+- %
+-	gax
+-,%
+-es
+-
+-
+-31 
+-	gmovw
+- %
+-	gax
+-,%
+-	gss
+-
+-
+-33 #Swch 
+-om
+- 
+-
+- 
+-to
+- 
+-eed
+- 
+-mode
+-. 
+-U
+- 
+-a
+- 
+-bop
+- 
+-GDT
+- 
+-th
+- 
+-makes
+-
+-
+-34 #vtu 
+-addss
+- 
+-m
+- 
+-dely
+- 
+-to
+- 
+-physil
+-dds
+-so
+- 
+-th
+- 
+-the
+-
+-
+-35 #efiv
+-memy
+- 
+-m
+- 
+-d
+-'t change duringheransition.
+-
+-36 
+-lgdt
+- 
+-gdtdesc
+-
+-
+-37 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-38 
+-l
+- 
+-	g$CR0_PE
+-, %
+-x
+-
+-
+-39 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-41 #Com
+-the
+- 
+-si
+- 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+- 
+-by
+- 
+-usg
+- 
+-a
+- 
+-jmp
+-
+-
+-42 #t
+-ld
+- %
+-cs
+- 
+-d
+- %
+-e
+-. 
+-The
+- 
+-gmt
+- 
+-dests
+- 
+-e
+- 
+-t
+- 
+-up
+- 
+-wh
+- 
+-no
+-
+-
+-43 #i, 
+-so
+- 
+-th
+- 
+-the
+- 
+-mpg
+- 
+-is
+- 
+-l
+-h
+-idty
+- mapping.
+-
+-44 
+-ljm
+- 
+-$
+-(
+-SEG_KCODE
+-<<3), $(
+-t32
+-)
+-
+-47 .
+-	gcode32
+- #T
+-asmbr
+- 
+-to
+- 
+-	gge
+- 32-
+-b
+- 
+-code
+- 
+-	gnow
+-.
+-
+-48 
+-	gt32
+-:
+-
+-49 #S 
+-up
+- 
+-the
+- 
+-eed
+--
+-mode
+- 
+-da
+- 
+-gmt
+- 
+-gis
+-
+-
+-50 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-	gax
+- #Ou
+-da
+- 
+-gmt
+- 
+-
+-
+-
+-51 
+-	gmovw
+- %
+-	gax
+-, %
+-	gds
+- #-> 
+-	gDS
+-: 
+-Da
+- 
+-Segmt
+-
+-
+-52 
+-movw
+- %
+-ax
+-, %
+-	ges
+- #-> 
+-	gES
+-: 
+-Exa
+- 
+-Segmt
+-
+-
+-53 
+-movw
+- %
+-ax
+-, %
+-	gss
+- #-> 
+-	gSS
+-: 
+-Sck
+- 
+-Segmt
+-
+-
+-54 
+-movw
+- 
+-$0
+-, %
+-	gax
+- #Z
+-gmts
+- 
+-n
+- 
+-ady
+- 
+-u
+-
+-
+-55 
+-	gmovw
+- %
+-	gax
+-, %
+-	gfs
+- #-> 
+-FS
+-
+-
+-56 
+-	gmovw
+- %
+-	gax
+-, %
+-	ggs
+- #-> 
+-	gGS
+-
+-
+-58 #Tu 
+-
+- 
+-ge
+- 
+-size
+- 
+-exnsi
+- 4
+-Mby
+- 
+-ges
+-
+-
+-59 
+-	gmovl
+- %
+-	g4
+-, %
+-x
+-
+-
+-60 
+-l
+- 
+-$
+-(
+-CR4_PSE
+-), %
+-x
+-
+-
+-61 
+-	gmovl
+- %
+-	gx
+-, %
+-	g4
+-
+-
+-62 #U 
+-ypgd
+- 
+-as
+- 
+-our
+- 
+-l
+- 
+-ge
+- 
+-b
+-
+-
+-63 
+-movl
+- (
+-t
+--12), %
+-x
+-
+-
+-64 
+-	gmovl
+- %
+-	gx
+-, %
+-	g3
+-
+-
+-65 #Tu 
+-
+- 
+-gg
+-.
+-
+-66 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-67 
+-l
+- 
+-$
+-(
+-CR0_PE
+-|
+-CR0_PG
+-|
+-CR0_WP
+-), %
+-x
+-
+-
+-68 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-70 #Swch 
+-to
+- 
+-the
+- 
+-ack
+- 
+-lod
+- 
+-by
+- 
+-ths
+-()
+-
+-71 
+-movl
+- (
+-t
+--4), %
+-	ge
+-
+-
+-72 #C
+-m
+-()
+-
+-73 
+-	g
+- *(
+-	gt
+--8)
+-
+-75 
+-movw
+- 
+-	g$0x8a00
+-, %
+-ax
+-
+-
+-76 
+-	gmovw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-77 
+-	goutw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-78 
+-movw
+- 
+-	g$0x80
+-, %
+-ax
+-
+-
+-79 
+-	goutw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-80 
+-	g
+-:
+-
+-81 
+-jmp
+- 
+-
+-
+-
+-83 .
+-p2ign
+- 2
+-
+-84 
+-gdt
+-:
+-
+-85 
+-SEG_NULLASM
+-
+-
+-86 
+-SEG_ASM
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff)
+-
+-87 
+-	$SEG_ASM
+-(
+-STA_W
+-, 0, 0xffffffff)
+-
+-90 
+-gdtdesc
+-:
+-
+-91 .
+-	`wd
+- (
+-gdtdesc
+- - 
+-gdt
+- - 1)
+-
+-92 .
+-gdt
+-
+-
+-	@exec.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"m.h
+-"
+-
+-3 
+-	~"memyout.h
+-"
+-
+-4 
+-	~"mmu.h
+-"
+-
+-5 
+-	~"oc.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"f.h
+-"
+-
+-11 
+-	$exec
+-(*
+-th
+-, **
+-gv
+-)
+-
+-13 *
+-s
+-, *
+-
+-;
+-
+-14 
+-i
+-, 
+-off
+-;
+-
+-15 
+-ut
+- 
+-gc
+-, 
+-sz
+-, 
+-
+-, 
+-uack
+-[3+
+-MAXARG
+-+1];
+-
+-16 
+-fhdr
+- 
+-f
+-;
+-
+-17 
+-ode
+- *
+-
+-;
+-
+-18 
+-oghdr
+- 
+-ph
+-;
+-
+-19 
+-pde_t
+- *
+-pgd
+-, *
+-dpgd
+-;
+-
+-20 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-22 
+-	`beg_
+-();
+-
+-24 if((
+-
+- = 
+-	`mei
+-(
+-th
+-)) == 0){
+-
+-25 
+-	`d_
+-();
+-
+-26 
+-	`rtf
+-("exec: fail\n");
+-
+-29 
+-	`ock
+-(
+-
+-);
+-
+-30 
+-pgd
+- = 0;
+-
+-33 if(
+-	`adi
+-(
+-
+-, (*)&
+-f
+-, 0, (elf)) != (elf))
+-
+-34 
+-bad
+-;
+-
+-35 if(
+-f
+-.
+-magic
+- !
+-ELF_MAGIC
+-)
+-
+-36 
+-bad
+-;
+-
+-38 if((
+-pgd
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-39 
+-bad
+-;
+-
+-42 
+-sz
+- = 0;
+-
+-43 
+-i
+-=0, 
+-off
+-=
+-f
+-.
+-phoff
+-; i<f.
+-phnum
+-; i++, off+=(
+-ph
+-)){
+-
+-44 if(
+-	`adi
+-(
+-
+-, (*)&
+-ph
+-, 
+-off
+-, (ph)) != (ph))
+-
+-45 
+-bad
+-;
+-
+-46 if(
+-ph
+-.
+-ty
+- !
+-ELF_PROG_LOAD
+-)
+-
+-48 if(
+-ph
+-.
+-memsz
+- <h.
+-fesz
+-)
+-
+-49 
+-bad
+-;
+-
+-50 if(
+-ph
+-.
+-vaddr
+- +h.
+-memsz
+- <h.vaddr)
+-
+-51 
+-bad
+-;
+-
+-52 if((
+-sz
+- = 
+-	`locuvm
+-(
+-pgd
+-, sz, 
+-ph
+-.
+-vaddr
+- +h.
+-memsz
+-)) == 0)
+-
+-53 
+-bad
+-;
+-
+-54 if(
+-ph
+-.
+-vaddr
+- % 
+-PGSIZE
+- != 0)
+-
+-55 
+-bad
+-;
+-
+-56 if(
+-	`lduvm
+-(
+-pgd
+-, (*)
+-ph
+-.
+-vaddr
+-, 
+-
+-,h.
+-off
+-,h.
+-fesz
+-) < 0)
+-
+-57 
+-bad
+-;
+-
+-59 
+-	`iuockput
+-(
+-
+-);
+-
+-60 
+-	`d_
+-();
+-
+-61 
+-
+- = 0;
+-
+-65 
+-sz
+- = 
+-	`PGROUNDUP
+-(sz);
+-
+-66 if((
+-sz
+- = 
+-	`locuvm
+-(
+-pgd
+-, sz, sz + 2*
+-PGSIZE
+-)) == 0)
+-
+-67 
+-bad
+-;
+-
+-68 
+-	`u
+-(
+-pgd
+-, (*)(
+-sz
+- - 2*
+-PGSIZE
+-));
+-
+-69 
+-
+- = 
+-sz
+-;
+-
+-72 
+-gc
+- = 0; 
+-gv
+-[argc];rgc++) {
+-
+-73 if(
+-gc
+- >
+-MAXARG
+-)
+-
+-74 
+-bad
+-;
+-
+-75 
+-
+- = ( - (
+-	`
+-(
+-gv
+-[
+-gc
+-]) + 1)) & ~3;
+-
+-76 if(
+-	`cyout
+-(
+-pgd
+-, 
+-
+-, 
+-gv
+-[
+-gc
+-], 
+-	`
+-(argv[argc]) + 1) < 0)
+-
+-77 
+-bad
+-;
+-
+-78 
+-uack
+-[3+
+-gc
+-] = 
+-
+-;
+-
+-80 
+-uack
+-[3+
+-gc
+-] = 0;
+-
+-82 
+-uack
+-[0] = 0xffffffff;
+-
+-83 
+-uack
+-[1] = 
+-gc
+-;
+-
+-84 
+-uack
+-[2] = 
+-
+- - (
+-gc
+-+1)*4;
+-
+-86 
+-
+- -(3+
+-gc
+-+1) * 4;
+-
+-87 if(
+-	`cyout
+-(
+-pgd
+-, 
+-
+-, 
+-uack
+-, (3+
+-gc
+-+1)*4) < 0)
+-
+-88 
+-bad
+-;
+-
+-91 
+-
+-=
+-s
+-=
+-th
+-; *s; s++)
+-
+-92 if(*
+-s
+- == '/')
+-
+-93 
+-
+- = 
+-s
+-+1;
+-
+-94 
+-	`ry
+-(
+-curoc
+-->
+-me
+-, 
+-
+-, (curproc->name));
+-
+-97 
+-dpgd
+- = 
+-curoc
+-->
+-pgd
+-;
+-
+-98 
+-curoc
+-->
+-pgd
+- =gdir;
+-
+-99 
+-curoc
+-->
+-sz
+- = sz;
+-
+-100 
+-curoc
+-->
+-tf
+-->
+-e
+- = 
+-f
+-.
+-y
+-;
+-
+-101 
+-curoc
+-->
+-tf
+-->
+-e
+- = 
+-
+-;
+-
+-102 
+-	`swchuvm
+-(
+-curoc
+-);
+-
+-103 
+-	`vm
+-(
+-dpgd
+-);
+-
+-106 
+-bad
+-:
+-
+-107 if(
+-pgd
+-)
+-
+-108 
+-	`vm
+-(
+-pgd
+-);
+-
+-109 if(
+-
+-){
+-
+-110 
+-	`iuockput
+-(
+-
+-);
+-
+-111 
+-	`d_
+-();
+-
+-114 
+-	}
+-}
+-
+-	@fcntl.h
+-
+-1 
+-	#O_RDONLY
+- 0x000
+-
+-	)
+-
+-2 
+-	#O_WRONLY
+- 0x001
+-
+-	)
+-
+-3 
+-	#O_RDWR
+- 0x002
+-
+-	)
+-
+-4 
+-	#O_CREATE
+- 0x200
+-
+-	)
+-
+-	@file.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"fs.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-10 
+-	~"ock.h
+-"
+-
+-11 
+-	~"fe.h
+-"
+-
+-13 
+-devsw
+- 
+-	gdevsw
+-[
+-NDEV
+-];
+-
+-15 
+-lock
+- 
+-	mlock
+-;
+-
+-16 
+-fe
+- 
+-	mfe
+-[
+-NFILE
+-];
+-
+-17 } 
+-	gab
+-;
+-
+-20 
+-	$fe
+-()
+-
+-22 
+-	`lock
+-(&
+-ab
+-.
+-lock
+-, "ftable");
+-
+-23 
+-	}
+-}
+-
+-26 
+-fe
+-*
+-
+-27 
+-	$foc
+-()
+-
+-29 
+-fe
+- *
+-f
+-;
+-
+-31 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-32 
+-f
+- = 
+-ab
+-.
+-fe
+-; f < fb.f+ 
+-NFILE
+-; f++){
+-
+-33 if(
+-f
+-->
+-f
+- == 0){
+-
+-34 
+-f
+-->
+-f
+- = 1;
+-
+-35 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-36  
+-f
+-;
+-
+-39 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-41 
+-	}
+-}
+-
+-44 
+-fe
+-*
+-
+-45 
+-	$fedup
+-(
+-fe
+- *
+-f
+-)
+-
+-47 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-48 if(
+-f
+-->
+-f
+- < 1)
+-
+-49 
+-	`nic
+-("filedup");
+-
+-50 
+-f
+-->
+-f
+-++;
+-
+-51 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-52  
+-f
+-;
+-
+-53 
+-	}
+-}
+-
+-57 
+-	$feo
+-(
+-fe
+- *
+-f
+-)
+-
+-59 
+-fe
+- 
+-ff
+-;
+-
+-61 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-62 if(
+-f
+-->
+-f
+- < 1)
+-
+-63 
+-	`nic
+-("fileclose");
+-
+-64 if(--
+-f
+-->
+-f
+- > 0){
+-
+-65 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-68 
+-ff
+- = *
+-f
+-;
+-
+-69 
+-f
+-->
+-f
+- = 0;
+-
+-70 
+-f
+-->
+-ty
+- = 
+-FD_NONE
+-;
+-
+-71 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-73 if(
+-ff
+-.
+-ty
+- =
+-FD_PIPE
+-)
+-
+-74 
+-	`peo
+-(
+-ff
+-.
+-pe
+-, ff.
+-wrab
+-);
+-
+-75 if(
+-ff
+-.
+-ty
+- =
+-FD_INODE
+-){
+-
+-76 
+-	`beg_
+-();
+-
+-77 
+-	`ut
+-(
+-ff
+-.
+-
+-);
+-
+-78 
+-	`d_
+-();
+-
+-80 
+-	}
+-}
+-
+-84 
+-	$fe
+-(
+-fe
+- *
+-f
+-, 
+-
+- *
+-
+-)
+-
+-86 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-87 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-88 
+-	`i
+-(
+-f
+-->
+-
+-, 
+-
+-);
+-
+-89 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-93 
+-	}
+-}
+-
+-97 
+-	$fd
+-(
+-fe
+- *
+-f
+-, *
+-addr
+-, 
+-n
+-)
+-
+-99 
+-r
+-;
+-
+-101 if(
+-f
+-->
+-adab
+- == 0)
+-
+-103 if(
+-f
+-->
+-ty
+- =
+-FD_PIPE
+-)
+-
+-104  
+-	`pd
+-(
+-f
+-->
+-pe
+-, 
+-addr
+-, 
+-n
+-);
+-
+-105 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-106 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-107 if((
+-r
+- = 
+-	`adi
+-(
+-f
+-->
+-
+-, 
+-addr
+-, f->
+-off
+-, 
+-n
+-)) > 0)
+-
+-108 
+-f
+-->
+-off
+- +
+-r
+-;
+-
+-109 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-110  
+-r
+-;
+-
+-112 
+-	`nic
+-("fileread");
+-
+-113 
+-	}
+-}
+-
+-118 
+-	$fewre
+-(
+-fe
+- *
+-f
+-, *
+-addr
+-, 
+-n
+-)
+-
+-120 
+-r
+-;
+-
+-122 if(
+-f
+-->
+-wrab
+- == 0)
+-
+-124 if(
+-f
+-->
+-ty
+- =
+-FD_PIPE
+-)
+-
+-125  
+-	`pewre
+-(
+-f
+-->
+-pe
+-, 
+-addr
+-, 
+-n
+-);
+-
+-126 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-133 
+-max
+- = ((
+-MAXOPBLOCKS
+--1-1-2) / 2) * 512;
+-
+-134 
+-i
+- = 0;
+-
+-135 
+-i
+- < 
+-n
+-){
+-
+-136 
+-n1
+- = 
+-n
+- - 
+-i
+-;
+-
+-137 if(
+-n1
+- > 
+-max
+-)
+-
+-138 
+-n1
+- = 
+-max
+-;
+-
+-140 
+-	`beg_
+-();
+-
+-141 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-142 i((
+-r
+- = 
+-	`wrei
+-(
+-f
+-->
+-
+-, 
+-addr
+- + 
+-i
+-, f->
+-off
+-, 
+-n1
+-)) > 0)
+-
+-143 
+-f
+-->
+-off
+- +
+-r
+-;
+-
+-144 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-145 
+-	`d_
+-();
+-
+-147 if(
+-r
+- < 0)
+-
+-149 if(
+-r
+- !
+-n1
+-)
+-
+-150 
+-	`nic
+-("short filewrite");
+-
+-151 
+-i
+- +
+-r
+-;
+-
+-153  
+-i
+- =
+-n
+- ? : -1;
+-
+-155 
+-	`nic
+-("filewrite");
+-
+-156 
+-	}
+-}
+-
+-	@file.h
+-
+-1 
+-	sfe
+- {
+-
+-2 um { 
+-	mFD_NONE
+-, 
+-	mFD_PIPE
+-, 
+-	mFD_INODE
+- } 
+-	mty
+-;
+-
+-3 
+-	mf
+-;
+-
+-4 
+-	madab
+-;
+-
+-5 
+-	mwrab
+-;
+-
+-6 
+-pe
+- *
+-	mpe
+-;
+-
+-7 
+-ode
+- *
+-	m
+-;
+-
+-8 
+-ut
+- 
+-	moff
+-;
+-
+-13 
+-	sode
+- {
+-
+-14 
+-ut
+- 
+-	mdev
+-;
+-
+-15 
+-ut
+- 
+-	mum
+-;
+-
+-16 
+-	mf
+-;
+-
+-17 
+-ock
+- 
+-	mlock
+-;
+-
+-18 
+-	mvid
+-;
+-
+-20 
+-	mty
+-;
+-
+-21 
+-	mmaj
+-;
+-
+-22 
+-	mm
+-;
+-
+-23 
+-	mk
+-;
+-
+-24 
+-ut
+- 
+-	msize
+-;
+-
+-25 
+-ut
+- 
+-	maddrs
+-[
+-NDIRECT
+-+1];
+-
+-30 
+-	sdevsw
+- {
+-
+-31 (*
+-	mad
+-)(
+-	mode
+-*, *, );
+-
+-32 (*
+-	mwre
+-)(
+-	mode
+-*, *, );
+-
+-35 

+-devsw
+- devsw[];
+-
+-37 
+-	#CONSOLE
+- 1
+-
+-	)
+-
+-	@forktest.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~".h
+-"
+-
+-6 
+-	~"ur.h
+-"
+-
+-8 
+-	#N
+- 1000
+-
+-	)
+-
+-11 
+-	$tf
+-(
+-fd
+-, c *
+-s
+-, ...)
+-
+-13 
+-	`wre
+-(
+-fd
+-, 
+-s
+-, 
+-	`
+-(s));
+-
+-14 
+-	}
+-}
+-
+-17 
+-	$fk
+-()
+-
+-19 
+-n
+-, 
+-pid
+-;
+-
+-21 
+-	`tf
+-(1, "forkest\n");
+-
+-23 
+-n
+-=0;<
+-N
+-;++){
+-
+-24 
+-pid
+- = 
+-	`fk
+-();
+-
+-25 if(
+-pid
+- < 0)
+-
+-27 if(
+-pid
+- == 0)
+-
+-28 
+-	`ex
+-();
+-
+-31 if(
+-n
+- =
+-N
+-){
+-
+-32 
+-	`tf
+-(1, "fk cimedwk Nimes!\n", 
+-N
+-);
+-
+-33 
+-	`ex
+-();
+-
+-36 ; 
+-n
+- > 0;--){
+-
+-37 if(
+-	`wa
+-() < 0){
+-
+-38 
+-	`tf
+-(1, "wait stoppedarly\n");
+-
+-39 
+-	`ex
+-();
+-
+-43 if(
+-	`wa
+-() != -1){
+-
+-44 
+-	`tf
+-(1, "wait gotoo many\n");
+-
+-45 
+-	`ex
+-();
+-
+-48 
+-	`tf
+-(1, "forkest OK\n");
+-
+-49 
+-	}
+-}
+-
+-52 
+-	$ma
+-()
+-
+-54 
+-	`fk
+-();
+-
+-55 
+-	`ex
+-();
+-
+-56 
+-	}
+-}
+-
+-	@fs.c
+-
+-12 
+-	~"tys.h
+-"
+-
+-13 
+-	~"defs.h
+-"
+-
+-14 
+-	~"m.h
+-"
+-
+-15 
+-	~".h
+-"
+-
+-16 
+-	~"mmu.h
+-"
+-
+-17 
+-	~"oc.h
+-"
+-
+-18 
+-	~"lock.h
+-"
+-
+-19 
+-	~"ock.h
+-"
+-
+-20 
+-	~"fs.h
+-"
+-
+-21 
+-	~"buf.h
+-"
+-
+-22 
+-	~"fe.h
+-"
+-
+-24 
+-	#m
+-(
+-a
+-, 
+-b
+-(< (b? (a: (b))
+-
+-	)
+-
+-25 
+-runc
+-(
+-ode
+-*);
+-
+-28 
+-surblock
+- 
+-	gsb
+-;
+-
+-32 
+-	$adsb
+-(
+-dev
+-, 
+-surblock
+- *
+-sb
+-)
+-
+-34 
+-buf
+- *
+-bp
+-;
+-
+-36 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 1);
+-
+-37 
+-	`memmove
+-(
+-sb
+-, 
+-bp
+-->
+-da
+-, (*sb));
+-
+-38 
+-	`bl
+-(
+-bp
+-);
+-
+-39 
+-	}
+-}
+-
+-43 
+-	$bzo
+-(
+-dev
+-, 
+-bno
+-)
+-
+-45 
+-buf
+- *
+-bp
+-;
+-
+-47 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-bno
+-);
+-
+-48 
+-	`memt
+-(
+-bp
+-->
+-da
+-, 0, 
+-BSIZE
+-);
+-
+-49 
+-	`log_wre
+-(
+-bp
+-);
+-
+-50 
+-	`bl
+-(
+-bp
+-);
+-
+-51 
+-	}
+-}
+-
+-56 
+-ut
+-
+-
+-57 
+-	$bloc
+-(
+-ut
+- 
+-dev
+-)
+-
+-59 
+-b
+-, 
+-bi
+-, 
+-m
+-;
+-
+-60 
+-buf
+- *
+-bp
+-;
+-
+-62 
+-bp
+- = 0;
+-
+-63 
+-b
+- = 0; b < 
+-sb
+-.
+-size
+-; b +
+-BPB
+-){
+-
+-64 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`BBLOCK
+-(
+-b
+-, 
+-sb
+-));
+-
+-65 
+-bi
+- = 0; b< 
+-BPB
+- && 
+-b
+- + b< 
+-sb
+-.
+-size
+-; bi++){
+-
+-66 
+-m
+- = 1 << (
+-bi
+- % 8);
+-
+-67 if((
+-bp
+-->
+-da
+-[
+-bi
+-/8] & 
+-m
+-) == 0){
+-
+-68 
+-bp
+-->
+-da
+-[
+-bi
+-/8] |
+-m
+-;
+-
+-69 
+-	`log_wre
+-(
+-bp
+-);
+-
+-70 
+-	`bl
+-(
+-bp
+-);
+-
+-71 
+-	`bzo
+-(
+-dev
+-, 
+-b
+- + 
+-bi
+-);
+-
+-72  
+-b
+- + 
+-bi
+-;
+-
+-75 
+-	`bl
+-(
+-bp
+-);
+-
+-77 
+-	`nic
+-("balloc: out of blocks");
+-
+-78 
+-	}
+-}
+-
+-82 
+-	$b
+-(
+-dev
+-, 
+-ut
+- 
+-b
+-)
+-
+-84 
+-buf
+- *
+-bp
+-;
+-
+-85 
+-bi
+-, 
+-m
+-;
+-
+-87 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`BBLOCK
+-(
+-b
+-, 
+-sb
+-));
+-
+-88 
+-bi
+- = 
+-b
+- % 
+-BPB
+-;
+-
+-89 
+-m
+- = 1 << (
+-bi
+- % 8);
+-
+-90 if((
+-bp
+-->
+-da
+-[
+-bi
+-/8] & 
+-m
+-) == 0)
+-
+-91 
+-	`nic
+-("freeing free block");
+-
+-92 
+-bp
+-->
+-da
+-[
+-bi
+-/8] &~
+-m
+-;
+-
+-93 
+-	`log_wre
+-(
+-bp
+-);
+-
+-94 
+-	`bl
+-(
+-bp
+-);
+-
+-95 
+-	}
+-}
+-
+-167 
+-lock
+- 
+-	mlock
+-;
+-
+-168 
+-ode
+- 
+-	mode
+-[
+-NINODE
+-];
+-
+-169 } 
+-	giche
+-;
+-
+-172 
+-	$i
+-(
+-dev
+-)
+-
+-174 
+-i
+- = 0;
+-
+-176 
+-	`lock
+-(&
+-iche
+-.
+-lock
+-, "icache");
+-
+-177 
+-i
+- = 0; i < 
+-NINODE
+-; i++) {
+-
+-178 
+-	`ock
+-(&
+-iche
+-.
+-ode
+-[
+-i
+-].
+-lock
+-, "inode");
+-
+-181 
+-	`adsb
+-(
+-dev
+-, &
+-sb
+-);
+-
+-182 
+-	`rtf
+-("sb: siz%dblock%dode%dlog %dog%d\
+- %d bm s %d\n", 
+-sb
+-.
+-size
+-, sb.
+-nblocks
+-,
+-
+-184 
+-sb
+-.
+-nodes
+-, sb.
+-og
+-, sb.
+-logt
+-, sb.
+-odet
+-,
+-
+-185 
+-sb
+-.
+-bmt
+-);
+-
+-186 
+-	}
+-}
+-
+-188 
+-ode
+-* 
+-ig
+-(
+-ut
+- 
+-dev
+-, u
+-um
+-);
+-
+-194 
+-ode
+-*
+-
+-195 
+-	$oc
+-(
+-ut
+- 
+-dev
+-, 
+-ty
+-)
+-
+-197 
+-um
+-;
+-
+-198 
+-buf
+- *
+-bp
+-;
+-
+-199 
+-dode
+- *
+-d
+-;
+-
+-201 
+-um
+- = 1; inum < 
+-sb
+-.
+-nodes
+-; inum++){
+-
+-202 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-));
+-
+-203 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-um
+-%
+-IPB
+-;
+-
+-204 if(
+-d
+-->
+-ty
+- == 0){
+-
+-205 
+-	`memt
+-(
+-d
+-, 0, (*dip));
+-
+-206 
+-d
+-->
+-ty
+- =ype;
+-
+-207 
+-	`log_wre
+-(
+-bp
+-);
+-
+-208 
+-	`bl
+-(
+-bp
+-);
+-
+-209  
+-	`ig
+-(
+-dev
+-, 
+-um
+-);
+-
+-211 
+-	`bl
+-(
+-bp
+-);
+-
+-213 
+-	`nic
+-("ialloc:o inodes");
+-
+-214 
+-	}
+-}
+-
+-221 
+-	$iupde
+-(
+-ode
+- *
+-
+-)
+-
+-223 
+-buf
+- *
+-bp
+-;
+-
+-224 
+-dode
+- *
+-d
+-;
+-
+-226 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`IBLOCK
+-(->
+-um
+-, 
+-sb
+-));
+-
+-227 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-
+-->
+-um
+-%
+-IPB
+-;
+-
+-228 
+-d
+-->
+-ty
+- = 
+-
+-->type;
+-
+-229 
+-d
+-->
+-maj
+- = 
+-
+-->major;
+-
+-230 
+-d
+-->
+-m
+- = 
+-
+-->minor;
+-
+-231 
+-d
+-->
+-k
+- = 
+-
+-->nlink;
+-
+-232 
+-d
+-->
+-size
+- = 
+-
+-->size;
+-
+-233 
+-	`memmove
+-(
+-d
+-->
+-addrs
+-, 
+-
+-->addrs, (ip->addrs));
+-
+-234 
+-	`log_wre
+-(
+-bp
+-);
+-
+-235 
+-	`bl
+-(
+-bp
+-);
+-
+-236 
+-	}
+-}
+-
+-241 
+-ode
+-*
+-
+-242 
+-	$ig
+-(
+-ut
+- 
+-dev
+-, u
+-um
+-)
+-
+-244 
+-ode
+- *
+-
+-, *
+-emy
+-;
+-
+-246 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-249 
+-emy
+- = 0;
+-
+-250 
+-
+- = &
+-iche
+-.
+-ode
+-[0]; i< &iche.ode[
+-NINODE
+-]; ip++){
+-
+-251 if(
+-
+-->
+-f
+- > 0 && ip->
+-dev
+- =dev && ip->
+-um
+- == inum){
+-
+-252 
+-
+-->
+-f
+-++;
+-
+-253 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-254  
+-
+-;
+-
+-256 if(
+-emy
+- =0 && 
+-
+-->
+-f
+- == 0)
+-
+-257 
+-emy
+- = 
+-
+-;
+-
+-261 if(
+-emy
+- == 0)
+-
+-262 
+-	`nic
+-("iget:o inodes");
+-
+-264 
+-
+- = 
+-emy
+-;
+-
+-265 
+-
+-->
+-dev
+- = dev;
+-
+-266 
+-
+-->
+-um
+- = inum;
+-
+-267 
+-
+-->
+-f
+- = 1;
+-
+-268 
+-
+-->
+-vid
+- = 0;
+-
+-269 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-271  
+-
+-;
+-
+-272 
+-	}
+-}
+-
+-276 
+-ode
+-*
+-
+-277 
+-	$idup
+-(
+-ode
+- *
+-
+-)
+-
+-279 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-280 
+-
+-->
+-f
+-++;
+-
+-281 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-282  
+-
+-;
+-
+-283 
+-	}
+-}
+-
+-288 
+-	$ock
+-(
+-ode
+- *
+-
+-)
+-
+-290 
+-buf
+- *
+-bp
+-;
+-
+-291 
+-dode
+- *
+-d
+-;
+-
+-293 if(
+-
+- =0 || ip->
+-f
+- < 1)
+-
+-294 
+-	`nic
+-("ilock");
+-
+-296 
+-	`acquep
+-(&
+-
+-->
+-lock
+-);
+-
+-298 if(
+-
+-->
+-vid
+- == 0){
+-
+-299 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`IBLOCK
+-(->
+-um
+-, 
+-sb
+-));
+-
+-300 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-
+-->
+-um
+-%
+-IPB
+-;
+-
+-301 
+-
+-->
+-ty
+- = 
+-d
+-->type;
+-
+-302 
+-
+-->
+-maj
+- = 
+-d
+-->major;
+-
+-303 
+-
+-->
+-m
+- = 
+-d
+-->minor;
+-
+-304 
+-
+-->
+-k
+- = 
+-d
+-->nlink;
+-
+-305 
+-
+-->
+-size
+- = 
+-d
+-->size;
+-
+-306 
+-	`memmove
+-(
+-
+-->
+-addrs
+-, 
+-d
+-->addrs, (ip->addrs));
+-
+-307 
+-	`bl
+-(
+-bp
+-);
+-
+-308 
+-
+-->
+-vid
+- = 1;
+-
+-309 if(
+-
+-->
+-ty
+- == 0)
+-
+-310 
+-	`nic
+-("ilock:oype");
+-
+-312 
+-	}
+-}
+-
+-316 
+-	$iuock
+-(
+-ode
+- *
+-
+-)
+-
+-318 if(
+-
+- =0 || !
+-	`hdgp
+-(&->
+-lock
+-|| ip->
+-f
+- < 1)
+-
+-319 
+-	`nic
+-("iunlock");
+-
+-321 
+-	`ap
+-(&
+-
+-->
+-lock
+-);
+-
+-322 
+-	}
+-}
+-
+-332 
+-	$ut
+-(
+-ode
+- *
+-
+-)
+-
+-334 
+-	`acquep
+-(&
+-
+-->
+-lock
+-);
+-
+-335 if(
+-
+-->
+-vid
+- && ip->
+-k
+- == 0){
+-
+-336 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-337 
+-r
+- = 
+-
+-->
+-f
+-;
+-
+-338 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-339 if(
+-r
+- == 1){
+-
+-341 
+-	`runc
+-(
+-
+-);
+-
+-342 
+-
+-->
+-ty
+- = 0;
+-
+-343 
+-	`iupde
+-(
+-
+-);
+-
+-344 
+-
+-->
+-vid
+- = 0;
+-
+-347 
+-	`ap
+-(&
+-
+-->
+-lock
+-);
+-
+-349 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-350 
+-
+-->
+-f
+---;
+-
+-351 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-352 
+-	}
+-}
+-
+-356 
+-	$iuockput
+-(
+-ode
+- *
+-
+-)
+-
+-358 
+-	`iuock
+-(
+-
+-);
+-
+-359 
+-	`ut
+-(
+-
+-);
+-
+-360 
+-	}
+-}
+-
+-372 
+-ut
+-
+-
+-373 
+-	$bm
+-(
+-ode
+- *
+-
+-, 
+-ut
+- 
+-bn
+-)
+-
+-375 
+-ut
+- 
+-addr
+-, *
+-a
+-;
+-
+-376 
+-buf
+- *
+-bp
+-;
+-
+-378 if(
+-bn
+- < 
+-NDIRECT
+-){
+-
+-379 if((
+-addr
+- = 
+-
+-->
+-addrs
+-[
+-bn
+-]) == 0)
+-
+-380 
+-
+-->
+-addrs
+-[
+-bn
+-] = 
+-addr
+- = 
+-	`bloc
+-(->
+-dev
+-);
+-
+-381  
+-addr
+-;
+-
+-383 
+-bn
+- -
+-NDIRECT
+-;
+-
+-385 if(
+-bn
+- < 
+-NINDIRECT
+-){
+-
+-387 if((
+-addr
+- = 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-]) == 0)
+-
+-388 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-] = 
+-addr
+- = 
+-	`bloc
+-(->
+-dev
+-);
+-
+-389 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-addr
+-);
+-
+-390 
+-a
+- = (
+-ut
+-*)
+-bp
+-->
+-da
+-;
+-
+-391 if((
+-addr
+- = 
+-a
+-[
+-bn
+-]) == 0){
+-
+-392 
+-a
+-[
+-bn
+-] = 
+-addr
+- = 
+-	`bloc
+-(
+-
+-->
+-dev
+-);
+-
+-393 
+-	`log_wre
+-(
+-bp
+-);
+-
+-395 
+-	`bl
+-(
+-bp
+-);
+-
+-396  
+-addr
+-;
+-
+-399 
+-	`nic
+-("bmap: out ofange");
+-
+-400 
+-	}
+-}
+-
+-408 
+-	$runc
+-(
+-ode
+- *
+-
+-)
+-
+-410 
+-i
+-, 
+-j
+-;
+-
+-411 
+-buf
+- *
+-bp
+-;
+-
+-412 
+-ut
+- *
+-a
+-;
+-
+-414 
+-i
+- = 0; i < 
+-NDIRECT
+-; i++){
+-
+-415 if(
+-
+-->
+-addrs
+-[
+-i
+-]){
+-
+-416 
+-	`b
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-i
+-]);
+-
+-417 
+-
+-->
+-addrs
+-[
+-i
+-] = 0;
+-
+-421 if(
+-
+-->
+-addrs
+-[
+-NDIRECT
+-]){
+-
+-422 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-NDIRECT
+-]);
+-
+-423 
+-a
+- = (
+-ut
+-*)
+-bp
+-->
+-da
+-;
+-
+-424 
+-j
+- = 0; j < 
+-NINDIRECT
+-; j++){
+-
+-425 if(
+-a
+-[
+-j
+-])
+-
+-426 
+-	`b
+-(
+-
+-->
+-dev
+-, 
+-a
+-[
+-j
+-]);
+-
+-428 
+-	`bl
+-(
+-bp
+-);
+-
+-429 
+-	`b
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-NDIRECT
+-]);
+-
+-430 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-] = 0;
+-
+-433 
+-
+-->
+-size
+- = 0;
+-
+-434 
+-	`iupde
+-(
+-
+-);
+-
+-435 
+-	}
+-}
+-
+-440 
+-	$i
+-(
+-ode
+- *
+-
+-, 
+-
+- *
+-
+-)
+-
+-442 
+-
+-->
+-dev
+- = 
+-
+-->dev;
+-
+-443 
+-
+-->
+-o
+- = 
+-
+-->
+-um
+-;
+-
+-444 
+-
+-->
+-ty
+- = 
+-
+-->type;
+-
+-445 
+-
+-->
+-k
+- = 
+-
+-->nlink;
+-
+-446 
+-
+-->
+-size
+- = 
+-
+-->size;
+-
+-447 
+-	}
+-}
+-
+-453 
+-	$adi
+-(
+-ode
+- *
+-
+-, *
+-d
+-, 
+-ut
+- 
+-off
+-, u
+-n
+-)
+-
+-455 
+-ut
+- 
+-t
+-, 
+-m
+-;
+-
+-456 
+-buf
+- *
+-bp
+-;
+-
+-458 if(
+-
+-->
+-ty
+- =
+-T_DEV
+-){
+-
+-459 if(
+-
+-->
+-maj
+- < 0 || ip->maj >
+-NDEV
+- || !
+-devsw
+-[->maj].
+-ad
+-)
+-
+-461  
+-devsw
+-[
+-
+-->
+-maj
+-].
+-	`ad
+-(, 
+-d
+-, 
+-n
+-);
+-
+-464 if(
+-off
+- > 
+-
+-->
+-size
+- || of+ 
+-n
+- < off)
+-
+-466 if(
+-off
+- + 
+-n
+- > 
+-
+-->
+-size
+-)
+-
+-467 
+-n
+- = 
+-
+-->
+-size
+- - 
+-off
+-;
+-
+-469 
+-t
+-=0;<
+-n
+-;+=
+-m
+-, 
+-off
+-+=m, 
+-d
+-+=m){
+-
+-470 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`bm
+-(, 
+-off
+-/
+-BSIZE
+-));
+-
+-471 
+-m
+- = 
+-	`m
+-(
+-n
+- - 
+-t
+-, 
+-BSIZE
+- - 
+-off
+-%BSIZE);
+-
+-472 
+-	`memmove
+-(
+-d
+-, 
+-bp
+-->
+-da
+- + 
+-off
+-%
+-BSIZE
+-, 
+-m
+-);
+-
+-473 
+-	`bl
+-(
+-bp
+-);
+-
+-475  
+-n
+-;
+-
+-476 
+-	}
+-}
+-
+-482 
+-	$wrei
+-(
+-ode
+- *
+-
+-, *
+-c
+-, 
+-ut
+- 
+-off
+-, u
+-n
+-)
+-
+-484 
+-ut
+- 
+-t
+-, 
+-m
+-;
+-
+-485 
+-buf
+- *
+-bp
+-;
+-
+-487 if(
+-
+-->
+-ty
+- =
+-T_DEV
+-){
+-
+-488 if(
+-
+-->
+-maj
+- < 0 || ip->maj >
+-NDEV
+- || !
+-devsw
+-[->maj].
+-wre
+-)
+-
+-490  
+-devsw
+-[
+-
+-->
+-maj
+-].
+-	`wre
+-(, 
+-c
+-, 
+-n
+-);
+-
+-493 if(
+-off
+- > 
+-
+-->
+-size
+- || of+ 
+-n
+- < off)
+-
+-495 if(
+-off
+- + 
+-n
+- > 
+-MAXFILE
+-*
+-BSIZE
+-)
+-
+-498 
+-t
+-=0;<
+-n
+-;+=
+-m
+-, 
+-off
+-+=m, 
+-c
+-+=m){
+-
+-499 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`bm
+-(, 
+-off
+-/
+-BSIZE
+-));
+-
+-500 
+-m
+- = 
+-	`m
+-(
+-n
+- - 
+-t
+-, 
+-BSIZE
+- - 
+-off
+-%BSIZE);
+-
+-501 
+-	`memmove
+-(
+-bp
+-->
+-da
+- + 
+-off
+-%
+-BSIZE
+-, 
+-c
+-, 
+-m
+-);
+-
+-502 
+-	`log_wre
+-(
+-bp
+-);
+-
+-503 
+-	`bl
+-(
+-bp
+-);
+-
+-506 if(
+-n
+- > 0 && 
+-off
+- > 
+-
+-->
+-size
+-){
+-
+-507 
+-
+-->
+-size
+- = 
+-off
+-;
+-
+-508 
+-	`iupde
+-(
+-
+-);
+-
+-510  
+-n
+-;
+-
+-511 
+-	}
+-}
+-
+-517 
+-	$mecmp
+-(c *
+-s
+-, c *
+-t
+-)
+-
+-519  
+-	`cmp
+-(
+-s
+-, 
+-t
+-, 
+-DIRSIZ
+-);
+-
+-520 
+-	}
+-}
+-
+-524 
+-ode
+-*
+-
+-525 
+-	$dlookup
+-(
+-ode
+- *
+-dp
+-, *
+-me
+-, 
+-ut
+- *
+-poff
+-)
+-
+-527 
+-ut
+- 
+-off
+-, 
+-um
+-;
+-
+-528 
+-dt
+- 
+-de
+-;
+-
+-530 if(
+-dp
+-->
+-ty
+- !
+-T_DIR
+-)
+-
+-531 
+-	`nic
+-("dirlookupot DIR");
+-
+-533 
+-off
+- = 0; of< 
+-dp
+-->
+-size
+-; of+(
+-de
+-)){
+-
+-534 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-535 
+-	`nic
+-("dirlookupead");
+-
+-536 if(
+-de
+-.
+-um
+- == 0)
+-
+-538 if(
+-	`mecmp
+-(
+-me
+-, 
+-de
+-.name) == 0){
+-
+-540 if(
+-poff
+-)
+-
+-541 *
+-poff
+- = 
+-off
+-;
+-
+-542 
+-um
+- = 
+-de
+-.inum;
+-
+-543  
+-	`ig
+-(
+-dp
+-->
+-dev
+-, 
+-um
+-);
+-
+-548 
+-	}
+-}
+-
+-552 
+-	$dlk
+-(
+-ode
+- *
+-dp
+-, *
+-me
+-, 
+-ut
+- 
+-um
+-)
+-
+-554 
+-off
+-;
+-
+-555 
+-dt
+- 
+-de
+-;
+-
+-556 
+-ode
+- *
+-
+-;
+-
+-559 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, 0)) != 0){
+-
+-560 
+-	`ut
+-(
+-
+-);
+-
+-565 
+-off
+- = 0; of< 
+-dp
+-->
+-size
+-; of+(
+-de
+-)){
+-
+-566 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-567 
+-	`nic
+-("dirlinkead");
+-
+-568 if(
+-de
+-.
+-um
+- == 0)
+-
+-572 
+-	`y
+-(
+-de
+-.
+-me
+-,ame, 
+-DIRSIZ
+-);
+-
+-573 
+-de
+-.
+-um
+- = inum;
+-
+-574 if(
+-	`wrei
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-575 
+-	`nic
+-("dirlink");
+-
+-578 
+-	}
+-}
+-
+-596 
+-	$skem
+-(*
+-th
+-, *
+-me
+-)
+-
+-598 *
+-s
+-;
+-
+-599 
+-n
+-;
+-
+-601 *
+-th
+- == '/')
+-
+-602 
+-th
+-++;
+-
+-603 if(*
+-th
+- == 0)
+-
+-605 
+-s
+- = 
+-th
+-;
+-
+-606 *
+-th
+- != '/' && *path != 0)
+-
+-607 
+-th
+-++;
+-
+-608 
+-n
+- = 
+-th
+- - 
+-s
+-;
+-
+-609 if(
+-n
+- >
+-DIRSIZ
+-)
+-
+-610 
+-	`memmove
+-(
+-me
+-, 
+-s
+-, 
+-DIRSIZ
+-);
+-
+-612 
+-	`memmove
+-(
+-me
+-, 
+-s
+-, 
+-n
+-);
+-
+-613 
+-me
+-[
+-n
+-] = 0;
+-
+-615 *
+-th
+- == '/')
+-
+-616 
+-th
+-++;
+-
+-617  
+-th
+-;
+-
+-618 
+-	}
+-}
+-
+-624 
+-ode
+-*
+-
+-625 
+-	$mex
+-(*
+-th
+-, 
+-met
+-, *
+-me
+-)
+-
+-627 
+-ode
+- *
+-
+-, *
+-xt
+-;
+-
+-629 if(*
+-th
+- == '/')
+-
+-630 
+-
+- = 
+-	`ig
+-(
+-ROOTDEV
+-, 
+-ROOTINO
+-);
+-
+-632 
+-
+- = 
+-	`idup
+-(
+-	`myoc
+-()->
+-cwd
+-);
+-
+-634 (
+-th
+- = 
+-	`skem
+-h, 
+-me
+-)) != 0){
+-
+-635 
+-	`ock
+-(
+-
+-);
+-
+-636 if(
+-
+-->
+-ty
+- !
+-T_DIR
+-){
+-
+-637 
+-	`iuockput
+-(
+-
+-);
+-
+-640 if(
+-met
+- && *
+-th
+- == '\0'){
+-
+-642 
+-	`iuock
+-(
+-
+-);
+-
+-643  
+-
+-;
+-
+-645 if((
+-xt
+- = 
+-	`dlookup
+-(
+-
+-, 
+-me
+-, 0)) == 0){
+-
+-646 
+-	`iuockput
+-(
+-
+-);
+-
+-649 
+-	`iuockput
+-(
+-
+-);
+-
+-650 
+-
+- = 
+-xt
+-;
+-
+-652 if(
+-met
+-){
+-
+-653 
+-	`ut
+-(
+-
+-);
+-
+-656  
+-
+-;
+-
+-657 
+-	}
+-}
+-
+-659 
+-ode
+-*
+-
+-660 
+-	$mei
+-(*
+-th
+-)
+-
+-662 
+-me
+-[
+-DIRSIZ
+-];
+-
+-663  
+-	`mex
+-(
+-th
+-, 0, 
+-me
+-);
+-
+-664 
+-	}
+-}
+-
+-666 
+-ode
+-*
+-
+-667 
+-	$met
+-(*
+-th
+-, *
+-me
+-)
+-
+-669  
+-	`mex
+-(
+-th
+-, 1, 
+-me
+-);
+-
+-670 
+-	}
+-}
+-
+-	@fs.h
+-
+-5 
+-	#ROOTINO
+- 1
+-
+-6 
+-	#BSIZE
+- 512
+-
+-7 
+-
+-	)
+-
+-14 
+-	ssurblock
+- {
+-
+-15 
+-ut
+- 
+-	msize
+-;
+-
+-16 
+-ut
+- 
+-	mnblocks
+-;
+-
+-17 
+-ut
+- 
+-	mnodes
+-;
+-
+-18 
+-ut
+- 
+-	mog
+-;
+-
+-19 
+-ut
+- 
+-	mlogt
+-;
+-
+-20 
+-ut
+- 
+-	modet
+-;
+-
+-21 
+-ut
+- 
+-	mbmt
+-;
+-
+-24 
+-	#NDIRECT
+- 12
+-
+-	)
+-
+-25 
+-	#NINDIRECT
+- (
+-BSIZE
+- / (
+-ut
+-))
+-
+-	)
+-
+-26 
+-	#MAXFILE
+- (
+-NDIRECT
+- + 
+-NINDIRECT
+-)
+-
+-	)
+-
+-29 
+-	sdode
+- {
+-
+-30 
+-	mty
+-;
+-
+-31 
+-	mmaj
+-;
+-
+-32 
+-	mm
+-;
+-
+-33 
+-	mk
+-;
+-
+-34 
+-ut
+- 
+-	msize
+-;
+-
+-35 
+-ut
+- 
+-	maddrs
+-[
+-NDIRECT
+-+1];
+-
+-39 
+-	#IPB
+- (
+-BSIZE
+- / (
+-dode
+-))
+-
+-	)
+-
+-42 
+-	#IBLOCK
+-(
+-i
+-, 
+-sb
+-((i/ 
+-IPB
+- + sb.
+-odet
+-)
+-
+-	)
+-
+-45 
+-	#BPB
+- (
+-BSIZE
+-*8)
+-
+-	)
+-
+-48 
+-	#BBLOCK
+-(
+-b
+-, 
+-sb
+-(b/
+-BPB
+- + sb.
+-bmt
+-)
+-
+-	)
+-
+-51 
+-	#DIRSIZ
+- 14
+-
+-	)
+-
+-53 
+-	sdt
+- {
+-
+-54 
+-usht
+- 
+-	mum
+-;
+-
+-55 
+-	mme
+-[
+-DIRSIZ
+-];
+-
+-	@grep.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~".h
+-"
+-
+-5 
+-	~"ur.h
+-"
+-
+-7 
+-	gbuf
+-[1024];
+-
+-8 
+-mch
+-(*, *);
+-
+-11 
+-	$gp
+-(*
+-n
+-, 
+-fd
+-)
+-
+-13 
+-n
+-, 
+-m
+-;
+-
+-14 *
+-p
+-, *
+-q
+-;
+-
+-16 
+-m
+- = 0;
+-
+-17 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-+
+-m
+-, (buf)-m-1)) > 0){
+-
+-18 
+-m
+- +
+-n
+-;
+-
+-19 
+-buf
+-[
+-m
+-] = '\0';
+-
+-20 
+-p
+- = 
+-buf
+-;
+-
+-21 (
+-q
+- = 
+-	`rchr
+-(
+-p
+-, '\n')) != 0){
+-
+-22 *
+-q
+- = 0;
+-
+-23 if(
+-	`mch
+-(
+-n
+-, 
+-p
+-)){
+-
+-24 *
+-q
+- = '\n';
+-
+-25 
+-	`wre
+-(1, 
+-p
+-, 
+-q
+-+1 -);
+-
+-27 
+-p
+- = 
+-q
+-+1;
+-
+-29 if(
+-p
+- =
+-buf
+-)
+-
+-30 
+-m
+- = 0;
+-
+-31 if(
+-m
+- > 0){
+-
+-32 
+-m
+- -
+-p
+- - 
+-buf
+-;
+-
+-33 
+-	`memmove
+-(
+-buf
+-, 
+-p
+-, 
+-m
+-);
+-
+-36 
+-	}
+-}
+-
+-39 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-41 
+-fd
+-, 
+-i
+-;
+-
+-42 *
+-n
+-;
+-
+-44 if(
+-gc
+- <= 1){
+-
+-45 
+-	`tf
+-(2, "usage: grepattern [file ...]\n");
+-
+-46 
+-	`ex
+-();
+-
+-48 
+-n
+- = 
+-gv
+-[1];
+-
+-50 if(
+-gc
+- <= 2){
+-
+-51 
+-	`gp
+-(
+-n
+-, 0);
+-
+-52 
+-	`ex
+-();
+-
+-55 
+-i
+- = 2; i < 
+-gc
+-; i++){
+-
+-56 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-57 
+-	`tf
+-(1, "gp: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-58 
+-	`ex
+-();
+-
+-60 
+-	`gp
+-(
+-n
+-, 
+-fd
+-);
+-
+-61 
+-	`o
+-(
+-fd
+-);
+-
+-63 
+-	`ex
+-();
+-
+-64 
+-	}
+-}
+-
+-69 
+-mchhe
+-(*, *);
+-
+-70 
+-mch
+-(, *, *);
+-
+-73 
+-	$mch
+-(*
+-
+-, *
+-xt
+-)
+-
+-75 if(
+-
+-[0] == '^')
+-
+-76  
+-	`mchhe
+-(
+-
+-+1, 
+-xt
+-);
+-
+-78 if(
+-	`mchhe
+-(
+-
+-, 
+-xt
+-))
+-
+-80 }*
+-xt
+-++ != '\0');
+-
+-82 
+-	}
+-}
+-
+-85 
+-	$mchhe
+-(*
+-
+-, *
+-xt
+-)
+-
+-87 if(
+-
+-[0] == '\0')
+-
+-89 if(
+-
+-[1] == '*')
+-
+-90  
+-	`mch
+-(
+-
+-[0],e+2, 
+-xt
+-);
+-
+-91 if(
+-
+-[0] == '$' &&e[1] == '\0')
+-
+-92  *
+-xt
+- == '\0';
+-
+-93 if(*
+-xt
+-!='\0' && (
+-
+-[0]=='.' ||e[0]==*text))
+-
+-94  
+-	`mchhe
+-(
+-
+-+1, 
+-xt
+-+1);
+-
+-96 
+-	}
+-}
+-
+-99 
+-	$mch
+-(
+-c
+-, *
+-
+-, *
+-xt
+-)
+-
+-102 if(
+-	`mchhe
+-(
+-
+-, 
+-xt
+-))
+-
+-104 }*
+-xt
+-!='\0' && (*xt++==
+-c
+- || c=='.'));
+-
+-106 
+-	}
+-}
+-
+-	@ide.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"memyout.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-9 
+-	~"x86.h
+-"
+-
+-10 
+-	~"s.h
+-"
+-
+-11 
+-	~"lock.h
+-"
+-
+-12 
+-	~"ock.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"buf.h
+-"
+-
+-16 
+-	#SECTOR_SIZE
+- 512
+-
+-	)
+-
+-17 
+-	#IDE_BSY
+- 0x80
+-
+-	)
+-
+-18 
+-	#IDE_DRDY
+- 0x40
+-
+-	)
+-
+-19 
+-	#IDE_DF
+- 0x20
+-
+-	)
+-
+-20 
+-	#IDE_ERR
+- 0x01
+-
+-	)
+-
+-22 
+-	#IDE_CMD_READ
+- 0x20
+-
+-	)
+-
+-23 
+-	#IDE_CMD_WRITE
+- 0x30
+-
+-	)
+-
+-24 
+-	#IDE_CMD_RDMUL
+- 0xc4
+-
+-	)
+-
+-25 
+-	#IDE_CMD_WRMUL
+- 0xc5
+-
+-	)
+-
+-31 
+-lock
+- 
+-	gidock
+-;
+-
+-32 
+-buf
+- *
+-	gidequeue
+-;
+-
+-34 
+-	ghavedisk1
+-;
+-
+-35 
+-idet
+-(
+-buf
+-*);
+-
+-39 
+-	$idewa
+-(
+-checkr
+-)
+-
+-41 
+-r
+-;
+-
+-43 ((
+-r
+- = 
+-	`b
+-(0x1f7)& (
+-IDE_BSY
+-|
+-IDE_DRDY
+-)) != IDE_DRDY)
+-
+-45 if(
+-checkr
+- && (
+-r
+- & (
+-IDE_DF
+-|
+-IDE_ERR
+-)) != 0)
+-
+-48 
+-	}
+-}
+-
+-51 
+-	$ide
+-()
+-
+-53 
+-i
+-;
+-
+-55 
+-	`lock
+-(&
+-idock
+-, "ide");
+-
+-56 
+-	`ipib
+-(
+-IRQ_IDE
+-, 
+-nu
+- - 1);
+-
+-57 
+-	`idewa
+-(0);
+-
+-60 
+-	`outb
+-(0x1f6, 0xe0 | (1<<4));
+-
+-61 
+-i
+-=0; i<1000; i++){
+-
+-62 if(
+-	`b
+-(0x1f7) != 0){
+-
+-63 
+-havedisk1
+- = 1;
+-
+-69 
+-	`outb
+-(0x1f6, 0xe0 | (0<<4));
+-
+-70 
+-	}
+-}
+-
+-74 
+-	$idet
+-(
+-buf
+- *
+-b
+-)
+-
+-76 if(
+-b
+- == 0)
+-
+-77 
+-	`nic
+-("idestart");
+-
+-78 if(
+-b
+-->
+-blockno
+- >
+-FSSIZE
+-)
+-
+-79 
+-	`nic
+-("incorrect blockno");
+-
+-80 
+-_r_block
+- = 
+-BSIZE
+-/
+-SECTOR_SIZE
+-;
+-
+-81 
+-
+- = 
+-b
+-->
+-blockno
+- * 
+-_r_block
+-;
+-
+-82 
+-ad_cmd
+- = (
+-_r_block
+- =1? 
+-IDE_CMD_READ
+- : 
+-IDE_CMD_RDMUL
+-;
+-
+-83 
+-wre_cmd
+- = (
+-_r_block
+- =1? 
+-IDE_CMD_WRITE
+- : 
+-IDE_CMD_WRMUL
+-;
+-
+-85 i(
+-_r_block
+- > 7
+-	`nic
+-("idestart");
+-
+-87 
+-	`idewa
+-(0);
+-
+-88 
+-	`outb
+-(0x3f6, 0);
+-
+-89 
+-	`outb
+-(0x1f2, 
+-_r_block
+-);
+-
+-90 
+-	`outb
+-(0x1f3, 
+-
+- & 0xff);
+-
+-91 
+-	`outb
+-(0x1f4, (
+-
+- >> 8) & 0xff);
+-
+-92 
+-	`outb
+-(0x1f5, (
+-
+- >> 16) & 0xff);
+-
+-93 
+-	`outb
+-(0x1f6, 0xe0 | ((
+-b
+-->
+-dev
+-&1)<<4| ((
+-
+->>24)&0x0f));
+-
+-94 if(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-){
+-
+-95 
+-	`outb
+-(0x1f7, 
+-wre_cmd
+-);
+-
+-96 
+-	`out
+-(0x1f0, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-/4);
+-
+-98 
+-	`outb
+-(0x1f7, 
+-ad_cmd
+-);
+-
+-100 
+-	}
+-}
+-
+-104 
+-	$ide
+-()
+-
+-106 
+-buf
+- *
+-b
+-;
+-
+-109 
+-	`acque
+-(&
+-idock
+-);
+-
+-111 if((
+-b
+- = 
+-idequeue
+-) == 0){
+-
+-112 
+-	`a
+-(&
+-idock
+-);
+-
+-115 
+-idequeue
+- = 
+-b
+-->
+-qxt
+-;
+-
+-118 if(!(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-&& 
+-	`idewa
+-(1) >= 0)
+-
+-119 
+-	`
+-(0x1f0, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-/4);
+-
+-122 
+-b
+-->
+-ags
+- |
+-B_VALID
+-;
+-
+-123 
+-b
+-->
+-ags
+- &~
+-B_DIRTY
+-;
+-
+-124 
+-	`wakeup
+-(
+-b
+-);
+-
+-127 if(
+-idequeue
+- != 0)
+-
+-128 
+-	`idet
+-(
+-idequeue
+-);
+-
+-130 
+-	`a
+-(&
+-idock
+-);
+-
+-131 
+-	}
+-}
+-
+-138 
+-	$idw
+-(
+-buf
+- *
+-b
+-)
+-
+-140 
+-buf
+- **
+-
+-;
+-
+-142 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-143 
+-	`nic
+-("iderw: bufotocked");
+-
+-144 if((
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) == B_VALID)
+-
+-145 
+-	`nic
+-("iderw:othingo do");
+-
+-146 if(
+-b
+-->
+-dev
+- !0 && !
+-havedisk1
+-)
+-
+-147 
+-	`nic
+-("iderw: ide disk 1otresent");
+-
+-149 
+-	`acque
+-(&
+-idock
+-);
+-
+-152 
+-b
+-->
+-qxt
+- = 0;
+-
+-153 
+-
+-=&
+-idequeue
+-; *;p=&(*)->
+-qxt
+-)
+-
+-155 *
+-
+- = 
+-b
+-;
+-
+-158 if(
+-idequeue
+- =
+-b
+-)
+-
+-159 
+-	`idet
+-(
+-b
+-);
+-
+-162 (
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) != B_VALID){
+-
+-163 
+-	`p
+-(
+-b
+-, &
+-idock
+-);
+-
+-167 
+-	`a
+-(&
+-idock
+-);
+-
+-168 
+-	}
+-}
+-
+-	@init.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~".h
+-"
+-
+-5 
+-	~"ur.h
+-"
+-
+-6 
+-	~"f.h
+-"
+-
+-8 *
+-	ggv
+-[] = { "sh", 0 };
+-
+-11 
+-	$ma
+-()
+-
+-13 
+-pid
+-, 
+-wpid
+-;
+-
+-15 if(
+-	`
+-("cse", 
+-O_RDWR
+-) < 0){
+-
+-16 
+-	`mknod
+-("console", 1, 1);
+-
+-17 
+-	`
+-("cse", 
+-O_RDWR
+-);
+-
+-19 
+-	`dup
+-(0);
+-
+-20 
+-	`dup
+-(0);
+-
+-23 
+-	`tf
+-(1, "init: starting sh\n");
+-
+-24 
+-pid
+- = 
+-	`fk
+-();
+-
+-25 if(
+-pid
+- < 0){
+-
+-26 
+-	`tf
+-(1, "init: fork failed\n");
+-
+-27 
+-	`ex
+-();
+-
+-29 if(
+-pid
+- == 0){
+-
+-30 
+-	`exec
+-("sh", 
+-gv
+-);
+-
+-31 
+-	`tf
+-(1, "init:xec sh failed\n");
+-
+-32 
+-	`ex
+-();
+-
+-34 (
+-wpid
+-=
+-	`wa
+-()>0 && wpid !
+-pid
+-)
+-
+-35 
+-	`tf
+-(1, "zombie!\n");
+-
+-37 
+-	}
+-}
+-
+-	@initcode.S
+-
+-1 #In
+-oss
+- 
+-execs
+- /
+-
+-.
+-
+-2 #Thi
+-code
+- 
+-runs
+- 
+-
+- 
+-ur
+- 
+-a
+-.
+-
+-4 
+-	~"sys.h
+-"
+-
+-5 
+-	~"s.h
+-"
+-
+-8 #exec(
+-
+-, 
+-gv
+-)
+-
+-9 .
+-globl
+- 
+-t
+-
+-
+-10 
+-	gt
+-:
+-
+-11 
+-pushl
+- 
+-$gv
+-
+-
+-12 
+-pushl
+- 
+-$
+-
+-
+-13 
+-pushl
+- 
+-$0
+-
+-
+-14 
+-movl
+- 
+-$SYS_exec
+-, %
+-x
+-
+-
+-15 
+-	g$T_SYSCALL
+-
+-
+-17 #f(;;
+-ex
+-();
+-
+-18 
+-	gex
+-:
+-
+-19 
+-movl
+- 
+-$SYS_ex
+-, %
+-x
+-
+-
+-20 
+-$T_SYSCALL
+-
+-
+-21 
+-jmp
+- 
+-	gex
+-
+-
+-23 #ch 
+-
+-[] = "/init\0";
+-
+-24 
+-	g
+-:
+-
+-25 .
+-rg
+- "/init\0"
+-
+-27 #ch *
+-gv
+-[] = { 
+-
+-, 0 };
+-
+-28 .
+-	gp2ign
+- 2
+-
+-29 
+-	ggv
+-:
+-
+-30 .
+-
+-
+-
+-	@ioapic.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"s.h
+-"
+-
+-9 
+-	#IOAPIC
+- 0xFEC00000
+-
+-10 
+-
+-	)
+-
+-11 
+-	#REG_ID
+- 0x00
+-
+-12 
+-	#REG_VER
+- 0x01
+-
+-13 
+-	#REG_TABLE
+- 0x10
+-
+-14 
+-
+-	)
+-
+-20 
+-	#INT_DISABLED
+- 0x00010000
+-
+-21 
+-	#INT_LEVEL
+- 0x00008000
+-
+-22 
+-	#INT_ACTIVELOW
+- 0x00002000
+-
+-23 
+-	#INT_LOGICAL
+- 0x00000800
+-
+-24 
+-
+-	)
+-
+-25 v
+-ipic
+- *
+-	gipic
+-;
+-
+-28 
+-	sipic
+- {
+-
+-29 
+-ut
+- 
+-	mg
+-;
+-
+-30 
+-ut
+- 
+-	md
+-[3];
+-
+-31 
+-ut
+- 
+-	mda
+-;
+-
+-34 
+-ut
+-
+-
+-35 
+-	$ipid
+-(
+-g
+-)
+-
+-37 
+-ipic
+-->
+-g
+- =eg;
+-
+-38  
+-ipic
+-->
+-da
+-;
+-
+-39 
+-	}
+-}
+-
+-42 
+-	$ipicwre
+-(
+-g
+-, 
+-ut
+- 
+-da
+-)
+-
+-44 
+-ipic
+-->
+-g
+- =eg;
+-
+-45 
+-ipic
+-->
+-da
+- = data;
+-
+-46 
+-	}
+-}
+-
+-49 
+-	$ipic
+-()
+-
+-51 
+-i
+-, 
+-id
+-, 
+-max
+-;
+-
+-53 
+-ipic
+- = (vipic*)
+-IOAPIC
+-;
+-
+-54 
+-max
+- = (
+-	`ipid
+-(
+-REG_VER
+-) >> 16) & 0xFF;
+-
+-55 
+-id
+- = 
+-	`ipid
+-(
+-REG_ID
+-) >> 24;
+-
+-56 if(
+-id
+- !
+-ipicid
+-)
+-
+-57 
+-	`rtf
+-("ioapicinit: id isn'tqualo ioapicid;ot MP\n");
+-
+-61 
+-i
+- = 0; i <
+-max
+-; i++){
+-
+-62 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-i
+-, 
+-INT_DISABLED
+- | (
+-T_IRQ0
+- + i));
+-
+-63 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-i
+-+1, 0);
+-
+-65 
+-	}
+-}
+-
+-68 
+-	$ipib
+-(
+-q
+-, 
+-unum
+-)
+-
+-73 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-q
+-, 
+-T_IRQ0
+- + irq);
+-
+-74 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-q
+-+1, 
+-unum
+- << 24);
+-
+-75 
+-	}
+-}
+-
+-	@kalloc.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"mmu.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-12 
+-nge
+-(*
+-vt
+-, *
+-vd
+-);
+-
+-13 

+-d
+-[];
+-
+-16 
+-	srun
+- {
+-
+-17 
+-run
+- *
+-	mxt
+-;
+-
+-21 
+-lock
+- 
+-	mlock
+-;
+-
+-22 
+-	mu_lock
+-;
+-
+-23 
+-run
+- *
+-	mli
+-;
+-
+-24 } 
+-	gkmem
+-;
+-
+-32 
+-	$k1
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-34 
+-	`lock
+-(&
+-kmem
+-.
+-lock
+-, "kmem");
+-
+-35 
+-kmem
+-.
+-u_lock
+- = 0;
+-
+-36 
+-	`nge
+-(
+-vt
+-, 
+-vd
+-);
+-
+-37 
+-	}
+-}
+-
+-40 
+-	$k2
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-42 
+-	`nge
+-(
+-vt
+-, 
+-vd
+-);
+-
+-43 
+-kmem
+-.
+-u_lock
+- = 1;
+-
+-44 
+-	}
+-}
+-
+-47 
+-	$nge
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-49 *
+-p
+-;
+-
+-50 
+-p
+- = (*)
+-	`PGROUNDUP
+-((
+-ut
+-)
+-vt
+-);
+-
+-51 ; 
+-p
+- + 
+-PGSIZE
+- <(*)
+-vd
+-; += PGSIZE)
+-
+-52 
+-	`k
+-(
+-p
+-);
+-
+-53 
+-	}
+-}
+-
+-60 
+-	$k
+-(*
+-v
+-)
+-
+-62 
+-run
+- *
+-r
+-;
+-
+-64 if((
+-ut
+-)
+-v
+- % 
+-PGSIZE
+- || v < 
+-d
+- || 
+-	`V2P
+-(v>
+-PHYSTOP
+-)
+-
+-65 
+-	`nic
+-("kfree");
+-
+-68 
+-	`memt
+-(
+-v
+-, 1, 
+-PGSIZE
+-);
+-
+-70 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-71 
+-	`acque
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-72 
+-r
+- = (
+-run
+-*)
+-v
+-;
+-
+-73 
+-r
+-->
+-xt
+- = 
+-kmem
+-.
+-li
+-;
+-
+-74 
+-kmem
+-.
+-li
+- = 
+-r
+-;
+-
+-75 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-76 
+-	`a
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-77 
+-	}
+-}
+-
+-83 
+-	$kloc
+-()
+-
+-85 
+-run
+- *
+-r
+-;
+-
+-87 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-88 
+-	`acque
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-89 
+-r
+- = 
+-kmem
+-.
+-li
+-;
+-
+-90 if(
+-r
+-)
+-
+-91 
+-kmem
+-.
+-li
+- = 
+-r
+-->
+-xt
+-;
+-
+-92 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-93 
+-	`a
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-94  (*)
+-r
+-;
+-
+-95 
+-	}
+-}
+-
+-	@kbd.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"kbd.h
+-"
+-
+-7 
+-	$kbdgc
+-()
+-
+-9 
+-ut
+- 
+-shi
+-;
+-
+-10 
+-uch
+- *
+-chcode
+-[4] = {
+-
+-11 
+-nmm
+-, 
+-shim
+-, 
+-lm
+-, ctlmap
+-
+-13 
+-ut
+- 
+-
+-, 
+-da
+-, 
+-c
+-;
+-
+-15 
+-
+- = 
+-	`b
+-(
+-KBSTATP
+-);
+-
+-16 if((
+-
+- & 
+-KBS_DIB
+-) == 0)
+-
+-18 
+-da
+- = 
+-	`b
+-(
+-KBDATAP
+-);
+-
+-20 if(
+-da
+- == 0xE0){
+-
+-21 
+-shi
+- |
+-E0ESC
+-;
+-
+-23 } if(
+-da
+- & 0x80){
+-
+-25 
+-da
+- = (
+-shi
+- & 
+-E0ESC
+- ? data : data & 0x7F);
+-
+-26 
+-shi
+- &~(
+-shicode
+-[
+-da
+-] | 
+-E0ESC
+-);
+-
+-28 } if(
+-shi
+- & 
+-E0ESC
+-){
+-
+-30 
+-da
+- |= 0x80;
+-
+-31 
+-shi
+- &~
+-E0ESC
+-;
+-
+-34 
+-shi
+- |
+-shicode
+-[
+-da
+-];
+-
+-35 
+-shi
+- ^
+-toggcode
+-[
+-da
+-];
+-
+-36 
+-c
+- = 
+-chcode
+-[
+-shi
+- & (
+-CTL
+- | 
+-SHIFT
+-)][
+-da
+-];
+-
+-37 if(
+-shi
+- & 
+-CAPSLOCK
+-){
+-
+-38 if('a' <
+-c
+- && c <= 'z')
+-
+-39 
+-c
+- += 'A' - 'a';
+-
+-40 if('A' <
+-c
+- && c <= 'Z')
+-
+-41 
+-c
+- += 'a' - 'A';
+-
+-43  
+-c
+-;
+-
+-44 
+-	}
+-}
+-
+-47 
+-	$kbd
+-()
+-
+-49 
+-	`cse
+-(
+-kbdgc
+-);
+-
+-50 
+-	}
+-}
+-
+-	@kbd.h
+-
+-3 
+-	#KBSTATP
+- 0x64
+-
+-4 
+-	#KBS_DIB
+- 0x01
+-
+-5 
+-	#KBDATAP
+- 0x60
+-
+-6 
+-
+-	)
+-
+-7 
+-	#NO
+- 0
+-
+-	)
+-
+-9 
+-	#SHIFT
+- (1<<0)
+-
+-	)
+-
+-10 
+-	#CTL
+- (1<<1)
+-
+-	)
+-
+-11 
+-	#ALT
+- (1<<2)
+-
+-	)
+-
+-13 
+-	#CAPSLOCK
+- (1<<3)
+-
+-	)
+-
+-14 
+-	#NUMLOCK
+- (1<<4)
+-
+-	)
+-
+-15 
+-	#SCROLLLOCK
+- (1<<5)
+-
+-	)
+-
+-17 
+-	#E0ESC
+- (1<<6)
+-
+-	)
+-
+-20 
+-	#KEY_HOME
+- 0xE0
+-
+-	)
+-
+-21 
+-	#KEY_END
+- 0xE1
+-
+-	)
+-
+-22 
+-	#KEY_UP
+- 0xE2
+-
+-	)
+-
+-23 
+-	#KEY_DN
+- 0xE3
+-
+-	)
+-
+-24 
+-	#KEY_LF
+- 0xE4
+-
+-	)
+-
+-25 
+-	#KEY_RT
+- 0xE5
+-
+-	)
+-
+-26 
+-	#KEY_PGUP
+- 0xE6
+-
+-	)
+-
+-27 
+-	#KEY_PGDN
+- 0xE7
+-
+-	)
+-
+-28 
+-	#KEY_INS
+- 0xE8
+-
+-	)
+-
+-29 
+-	#KEY_DEL
+- 0xE9
+-
+-	)
+-
+-32 
+-	#C
+-(
+-x
+-(x - '@')
+-
+-	)
+-
+-34 
+-uch
+- 
+-	gshicode
+-[256] =
+-
+-36 [0x1D] 
+-CTL
+-,
+-
+-37 [0x2A] 
+-SHIFT
+-,
+-
+-38 [0x36] 
+-SHIFT
+-,
+-
+-39 [0x38] 
+-ALT
+-,
+-
+-40 [0x9D] 
+-CTL
+-,
+-
+-41 [0xB8] 
+-ALT
+-
+-
+-44 
+-uch
+- 
+-	gtoggcode
+-[256] =
+-
+-46 [0x3A] 
+-CAPSLOCK
+-,
+-
+-47 [0x45] 
+-NUMLOCK
+-,
+-
+-48 [0x46] 
+-SCROLLLOCK
+-
+-
+-51 
+-uch
+- 
+-	gnmm
+-[256] =
+-
+-53 
+-NO
+-, 0x1B, '1', '2', '3', '4', '5', '6',
+-
+-56 'o', 'p', '[', ']', '\n', 
+-NO
+-, 'a', 's',
+-
+-58 '\'', '`', 
+-NO
+-, '\\', 'z', 'x', 'c', 'v',
+-
+-59 'b', 'n', 'm', ',', '.', '/', 
+-NO
+-, '*',
+-
+-60 
+-NO
+-, ' ', NO, NO, NO, NO, NO, NO,
+-
+-61 
+-NO
+-, NO, NO, NO, NO, NO, NO, '7',
+-
+-63 '2', '3', '0', '.', 
+-NO
+-, NO, NO, NO,
+-
+-66 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-67 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-68 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-69 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-70 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-73 
+-uch
+- 
+-	gshim
+-[256] =
+-
+-75 
+-NO
+-, 033, '!', '@', '#', '$', '%', '^',
+-
+-78 'O', 'P', '{', '}', '\n', 
+-NO
+-, 'A', 'S',
+-
+-80 '"', '~', 
+-NO
+-, '|', 'Z', 'X', 'C', 'V',
+-
+-81 'B', 'N', 'M', '<', '>', '?', 
+-NO
+-, '*',
+-
+-82 
+-NO
+-, ' ', NO, NO, NO, NO, NO, NO,
+-
+-83 
+-NO
+-, NO, NO, NO, NO, NO, NO, '7',
+-
+-85 '2', '3', '0', '.', 
+-NO
+-, NO, NO, NO,
+-
+-88 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-89 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-90 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-91 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-92 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-95 
+-uch
+- 
+-	glm
+-[256] =
+-
+-97 
+-NO
+-, NO, NO, NO, NO, NO, NO, NO,
+-
+-98 
+-NO
+-, NO, NO, NO, NO, NO, NO, NO,
+-
+-99 
+-C
+-('Q'), C('W'), C('E'), C('R'), C('T'), C('Y'), C('U'), C('I'),
+-
+-100 
+-C
+-('O'), C('P'), 
+-NO
+-, NO, '\r', NO, C('A'), C('S'),
+-
+-101 
+-C
+-('D'), C('F'), C('G'), C('H'), C('J'), C('K'), C('L'), 
+-NO
+-,
+-
+-102 
+-NO
+-, NO, NO, 
+-C
+-('\\'), C('Z'), C('X'), C('C'), C('V'),
+-
+-103 
+-C
+-('B'), C('N'), C('M'), 
+-NO
+-, NO, C('/'), NO, NO,
+-
+-105 [0xB5] 
+-C
+-('/'),
+-
+-106 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-107 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-108 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-109 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-110 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-	@kill.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, **
+-gv
+-)
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "usage: killid...\n");
+-
+-12 
+-	`ex
+-();
+-
+-14 
+-i
+-=1; i<
+-gc
+-; i++)
+-
+-15 
+-	`kl
+-(
+-	`oi
+-(
+-gv
+-[
+-i
+-]));
+-
+-16 
+-	`ex
+-();
+-
+-17 
+-	}
+-}
+-
+-	@lapic.c
+-
+-4 
+-	~"m.h
+-"
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"de.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"s.h
+-"
+-
+-10 
+-	~"mmu.h
+-"
+-
+-11 
+-	~"x86.h
+-"
+-
+-14 
+-	#ID
+- (0x0020/4)
+-
+-15 
+-	#VER
+- (0x0030/4)
+-
+-16 
+-	#TPR
+- (0x0080/4)
+-
+-17 
+-	#EOI
+- (0x00B0/4)
+-
+-18 
+-	#SVR
+- (0x00F0/4)
+-
+-19 
+-	#ENABLE
+- 0x00000100
+-
+-20 
+-	#ESR
+- (0x0280/4)
+-
+-21 
+-	#ICRLO
+- (0x0300/4)
+-
+-22 
+-	#INIT
+- 0x00000500
+-
+-23 
+-	#STARTUP
+- 0x00000600
+-
+-24 
+-	#DELIVS
+- 0x00001000
+-
+-25 
+-	#ASSERT
+- 0x00004000
+-
+-26 
+-	#DEASSERT
+- 0x00000000
+-
+-	)
+-
+-27 
+-	#LEVEL
+- 0x00008000
+-
+-28 
+-	#BCAST
+- 0x00080000
+-
+-29 
+-	#BUSY
+- 0x00001000
+-
+-	)
+-
+-30 
+-	#FIXED
+- 0x00000000
+-
+-	)
+-
+-31 
+-	#ICRHI
+- (0x0310/4)
+-
+-32 
+-	#TIMER
+- (0x0320/4)
+-
+-33 
+-	#X1
+- 0x0000000B
+-
+-34 
+-	#PERIODIC
+- 0x00020000
+-
+-35 
+-	#PCINT
+- (0x0340/4)
+-
+-36 
+-	#LINT0
+- (0x0350/4)
+-
+-37 
+-	#LINT1
+- (0x0360/4)
+-
+-38 
+-	#ERROR
+- (0x0370/4)
+-
+-39 
+-	#MASKED
+- 0x00010000
+-
+-40 
+-	#TICR
+- (0x0380/4)
+-
+-41 
+-	#TCCR
+- (0x0390/4)
+-
+-42 
+-	#TDCR
+- (0x03E0/4)
+-
+-43 
+-
+-	)
+-
+-44 v
+-ut
+- *
+-	gpic
+-;
+-
+-48 
+-	$picw
+-(
+-dex
+-, 
+-vue
+-)
+-
+-50 
+-pic
+-[
+-dex
+-] = 
+-vue
+-;
+-
+-51 
+-pic
+-[
+-ID
+-];
+-
+-52 
+-	}
+-}
+-
+-55 
+-	$pic
+-()
+-
+-57 if(!
+-pic
+-)
+-
+-61 
+-	`picw
+-(
+-SVR
+-, 
+-ENABLE
+- | (
+-T_IRQ0
+- + 
+-IRQ_SPURIOUS
+-));
+-
+-67 
+-	`picw
+-(
+-TDCR
+-, 
+-X1
+-);
+-
+-68 
+-	`picw
+-(
+-TIMER
+-, 
+-PERIODIC
+- | (
+-T_IRQ0
+- + 
+-IRQ_TIMER
+-));
+-
+-69 
+-	`picw
+-(
+-TICR
+-, 10000000);
+-
+-72 
+-	`picw
+-(
+-LINT0
+-, 
+-MASKED
+-);
+-
+-73 
+-	`picw
+-(
+-LINT1
+-, 
+-MASKED
+-);
+-
+-77 if(((
+-pic
+-[
+-VER
+-]>>16) & 0xFF) >= 4)
+-
+-78 
+-	`picw
+-(
+-PCINT
+-, 
+-MASKED
+-);
+-
+-81 
+-	`picw
+-(
+-ERROR
+-, 
+-T_IRQ0
+- + 
+-IRQ_ERROR
+-);
+-
+-84 
+-	`picw
+-(
+-ESR
+-, 0);
+-
+-85 
+-	`picw
+-(
+-ESR
+-, 0);
+-
+-88 
+-	`picw
+-(
+-EOI
+-, 0);
+-
+-91 
+-	`picw
+-(
+-ICRHI
+-, 0);
+-
+-92 
+-	`picw
+-(
+-ICRLO
+-, 
+-BCAST
+- | 
+-INIT
+- | 
+-LEVEL
+-);
+-
+-93 
+-pic
+-[
+-ICRLO
+-] & 
+-DELIVS
+-)
+-
+-97 
+-	`picw
+-(
+-TPR
+-, 0);
+-
+-98 
+-	}
+-}
+-
+-101 
+-	$picid
+-()
+-
+-103 i(!
+-pic
+-)
+-
+-105  
+-pic
+-[
+-ID
+-] >> 24;
+-
+-106 
+-	}
+-}
+-
+-110 
+-	$pioi
+-()
+-
+-112 if(
+-pic
+-)
+-
+-113 
+-	`picw
+-(
+-EOI
+-, 0);
+-
+-114 
+-	}
+-}
+-
+-119 
+-	$mioday
+-(
+-us
+-)
+-
+-121 
+-	}
+-}
+-
+-123 
+-	#CMOS_PORT
+- 0x70
+-
+-	)
+-
+-124 
+-	#CMOS_RETURN
+- 0x71
+-
+-	)
+-
+-129 
+-	$picp
+-(
+-uch
+- 
+-icid
+-, 
+-ut
+- 
+-addr
+-)
+-
+-131 
+-i
+-;
+-
+-132 
+-usht
+- *
+-wrv
+-;
+-
+-137 
+-	`outb
+-(
+-CMOS_PORT
+-, 0xF);
+-
+-138 
+-	`outb
+-(
+-CMOS_PORT
+-+1, 0x0A);
+-
+-139 
+-wrv
+- = (
+-usht
+-*)
+-	`P2V
+-((0x40<<4 | 0x67));
+-
+-140 
+-wrv
+-[0] = 0;
+-
+-141 
+-wrv
+-[1] = 
+-addr
+- >> 4;
+-
+-145 
+-	`picw
+-(
+-ICRHI
+-, 
+-icid
+-<<24);
+-
+-146 
+-	`picw
+-(
+-ICRLO
+-, 
+-INIT
+- | 
+-LEVEL
+- | 
+-ASSERT
+-);
+-
+-147 
+-	`mioday
+-(200);
+-
+-148 
+-	`picw
+-(
+-ICRLO
+-, 
+-INIT
+- | 
+-LEVEL
+-);
+-
+-149 
+-	`mioday
+-(100);
+-
+-156 
+-i
+- = 0; i < 2; i++){
+-
+-157 
+-	`picw
+-(
+-ICRHI
+-, 
+-icid
+-<<24);
+-
+-158 
+-	`picw
+-(
+-ICRLO
+-, 
+-STARTUP
+- | (
+-addr
+->>12));
+-
+-159 
+-	`mioday
+-(200);
+-
+-161 
+-	}
+-}
+-
+-163 
+-	#CMOS_STATA
+- 0x0a
+-
+-	)
+-
+-164 
+-	#CMOS_STATB
+- 0x0b
+-
+-	)
+-
+-165 
+-	#CMOS_UIP
+- (1 << 7)
+-
+-166 
+-
+-	)
+-
+-167 
+-	#SECS
+- 0x00
+-
+-	)
+-
+-168 
+-	#MINS
+- 0x02
+-
+-	)
+-
+-169 
+-	#HOURS
+- 0x04
+-
+-	)
+-
+-170 
+-	#DAY
+- 0x07
+-
+-	)
+-
+-171 
+-	#MONTH
+- 0x08
+-
+-	)
+-
+-172 
+-	#YEAR
+- 0x09
+-
+-	)
+-
+-174 
+-ut
+-
+-
+-175 
+-	$cmos_ad
+-(
+-ut
+- 
+-g
+-)
+-
+-177 
+-	`outb
+-(
+-CMOS_PORT
+-, 
+-g
+-);
+-
+-178 
+-	`mioday
+-(200);
+-
+-180  
+-	`b
+-(
+-CMOS_RETURN
+-);
+-
+-181 
+-	}
+-}
+-
+-184 
+-	$fl_cde
+-(
+-cde
+- *
+-r
+-)
+-
+-186 
+-r
+-->
+-cd
+- = 
+-	`cmos_ad
+-(
+-SECS
+-);
+-
+-187 
+-r
+-->
+-mu
+- = 
+-	`cmos_ad
+-(
+-MINS
+-);
+-
+-188 
+-r
+-->
+-hour
+- = 
+-	`cmos_ad
+-(
+-HOURS
+-);
+-
+-189 
+-r
+-->
+-day
+- = 
+-	`cmos_ad
+-(
+-DAY
+-);
+-
+-190 
+-r
+-->
+-mth
+- = 
+-	`cmos_ad
+-(
+-MONTH
+-);
+-
+-191 
+-r
+-->
+-yr
+- = 
+-	`cmos_ad
+-(
+-YEAR
+-);
+-
+-192 
+-	}
+-}
+-
+-196 
+-	$cmoime
+-(
+-cde
+- *
+-r
+-)
+-
+-198 
+-cde
+- 
+-t1
+-, 
+-t2
+-;
+-
+-199 
+-sb
+-, 
+-bcd
+-;
+-
+-201 
+-sb
+- = 
+-	`cmos_ad
+-(
+-CMOS_STATB
+-);
+-
+-203 
+-bcd
+- = (
+-sb
+- & (1 << 2)) == 0;
+-
+-207 
+-	`fl_cde
+-(&
+-t1
+-);
+-
+-208 if(
+-	`cmos_ad
+-(
+-CMOS_STATA
+-& 
+-CMOS_UIP
+-)
+-
+-210 
+-	`fl_cde
+-(&
+-t2
+-);
+-
+-211 if(
+-	`memcmp
+-(&
+-t1
+-, &
+-t2
+-, (t1)) == 0)
+-
+-216 if(
+-bcd
+-) {
+-
+-217 
+-	#CONV
+-(
+-x
+-(
+-t1
+-.x = (1.x >> 4* 10+ (t1.x & 0xf))
+-
+-	)
+-
+-218 
+-	`CONV
+-(
+-cd
+-);
+-
+-219 
+-	`CONV
+-(
+-mu
+-);
+-
+-220 
+-	`CONV
+-(
+-hour
+- );
+-
+-221 
+-	`CONV
+-(
+-day
+- );
+-
+-222 
+-	`CONV
+-(
+-mth
+- );
+-
+-223 
+-	`CONV
+-(
+-yr
+- );
+-
+-224 #unde
+-CONV
+-
+-
+-227 *
+-r
+- = 
+-t1
+-;
+-
+-228 
+-r
+-->
+-yr
+- += 2000;
+-
+-229 
+-	}
+-}
+-
+-	@ln.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 if(
+-gc
+- != 3){
+-
+-9 
+-	`tf
+-(2, "Usage:n oldew\n");
+-
+-10 
+-	`ex
+-();
+-
+-12 if(
+-	`lk
+-(
+-gv
+-[1],rgv[2]) < 0)
+-
+-13 
+-	`tf
+-(2, "lk %%s: faed\n", 
+-gv
+-[1],rgv[2]);
+-
+-14 
+-	`ex
+-();
+-
+-15 
+-	}
+-}
+-
+-	@log.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"lock.h
+-"
+-
+-5 
+-	~"ock.h
+-"
+-
+-6 
+-	~"fs.h
+-"
+-
+-7 
+-	~"buf.h
+-"
+-
+-34 
+-	sloghd
+- {
+-
+-35 
+-	mn
+-;
+-
+-36 
+-	mblock
+-[
+-LOGSIZE
+-];
+-
+-39 
+-	slog
+- {
+-
+-40 
+-lock
+- 
+-	mlock
+-;
+-
+-41 
+-	mt
+-;
+-
+-42 
+-	msize
+-;
+-
+-43 
+-	moutdg
+-;
+-
+-44 
+-	mcommtg
+-;
+-
+-45 
+-	mdev
+-;
+-
+-46 
+-loghd
+- 
+-	mlh
+-;
+-
+-48 
+-log
+- 
+-	glog
+-;
+-
+-50 
+-cov_om_log
+-();
+-
+-51 
+-comm
+-();
+-
+-54 
+-	$log
+-(
+-dev
+-)
+-
+-56 i((
+-loghd
+->
+-BSIZE
+-)
+-
+-57 
+-	`nic
+-("initlog:oo bigogheader");
+-
+-59 
+-surblock
+- 
+-sb
+-;
+-
+-60 
+-	`lock
+-(&
+-log
+-.
+-lock
+-, "log");
+-
+-61 
+-	`adsb
+-(
+-dev
+-, &
+-sb
+-);
+-
+-62 
+-log
+-.
+-t
+- = 
+-sb
+-.
+-logt
+-;
+-
+-63 
+-log
+-.
+-size
+- = 
+-sb
+-.
+-og
+-;
+-
+-64 
+-log
+-.
+-dev
+- = dev;
+-
+-65 
+-	`cov_om_log
+-();
+-
+-66 
+-	}
+-}
+-
+-70 
+-	$l_s
+-()
+-
+-72 
+-
+-;
+-
+-74 
+-
+- = 0;a < 
+-log
+-.
+-lh
+-.
+-n
+-;ail++) {
+-
+-75 
+-buf
+- *
+-lbuf
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-+
+-
+-+1);
+-
+-76 
+-buf
+- *
+-dbuf
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-lh
+-.
+-block
+-[
+-
+-]);
+-
+-77 
+-	`memmove
+-(
+-dbuf
+-->
+-da
+-, 
+-lbuf
+-->da, 
+-BSIZE
+-);
+-
+-78 
+-	`bwre
+-(
+-dbuf
+-);
+-
+-79 
+-	`bl
+-(
+-lbuf
+-);
+-
+-80 
+-	`bl
+-(
+-dbuf
+-);
+-
+-82 
+-	}
+-}
+-
+-86 
+-	$ad_hd
+-()
+-
+-88 
+-buf
+- *bu
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-);
+-
+-89 
+-loghd
+- *
+-lh
+- = (loghd *(
+-buf
+-->
+-da
+-);
+-
+-90 
+-i
+-;
+-
+-91 
+-log
+-.
+-lh
+-.
+-n
+- =h->n;
+-
+-92 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-93 
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] =h->block[i];
+-
+-95 
+-	`bl
+-(
+-buf
+-);
+-
+-96 
+-	}
+-}
+-
+-102 
+-	$wre_hd
+-()
+-
+-104 
+-buf
+- *bu
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-);
+-
+-105 
+-loghd
+- *
+-hb
+- = (loghd *(
+-buf
+-->
+-da
+-);
+-
+-106 
+-i
+-;
+-
+-107 
+-hb
+-->
+-n
+- = 
+-log
+-.
+-lh
+-.n;
+-
+-108 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-109 
+-hb
+-->
+-block
+-[
+-i
+-] = 
+-log
+-.
+-lh
+-.block[i];
+-
+-111 
+-	`bwre
+-(
+-buf
+-);
+-
+-112 
+-	`bl
+-(
+-buf
+-);
+-
+-113 
+-	}
+-}
+-
+-116 
+-	$cov_om_log
+-()
+-
+-118 
+-	`ad_hd
+-();
+-
+-119 
+-	`l_s
+-();
+-
+-120 
+-log
+-.
+-lh
+-.
+-n
+- = 0;
+-
+-121 
+-	`wre_hd
+-();
+-
+-122 
+-	}
+-}
+-
+-126 
+-	$beg_
+-()
+-
+-128 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-130 if(
+-log
+-.
+-commtg
+-){
+-
+-131 
+-	`p
+-(&
+-log
+-, &log.
+-lock
+-);
+-
+-132 } if(
+-log
+-.
+-lh
+-.
+-n
+- + (log.
+-outdg
+-+1)*
+-MAXOPBLOCKS
+- > 
+-LOGSIZE
+-){
+-
+-134 
+-	`p
+-(&
+-log
+-, &log.
+-lock
+-);
+-
+-136 
+-log
+-.
+-outdg
+- += 1;
+-
+-137 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-141 
+-	}
+-}
+-
+-146 
+-	$d_
+-()
+-
+-148 
+-do_comm
+- = 0;
+-
+-150 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-151 
+-log
+-.
+-outdg
+- -= 1;
+-
+-152 if(
+-log
+-.
+-commtg
+-)
+-
+-153 
+-	`nic
+-("log.committing");
+-
+-154 if(
+-log
+-.
+-outdg
+- == 0){
+-
+-155 
+-do_comm
+- = 1;
+-
+-156 
+-log
+-.
+-commtg
+- = 1;
+-
+-161 
+-	`wakeup
+-(&
+-log
+-);
+-
+-163 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-165 if(
+-do_comm
+-){
+-
+-168 
+-	`comm
+-();
+-
+-169 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-170 
+-log
+-.
+-commtg
+- = 0;
+-
+-171 
+-	`wakeup
+-(&
+-log
+-);
+-
+-172 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-174 
+-	}
+-}
+-
+-178 
+-	$wre_log
+-()
+-
+-180 
+-
+-;
+-
+-182 
+-
+- = 0;a < 
+-log
+-.
+-lh
+-.
+-n
+-;ail++) {
+-
+-183 
+-buf
+- *
+-to
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-+
+-
+-+1);
+-
+-184 
+-buf
+- *
+-om
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-lh
+-.
+-block
+-[
+-
+-]);
+-
+-185 
+-	`memmove
+-(
+-to
+-->
+-da
+-, 
+-om
+-->da, 
+-BSIZE
+-);
+-
+-186 
+-	`bwre
+-(
+-to
+-);
+-
+-187 
+-	`bl
+-(
+-om
+-);
+-
+-188 
+-	`bl
+-(
+-to
+-);
+-
+-190 
+-	}
+-}
+-
+-193 
+-	$comm
+-()
+-
+-195 i(
+-log
+-.
+-lh
+-.
+-n
+- > 0) {
+-
+-196 
+-	`wre_log
+-();
+-
+-197 
+-	`wre_hd
+-();
+-
+-198 
+-	`l_s
+-();
+-
+-199 
+-log
+-.
+-lh
+-.
+-n
+- = 0;
+-
+-200 
+-	`wre_hd
+-();
+-
+-202 
+-	}
+-}
+-
+-214 
+-	$log_wre
+-(
+-buf
+- *
+-b
+-)
+-
+-216 
+-i
+-;
+-
+-218 i(
+-log
+-.
+-lh
+-.
+-n
+- >
+-LOGSIZE
+- ||og.lh.>log.
+-size
+- - 1)
+-
+-219 
+-	`nic
+-("too bigransaction");
+-
+-220 i(
+-log
+-.
+-outdg
+- < 1)
+-
+-221 
+-	`nic
+-("log_write outside ofrans");
+-
+-223 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-224 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-225 i(
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] =
+-b
+-->
+-blockno
+-)
+-
+-228 
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] = 
+-b
+-->
+-blockno
+-;
+-
+-229 i(
+-i
+- =
+-log
+-.
+-lh
+-.
+-n
+-)
+-
+-230 
+-log
+-.
+-lh
+-.
+-n
+-++;
+-
+-231 
+-b
+-->
+-ags
+- |
+-B_DIRTY
+-;
+-
+-232 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-233 
+-	}
+-}
+-
+-	@ls.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"fs.h
+-"
+-
+-7 
+-	$fmame
+-(*
+-th
+-)
+-
+-9 
+-buf
+-[
+-DIRSIZ
+-+1];
+-
+-10 *
+-p
+-;
+-
+-13 
+-p
+-=
+-th
+-+
+-	`
+-(path); >=ath && *p != '/';--)
+-
+-15 
+-p
+-++;
+-
+-18 if(
+-	`
+-(
+-p
+->
+-DIRSIZ
+-)
+-
+-19  
+-p
+-;
+-
+-20 
+-	`memmove
+-(
+-buf
+-, 
+-p
+-, 
+-	`
+-(p));
+-
+-21 
+-	`memt
+-(
+-buf
+-+
+-	`
+-(
+-p
+-), ' ', 
+-DIRSIZ
+--strlen(p));
+-
+-22  
+-buf
+-;
+-
+-23 
+-	}
+-}
+-
+-26 
+-	$ls
+-(*
+-th
+-)
+-
+-28 
+-buf
+-[512], *
+-p
+-;
+-
+-29 
+-fd
+-;
+-
+-30 
+-dt
+- 
+-de
+-;
+-
+-31 
+-
+- 
+-
+-;
+-
+-33 if((
+-fd
+- = 
+-	`
+-(
+-th
+-, 0)) < 0){
+-
+-34 
+-	`tf
+-(2, "ls: cn o%s\n", 
+-th
+-);
+-
+-38 if(
+-	`f
+-(
+-fd
+-, &
+-
+-) < 0){
+-
+-39 
+-	`tf
+-(2, "ls: cn s%s\n", 
+-th
+-);
+-
+-40 
+-	`o
+-(
+-fd
+-);
+-
+-44 
+-
+-.
+-ty
+-){
+-
+-45 
+-T_FILE
+-:
+-
+-46 
+-	`tf
+-(1, "%%d %d %d\n", 
+-	`fmame
+-(
+-th
+-), 
+-
+-.
+-ty
+-, st.
+-o
+-, st.
+-size
+-);
+-
+-49 
+-T_DIR
+-:
+-
+-50 if(
+-	`
+-(
+-th
+-+ 1 + 
+-DIRSIZ
+- + 1 >  
+-buf
+-){
+-
+-51 
+-	`tf
+-(1, "ls:athooong\n");
+-
+-54 
+-	`ry
+-(
+-buf
+-, 
+-th
+-);
+-
+-55 
+-p
+- = 
+-buf
+-+
+-	`
+-(buf);
+-
+-56 *
+-p
+-++ = '/';
+-
+-57 
+-	`ad
+-(
+-fd
+-, &
+-de
+-, (de)) == (de)){
+-
+-58 if(
+-de
+-.
+-um
+- == 0)
+-
+-60 
+-	`memmove
+-(
+-p
+-, 
+-de
+-.
+-me
+-, 
+-DIRSIZ
+-);
+-
+-61 
+-p
+-[
+-DIRSIZ
+-] = 0;
+-
+-62 if(
+-	`
+-(
+-buf
+-, &
+-
+-) < 0){
+-
+-63 
+-	`tf
+-(1, "ls: cn s%s\n", 
+-buf
+-);
+-
+-66 
+-	`tf
+-(1, "%%d %d %d\n", 
+-	`fmame
+-(
+-buf
+-), 
+-
+-.
+-ty
+-, st.
+-o
+-, st.
+-size
+-);
+-
+-70 
+-	`o
+-(
+-fd
+-);
+-
+-71 
+-	}
+-}
+-
+-74 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-76 
+-i
+-;
+-
+-78 if(
+-gc
+- < 2){
+-
+-79 
+-	`ls
+-(".");
+-
+-80 
+-	`ex
+-();
+-
+-82 
+-i
+-=1; i<
+-gc
+-; i++)
+-
+-83 
+-	`ls
+-(
+-gv
+-[
+-i
+-]);
+-
+-84 
+-	`ex
+-();
+-
+-85 
+-	}
+-}
+-
+-	@main.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-9 
+-ths
+-();
+-
+-10 
+-	$mpma
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-11 
+-pde_t
+- *
+-kpgd
+-;
+-
+-12 

+-d
+-[];
+-
+-18 
+-	$ma
+-()
+-
+-20 
+-	`k1
+-(
+-d
+-, 
+-	`P2V
+-(4*1024*1024));
+-
+-21 
+-	`kvmloc
+-();
+-
+-22 
+-	`mp
+-();
+-
+-23 
+-	`pic
+-();
+-
+-24 
+-	`g
+-();
+-
+-25 
+-	`pic
+-();
+-
+-26 
+-	`ipic
+-();
+-
+-27 
+-	`cse
+-();
+-
+-28 
+-	`ut
+-();
+-
+-29 
+-	`p
+-();
+-
+-30 
+-	`tv
+-();
+-
+-31 
+-	`b
+-();
+-
+-32 
+-	`fe
+-();
+-
+-33 
+-	`ide
+-();
+-
+-34 
+-	`ths
+-();
+-
+-35 
+-	`k2
+-(
+-	`P2V
+-(4*1024*1024), P2V(
+-PHYSTOP
+-));
+-
+-36 
+-	`ur
+-();
+-
+-37 
+-	`mpma
+-();
+-
+-38 
+-	}
+-}
+-
+-42 
+-	$m
+-()
+-
+-44 
+-	`swchkvm
+-();
+-
+-45 
+-	`g
+-();
+-
+-46 
+-	`pic
+-();
+-
+-47 
+-	`mpma
+-();
+-
+-48 
+-	}
+-}
+-
+-52 
+-	$mpma
+-()
+-
+-54 
+-	`rtf
+-("u%d: sg %d\n", 
+-	`uid
+-(), cpuid());
+-
+-55 
+-	`idt
+-();
+-
+-56 
+-	`xchg
+-(&(
+-	`myu
+-()->
+-d
+-), 1);
+-
+-57 
+-	`schedur
+-();
+-
+-58 
+-	}
+-}
+-
+-60 
+-pde_t
+- 
+-	gypgd
+-[];
+-
+-64 
+-	$ths
+-()
+-
+-66 
+-uch
+- 
+-_by_yh_t
+-[], 
+-_by_yh_size
+-[];
+-
+-67 
+-uch
+- *
+-code
+-;
+-
+-68 
+-u
+- *
+-c
+-;
+-
+-69 *
+-ack
+-;
+-
+-74 
+-code
+- = 
+-	`P2V
+-(0x7000);
+-
+-75 
+-	`memmove
+-(
+-code
+-, 
+-_by_yh_t
+-, (
+-ut
+-)
+-_by_yh_size
+-);
+-
+-77 
+-c
+- = 
+-us
+-; c < cpus+
+-nu
+-; c++){
+-
+-78 if(
+-c
+- =
+-	`myu
+-())
+-
+-84 
+-ack
+- = 
+-	`kloc
+-();
+-
+-85 *(**)(
+-code
+--4
+-ack
+- + 
+-KSTACKSIZE
+-;
+-
+-86 *((**)())(
+-code
+--8
+-m
+-;
+-
+-87 *(**)(
+-code
+--12(*
+-	`V2P
+-(
+-ypgd
+-);
+-
+-89 
+-	`picp
+-(
+-c
+-->
+-icid
+-, 
+-	`V2P
+-(
+-code
+-));
+-
+-92 
+-c
+-->
+-d
+- == 0)
+-
+-95 
+-	}
+-}
+-
+-102 
+-__ibu__
+-((
+-	$__igd__
+-(
+-PGSIZE
+-)))
+-
+-103 
+-pde_t
+- 
+-ypgd
+-[
+-NPDENTRIES
+-] = {
+-
+-105 [0] = (0| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_PS
+-,
+-
+-107 [
+-KERNBASE
+->>
+-PDXSHIFT
+-] = (0| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_PS
+-,
+-
+-108 
+-	}
+-};
+-
+-	@memide.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~"defs.h
+-"
+-
+-6 
+-	~"m.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-9 
+-	~"x86.h
+-"
+-
+-10 
+-	~"s.h
+-"
+-
+-11 
+-	~"lock.h
+-"
+-
+-12 
+-	~"ock.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"buf.h
+-"
+-
+-16 
+-uch
+- 
+-_by_fs_img_t
+-[], 
+-_by_fs_img_size
+-[];
+-
+-18 
+-	gdisksize
+-;
+-
+-19 
+-uch
+- *
+-	gmemdisk
+-;
+-
+-22 
+-	$ide
+-()
+-
+-24 
+-memdisk
+- = 
+-_by_fs_img_t
+-;
+-
+-25 
+-disksize
+- = (
+-ut
+-)
+-_by_fs_img_size
+-/
+-BSIZE
+-;
+-
+-26 
+-	}
+-}
+-
+-30 
+-	$ide
+-()
+-
+-33 
+-	}
+-}
+-
+-39 
+-	$idw
+-(
+-buf
+- *
+-b
+-)
+-
+-41 
+-uch
+- *
+-p
+-;
+-
+-43 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-44 
+-	`nic
+-("iderw: bufotocked");
+-
+-45 if((
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) == B_VALID)
+-
+-46 
+-	`nic
+-("iderw:othingo do");
+-
+-47 if(
+-b
+-->
+-dev
+- != 1)
+-
+-48 
+-	`nic
+-("iderw:equestot for disk 1");
+-
+-49 if(
+-b
+-->
+-blockno
+- >
+-disksize
+-)
+-
+-50 
+-	`nic
+-("iderw: block out ofange");
+-
+-52 
+-p
+- = 
+-memdisk
+- + 
+-b
+-->
+-blockno
+-*
+-BSIZE
+-;
+-
+-54 if(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-){
+-
+-55 
+-b
+-->
+-ags
+- &~
+-B_DIRTY
+-;
+-
+-56 
+-	`memmove
+-(
+-p
+-, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-);
+-
+-58 
+-	`memmove
+-(
+-b
+-->
+-da
+-, 
+-p
+-, 
+-BSIZE
+-);
+-
+-59 
+-b
+-->
+-ags
+- |
+-B_VALID
+-;
+-
+-60 
+-	}
+-}
+-
+-	@memlayout.h
+-
+-3 
+-	#EXTMEM
+- 0x100000
+-
+-4 
+-	#PHYSTOP
+- 0xE000000
+-
+-5 
+-	#DEVSPACE
+- 0xFE000000
+-
+-6 
+-
+-	)
+-
+-8 
+-	#KERNBASE
+- 0x80000000
+-
+-9 
+-	#KERNLINK
+- (
+-KERNBASE
+-+
+-EXTMEM
+-)
+-
+-10 
+-
+-	)
+-
+-11 
+-	#V2P
+-(
+-a
+-(((
+-ut
+-)- 
+-KERNBASE
+-)
+-
+-	)
+-
+-12 
+-	#P2V
+-(
+-a
+-((*)(((*)+ 
+-KERNBASE
+-))
+-
+-	)
+-
+-14 
+-	#V2P_WO
+-(
+-x
+-((x- 
+-KERNBASE
+-)
+-
+-15 
+-	#P2V_WO
+-(
+-x
+-((x+ 
+-KERNBASE
+-)
+-
+-	@mkdir.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "Usage: mkdir files...\n");
+-
+-12 
+-	`ex
+-();
+-
+-15 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-16 if(
+-	`mkd
+-(
+-gv
+-[
+-i
+-]) < 0){
+-
+-17 
+-	`tf
+-(2, "mkd: %ed\n", 
+-gv
+-[
+-i
+-]);
+-
+-22 
+-	`ex
+-();
+-
+-23 
+-	}
+-}
+-
+-	@mkfs.c
+-
+-1 
+-	~<dio.h
+->
+-
+-2 
+-	~<unid.h
+->
+-
+-3 
+-	~<dlib.h
+->
+-
+-4 
+-	~<rg.h
+->
+-
+-5 
+-	~<f.h
+->
+-
+-6 
+-	~<as.h
+->
+-
+-8 
+-	#
+- 
+-xv6_
+-
+-
+-9 
+-	~"tys.h
+-"
+-
+-	)
+-
+-10 
+-	~"fs.h
+-"
+-
+-11 
+-	~".h
+-"
+-
+-12 
+-	~"m.h
+-"
+-
+-14 #ide
+-ic_as
+-
+-
+-15 
+-	#ic_as
+-(
+-a
+-, 
+-b
+-d{ 00: ): ; } 0)
+-
+-	)
+-
+-18 
+-	#NINODES
+- 200
+-
+-	)
+-
+-23 
+-	gnbm
+- = 
+-FSSIZE
+-/(
+-BSIZE
+-*8) + 1;
+-
+-24 
+-	gnodeblocks
+- = 
+-NINODES
+- / 
+-IPB
+- + 1;
+-
+-25 
+-	gog
+- = 
+-LOGSIZE
+-;
+-
+-26 
+-	gnma
+-;
+-
+-27 
+-	gnblocks
+-;
+-
+-29 
+-	gfsfd
+-;
+-
+-30 
+-surblock
+- 
+-	gsb
+-;
+-
+-31 
+-	gzs
+-[
+-BSIZE
+-];
+-
+-32 
+-ut
+- 
+-	gode
+- = 1;
+-
+-33 
+-ut
+- 
+-	gblock
+-;
+-
+-36 
+-bloc
+-();
+-
+-37 
+-w
+-(
+-ut
+-, *);
+-
+-38 
+-wode
+-(
+-ut
+-, 
+-dode
+-*);
+-
+-39 
+-rode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-);
+-
+-40 
+-r
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-);
+-
+-41 
+-ut
+- 
+-oc
+-(
+-usht
+- 
+-ty
+-);
+-
+-42 
+-d
+-(
+-ut
+- 
+-um
+-, *
+-p
+-, 
+-n
+-);
+-
+-45 
+-usht
+-
+-
+-46 
+-	$xsht
+-(
+-usht
+- 
+-x
+-)
+-
+-48 
+-usht
+- 
+-y
+-;
+-
+-49 
+-uch
+- *
+-a
+- = (uch*)&
+-y
+-;
+-
+-50 
+-a
+-[0] = 
+-x
+-;
+-
+-51 
+-a
+-[1] = 
+-x
+- >> 8;
+-
+-52  
+-y
+-;
+-
+-53 
+-	}
+-}
+-
+-55 
+-ut
+-
+-
+-56 
+-	$xt
+-(
+-ut
+- 
+-x
+-)
+-
+-58 
+-ut
+- 
+-y
+-;
+-
+-59 
+-uch
+- *
+-a
+- = (uch*)&
+-y
+-;
+-
+-60 
+-a
+-[0] = 
+-x
+-;
+-
+-61 
+-a
+-[1] = 
+-x
+- >> 8;
+-
+-62 
+-a
+-[2] = 
+-x
+- >> 16;
+-
+-63 
+-a
+-[3] = 
+-x
+- >> 24;
+-
+-64  
+-y
+-;
+-
+-65 
+-	}
+-}
+-
+-68 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-70 
+-i
+-, 
+-cc
+-, 
+-fd
+-;
+-
+-71 
+-ut
+- 
+-roo
+-, 
+-um
+-, 
+-off
+-;
+-
+-72 
+-dt
+- 
+-de
+-;
+-
+-73 
+-buf
+-[
+-BSIZE
+-];
+-
+-74 
+-dode
+- 
+-d
+-;
+-
+-77 
+-	`ic_as
+-(() == 4, "Integers must be 4 bytes!");
+-
+-79 if(
+-gc
+- < 2){
+-
+-80 
+-	`rtf
+-(
+-dr
+-, "Usage: mkfs fs.img files...\n");
+-
+-81 
+-	`ex
+-(1);
+-
+-84 
+-	`as
+-((
+-BSIZE
+- % (
+-dode
+-)) == 0);
+-
+-85 
+-	`as
+-((
+-BSIZE
+- % (
+-dt
+-)) == 0);
+-
+-87 
+-fsfd
+- = 
+-	`
+-(
+-gv
+-[1], 
+-O_RDWR
+-|
+-O_CREAT
+-|
+-O_TRUNC
+-, 0666);
+-
+-88 if(
+-fsfd
+- < 0){
+-
+-89 
+-	`
+-(
+-gv
+-[1]);
+-
+-90 
+-	`ex
+-(1);
+-
+-94 
+-nma
+- = 2 + 
+-og
+- + 
+-nodeblocks
+- + 
+-nbm
+-;
+-
+-95 
+-nblocks
+- = 
+-FSSIZE
+- - 
+-nma
+-;
+-
+-97 
+-sb
+-.
+-size
+- = 
+-	`xt
+-(
+-FSSIZE
+-);
+-
+-98 
+-sb
+-.
+-nblocks
+- = 
+-	`xt
+-(nblocks);
+-
+-99 
+-sb
+-.
+-nodes
+- = 
+-	`xt
+-(
+-NINODES
+-);
+-
+-100 
+-sb
+-.
+-og
+- = 
+-	`xt
+-(nlog);
+-
+-101 
+-sb
+-.
+-logt
+- = 
+-	`xt
+-(2);
+-
+-102 
+-sb
+-.
+-odet
+- = 
+-	`xt
+-(2+
+-og
+-);
+-
+-103 
+-sb
+-.
+-bmt
+- = 
+-	`xt
+-(2+
+-og
+-+
+-nodeblocks
+-);
+-
+-105 
+-	`tf
+-("nmeta %d (boot, super,og blocks %u inode blocks %u, bitmap blocks %u) blocks %dotal %d\n",
+-
+-106 
+-nma
+-, 
+-og
+-, 
+-nodeblocks
+-, 
+-nbm
+-, 
+-nblocks
+-, 
+-FSSIZE
+-);
+-
+-108 
+-block
+- = 
+-nma
+-;
+-
+-110 
+-i
+- = 0; i < 
+-FSSIZE
+-; i++)
+-
+-111 
+-	`w
+-(
+-i
+-, 
+-zs
+-);
+-
+-113 
+-	`memt
+-(
+-buf
+-, 0, (buf));
+-
+-114 
+-	`memmove
+-(
+-buf
+-, &
+-sb
+-, (sb));
+-
+-115 
+-	`w
+-(1, 
+-buf
+-);
+-
+-117 
+-roo
+- = 
+-	`oc
+-(
+-T_DIR
+-);
+-
+-118 
+-	`as
+-(
+-roo
+- =
+-ROOTINO
+-);
+-
+-120 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-121 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(
+-roo
+-);
+-
+-122 
+-	`ry
+-(
+-de
+-.
+-me
+-, ".");
+-
+-123 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-125 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-126 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(
+-roo
+-);
+-
+-127 
+-	`ry
+-(
+-de
+-.
+-me
+-, "..");
+-
+-128 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-130 
+-i
+- = 2; i < 
+-gc
+-; i++){
+-
+-131 
+-	`as
+-(
+-	`dex
+-(
+-gv
+-[
+-i
+-], '/') == 0);
+-
+-133 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-134 
+-	`
+-(
+-gv
+-[
+-i
+-]);
+-
+-135 
+-	`ex
+-(1);
+-
+-142 if(
+-gv
+-[
+-i
+-][0] == '_')
+-
+-143 ++
+-gv
+-[
+-i
+-];
+-
+-145 
+-um
+- = 
+-	`oc
+-(
+-T_FILE
+-);
+-
+-147 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-148 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(inum);
+-
+-149 
+-	`y
+-(
+-de
+-.
+-me
+-, 
+-gv
+-[
+-i
+-], 
+-DIRSIZ
+-);
+-
+-150 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-152 (
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0)
+-
+-153 
+-	`d
+-(
+-um
+-, 
+-buf
+-, 
+-cc
+-);
+-
+-155 
+-	`o
+-(
+-fd
+-);
+-
+-159 
+-	`rode
+-(
+-roo
+-, &
+-d
+-);
+-
+-160 
+-off
+- = 
+-	`xt
+-(
+-d
+-.
+-size
+-);
+-
+-161 
+-off
+- = ((off/
+-BSIZE
+-) + 1) * BSIZE;
+-
+-162 
+-d
+-.
+-size
+- = 
+-	`xt
+-(
+-off
+-);
+-
+-163 
+-	`wode
+-(
+-roo
+-, &
+-d
+-);
+-
+-165 
+-	`bloc
+-(
+-block
+-);
+-
+-167 
+-	`ex
+-(0);
+-
+-168 
+-	}
+-}
+-
+-171 
+-	$w
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-)
+-
+-173 if(
+-	`lek
+-(
+-fsfd
+-, 
+-c
+- * 
+-BSIZE
+-, 0) != sec * BSIZE){
+-
+-174 
+-	`
+-("lseek");
+-
+-175 
+-	`ex
+-(1);
+-
+-177 if(
+-	`wre
+-(
+-fsfd
+-, 
+-buf
+-, 
+-BSIZE
+-) != BSIZE){
+-
+-178 
+-	`
+-("write");
+-
+-179 
+-	`ex
+-(1);
+-
+-181 
+-	}
+-}
+-
+-184 
+-	$wode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-)
+-
+-186 
+-buf
+-[
+-BSIZE
+-];
+-
+-187 
+-ut
+- 
+-bn
+-;
+-
+-188 
+-dode
+- *
+-d
+-;
+-
+-190 
+-bn
+- = 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-);
+-
+-191 
+-	`r
+-(
+-bn
+-, 
+-buf
+-);
+-
+-192 
+-d
+- = ((
+-dode
+-*)
+-buf
+-+ (
+-um
+- % 
+-IPB
+-);
+-
+-193 *
+-d
+- = *
+-
+-;
+-
+-194 
+-	`w
+-(
+-bn
+-, 
+-buf
+-);
+-
+-195 
+-	}
+-}
+-
+-198 
+-	$rode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-)
+-
+-200 
+-buf
+-[
+-BSIZE
+-];
+-
+-201 
+-ut
+- 
+-bn
+-;
+-
+-202 
+-dode
+- *
+-d
+-;
+-
+-204 
+-bn
+- = 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-);
+-
+-205 
+-	`r
+-(
+-bn
+-, 
+-buf
+-);
+-
+-206 
+-d
+- = ((
+-dode
+-*)
+-buf
+-+ (
+-um
+- % 
+-IPB
+-);
+-
+-207 *
+-
+- = *
+-d
+-;
+-
+-208 
+-	}
+-}
+-
+-211 
+-	$r
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-)
+-
+-213 if(
+-	`lek
+-(
+-fsfd
+-, 
+-c
+- * 
+-BSIZE
+-, 0) != sec * BSIZE){
+-
+-214 
+-	`
+-("lseek");
+-
+-215 
+-	`ex
+-(1);
+-
+-217 if(
+-	`ad
+-(
+-fsfd
+-, 
+-buf
+-, 
+-BSIZE
+-) != BSIZE){
+-
+-218 
+-	`
+-("read");
+-
+-219 
+-	`ex
+-(1);
+-
+-221 
+-	}
+-}
+-
+-223 
+-ut
+-
+-
+-224 
+-	$oc
+-(
+-usht
+- 
+-ty
+-)
+-
+-226 
+-ut
+- 
+-um
+- = 
+-ode
+-++;
+-
+-227 
+-dode
+- 
+-d
+-;
+-
+-229 
+-	`bzo
+-(&
+-d
+-, (din));
+-
+-230 
+-d
+-.
+-ty
+- = 
+-	`xsht
+-(type);
+-
+-231 
+-d
+-.
+-k
+- = 
+-	`xsht
+-(1);
+-
+-232 
+-d
+-.
+-size
+- = 
+-	`xt
+-(0);
+-
+-233 
+-	`wode
+-(
+-um
+-, &
+-d
+-);
+-
+-234  
+-um
+-;
+-
+-235 
+-	}
+-}
+-
+-238 
+-	$bloc
+-(
+-ud
+-)
+-
+-240 
+-uch
+- 
+-buf
+-[
+-BSIZE
+-];
+-
+-241 
+-i
+-;
+-
+-243 
+-	`tf
+-("bloc: f %d blockhavblod\n", 
+-ud
+-);
+-
+-244 
+-	`as
+-(
+-ud
+- < 
+-BSIZE
+-*8);
+-
+-245 
+-	`bzo
+-(
+-buf
+-, 
+-BSIZE
+-);
+-
+-246 
+-i
+- = 0; i < 
+-ud
+-; i++){
+-
+-247 
+-buf
+-[
+-i
+-/8] = buf[i/8] | (0x1 << (i%8));
+-
+-249 
+-	`tf
+-("bloc: wrbm block %d\n", 
+-sb
+-.
+-bmt
+-);
+-
+-250 
+-	`w
+-(
+-sb
+-.
+-bmt
+-, 
+-buf
+-);
+-
+-251 
+-	}
+-}
+-
+-253 
+-	#m
+-(
+-a
+-, 
+-b
+-(< (b? (a: (b))
+-
+-	)
+-
+-256 
+-	$d
+-(
+-ut
+- 
+-um
+-, *
+-xp
+-, 
+-n
+-)
+-
+-258 *
+-p
+- = (*)
+-xp
+-;
+-
+-259 
+-ut
+- 
+-fbn
+-, 
+-off
+-, 
+-n1
+-;
+-
+-260 
+-dode
+- 
+-d
+-;
+-
+-261 
+-buf
+-[
+-BSIZE
+-];
+-
+-262 
+-ut
+- 
+-de
+-[
+-NINDIRECT
+-];
+-
+-263 
+-ut
+- 
+-x
+-;
+-
+-265 
+-	`rode
+-(
+-um
+-, &
+-d
+-);
+-
+-266 
+-off
+- = 
+-	`xt
+-(
+-d
+-.
+-size
+-);
+-
+-268 
+-n
+- > 0){
+-
+-269 
+-fbn
+- = 
+-off
+- / 
+-BSIZE
+-;
+-
+-270 
+-	`as
+-(
+-fbn
+- < 
+-MAXFILE
+-);
+-
+-271 if(
+-fbn
+- < 
+-NDIRECT
+-){
+-
+-272 if(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-fbn
+-]) == 0){
+-
+-273 
+-d
+-.
+-addrs
+-[
+-fbn
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-275 
+-x
+- = 
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-fbn
+-]);
+-
+-277 if(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]) == 0){
+-
+-278 
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-280 
+-	`r
+-(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]), (*)
+-de
+-);
+-
+-281 if(
+-de
+-[
+-fbn
+- - 
+-NDIRECT
+-] == 0){
+-
+-282 
+-de
+-[
+-fbn
+- - 
+-NDIRECT
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-283 
+-	`w
+-(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]), (*)
+-de
+-);
+-
+-285 
+-x
+- = 
+-	`xt
+-(
+-de
+-[
+-fbn
+--
+-NDIRECT
+-]);
+-
+-287 
+-n1
+- = 
+-	`m
+-(
+-n
+-, (
+-fbn
+- + 1* 
+-BSIZE
+- - 
+-off
+-);
+-
+-288 
+-	`r
+-(
+-x
+-, 
+-buf
+-);
+-
+-289 
+-	`bcy
+-(
+-p
+-, 
+-buf
+- + 
+-off
+- - (
+-fbn
+- * 
+-BSIZE
+-), 
+-n1
+-);
+-
+-290 
+-	`w
+-(
+-x
+-, 
+-buf
+-);
+-
+-291 
+-n
+- -
+-n1
+-;
+-
+-292 
+-off
+- +
+-n1
+-;
+-
+-293 
+-p
+- +
+-n1
+-;
+-
+-295 
+-d
+-.
+-size
+- = 
+-	`xt
+-(
+-off
+-);
+-
+-296 
+-	`wode
+-(
+-um
+-, &
+-d
+-);
+-
+-297 
+-	}
+-}
+-
+-	@mman.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"fs.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[]){
+-
+-8 *
+-addr
+- = (*) 24000;
+-
+-9 
+-ngth
+- = 21;
+-
+-10 
+-
+-=0, 
+-ags
+-=0, 
+-fd
+-=21, 
+-offt
+-=24;
+-
+-12 
+-t
+- = 
+-	`mm
+-(
+-addr
+-, 
+-ngth
+-, 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-13 i(
+-t
+-==0){
+-
+-14 
+-	`tf
+-(1, "callo mmap succeeded\n");
+-
+-16 
+-
+- = 
+-	`munm
+-(
+-addr
+-, 
+-ngth
+-);
+-
+-17 i(
+-
+-==0){
+-
+-18 
+-	`tf
+-(1, "callo munmap succeeded\n");
+-
+-20 
+-	`ex
+-();
+-
+-21 
+-	}
+-}
+-
+-	@mmu.h
+-
+-5 
+-	#FL_IF
+- 0x00000200
+-
+-6 
+-
+-	)
+-
+-8 
+-	#CR0_PE
+- 0x00000001
+-
+-9 
+-	#CR0_WP
+- 0x00010000
+-
+-10 
+-	#CR0_PG
+- 0x80000000
+-
+-11 
+-
+-	)
+-
+-12 
+-	#CR4_PSE
+- 0x00000010
+-
+-13 
+-
+-	)
+-
+-15 
+-	#SEG_KCODE
+- 1
+-
+-16 
+-	#SEG_KDATA
+- 2
+-
+-17 
+-	#SEG_UCODE
+- 3
+-
+-18 
+-	#SEG_UDATA
+- 4
+-
+-19 
+-	#SEG_TSS
+- 5
+-
+-20 
+-
+-	)
+-
+-22 
+-	#NSEGS
+- 6
+-
+-	)
+-
+-24 #ide
+-__ASSEMBLER__
+-
+-
+-26 
+-	sgdesc
+- {
+-
+-27 
+-ut
+- 
+-	mlim_15_0
+- : 16;
+-
+-28 
+-ut
+- 
+-	mba_15_0
+- : 16;
+-
+-29 
+-ut
+- 
+-	mba_23_16
+- : 8;
+-
+-30 
+-ut
+- 
+-	mty
+- : 4;
+-
+-31 
+-ut
+- 
+-	ms
+- : 1;
+-
+-32 
+-ut
+- 
+-	md
+- : 2;
+-
+-33 
+-ut
+- 
+-	mp
+- : 1;
+-
+-34 
+-ut
+- 
+-	mlim_19_16
+- : 4;
+-
+-35 
+-ut
+- 
+-	mavl
+- : 1;
+-
+-36 
+-ut
+- 
+-	mrsv1
+- : 1;
+-
+-37 
+-ut
+- 
+-	mdb
+- : 1;
+-
+-38 
+-ut
+- 
+-	mg
+- : 1;
+-
+-39 
+-ut
+- 
+-	mba_31_24
+- : 8;
+-
+-43 
+-	#SEG
+-(
+-ty
+-, 
+-ba
+-, 
+-lim
+-, 
+-d
+-(
+-gdesc
+-) \
+-
+-44 { ((
+-lim
+->> 12& 0xffff, (
+-ut
+-)(
+-ba
+-) & 0xffff, \
+-
+-45 ((
+-ut
+-)(
+-ba
+->> 16& 0xff, 
+-ty
+-, 1, 
+-d
+-, 1, \
+-
+-46 (
+-ut
+-)(
+-lim
+->> 28, 0, 0, 1, 1, (ut)(
+-ba
+->> 24 }
+-
+-	)
+-
+-47 
+-	#SEG16
+-(
+-ty
+-, 
+-ba
+-, 
+-lim
+-, 
+-d
+-(
+-gdesc
+-) \
+-
+-48 { (
+-lim
+-& 0xffff, (
+-ut
+-)(
+-ba
+-) & 0xffff, \
+-
+-49 ((
+-ut
+-)(
+-ba
+->> 16& 0xff, 
+-ty
+-, 1, 
+-d
+-, 1, \
+-
+-50 (
+-ut
+-)(
+-lim
+->> 16, 0, 0, 1, 0, (ut)(
+-ba
+->> 24 }
+-
+-	)
+-
+-53 
+-	#DPL_USER
+- 0x3
+-
+-54 
+-
+-	)
+-
+-56 
+-	#STA_X
+- 0x8
+-
+-57 
+-	#STA_W
+- 0x2
+-
+-58 
+-	#STA_R
+- 0x2
+-
+-59 
+-
+-	)
+-
+-61 
+-	#STS_T32A
+- 0x9
+-
+-62 
+-	#STS_IG32
+- 0xE
+-
+-63 
+-	#STS_TG32
+- 0xF
+-
+-64 
+-
+-	)
+-
+-74 
+-	#PDX
+-(
+-va
+-(((
+-ut
+-)(va>> 
+-PDXSHIFT
+-& 0x3FF)
+-
+-	)
+-
+-77 
+-	#PTX
+-(
+-va
+-(((
+-ut
+-)(va>> 
+-PTXSHIFT
+-& 0x3FF)
+-
+-	)
+-
+-80 
+-	#PGADDR
+-(
+-d
+-, 
+-t
+-, 
+-o
+-((
+-ut
+-)((d<< 
+-PDXSHIFT
+- | (t<< 
+-PTXSHIFT
+- | (o)))
+-
+-	)
+-
+-83 
+-	#NPDENTRIES
+- 1024
+-
+-84 
+-	#NPTENTRIES
+- 1024
+-
+-85 
+-	#PGSIZE
+- 4096
+-
+-86 
+-
+-	)
+-
+-87 
+-	#PTXSHIFT
+- 12
+-
+-88 
+-	#PDXSHIFT
+- 22
+-
+-89 
+-
+-	)
+-
+-90 
+-	#PGROUNDUP
+-(
+-sz
+-(((sz)+
+-PGSIZE
+--1& ~(PGSIZE-1))
+-
+-	)
+-
+-91 
+-	#PGROUNDDOWN
+-(
+-a
+-(()& ~(
+-PGSIZE
+--1))
+-
+-	)
+-
+-94 
+-	#PTE_P
+- 0x001
+-
+-95 
+-	#PTE_W
+- 0x002
+-
+-96 
+-	#PTE_U
+- 0x004
+-
+-97 
+-	#PTE_PS
+- 0x080
+-
+-98 
+-
+-	)
+-
+-100 
+-	#PTE_ADDR
+-(
+-e
+-((
+-ut
+-)& ~0xFFF)
+-
+-	)
+-
+-101 
+-	#PTE_FLAGS
+-(
+-e
+-((
+-ut
+-)& 0xFFF)
+-
+-	)
+-
+-103 #ide
+-__ASSEMBLER__
+-
+-
+-104 
+-ut
+- 
+-	te_t
+-;
+-
+-107 
+-	sske
+- {
+-
+-108 
+-ut
+- 
+-	mlk
+-;
+-
+-109 
+-ut
+- 
+-	me0
+-;
+-
+-110 
+-usht
+- 
+-	mss0
+-;
+-
+-111 
+-usht
+- 
+-	mddg1
+-;
+-
+-112 
+-ut
+- *
+-	me1
+-;
+-
+-113 
+-usht
+- 
+-	mss1
+-;
+-
+-114 
+-usht
+- 
+-	mddg2
+-;
+-
+-115 
+-ut
+- *
+-	me2
+-;
+-
+-116 
+-usht
+- 
+-	mss2
+-;
+-
+-117 
+-usht
+- 
+-	mddg3
+-;
+-
+-118 *
+-	m3
+-;
+-
+-119 
+-ut
+- *
+-	me
+-;
+-
+-120 
+-ut
+- 
+-	meags
+-;
+-
+-121 
+-ut
+- 
+-	mx
+-;
+-
+-122 
+-ut
+- 
+-	mecx
+-;
+-
+-123 
+-ut
+- 
+-	medx
+-;
+-
+-124 
+-ut
+- 
+-	mebx
+-;
+-
+-125 
+-ut
+- *
+-	me
+-;
+-
+-126 
+-ut
+- *
+-	mebp
+-;
+-
+-127 
+-ut
+- 
+-	mesi
+-;
+-
+-128 
+-ut
+- 
+-	medi
+-;
+-
+-129 
+-usht
+- 
+-	mes
+-;
+-
+-130 
+-usht
+- 
+-	mddg4
+-;
+-
+-131 
+-usht
+- 
+-	mcs
+-;
+-
+-132 
+-usht
+- 
+-	mddg5
+-;
+-
+-133 
+-usht
+- 
+-	mss
+-;
+-
+-134 
+-usht
+- 
+-	mddg6
+-;
+-
+-135 
+-usht
+- 
+-	mds
+-;
+-
+-136 
+-usht
+- 
+-	mddg7
+-;
+-
+-137 
+-usht
+- 
+-	mfs
+-;
+-
+-138 
+-usht
+- 
+-	mddg8
+-;
+-
+-139 
+-usht
+- 
+-	mgs
+-;
+-
+-140 
+-usht
+- 
+-	mddg9
+-;
+-
+-141 
+-usht
+- 
+-	mldt
+-;
+-
+-142 
+-usht
+- 
+-	mddg10
+-;
+-
+-143 
+-usht
+- 
+-	mt
+-;
+-
+-144 
+-usht
+- 
+-	miomb
+-;
+-
+-148 
+-	sgedesc
+- {
+-
+-149 
+-ut
+- 
+-	moff_15_0
+- : 16;
+-
+-150 
+-ut
+- 
+-	mcs
+- : 16;
+-
+-151 
+-ut
+- 
+-	mgs
+- : 5;
+-
+-152 
+-ut
+- 
+-	mrsv1
+- : 3;
+-
+-153 
+-ut
+- 
+-	mty
+- : 4;
+-
+-154 
+-ut
+- 
+-	ms
+- : 1;
+-
+-155 
+-ut
+- 
+-	md
+- : 2;
+-
+-156 
+-ut
+- 
+-	mp
+- : 1;
+-
+-157 
+-ut
+- 
+-	moff_31_16
+- : 16;
+-
+-168 
+-	#SETGATE
+-(
+-ge
+-, 
+-ip
+-, 
+-l
+-, 
+-off
+-, 
+-d
+-) \
+-
+-170 (
+-ge
+-).
+-off_15_0
+- = (
+-ut
+-)(
+-off
+-) & 0xffff; \
+-
+-171 (
+-ge
+-).
+-cs
+- = (
+-l
+-); \
+-
+-172 (
+-ge
+-).
+-gs
+- = 0; \
+-
+-173 (
+-ge
+-).
+-rsv1
+- = 0; \
+-
+-174 (
+-ge
+-).
+-ty
+- = (
+-ip
+-? 
+-STS_TG32
+- : 
+-STS_IG32
+-; \
+-
+-175 (
+-ge
+-).
+-s
+- = 0; \
+-
+-176 (
+-ge
+-).
+-d
+- = (
+-d
+-); \
+-
+-177 (
+-ge
+-).
+-p
+- = 1; \
+-
+-178 (
+-ge
+-).
+-off_31_16
+- = (
+-ut
+-)(
+-off
+-) >> 16; \
+-
+-179 }
+-
+-	)
+-
+-	@mp.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"mp.h
+-"
+-
+-10 
+-	~"x86.h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-14 
+-u
+- 
+-	gus
+-[
+-NCPU
+-];
+-
+-15 
+-	gnu
+-;
+-
+-16 
+-uch
+- 
+-	gipicid
+-;
+-
+-18 
+-uch
+-
+-
+-19 
+-	$sum
+-(
+-uch
+- *
+-addr
+-, 
+-n
+-)
+-
+-21 
+-i
+-, 
+-sum
+-;
+-
+-23 
+-sum
+- = 0;
+-
+-24 
+-i
+-=0; i<
+-n
+-; i++)
+-
+-25 
+-sum
+- +
+-addr
+-[
+-i
+-];
+-
+-26  
+-sum
+-;
+-
+-27 
+-	}
+-}
+-
+-30 
+-mp
+-*
+-
+-31 
+-	$mpch1
+-(
+-ut
+- 
+-a
+-, 
+-n
+-)
+-
+-33 
+-uch
+- *
+-e
+-, *
+-p
+-, *
+-addr
+-;
+-
+-35 
+-addr
+- = 
+-	`P2V
+-(
+-a
+-);
+-
+-36 
+-e
+- = 
+-addr
+-+
+-n
+-;
+-
+-37 
+-p
+- = 
+-addr
+-; < 
+-e
+-; +(
+-mp
+-))
+-
+-38 if(
+-	`memcmp
+-(
+-p
+-, "_MP_", 4=0 && 
+-	`sum
+-, (
+-mp
+-)) == 0)
+-
+-39  (
+-mp
+-*)
+-p
+-;
+-
+-41 
+-	}
+-}
+-
+-48 
+-mp
+-*
+-
+-49 
+-	$mpch
+-()
+-
+-51 
+-uch
+- *
+-bda
+-;
+-
+-52 
+-ut
+- 
+-p
+-;
+-
+-53 
+-mp
+- *mp;
+-
+-55 
+-bda
+- = (
+-uch
+- *
+-	`P2V
+-(0x400);
+-
+-56 if((
+-p
+- = ((
+-bda
+-[0x0F]<<8)| bda[0x0E]) << 4)){
+-
+-57 if((
+-mp
+- = 
+-	`mpch1
+-(
+-p
+-, 1024)))
+-
+-58  
+-mp
+-;
+-
+-60 
+-p
+- = ((
+-bda
+-[0x14]<<8)|bda[0x13])*1024;
+-
+-61 if((
+-mp
+- = 
+-	`mpch1
+-(
+-p
+--1024, 1024)))
+-
+-62  
+-mp
+-;
+-
+-64  
+-	`mpch1
+-(0xF0000, 0x10000);
+-
+-65 
+-	}
+-}
+-
+-72 
+-mpcf
+-*
+-
+-73 
+-	$mpcfig
+-(
+-mp
+- **
+-pmp
+-)
+-
+-75 
+-mpcf
+- *
+-cf
+-;
+-
+-76 
+-mp
+- *mp;
+-
+-78 if((
+-mp
+- = 
+-	`mpch
+-()=0 || mp->
+-phyddr
+- == 0)
+-
+-80 
+-cf
+- = (
+-mpcf
+-*
+-	`P2V
+-((
+-ut
+-
+-mp
+-->
+-phyddr
+-);
+-
+-81 if(
+-	`memcmp
+-(
+-cf
+-, "PCMP", 4) != 0)
+-
+-83 if(
+-cf
+-->
+-vsi
+- != 1 && conf->version != 4)
+-
+-85 if(
+-	`sum
+-((
+-uch
+-*)
+-cf
+-, cf->
+-ngth
+-) != 0)
+-
+-87 *
+-pmp
+- = 
+-mp
+-;
+-
+-88  
+-cf
+-;
+-
+-89 
+-	}
+-}
+-
+-92 
+-	$mp
+-()
+-
+-94 
+-uch
+- *
+-p
+-, *
+-e
+-;
+-
+-95 
+-ismp
+-;
+-
+-96 
+-mp
+- *mp;
+-
+-97 
+-mpcf
+- *
+-cf
+-;
+-
+-98 
+-mroc
+- *
+-oc
+-;
+-
+-99 
+-mpipic
+- *
+-ipic
+-;
+-
+-101 if((
+-cf
+- = 
+-	`mpcfig
+-(&
+-mp
+-)) == 0)
+-
+-102 
+-	`nic
+-("Expectoun onn SMP");
+-
+-103 
+-ismp
+- = 1;
+-
+-104 
+-pic
+- = (
+-ut
+-*)
+-cf
+-->
+-piddr
+-;
+-
+-105 
+-p
+-=(
+-uch
+-*)(
+-cf
+-+1), 
+-e
+-=(uch*)cf+cf->
+-ngth
+-;<e; ){
+-
+-106 *
+-p
+-){
+-
+-107 
+-MPPROC
+-:
+-
+-108 
+-oc
+- = (
+-mroc
+-*)
+-p
+-;
+-
+-109 if(
+-nu
+- < 
+-NCPU
+-) {
+-
+-110 
+-us
+-[
+-nu
+-].
+-icid
+- = 
+-oc
+-->apicid;
+-
+-111 
+-nu
+-++;
+-
+-113 
+-p
+- +(
+-mroc
+-);
+-
+-115 
+-MPIOAPIC
+-:
+-
+-116 
+-ipic
+- = (
+-mpipic
+-*)
+-p
+-;
+-
+-117 
+-ipicid
+- = 
+-ipic
+-->
+-io
+-;
+-
+-118 
+-p
+- +(
+-mpipic
+-);
+-
+-120 
+-MPBUS
+-:
+-
+-121 
+-MPIOINTR
+-:
+-
+-122 
+-MPLINTR
+-:
+-
+-123 
+-p
+- += 8;
+-
+-126 
+-ismp
+- = 0;
+-
+-130 if(!
+-ismp
+-)
+-
+-131 
+-	`nic
+-("Didn't find suitable machine");
+-
+-133 if(
+-mp
+-->
+-imp
+-){
+-
+-136 
+-	`outb
+-(0x22, 0x70);
+-
+-137 
+-	`outb
+-(0x23, 
+-	`b
+-(0x23) | 1);
+-
+-139 
+-	}
+-}
+-
+-	@mp.h
+-
+-3 
+-	smp
+- {
+-
+-4 
+-uch
+- 
+-	msigtu
+-[4];
+-
+-5 *
+-	mphyddr
+-;
+-
+-6 
+-uch
+- 
+-	mngth
+-;
+-
+-7 
+-uch
+- 
+-	meev
+-;
+-
+-8 
+-uch
+- 
+-	mchecksum
+-;
+-
+-9 
+-uch
+- 
+-	mty
+-;
+-
+-10 
+-uch
+- 
+-	mimp
+-;
+-
+-11 
+-uch
+- 
+-	mrved
+-[3];
+-
+-14 
+-	smpcf
+- {
+-
+-15 
+-uch
+- 
+-	msigtu
+-[4];
+-
+-16 
+-usht
+- 
+-	mngth
+-;
+-
+-17 
+-uch
+- 
+-	mvsi
+-;
+-
+-18 
+-uch
+- 
+-	mchecksum
+-;
+-
+-19 
+-uch
+- 
+-	modu
+-[20];
+-
+-20 
+-ut
+- *
+-	mmb
+-;
+-
+-21 
+-usht
+- 
+-	mmngth
+-;
+-
+-22 
+-usht
+- 
+-	my
+-;
+-
+-23 
+-ut
+- *
+-	mpiddr
+-;
+-
+-24 
+-usht
+- 
+-	mxngth
+-;
+-
+-25 
+-uch
+- 
+-	mxchecksum
+-;
+-
+-26 
+-uch
+- 
+-	mrved
+-;
+-
+-29 
+-	smroc
+- {
+-
+-30 
+-uch
+- 
+-	mty
+-;
+-
+-31 
+-uch
+- 
+-	micid
+-;
+-
+-32 
+-uch
+- 
+-	mvsi
+-;
+-
+-33 
+-uch
+- 
+-	mags
+-;
+-
+-34 
+-	#MPBOOT
+- 0x02
+-
+-35 
+-uch
+- 
+-sigtu
+-[4];
+-
+-36 
+-ut
+- 
+-u
+-;
+-
+-37 
+-uch
+- 
+-rved
+-[8];
+-
+-	)
+-
+-40 
+-	smpipic
+- {
+-
+-41 
+-uch
+- 
+-	mty
+-;
+-
+-42 
+-uch
+- 
+-	mio
+-;
+-
+-43 
+-uch
+- 
+-	mvsi
+-;
+-
+-44 
+-uch
+- 
+-	mags
+-;
+-
+-45 
+-ut
+- *
+-	maddr
+-;
+-
+-49 
+-	#MPPROC
+- 0x00
+-
+-50 
+-	#MPBUS
+- 0x01
+-
+-51 
+-	#MPIOAPIC
+- 0x02
+-
+-52 
+-	#MPIOINTR
+- 0x03
+-
+-53 
+-	#MPLINTR
+- 0x04
+-
+-54 
+-
+-	)
+-
+-	@param.h
+-
+-1 
+-	#NPROC
+- 64
+-
+-2 
+-	#KSTACKSIZE
+- 4096
+-
+-3 
+-	#NCPU
+- 8
+-
+-4 
+-	#NOFILE
+- 16
+-
+-5 
+-	#NFILE
+- 100
+-
+-6 
+-	#NINODE
+- 50
+-
+-7 
+-	#NDEV
+- 10
+-
+-8 
+-	#ROOTDEV
+- 1
+-
+-9 
+-	#MAXARG
+- 32
+-
+-10 
+-	#MAXOPBLOCKS
+- 10
+-
+-11 
+-	#LOGSIZE
+- (
+-MAXOPBLOCKS
+-*3)
+-
+-12 
+-	#NBUF
+- (
+-MAXOPBLOCKS
+-*3)
+-
+-13 
+-	#FSSIZE
+- 1000
+-
+-14 
+-
+-	)
+-
+-	@picirq.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"s.h
+-"
+-
+-6 
+-	#IO_PIC1
+- 0x20
+-
+-7 
+-	#IO_PIC2
+- 0xA0
+-
+-8 
+-
+-	)
+-
+-11 
+-	$pic
+-()
+-
+-14 
+-	`outb
+-(
+-IO_PIC1
+-+1, 0xFF);
+-
+-15 
+-	`outb
+-(
+-IO_PIC2
+-+1, 0xFF);
+-
+-16 
+-	}
+-}
+-
+-	@pipe.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"mmu.h
+-"
+-
+-5 
+-	~"oc.h
+-"
+-
+-6 
+-	~"fs.h
+-"
+-
+-7 
+-	~"lock.h
+-"
+-
+-8 
+-	~"ock.h
+-"
+-
+-9 
+-	~"fe.h
+-"
+-
+-11 
+-	#PIPESIZE
+- 512
+-
+-	)
+-
+-13 
+-	spe
+- {
+-
+-14 
+-lock
+- 
+-	mlock
+-;
+-
+-15 
+-	mda
+-[
+-PIPESIZE
+-];
+-
+-16 
+-ut
+- 
+-	md
+-;
+-
+-17 
+-ut
+- 
+-	mnwre
+-;
+-
+-18 
+-	mad
+-;
+-
+-19 
+-	mwre
+-;
+-
+-23 
+-	$poc
+-(
+-fe
+- **
+-f0
+-, f**
+-f1
+-)
+-
+-25 
+-pe
+- *
+-p
+-;
+-
+-27 
+-p
+- = 0;
+-
+-28 *
+-f0
+- = *
+-f1
+- = 0;
+-
+-29 if((*
+-f0
+- = 
+-	`foc
+-()=0 || (*
+-f1
+- = filealloc()) == 0)
+-
+-30 
+-bad
+-;
+-
+-31 if((
+-p
+- = (
+-pe
+-*)
+-	`kloc
+-()) == 0)
+-
+-32 
+-bad
+-;
+-
+-33 
+-p
+-->
+-ad
+- = 1;
+-
+-34 
+-p
+-->
+-wre
+- = 1;
+-
+-35 
+-p
+-->
+-nwre
+- = 0;
+-
+-36 
+-p
+-->
+-d
+- = 0;
+-
+-37 
+-	`lock
+-(&
+-p
+-->
+-lock
+-, "pipe");
+-
+-38 (*
+-f0
+-)->
+-ty
+- = 
+-FD_PIPE
+-;
+-
+-39 (*
+-f0
+-)->
+-adab
+- = 1;
+-
+-40 (*
+-f0
+-)->
+-wrab
+- = 0;
+-
+-41 (*
+-f0
+-)->
+-pe
+- = 
+-p
+-;
+-
+-42 (*
+-f1
+-)->
+-ty
+- = 
+-FD_PIPE
+-;
+-
+-43 (*
+-f1
+-)->
+-adab
+- = 0;
+-
+-44 (*
+-f1
+-)->
+-wrab
+- = 1;
+-
+-45 (*
+-f1
+-)->
+-pe
+- = 
+-p
+-;
+-
+-49 
+-bad
+-:
+-
+-50 if(
+-p
+-)
+-
+-51 
+-	`k
+-((*)
+-p
+-);
+-
+-52 if(*
+-f0
+-)
+-
+-53 
+-	`feo
+-(*
+-f0
+-);
+-
+-54 if(*
+-f1
+-)
+-
+-55 
+-	`feo
+-(*
+-f1
+-);
+-
+-57 
+-	}
+-}
+-
+-60 
+-	$peo
+-(
+-pe
+- *
+-p
+-, 
+-wrab
+-)
+-
+-62 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-63 if(
+-wrab
+-){
+-
+-64 
+-p
+-->
+-wre
+- = 0;
+-
+-65 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-67 
+-p
+-->
+-ad
+- = 0;
+-
+-68 
+-	`wakeup
+-(&
+-p
+-->
+-nwre
+-);
+-
+-70 if(
+-p
+-->
+-ad
+- =0 &&->
+-wre
+- == 0){
+-
+-71 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-72 
+-	`k
+-((*)
+-p
+-);
+-
+-74 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-75 
+-	}
+-}
+-
+-79 
+-	$pewre
+-(
+-pe
+- *
+-p
+-, *
+-addr
+-, 
+-n
+-)
+-
+-81 
+-i
+-;
+-
+-83 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-84 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-85 
+-p
+-->
+-nwre
+- =p->
+-d
+- + 
+-PIPESIZE
+-){
+-
+-86 if(
+-p
+-->
+-ad
+- =0 || 
+-	`myoc
+-()->
+-kd
+-){
+-
+-87 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-90 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-91 
+-	`p
+-(&
+-p
+-->
+-nwre
+-, &p->
+-lock
+-);
+-
+-93 
+-p
+-->
+-da
+-[p->
+-nwre
+-++ % 
+-PIPESIZE
+-] = 
+-addr
+-[
+-i
+-];
+-
+-95 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-96 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-97  
+-n
+-;
+-
+-98 
+-	}
+-}
+-
+-101 
+-	$pd
+-(
+-pe
+- *
+-p
+-, *
+-addr
+-, 
+-n
+-)
+-
+-103 
+-i
+-;
+-
+-105 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-106 
+-p
+-->
+-d
+- =p->
+-nwre
+- &&->
+-wre
+-){
+-
+-107 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-108 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-111 
+-	`p
+-(&
+-p
+-->
+-d
+-, &p->
+-lock
+-);
+-
+-113 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-114 if(
+-p
+-->
+-d
+- =p->
+-nwre
+-)
+-
+-116 
+-addr
+-[
+-i
+-] = 
+-p
+-->
+-da
+-[p->
+-d
+-++ % 
+-PIPESIZE
+-];
+-
+-118 
+-	`wakeup
+-(&
+-p
+-->
+-nwre
+-);
+-
+-119 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-120  
+-i
+-;
+-
+-121 
+-	}
+-}
+-
+-	@printf.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$putc
+-(
+-fd
+-, 
+-c
+-)
+-
+-8 
+-	`wre
+-(
+-fd
+-, &
+-c
+-, 1);
+-
+-9 
+-	}
+-}
+-
+-12 
+-	$tt
+-(
+-fd
+-, 
+-xx
+-, 
+-ba
+-, 
+-sgn
+-)
+-
+-14 
+-digs
+-[] = "0123456789ABCDEF";
+-
+-15 
+-buf
+-[16];
+-
+-16 
+-i
+-, 
+-g
+-;
+-
+-17 
+-ut
+- 
+-x
+-;
+-
+-19 
+-g
+- = 0;
+-
+-20 if(
+-sgn
+- && 
+-xx
+- < 0){
+-
+-21 
+-g
+- = 1;
+-
+-22 
+-x
+- = -
+-xx
+-;
+-
+-24 
+-x
+- = 
+-xx
+-;
+-
+-27 
+-i
+- = 0;
+-
+-29 
+-buf
+-[
+-i
+-++] = 
+-digs
+-[
+-x
+- % 
+-ba
+-];
+-
+-30 }(
+-x
+- /
+-ba
+-) != 0);
+-
+-31 if(
+-g
+-)
+-
+-32 
+-buf
+-[
+-i
+-++] = '-';
+-
+-34 --
+-i
+- >= 0)
+-
+-35 
+-	`putc
+-(
+-fd
+-, 
+-buf
+-[
+-i
+-]);
+-
+-36 
+-	}
+-}
+-
+-40 
+-	$tf
+-(
+-fd
+-, c *
+-fmt
+-, ...)
+-
+-42 *
+-s
+-;
+-
+-43 
+-c
+-, 
+-i
+-, 
+-e
+-;
+-
+-44 
+-ut
+- *
+-
+-;
+-
+-46 
+-e
+- = 0;
+-
+-47 
+-
+- = (
+-ut
+-*)(*)&
+-fmt
+- + 1;
+-
+-48 
+-i
+- = 0; 
+-fmt
+-[i]; i++){
+-
+-49 
+-c
+- = 
+-fmt
+-[
+-i
+-] & 0xff;
+-
+-50 if(
+-e
+- == 0){
+-
+-51 if(
+-c
+- == '%'){
+-
+-52 
+-e
+- = '%';
+-
+-54 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-56 } if(
+-e
+- == '%'){
+-
+-57 if(
+-c
+- == 'd'){
+-
+-58 
+-	`tt
+-(
+-fd
+-, *
+-
+-, 10, 1);
+-
+-59 
+-
+-++;
+-
+-60 } if(
+-c
+- == 'x' || c == 'p'){
+-
+-61 
+-	`tt
+-(
+-fd
+-, *
+-
+-, 16, 0);
+-
+-62 
+-
+-++;
+-
+-63 } if(
+-c
+- == 's'){
+-
+-64 
+-s
+- = (*)*
+-
+-;
+-
+-65 
+-
+-++;
+-
+-66 if(
+-s
+- == 0)
+-
+-67 
+-s
+- = "(null)";
+-
+-68 *
+-s
+- != 0){
+-
+-69 
+-	`putc
+-(
+-fd
+-, *
+-s
+-);
+-
+-70 
+-s
+-++;
+-
+-72 } if(
+-c
+- == 'c'){
+-
+-73 
+-	`putc
+-(
+-fd
+-, *
+-
+-);
+-
+-74 
+-
+-++;
+-
+-75 } if(
+-c
+- == '%'){
+-
+-76 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-79 
+-	`putc
+-(
+-fd
+-, '%');
+-
+-80 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-82 
+-e
+- = 0;
+-
+-85 
+-	}
+-}
+-
+-	@proc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"oc.h
+-"
+-
+-8 
+-	~"lock.h
+-"
+-
+-11 
+-lock
+- 
+-	mlock
+-;
+-
+-12 
+-oc
+- 
+-	moc
+-[
+-NPROC
+-];
+-
+-13 } 
+-	gab
+-;
+-
+-15 
+-oc
+- *
+-	goc
+-;
+-
+-17 
+-	gxid
+- = 1;
+-
+-18 

+-fkt
+-();
+-
+-19 

+-t
+-();
+-
+-21 
+-wakeup1
+-(*
+-ch
+-);
+-
+-24 
+-	$p
+-()
+-
+-26 
+-	`lock
+-(&
+-ab
+-.
+-lock
+-, "ptable");
+-
+-27 
+-	}
+-}
+-
+-31 
+-	$uid
+-() {
+-
+-32  
+-	`myu
+-()-
+-us
+-;
+-
+-33 
+-	}
+-}
+-
+-37 
+-u
+-*
+-
+-38 
+-	$myu
+-()
+-
+-40 
+-icid
+-, 
+-i
+-;
+-
+-42 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-43 
+-	`nic
+-("mycpu called with interruptsnabled\n");
+-
+-45 
+-icid
+- = 
+-	`picid
+-();
+-
+-48 
+-i
+- = 0; i < 
+-nu
+-; ++i) {
+-
+-49 i(
+-us
+-[
+-i
+-].
+-icid
+- ==picid)
+-
+-50  &
+-us
+-[
+-i
+-];
+-
+-52 
+-	`nic
+-("unknownpicid\n");
+-
+-53 
+-	}
+-}
+-
+-57 
+-oc
+-*
+-
+-58 
+-	$myoc
+-() {
+-
+-59 
+-u
+- *
+-c
+-;
+-
+-60 
+-oc
+- *
+-p
+-;
+-
+-61 
+-	`pushi
+-();
+-
+-62 
+-c
+- = 
+-	`myu
+-();
+-
+-63 
+-p
+- = 
+-c
+-->
+-oc
+-;
+-
+-64 
+-	`pi
+-();
+-
+-65  
+-p
+-;
+-
+-66 
+-	}
+-}
+-
+-73 
+-oc
+-*
+-
+-74 
+-	$loroc
+-()
+-
+-76 
+-oc
+- *
+-p
+-;
+-
+-77 *
+-
+-;
+-
+-79 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-81 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++)
+-
+-82 if(
+-p
+-->
+-e
+- =
+-UNUSED
+-)
+-
+-83 
+-found
+-;
+-
+-85 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-88 
+-found
+-:
+-
+-89 
+-p
+-->
+-e
+- = 
+-EMBRYO
+-;
+-
+-90 
+-p
+-->
+-pid
+- = 
+-xid
+-++;
+-
+-92 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-95 if((
+-p
+-->
+-kack
+- = 
+-	`kloc
+-()) == 0){
+-
+-96 
+-p
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-99 
+-
+- = 
+-p
+-->
+-kack
+- + 
+-KSTACKSIZE
+-;
+-
+-102 
+-
+- - *
+-p
+-->
+-tf
+-;
+-
+-103 
+-p
+-->
+-tf
+- = (
+-ame
+-*)
+-
+-;
+-
+-107 
+-
+- -= 4;
+-
+-108 *(
+-ut
+-*)
+-
+- = (ut)
+-t
+-;
+-
+-110 
+-
+- - *
+-p
+-->
+-cxt
+-;
+-
+-111 
+-p
+-->
+-cxt
+- = (cxt*)
+-
+-;
+-
+-112 
+-	`memt
+-(
+-p
+-->
+-cxt
+-, 0,  *p->context);
+-
+-113 
+-p
+-->
+-cxt
+-->
+-e
+- = (
+-ut
+-)
+-fkt
+-;
+-
+-115  
+-p
+-;
+-
+-116 
+-	}
+-}
+-
+-121 
+-	$ur
+-()
+-
+-123 
+-oc
+- *
+-p
+-;
+-
+-124 

+-_by_code_t
+-[], 
+-_by_code_size
+-[];
+-
+-126 
+-p
+- = 
+-	`loroc
+-();
+-
+-128 
+-oc
+- = 
+-p
+-;
+-
+-129 if((
+-p
+-->
+-pgd
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-130 
+-	`nic
+-("userinit: out of memory?");
+-
+-131 
+-	`uvm
+-(
+-p
+-->
+-pgd
+-, 
+-_by_code_t
+-, ()
+-_by_code_size
+-);
+-
+-132 
+-p
+-->
+-sz
+- = 
+-PGSIZE
+-;
+-
+-133 
+-	`memt
+-(
+-p
+-->
+-tf
+-, 0, (*p->tf));
+-
+-134 
+-p
+-->
+-tf
+-->
+-cs
+- = (
+-SEG_UCODE
+- << 3| 
+-DPL_USER
+-;
+-
+-135 
+-p
+-->
+-tf
+-->
+-ds
+- = (
+-SEG_UDATA
+- << 3| 
+-DPL_USER
+-;
+-
+-136 
+-p
+-->
+-tf
+-->
+-es
+- =->tf->
+-ds
+-;
+-
+-137 
+-p
+-->
+-tf
+-->
+-ss
+- =->tf->
+-ds
+-;
+-
+-138 
+-p
+-->
+-tf
+-->
+-eags
+- = 
+-FL_IF
+-;
+-
+-139 
+-p
+-->
+-tf
+-->
+-e
+- = 
+-PGSIZE
+-;
+-
+-140 
+-p
+-->
+-tf
+-->
+-e
+- = 0;
+-
+-142 
+-	`ry
+-(
+-p
+-->
+-me
+-, "initcode", (p->name));
+-
+-143 
+-p
+-->
+-cwd
+- = 
+-	`mei
+-("/");
+-
+-149 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-151 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-153 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-154 
+-	}
+-}
+-
+-159 
+-	$growoc
+-(
+-n
+-)
+-
+-161 
+-ut
+- 
+-sz
+-;
+-
+-162 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-164 
+-sz
+- = 
+-curoc
+-->sz;
+-
+-165 if(
+-n
+- > 0){
+-
+-166 if((
+-sz
+- = 
+-	`locuvm
+-(
+-curoc
+-->
+-pgd
+-, sz, sz + 
+-n
+-)) == 0)
+-
+-168 } if(
+-n
+- < 0){
+-
+-169 if((
+-sz
+- = 
+-	`docuvm
+-(
+-curoc
+-->
+-pgd
+-, sz, sz + 
+-n
+-)) == 0)
+-
+-172 
+-curoc
+-->
+-sz
+- = sz;
+-
+-173 
+-	`swchuvm
+-(
+-curoc
+-);
+-
+-175 
+-	}
+-}
+-
+-181 
+-	$fk
+-()
+-
+-183 
+-i
+-, 
+-pid
+-;
+-
+-184 
+-oc
+- *
+-
+-;
+-
+-185 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-188 if((
+-
+- = 
+-	`loroc
+-()) == 0){
+-
+-193 if((
+-
+-->
+-pgd
+- = 
+-	`cyuvm
+-(
+-curoc
+-->pgd, curoc->
+-sz
+-)) == 0){
+-
+-194 
+-	`k
+-(
+-
+-->
+-kack
+-);
+-
+-195 
+-
+-->
+-kack
+- = 0;
+-
+-196 
+-
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-199 
+-
+-->
+-sz
+- = 
+-curoc
+-->sz;
+-
+-200 
+-
+-->
+-
+- = 
+-curoc
+-;
+-
+-201 *
+-
+-->
+-tf
+- = *
+-curoc
+-->tf;
+-
+-204 
+-
+-->
+-tf
+-->
+-x
+- = 0;
+-
+-206 
+-i
+- = 0; i < 
+-NOFILE
+-; i++)
+-
+-207 if(
+-curoc
+-->
+-ofe
+-[
+-i
+-])
+-
+-208 
+-
+-->
+-ofe
+-[
+-i
+-] = 
+-	`fedup
+-(
+-curoc
+-->ofile[i]);
+-
+-209 
+-
+-->
+-cwd
+- = 
+-	`idup
+-(
+-curoc
+-->cwd);
+-
+-211 
+-	`ry
+-(
+-
+-->
+-me
+-, 
+-curoc
+-->name, (curproc->name));
+-
+-213 
+-pid
+- = 
+-
+-->pid;
+-
+-215 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-217 
+-
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-219 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-221  
+-pid
+-;
+-
+-222 
+-	}
+-}
+-
+-228 
+-	$ex
+-()
+-
+-230 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-231 
+-oc
+- *
+-p
+-;
+-
+-232 
+-fd
+-;
+-
+-234 if(
+-curoc
+- =
+-oc
+-)
+-
+-235 
+-	`nic
+-("initxiting");
+-
+-238 
+-fd
+- = 0; fd < 
+-NOFILE
+-; fd++){
+-
+-239 if(
+-curoc
+-->
+-ofe
+-[
+-fd
+-]){
+-
+-240 
+-	`feo
+-(
+-curoc
+-->
+-ofe
+-[
+-fd
+-]);
+-
+-241 
+-curoc
+-->
+-ofe
+-[
+-fd
+-] = 0;
+-
+-245 
+-	`beg_
+-();
+-
+-246 
+-	`ut
+-(
+-curoc
+-->
+-cwd
+-);
+-
+-247 
+-	`d_
+-();
+-
+-248 
+-curoc
+-->
+-cwd
+- = 0;
+-
+-250 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-253 
+-	`wakeup1
+-(
+-curoc
+-->
+-
+-);
+-
+-256 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-257 if(
+-p
+-->
+-
+- =
+-curoc
+-){
+-
+-258 
+-p
+-->
+-
+- = 
+-oc
+-;
+-
+-259 if(
+-p
+-->
+-e
+- =
+-ZOMBIE
+-)
+-
+-260 
+-	`wakeup1
+-(
+-oc
+-);
+-
+-265 
+-curoc
+-->
+-e
+- = 
+-ZOMBIE
+-;
+-
+-266 
+-	`sched
+-();
+-
+-267 
+-	`nic
+-("zombiexit");
+-
+-268 
+-	}
+-}
+-
+-273 
+-	$wa
+-()
+-
+-275 
+-oc
+- *
+-p
+-;
+-
+-276 
+-havekids
+-, 
+-pid
+-;
+-
+-277 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-279 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-282 
+-havekids
+- = 0;
+-
+-283 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-284 if(
+-p
+-->
+-
+- !
+-curoc
+-)
+-
+-286 
+-havekids
+- = 1;
+-
+-287 if(
+-p
+-->
+-e
+- =
+-ZOMBIE
+-){
+-
+-289 
+-pid
+- = 
+-p
+-->pid;
+-
+-290 
+-	`k
+-(
+-p
+-->
+-kack
+-);
+-
+-291 
+-p
+-->
+-kack
+- = 0;
+-
+-292 
+-	`vm
+-(
+-p
+-->
+-pgd
+-);
+-
+-293 
+-p
+-->
+-pid
+- = 0;
+-
+-294 
+-p
+-->
+-
+- = 0;
+-
+-295 
+-p
+-->
+-me
+-[0] = 0;
+-
+-296 
+-p
+-->
+-kd
+- = 0;
+-
+-297 
+-p
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-298 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-299  
+-pid
+-;
+-
+-304 if(!
+-havekids
+- || 
+-curoc
+-->
+-kd
+-){
+-
+-305 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-310 
+-	`p
+-(
+-curoc
+-, &
+-ab
+-.
+-lock
+-);
+-
+-312 
+-	}
+-}
+-
+-323 
+-	$schedur
+-()
+-
+-325 
+-oc
+- *
+-p
+-;
+-
+-326 
+-u
+- *
+-c
+- = 
+-	`myu
+-();
+-
+-327 
+-c
+-->
+-oc
+- = 0;
+-
+-331 
+-	`i
+-();
+-
+-334 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-335 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-336 if(
+-p
+-->
+-e
+- !
+-RUNNABLE
+-)
+-
+-342 
+-c
+-->
+-oc
+- = 
+-p
+-;
+-
+-343 
+-	`swchuvm
+-(
+-p
+-);
+-
+-344 
+-p
+-->
+-e
+- = 
+-RUNNING
+-;
+-
+-346 
+-	`swtch
+-(&(
+-c
+-->
+-schedur
+-), 
+-p
+-->
+-cxt
+-);
+-
+-347 
+-	`swchkvm
+-();
+-
+-351 
+-c
+-->
+-oc
+- = 0;
+-
+-353 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-356 
+-	}
+-}
+-
+-366 
+-	$sched
+-()
+-
+-368 
+-
+-;
+-
+-369 
+-oc
+- *
+-p
+- = 
+-	`myoc
+-();
+-
+-371 if(!
+-	`hdg
+-(&
+-ab
+-.
+-lock
+-))
+-
+-372 
+-	`nic
+-("schedtable.lock");
+-
+-373 if(
+-	`myu
+-()->
+-ni
+- != 1)
+-
+-374 
+-	`nic
+-("schedocks");
+-
+-375 if(
+-p
+-->
+-e
+- =
+-RUNNING
+-)
+-
+-376 
+-	`nic
+-("schedunning");
+-
+-377 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-378 
+-	`nic
+-("sched interruptible");
+-
+-379 
+-
+- = 
+-	`myu
+-()->intena;
+-
+-380 
+-	`swtch
+-(&
+-p
+-->
+-cxt
+-, 
+-	`myu
+-()->
+-schedur
+-);
+-
+-381 
+-	`myu
+-()->
+-
+- = intena;
+-
+-382 
+-	}
+-}
+-
+-386 
+-	$yld
+-()
+-
+-388 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-389 
+-	`myoc
+-()->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-390 
+-	`sched
+-();
+-
+-391 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-392 
+-	}
+-}
+-
+-397 
+-	$fkt
+-()
+-
+-399 
+-f
+- = 1;
+-
+-401 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-403 i(
+-f
+-) {
+-
+-407 
+-f
+- = 0;
+-
+-408 
+-	`i
+-(
+-ROOTDEV
+-);
+-
+-409 
+-	`log
+-(
+-ROOTDEV
+-);
+-
+-413 
+-	}
+-}
+-
+-418 
+-	$p
+-(*
+-ch
+-, 
+-lock
+- *
+-lk
+-)
+-
+-420 
+-oc
+- *
+-p
+- = 
+-	`myoc
+-();
+-
+-422 if(
+-p
+- == 0)
+-
+-423 
+-	`nic
+-("sleep");
+-
+-425 if(
+-lk
+- == 0)
+-
+-426 
+-	`nic
+-("sleep withoutk");
+-
+-434 if(
+-lk
+- !&
+-ab
+-.
+-lock
+-){
+-
+-435 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-436 
+-	`a
+-(
+-lk
+-);
+-
+-439 
+-p
+-->
+-ch
+- = chan;
+-
+-440 
+-p
+-->
+-e
+- = 
+-SLEEPING
+-;
+-
+-442 
+-	`sched
+-();
+-
+-445 
+-p
+-->
+-ch
+- = 0;
+-
+-448 if(
+-lk
+- !&
+-ab
+-.
+-lock
+-){
+-
+-449 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-450 
+-	`acque
+-(
+-lk
+-);
+-
+-452 
+-	}
+-}
+-
+-458 
+-	$wakeup1
+-(*
+-ch
+-)
+-
+-460 
+-oc
+- *
+-p
+-;
+-
+-462 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++)
+-
+-463 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+- &&->
+-ch
+- == chan)
+-
+-464 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-465 
+-	}
+-}
+-
+-469 
+-	$wakeup
+-(*
+-ch
+-)
+-
+-471 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-472 
+-	`wakeup1
+-(
+-ch
+-);
+-
+-473 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-474 
+-	}
+-}
+-
+-480 
+-	$kl
+-(
+-pid
+-)
+-
+-482 
+-oc
+- *
+-p
+-;
+-
+-484 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-485 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-486 if(
+-p
+-->
+-pid
+- ==id){
+-
+-487 
+-p
+-->
+-kd
+- = 1;
+-
+-489 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+-)
+-
+-490 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-491 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-495 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-497 
+-	}
+-}
+-
+-504 
+-	$ocdump
+-()
+-
+-506 *
+-es
+-[] = {
+-
+-507 [
+-UNUSED
+-] "unused",
+-
+-508 [
+-EMBRYO
+-] "embryo",
+-
+-509 [
+-SLEEPING
+-] "sleep ",
+-
+-510 [
+-RUNNABLE
+-] "runble",
+-
+-511 [
+-RUNNING
+-] "run ",
+-
+-512 [
+-ZOMBIE
+-] "zombie"
+-
+-514 
+-i
+-;
+-
+-515 
+-oc
+- *
+-p
+-;
+-
+-516 *
+-e
+-;
+-
+-517 
+-ut
+- 
+-pc
+-[10];
+-
+-519 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-520 if(
+-p
+-->
+-e
+- =
+-UNUSED
+-)
+-
+-522 if(
+-p
+-->
+-e
+- >0 &&->< 
+-	`NELEM
+-(
+-es
+-) && states[p->state])
+-
+-523 
+-e
+- = 
+-es
+-[
+-p
+-->state];
+-
+-525 
+-e
+- = "???";
+-
+-526 
+-	`rtf
+-("%d %%s", 
+-p
+-->
+-pid
+-, 
+-e
+-,->
+-me
+-);
+-
+-527 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+-){
+-
+-528 
+-	`gpcs
+-((
+-ut
+-*)
+-p
+-->
+-cxt
+-->
+-ebp
+-+2, 
+-pc
+-);
+-
+-529 
+-i
+-=0; i<10 && 
+-pc
+-[i] != 0; i++)
+-
+-530 
+-	`rtf
+-(" %p", 
+-pc
+-[
+-i
+-]);
+-
+-532 
+-	`rtf
+-("\n");
+-
+-534 
+-	}
+-}
+-
+-	@proc.h
+-
+-2 
+-	su
+- {
+-
+-3 
+-uch
+- 
+-	micid
+-;
+-
+-4 
+-cxt
+- *
+-	mschedur
+-;
+-
+-5 
+-ske
+- 
+-	mts
+-;
+-
+-6 
+-gdesc
+- 
+-	mgdt
+-[
+-NSEGS
+-];
+-
+-7 v
+-ut
+- 
+-	md
+-;
+-
+-8 
+-	mni
+-;
+-
+-9 
+-	m
+-;
+-
+-10 
+-oc
+- *
+-	moc
+-;
+-
+-13 

+-u
+- 
+-us
+-[
+-NCPU
+-];
+-
+-14 

+-nu
+-;
+-
+-27 
+-	scxt
+- {
+-
+-28 
+-ut
+- 
+-	medi
+-;
+-
+-29 
+-ut
+- 
+-	mesi
+-;
+-
+-30 
+-ut
+- 
+-	mebx
+-;
+-
+-31 
+-ut
+- 
+-	mebp
+-;
+-
+-32 
+-ut
+- 
+-	me
+-;
+-
+-35 
+-	eoce
+- { 
+-	mUNUSED
+-, 
+-	mEMBRYO
+-, 
+-	mSLEEPING
+-, 
+-	mRUNNABLE
+-, 
+-	mRUNNING
+-, 
+-	mZOMBIE
+- };
+-
+-38 
+-	soc
+- {
+-
+-39 
+-ut
+- 
+-	msz
+-;
+-
+-40 
+-pde_t
+-* 
+-	mpgd
+-;
+-
+-41 *
+-	mkack
+-;
+-
+-42 
+-oce
+- 
+-	me
+-;
+-
+-43 
+-	mpid
+-;
+-
+-44 
+-oc
+- *
+-	m
+-;
+-
+-45 
+-ame
+- *
+-	mtf
+-;
+-
+-46 
+-cxt
+- *
+-	mcxt
+-;
+-
+-47 *
+-	mch
+-;
+-
+-48 
+-	mkd
+-;
+-
+-49 
+-fe
+- *
+-	mofe
+-[
+-NOFILE
+-];
+-
+-50 
+-ode
+- *
+-	mcwd
+-;
+-
+-51 
+-	mme
+-[16];
+-
+-	@rm.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "Usage:m files...\n");
+-
+-12 
+-	`ex
+-();
+-
+-15 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-16 if(
+-	`uk
+-(
+-gv
+-[
+-i
+-]) < 0){
+-
+-17 
+-	`tf
+-(2, "rm: %edde\n", 
+-gv
+-[
+-i
+-]);
+-
+-22 
+-	`ex
+-();
+-
+-23 
+-	}
+-}
+-
+-	@sh.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"f.h
+-"
+-
+-8 
+-	#EXEC
+- 1
+-
+-	)
+-
+-9 
+-	#REDIR
+- 2
+-
+-	)
+-
+-10 
+-	#PIPE
+- 3
+-
+-	)
+-
+-11 
+-	#LIST
+- 4
+-
+-	)
+-
+-12 
+-	#BACK
+- 5
+-
+-	)
+-
+-14 
+-	#MAXARGS
+- 10
+-
+-	)
+-
+-16 
+-	scmd
+- {
+-
+-17 
+-	mty
+-;
+-
+-20 
+-	sexeccmd
+- {
+-
+-21 
+-	mty
+-;
+-
+-22 *
+-	mgv
+-[
+-MAXARGS
+-];
+-
+-23 *
+-	mrgv
+-[
+-MAXARGS
+-];
+-
+-26 
+-	sdcmd
+- {
+-
+-27 
+-	mty
+-;
+-
+-28 
+-cmd
+- *
+-	mcmd
+-;
+-
+-29 *
+-	mfe
+-;
+-
+-30 *
+-	mefe
+-;
+-
+-31 
+-	mmode
+-;
+-
+-32 
+-	mfd
+-;
+-
+-35 
+-	specmd
+- {
+-
+-36 
+-	mty
+-;
+-
+-37 
+-cmd
+- *
+-	m
+-;
+-
+-38 
+-cmd
+- *
+-	mright
+-;
+-
+-41 
+-	slicmd
+- {
+-
+-42 
+-	mty
+-;
+-
+-43 
+-cmd
+- *
+-	m
+-;
+-
+-44 
+-cmd
+- *
+-	mright
+-;
+-
+-47 
+-	sbackcmd
+- {
+-
+-48 
+-	mty
+-;
+-
+-49 
+-cmd
+- *
+-	mcmd
+-;
+-
+-52 
+-fk1
+-();
+-
+-53 
+-nic
+-(*);
+-
+-54 
+-cmd
+- *
+-rcmd
+-(*);
+-
+-58 
+-	$runcmd
+-(
+-cmd
+- *cmd)
+-
+-60 
+-p
+-[2];
+-
+-61 
+-backcmd
+- *
+-bcmd
+-;
+-
+-62 
+-execcmd
+- *
+-ecmd
+-;
+-
+-63 
+-licmd
+- *
+-lcmd
+-;
+-
+-64 
+-pecmd
+- *
+-pcmd
+-;
+-
+-65 
+-dcmd
+- *
+-rcmd
+-;
+-
+-67 if(
+-cmd
+- == 0)
+-
+-68 
+-	`ex
+-();
+-
+-70 
+-cmd
+-->
+-ty
+-){
+-
+-72 
+-	`nic
+-("runcmd");
+-
+-74 
+-EXEC
+-:
+-
+-75 
+-ecmd
+- = (
+-execcmd
+-*)
+-cmd
+-;
+-
+-76 if(
+-ecmd
+-->
+-gv
+-[0] == 0)
+-
+-77 
+-	`ex
+-();
+-
+-78 
+-	`exec
+-(
+-ecmd
+-->
+-gv
+-[0],cmd->argv);
+-
+-79 
+-	`tf
+-(2, "exe%ed\n", 
+-ecmd
+-->
+-gv
+-[0]);
+-
+-82 
+-REDIR
+-:
+-
+-83 
+-rcmd
+- = (
+-dcmd
+-*)
+-cmd
+-;
+-
+-84 
+-	`o
+-(
+-rcmd
+-->
+-fd
+-);
+-
+-85 if(
+-	`
+-(
+-rcmd
+-->
+-fe
+-,cmd->
+-mode
+-) < 0){
+-
+-86 
+-	`tf
+-(2, " %ed\n", 
+-rcmd
+-->
+-fe
+-);
+-
+-87 
+-	`ex
+-();
+-
+-89 
+-	`runcmd
+-(
+-rcmd
+-->
+-cmd
+-);
+-
+-92 
+-LIST
+-:
+-
+-93 
+-lcmd
+- = (
+-licmd
+-*)
+-cmd
+-;
+-
+-94 if(
+-	`fk1
+-() == 0)
+-
+-95 
+-	`runcmd
+-(
+-lcmd
+-->
+-
+-);
+-
+-96 
+-	`wa
+-();
+-
+-97 
+-	`runcmd
+-(
+-lcmd
+-->
+-right
+-);
+-
+-100 
+-PIPE
+-:
+-
+-101 
+-pcmd
+- = (
+-pecmd
+-*)
+-cmd
+-;
+-
+-102 if(
+-	`pe
+-(
+-p
+-) < 0)
+-
+-103 
+-	`nic
+-("pipe");
+-
+-104 if(
+-	`fk1
+-() == 0){
+-
+-105 
+-	`o
+-(1);
+-
+-106 
+-	`dup
+-(
+-p
+-[1]);
+-
+-107 
+-	`o
+-(
+-p
+-[0]);
+-
+-108 
+-	`o
+-(
+-p
+-[1]);
+-
+-109 
+-	`runcmd
+-(
+-pcmd
+-->
+-
+-);
+-
+-111 if(
+-	`fk1
+-() == 0){
+-
+-112 
+-	`o
+-(0);
+-
+-113 
+-	`dup
+-(
+-p
+-[0]);
+-
+-114 
+-	`o
+-(
+-p
+-[0]);
+-
+-115 
+-	`o
+-(
+-p
+-[1]);
+-
+-116 
+-	`runcmd
+-(
+-pcmd
+-->
+-right
+-);
+-
+-118 
+-	`o
+-(
+-p
+-[0]);
+-
+-119 
+-	`o
+-(
+-p
+-[1]);
+-
+-120 
+-	`wa
+-();
+-
+-121 
+-	`wa
+-();
+-
+-124 
+-BACK
+-:
+-
+-125 
+-bcmd
+- = (
+-backcmd
+-*)
+-cmd
+-;
+-
+-126 if(
+-	`fk1
+-() == 0)
+-
+-127 
+-	`runcmd
+-(
+-bcmd
+-->
+-cmd
+-);
+-
+-130 
+-	`ex
+-();
+-
+-131 
+-	}
+-}
+-
+-134 
+-	$gcmd
+-(*
+-buf
+-, 
+-nbuf
+-)
+-
+-136 
+-	`tf
+-(2, "$ ");
+-
+-137 
+-	`memt
+-(
+-buf
+-, 0, 
+-nbuf
+-);
+-
+-138 
+-	`gs
+-(
+-buf
+-, 
+-nbuf
+-);
+-
+-139 if(
+-buf
+-[0] == 0)
+-
+-142 
+-	}
+-}
+-
+-145 
+-	$ma
+-()
+-
+-147 
+-buf
+-[100];
+-
+-148 
+-fd
+-;
+-
+-151 (
+-fd
+- = 
+-	`
+-("cse", 
+-O_RDWR
+-)) >= 0){
+-
+-152 if(
+-fd
+- >= 3){
+-
+-153 
+-	`o
+-(
+-fd
+-);
+-
+-159 
+-	`gcmd
+-(
+-buf
+-, (buf)) >= 0){
+-
+-160 if(
+-buf
+-[0] == 'c' && buf[1] == 'd' && buf[2] == ' '){
+-
+-162 
+-buf
+-[
+-	`
+-(buf)-1] = 0;
+-
+-163 if(
+-	`chd
+-(
+-buf
+-+3) < 0)
+-
+-164 
+-	`tf
+-(2, " cd %s\n", 
+-buf
+-+3);
+-
+-167 if(
+-	`fk1
+-() == 0)
+-
+-168 
+-	`runcmd
+-(
+-	`rcmd
+-(
+-buf
+-));
+-
+-169 
+-	`wa
+-();
+-
+-171 
+-	`ex
+-();
+-
+-172 
+-	}
+-}
+-
+-175 
+-	$nic
+-(*
+-s
+-)
+-
+-177 
+-	`tf
+-(2, "%s\n", 
+-s
+-);
+-
+-178 
+-	`ex
+-();
+-
+-179 
+-	}
+-}
+-
+-182 
+-	$fk1
+-()
+-
+-184 
+-pid
+-;
+-
+-186 
+-pid
+- = 
+-	`fk
+-();
+-
+-187 if(
+-pid
+- == -1)
+-
+-188 
+-	`nic
+-("fork");
+-
+-189  
+-pid
+-;
+-
+-190 
+-	}
+-}
+-
+-195 
+-cmd
+-*
+-
+-196 
+-	$execcmd
+-()
+-
+-198 
+-execcmd
+- *
+-cmd
+-;
+-
+-200 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-201 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-202 
+-cmd
+-->
+-ty
+- = 
+-EXEC
+-;
+-
+-203  (
+-cmd
+-*)cmd;
+-
+-204 
+-	}
+-}
+-
+-206 
+-cmd
+-*
+-
+-207 
+-	$dcmd
+-(
+-cmd
+- *
+-subcmd
+-, *
+-fe
+-, *
+-efe
+-, 
+-mode
+-, 
+-fd
+-)
+-
+-209 
+-dcmd
+- *
+-cmd
+-;
+-
+-211 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-212 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-213 
+-cmd
+-->
+-ty
+- = 
+-REDIR
+-;
+-
+-214 
+-cmd
+-->cmd = 
+-subcmd
+-;
+-
+-215 
+-cmd
+-->
+-fe
+- = file;
+-
+-216 
+-cmd
+-->
+-efe
+- =file;
+-
+-217 
+-cmd
+-->
+-mode
+- = mode;
+-
+-218 
+-cmd
+-->
+-fd
+- = fd;
+-
+-219  (
+-cmd
+-*)cmd;
+-
+-220 
+-	}
+-}
+-
+-222 
+-cmd
+-*
+-
+-223 
+-	$pecmd
+-(
+-cmd
+- *
+-
+-, cmd *
+-right
+-)
+-
+-225 
+-pecmd
+- *
+-cmd
+-;
+-
+-227 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-228 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-229 
+-cmd
+-->
+-ty
+- = 
+-PIPE
+-;
+-
+-230 
+-cmd
+-->
+-
+- =eft;
+-
+-231 
+-cmd
+-->
+-right
+- =ight;
+-
+-232  (
+-cmd
+-*)cmd;
+-
+-233 
+-	}
+-}
+-
+-235 
+-cmd
+-*
+-
+-236 
+-	$licmd
+-(
+-cmd
+- *
+-
+-, cmd *
+-right
+-)
+-
+-238 
+-licmd
+- *
+-cmd
+-;
+-
+-240 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-241 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-242 
+-cmd
+-->
+-ty
+- = 
+-LIST
+-;
+-
+-243 
+-cmd
+-->
+-
+- =eft;
+-
+-244 
+-cmd
+-->
+-right
+- =ight;
+-
+-245  (
+-cmd
+-*)cmd;
+-
+-246 
+-	}
+-}
+-
+-248 
+-cmd
+-*
+-
+-249 
+-	$backcmd
+-(
+-cmd
+- *
+-subcmd
+-)
+-
+-251 
+-backcmd
+- *
+-cmd
+-;
+-
+-253 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-254 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-255 
+-cmd
+-->
+-ty
+- = 
+-BACK
+-;
+-
+-256 
+-cmd
+-->cmd = 
+-subcmd
+-;
+-
+-257  (
+-cmd
+-*)cmd;
+-
+-258 
+-	}
+-}
+-
+-262 
+-	gwhea
+-[] = " \t\r\n\v";
+-
+-263 
+-	gsymbs
+-[] = "<|>&;()";
+-
+-266 
+-	$gtok
+-(**
+-ps
+-, *
+-es
+-, **
+-q
+-, **
+-eq
+-)
+-
+-268 *
+-s
+-;
+-
+-269 
+-t
+-;
+-
+-271 
+-s
+- = *
+-ps
+-;
+-
+-272 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-273 
+-s
+-++;
+-
+-274 if(
+-q
+-)
+-
+-275 *
+-q
+- = 
+-s
+-;
+-
+-276 
+-t
+- = *
+-s
+-;
+-
+-277 *
+-s
+-){
+-
+-286 
+-s
+-++;
+-
+-289 
+-s
+-++;
+-
+-290 if(*
+-s
+- == '>'){
+-
+-291 
+-t
+- = '+';
+-
+-292 
+-s
+-++;
+-
+-296 
+-t
+- = 'a';
+-
+-297 
+-s
+- < 
+-es
+- && !
+-	`rchr
+-(
+-whea
+-, *s&& !rchr(
+-symbs
+-, *s))
+-
+-298 
+-s
+-++;
+-
+-301 if(
+-eq
+-)
+-
+-302 *
+-eq
+- = 
+-s
+-;
+-
+-304 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-305 
+-s
+-++;
+-
+-306 *
+-ps
+- = 
+-s
+-;
+-
+-307  
+-t
+-;
+-
+-308 
+-	}
+-}
+-
+-311 
+-	$ek
+-(**
+-ps
+-, *
+-es
+-, *
+-toks
+-)
+-
+-313 *
+-s
+-;
+-
+-315 
+-s
+- = *
+-ps
+-;
+-
+-316 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-317 
+-s
+-++;
+-
+-318 *
+-ps
+- = 
+-s
+-;
+-
+-319  *
+-s
+- && 
+-	`rchr
+-(
+-toks
+-, *s);
+-
+-320 
+-	}
+-}
+-
+-322 
+-cmd
+- *
+-rle
+-(**, *);
+-
+-323 
+-cmd
+- *
+-rpe
+-(**, *);
+-
+-324 
+-cmd
+- *
+-rexec
+-(**, *);
+-
+-325 
+-cmd
+- *
+-nume
+-(cmd*);
+-
+-327 
+-cmd
+-*
+-
+-328 
+-	$rcmd
+-(*
+-s
+-)
+-
+-330 *
+-es
+-;
+-
+-331 
+-cmd
+- *cmd;
+-
+-333 
+-es
+- = 
+-s
+- + 
+-	`
+-(s);
+-
+-334 
+-cmd
+- = 
+-	`rle
+-(&
+-s
+-, 
+-es
+-);
+-
+-335 
+-	`ek
+-(&
+-s
+-, 
+-es
+-, "");
+-
+-336 if(
+-s
+- !
+-es
+-){
+-
+-337 
+-	`tf
+-(2, "ovs: %s\n", 
+-s
+-);
+-
+-338 
+-	`nic
+-("syntax");
+-
+-340 
+-	`nume
+-(
+-cmd
+-);
+-
+-341  
+-cmd
+-;
+-
+-342 
+-	}
+-}
+-
+-344 
+-cmd
+-*
+-
+-345 
+-	$rle
+-(**
+-ps
+-, *
+-es
+-)
+-
+-347 
+-cmd
+- *cmd;
+-
+-349 
+-cmd
+- = 
+-	`rpe
+-(
+-ps
+-, 
+-es
+-);
+-
+-350 
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "&")){
+-
+-351 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-352 
+-cmd
+- = 
+-	`backcmd
+-(cmd);
+-
+-354 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, ";")){
+-
+-355 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-356 
+-cmd
+- = 
+-	`licmd
+-(cmd, 
+-	`rle
+-(
+-ps
+-, 
+-es
+-));
+-
+-358  
+-cmd
+-;
+-
+-359 
+-	}
+-}
+-
+-361 
+-cmd
+-*
+-
+-362 
+-	$rpe
+-(**
+-ps
+-, *
+-es
+-)
+-
+-364 
+-cmd
+- *cmd;
+-
+-366 
+-cmd
+- = 
+-	`rexec
+-(
+-ps
+-, 
+-es
+-);
+-
+-367 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "|")){
+-
+-368 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-369 
+-cmd
+- = 
+-	`pecmd
+-(cmd, 
+-	`rpe
+-(
+-ps
+-, 
+-es
+-));
+-
+-371  
+-cmd
+-;
+-
+-372 
+-	}
+-}
+-
+-374 
+-cmd
+-*
+-
+-375 
+-	$rds
+-(
+-cmd
+- *cmd, **
+-ps
+-, *
+-es
+-)
+-
+-377 
+-tok
+-;
+-
+-378 *
+-q
+-, *
+-eq
+-;
+-
+-380 
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "<>")){
+-
+-381 
+-tok
+- = 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-382 if(
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, &
+-q
+-, &
+-eq
+-) != 'a')
+-
+-383 
+-	`nic
+-("missing file foredirection");
+-
+-384 
+-tok
+-){
+-
+-386 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_RDONLY
+-, 0);
+-
+-389 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_WRONLY
+-|
+-O_CREATE
+-, 1);
+-
+-392 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_WRONLY
+-|
+-O_CREATE
+-, 1);
+-
+-396  
+-cmd
+-;
+-
+-397 
+-	}
+-}
+-
+-399 
+-cmd
+-*
+-
+-400 
+-	$rblock
+-(**
+-ps
+-, *
+-es
+-)
+-
+-402 
+-cmd
+- *cmd;
+-
+-404 if(!
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "("))
+-
+-405 
+-	`nic
+-("parseblock");
+-
+-406 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-407 
+-cmd
+- = 
+-	`rle
+-(
+-ps
+-, 
+-es
+-);
+-
+-408 if(!
+-	`ek
+-(
+-ps
+-, 
+-es
+-, ")"))
+-
+-409 
+-	`nic
+-("syntax - missing )");
+-
+-410 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-411 
+-cmd
+- = 
+-	`rds
+-(cmd, 
+-ps
+-, 
+-es
+-);
+-
+-412  
+-cmd
+-;
+-
+-413 
+-	}
+-}
+-
+-415 
+-cmd
+-*
+-
+-416 
+-	$rexec
+-(**
+-ps
+-, *
+-es
+-)
+-
+-418 *
+-q
+-, *
+-eq
+-;
+-
+-419 
+-tok
+-, 
+-gc
+-;
+-
+-420 
+-execcmd
+- *
+-cmd
+-;
+-
+-421 
+-cmd
+- *
+-t
+-;
+-
+-423 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "("))
+-
+-424  
+-	`rblock
+-(
+-ps
+-, 
+-es
+-);
+-
+-426 
+-t
+- = 
+-	`execcmd
+-();
+-
+-427 
+-cmd
+- = (
+-execcmd
+-*)
+-t
+-;
+-
+-429 
+-gc
+- = 0;
+-
+-430 
+-t
+- = 
+-	`rds
+-, 
+-ps
+-, 
+-es
+-);
+-
+-431 !
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "|)&;")){
+-
+-432 if((
+-tok
+-=
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, &
+-q
+-, &
+-eq
+-)) == 0)
+-
+-434 if(
+-tok
+- != 'a')
+-
+-435 
+-	`nic
+-("syntax");
+-
+-436 
+-cmd
+-->
+-gv
+-[
+-gc
+-] = 
+-q
+-;
+-
+-437 
+-cmd
+-->
+-rgv
+-[
+-gc
+-] = 
+-eq
+-;
+-
+-438 
+-gc
+-++;
+-
+-439 if(
+-gc
+- >
+-MAXARGS
+-)
+-
+-440 
+-	`nic
+-("too manyrgs");
+-
+-441 
+-t
+- = 
+-	`rds
+-, 
+-ps
+-, 
+-es
+-);
+-
+-443 
+-cmd
+-->
+-gv
+-[
+-gc
+-] = 0;
+-
+-444 
+-cmd
+-->
+-rgv
+-[
+-gc
+-] = 0;
+-
+-445  
+-t
+-;
+-
+-446 
+-	}
+-}
+-
+-449 
+-cmd
+-*
+-
+-450 
+-	$nume
+-(
+-cmd
+- *cmd)
+-
+-452 
+-i
+-;
+-
+-453 
+-backcmd
+- *
+-bcmd
+-;
+-
+-454 
+-execcmd
+- *
+-ecmd
+-;
+-
+-455 
+-licmd
+- *
+-lcmd
+-;
+-
+-456 
+-pecmd
+- *
+-pcmd
+-;
+-
+-457 
+-dcmd
+- *
+-rcmd
+-;
+-
+-459 if(
+-cmd
+- == 0)
+-
+-462 
+-cmd
+-->
+-ty
+-){
+-
+-463 
+-EXEC
+-:
+-
+-464 
+-ecmd
+- = (
+-execcmd
+-*)
+-cmd
+-;
+-
+-465 
+-i
+-=0; 
+-ecmd
+-->
+-gv
+-[i]; i++)
+-
+-466 *
+-ecmd
+-->
+-rgv
+-[
+-i
+-] = 0;
+-
+-469 
+-REDIR
+-:
+-
+-470 
+-rcmd
+- = (
+-dcmd
+-*)
+-cmd
+-;
+-
+-471 
+-	`nume
+-(
+-rcmd
+-->
+-cmd
+-);
+-
+-472 *
+-rcmd
+-->
+-efe
+- = 0;
+-
+-475 
+-PIPE
+-:
+-
+-476 
+-pcmd
+- = (
+-pecmd
+-*)
+-cmd
+-;
+-
+-477 
+-	`nume
+-(
+-pcmd
+-->
+-
+-);
+-
+-478 
+-	`nume
+-(
+-pcmd
+-->
+-right
+-);
+-
+-481 
+-LIST
+-:
+-
+-482 
+-lcmd
+- = (
+-licmd
+-*)
+-cmd
+-;
+-
+-483 
+-	`nume
+-(
+-lcmd
+-->
+-
+-);
+-
+-484 
+-	`nume
+-(
+-lcmd
+-->
+-right
+-);
+-
+-487 
+-BACK
+-:
+-
+-488 
+-bcmd
+- = (
+-backcmd
+-*)
+-cmd
+-;
+-
+-489 
+-	`nume
+-(
+-bcmd
+-->
+-cmd
+-);
+-
+-492  
+-cmd
+-;
+-
+-493 
+-	}
+-}
+-
+-	@sleeplock.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"memyout.h
+-"
+-
+-8 
+-	~"mmu.h
+-"
+-
+-9 
+-	~"oc.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-11 
+-	~"ock.h
+-"
+-
+-14 
+-	$ock
+-(
+-ock
+- *
+-lk
+-, *
+-me
+-)
+-
+-16 
+-	`lock
+-(&
+-lk
+-->lk, "sleepock");
+-
+-17 
+-lk
+-->
+-me
+- =ame;
+-
+-18 
+-lk
+-->
+-locked
+- = 0;
+-
+-19 
+-lk
+-->
+-pid
+- = 0;
+-
+-20 
+-	}
+-}
+-
+-23 
+-	$acquep
+-(
+-ock
+- *
+-lk
+-)
+-
+-25 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-26 
+-lk
+-->
+-locked
+-) {
+-
+-27 
+-	`p
+-(
+-lk
+-, &lk->lk);
+-
+-29 
+-lk
+-->
+-locked
+- = 1;
+-
+-30 
+-lk
+-->
+-pid
+- = 
+-	`myoc
+-()->pid;
+-
+-31 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-32 
+-	}
+-}
+-
+-35 
+-	$ap
+-(
+-ock
+- *
+-lk
+-)
+-
+-37 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-38 
+-lk
+-->
+-locked
+- = 0;
+-
+-39 
+-lk
+-->
+-pid
+- = 0;
+-
+-40 
+-	`wakeup
+-(
+-lk
+-);
+-
+-41 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-42 
+-	}
+-}
+-
+-45 
+-	$hdgp
+-(
+-ock
+- *
+-lk
+-)
+-
+-47 
+-r
+-;
+-
+-49 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-50 
+-r
+- = 
+-lk
+-->
+-locked
+- && (lk->
+-pid
+- =
+-	`myoc
+-()->pid);
+-
+-51 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-52  
+-r
+-;
+-
+-53 
+-	}
+-}
+-
+-	@sleeplock.h
+-
+-2 
+-	sock
+- {
+-
+-3 
+-ut
+- 
+-	mlocked
+-;
+-
+-4 
+-lock
+- 
+-	mlk
+-;
+-
+-7 *
+-	mme
+-;
+-
+-8 
+-	mpid
+-;
+-
+-	@spinlock.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"memyout.h
+-"
+-
+-8 
+-	~"mmu.h
+-"
+-
+-9 
+-	~"oc.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-13 
+-	$lock
+-(
+-lock
+- *
+-lk
+-, *
+-me
+-)
+-
+-15 
+-lk
+-->
+-me
+- =ame;
+-
+-16 
+-lk
+-->
+-locked
+- = 0;
+-
+-17 
+-lk
+-->
+-u
+- = 0;
+-
+-18 
+-	}
+-}
+-
+-25 
+-	$acque
+-(
+-lock
+- *
+-lk
+-)
+-
+-27 
+-	`pushi
+-();
+-
+-28 if(
+-	`hdg
+-(
+-lk
+-))
+-
+-29 
+-	`nic
+-("acquire");
+-
+-32 
+-	`xchg
+-(&
+-lk
+-->
+-locked
+-, 1) != 0)
+-
+-38 
+-	`__sync_synchrize
+-();
+-
+-41 
+-lk
+-->
+-u
+- = 
+-	`myu
+-();
+-
+-42 
+-	`gpcs
+-(&
+-lk
+-,k->
+-pcs
+-);
+-
+-43 
+-	}
+-}
+-
+-47 
+-	$a
+-(
+-lock
+- *
+-lk
+-)
+-
+-49 if(!
+-	`hdg
+-(
+-lk
+-))
+-
+-50 
+-	`nic
+-("release");
+-
+-52 
+-lk
+-->
+-pcs
+-[0] = 0;
+-
+-53 
+-lk
+-->
+-u
+- = 0;
+-
+-60 
+-	`__sync_synchrize
+-();
+-
+-65 
+-asm
+- ve("mov$0, %0" : "+m" (
+-lk
+-->
+-locked
+-) : );
+-
+-67 
+-	`pi
+-();
+-
+-68 
+-	}
+-}
+-
+-72 
+-	$gpcs
+-(*
+-v
+-, 
+-ut
+- 
+-pcs
+-[])
+-
+-74 
+-ut
+- *
+-ebp
+-;
+-
+-75 
+-i
+-;
+-
+-77 
+-ebp
+- = (
+-ut
+-*)
+-v
+- - 2;
+-
+-78 
+-i
+- = 0; i < 10; i++){
+-
+-79 if(
+-ebp
+- =0 ||b< (
+-ut
+-*)
+-KERNBASE
+- ||bp == (uint*)0xffffffff)
+-
+-81 
+-pcs
+-[
+-i
+-] = 
+-ebp
+-[1];
+-
+-82 
+-ebp
+- = (
+-ut
+-*)ebp[0];
+-
+-84 ; 
+-i
+- < 10; i++)
+-
+-85 
+-pcs
+-[
+-i
+-] = 0;
+-
+-86 
+-	}
+-}
+-
+-90 
+-	$hdg
+-(
+-lock
+- *
+-lock
+-)
+-
+-92 
+-r
+-;
+-
+-93 
+-	`pushi
+-();
+-
+-94 
+-r
+- = 
+-lock
+-->
+-locked
+- &&ock->
+-u
+- =
+-	`myu
+-();
+-
+-95 
+-	`pi
+-();
+-
+-96  
+-r
+-;
+-
+-97 
+-	}
+-}
+-
+-105 
+-	$pushi
+-()
+-
+-107 
+-eags
+-;
+-
+-109 
+-eags
+- = 
+-	`adeags
+-();
+-
+-110 
+-	`i
+-();
+-
+-111 if(
+-	`myu
+-()->
+-ni
+- == 0)
+-
+-112 
+-	`myu
+-()->
+-
+- = 
+-eags
+- & 
+-FL_IF
+-;
+-
+-113 
+-	`myu
+-()->
+-ni
+- += 1;
+-
+-114 
+-	}
+-}
+-
+-117 
+-	$pi
+-()
+-
+-119 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-120 
+-	`nic
+-("popcli - interruptible");
+-
+-121 if(--
+-	`myu
+-()->
+-ni
+- < 0)
+-
+-122 
+-	`nic
+-("popcli");
+-
+-123 if(
+-	`myu
+-()->
+-ni
+- =0 && myu()->
+-
+-)
+-
+-124 
+-	`i
+-();
+-
+-125 
+-	}
+-}
+-
+-	@spinlock.h
+-
+-2 
+-	slock
+- {
+-
+-3 
+-ut
+- 
+-	mlocked
+-;
+-
+-6 *
+-	mme
+-;
+-
+-7 
+-u
+- *
+-	mu
+-;
+-
+-8 
+-ut
+- 
+-	mpcs
+-[10];
+-
+-	@stat.h
+-
+-1 
+-	#T_DIR
+- 1
+-
+-2 
+-	#T_FILE
+- 2
+-
+-3 
+-	#T_DEV
+- 3
+-
+-4 
+-
+-	)
+-
+-5 
+-	s
+- {
+-
+-6 
+-	mty
+-;
+-
+-7 
+-	mdev
+-;
+-
+-8 
+-ut
+- 
+-	mo
+-;
+-
+-9 
+-	mk
+-;
+-
+-10 
+-ut
+- 
+-	msize
+-;
+-
+-	@stressfs.c
+-
+-10 
+-	~"tys.h
+-"
+-
+-11 
+-	~".h
+-"
+-
+-12 
+-	~"ur.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"f.h
+-"
+-
+-17 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-19 
+-fd
+-, 
+-i
+-;
+-
+-20 
+-th
+-[] = "stressfs0";
+-
+-21 
+-da
+-[512];
+-
+-23 
+-	`tf
+-(1, "stressfs starting\n");
+-
+-24 
+-	`memt
+-(
+-da
+-, 'a', (data));
+-
+-26 
+-i
+- = 0; i < 4; i++)
+-
+-27 if(
+-	`fk
+-() > 0)
+-
+-30 
+-	`tf
+-(1, "wr%d\n", 
+-i
+-);
+-
+-32 
+-th
+-[8] +
+-i
+-;
+-
+-33 
+-fd
+- = 
+-	`
+-(
+-th
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-34 
+-i
+- = 0; i < 20; i++)
+-
+-36 
+-	`wre
+-(
+-fd
+-, 
+-da
+-, (data));
+-
+-37 
+-	`o
+-(
+-fd
+-);
+-
+-39 
+-	`tf
+-(1, "read\n");
+-
+-41 
+-fd
+- = 
+-	`
+-(
+-th
+-, 
+-O_RDONLY
+-);
+-
+-42 
+-i
+- = 0; i < 20; i++)
+-
+-43 
+-	`ad
+-(
+-fd
+-, 
+-da
+-, (data));
+-
+-44 
+-	`o
+-(
+-fd
+-);
+-
+-46 
+-	`wa
+-();
+-
+-48 
+-	`ex
+-();
+-
+-49 
+-	}
+-}
+-
+-	@string.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-5 
+-	$memt
+-(*
+-d
+-, 
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-7 i(()
+-d
+-%4 =0 && 
+-n
+-%4 == 0){
+-
+-8 
+-c
+- &= 0xFF;
+-
+-9 
+-	`o
+-(
+-d
+-, (
+-c
+-<<24)|(c<<16)|(c<<8)|c, 
+-n
+-/4);
+-
+-11 
+-	`osb
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-12  
+-d
+-;
+-
+-13 
+-	}
+-}
+-
+-16 
+-	$memcmp
+-(c *
+-v1
+-, c *
+-v2
+-, 
+-ut
+- 
+-n
+-)
+-
+-18 c 
+-uch
+- *
+-s1
+-, *
+-s2
+-;
+-
+-20 
+-s1
+- = 
+-v1
+-;
+-
+-21 
+-s2
+- = 
+-v2
+-;
+-
+-22 
+-n
+--- > 0){
+-
+-23 if(*
+-s1
+- !*
+-s2
+-)
+-
+-24  *
+-s1
+- - *
+-s2
+-;
+-
+-25 
+-s1
+-++, 
+-s2
+-++;
+-
+-29 
+-	}
+-}
+-
+-32 
+-	$memmove
+-(*
+-d
+-, c *
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-34 c *
+-s
+-;
+-
+-35 *
+-d
+-;
+-
+-37 
+-s
+- = 
+-c
+-;
+-
+-38 
+-d
+- = 
+-d
+-;
+-
+-39 if(
+-s
+- < 
+-d
+- && s + 
+-n
+- > d){
+-
+-40 
+-s
+- +
+-n
+-;
+-
+-41 
+-d
+- +
+-n
+-;
+-
+-42 
+-n
+--- > 0)
+-
+-43 *--
+-d
+- = *--
+-s
+-;
+-
+-45 
+-n
+--- > 0)
+-
+-46 *
+-d
+-++ = *
+-s
+-++;
+-
+-48  
+-d
+-;
+-
+-49 
+-	}
+-}
+-
+-53 
+-	$memy
+-(*
+-d
+-, c *
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-55  
+-	`memmove
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-56 
+-	}
+-}
+-
+-59 
+-	$cmp
+-(c *
+-p
+-, c *
+-q
+-, 
+-ut
+- 
+-n
+-)
+-
+-61 
+-n
+- > 0 && *
+-p
+- && *=*
+-q
+-)
+-
+-62 
+-n
+---, 
+-p
+-++, 
+-q
+-++;
+-
+-63 if(
+-n
+- == 0)
+-
+-65  (
+-uch
+-)*
+-p
+- - (uch)*
+-q
+-;
+-
+-66 
+-	}
+-}
+-
+-69 
+-	$y
+-(*
+-s
+-, c *
+-t
+-, 
+-n
+-)
+-
+-71 *
+-os
+-;
+-
+-73 
+-os
+- = 
+-s
+-;
+-
+-74 
+-n
+--- > 0 && (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-76 
+-n
+--- > 0)
+-
+-77 *
+-s
+-++ = 0;
+-
+-78  
+-os
+-;
+-
+-79 
+-	}
+-}
+-
+-83 
+-	$ry
+-(*
+-s
+-, c *
+-t
+-, 
+-n
+-)
+-
+-85 *
+-os
+-;
+-
+-87 
+-os
+- = 
+-s
+-;
+-
+-88 if(
+-n
+- <= 0)
+-
+-89  
+-os
+-;
+-
+-90 --
+-n
+- > 0 && (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-92 *
+-s
+- = 0;
+-
+-93  
+-os
+-;
+-
+-94 
+-	}
+-}
+-
+-97 
+-	$
+-(c *
+-s
+-)
+-
+-99 
+-n
+-;
+-
+-101 
+-n
+- = 0; 
+-s
+-[n];++)
+-
+-103  
+-n
+-;
+-
+-104 
+-	}
+-}
+-
+-	@swtch.S
+-
+-2 #
+-#void 
+-swtch
+-(
+-cxt
+- **
+-d
+-, cx*
+-w
+-);
+-
+-4 #
+-#Sav
+-the
+- 
+-cut
+- 
+-gis
+- 
+-
+-h
+-ack
+-, 
+-tg
+-
+-
+-6 #
+-cxt
+-, 
+-d
+- 
+-ve
+- 
+-s
+- 
+-addss
+- 
+-
+- *
+-d
+-.
+-
+-7 #Swch 
+-acks
+- 
+-to
+- 
+-w
+- 
+-d
+- 
+-p
+- 
+-eviouy
+--
+-ved
+- 
+-gis
+-.
+-
+-9 .
+-globl
+- 
+-swtch
+-
+-
+-10 
+-	gswtch
+-:
+-
+-11 
+-movl
+- 4(%
+-e
+-), %
+-x
+-
+-
+-12 
+-	gmovl
+- 8(%
+-	ge
+-), %
+-	gedx
+-
+-
+-14 #Sav
+-d
+- 
+-
+--
+-ved
+- 
+-gis
+-
+-
+-15 
+-	gpushl
+- %
+-ebp
+-
+-
+-16 
+-	gpushl
+- %
+-ebx
+-
+-
+-17 
+-	gpushl
+- %
+-esi
+-
+-
+-18 
+-	gpushl
+- %
+-	gedi
+-
+-
+-20 #Swch 
+-acks
+-
+-
+-21 
+-	gmovl
+- %
+-	ge
+-, (%
+-	gx
+-)
+-
+-22 
+-	gmovl
+- %
+-	gedx
+-, %
+-	ge
+-
+-
+-24 #Ld 
+-w
+- 
+-
+--
+-ved
+- 
+-gis
+-
+-
+-25 
+-	gpl
+- %
+-edi
+-
+-
+-26 
+-	gpl
+- %
+-esi
+-
+-
+-27 
+-	gpl
+- %
+-ebx
+-
+-
+-28 
+-	gpl
+- %
+-ebp
+-
+-
+-29 
+-	gt
+-
+-
+-	@syscall.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"sys.h
+-"
+-
+-18 
+-	$tcht
+-(
+-ut
+- 
+-addr
+-, *
+-
+-)
+-
+-20 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-22 if(
+-addr
+- >
+-curoc
+-->
+-sz
+- ||ddr+4 > curproc->sz)
+-
+-24 *
+-
+- = *(*)(
+-addr
+-);
+-
+-26 
+-	}
+-}
+-
+-32 
+-	$tchr
+-(
+-ut
+- 
+-addr
+-, **
+-
+-)
+-
+-34 *
+-s
+-, *
+-
+-;
+-
+-35 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-37 if(
+-addr
+- >
+-curoc
+-->
+-sz
+-)
+-
+-39 *
+-
+- = (*)
+-addr
+-;
+-
+-40 
+-
+- = (*)
+-curoc
+-->
+-sz
+-;
+-
+-41 
+-s
+- = *
+-
+-; s < 
+-
+-; s++){
+-
+-42 if(*
+-s
+- == 0)
+-
+-43  
+-s
+- - *
+-
+-;
+-
+-46 
+-	}
+-}
+-
+-50 
+-	$gt
+-(
+-n
+-, *
+-
+-)
+-
+-52  
+-	`tcht
+-((
+-	`myoc
+-()->
+-tf
+-->
+-e
+-+ 4 + 4*
+-n
+-, 
+-
+-);
+-
+-53 
+-	}
+-}
+-
+-59 
+-	$gr
+-(
+-n
+-, **
+-
+-, 
+-size
+-)
+-
+-61 
+-i
+-;
+-
+-62 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-64 if(
+-	`gt
+-(
+-n
+-, &
+-i
+-) < 0)
+-
+-66 if(
+-size
+- < 0 || (
+-ut
+-)
+-i
+- >
+-curoc
+-->
+-sz
+- || (uint)i+size > curproc->sz)
+-
+-68 *
+-
+- = (*)
+-i
+-;
+-
+-70 
+-	}
+-}
+-
+-77 
+-	$gr
+-(
+-n
+-, **
+-
+-)
+-
+-79 
+-addr
+-;
+-
+-80 if(
+-	`gt
+-(
+-n
+-, &
+-addr
+-) < 0)
+-
+-82  
+-	`tchr
+-(
+-addr
+-, 
+-
+-);
+-
+-83 
+-	}
+-}
+-
+-85 

+-sys_chd
+-();
+-
+-86 

+-sys_o
+-();
+-
+-87 

+-sys_dup
+-();
+-
+-88 

+-sys_exec
+-();
+-
+-89 

+-sys_ex
+-();
+-
+-90 

+-sys_fk
+-();
+-
+-91 

+-sys_f
+-();
+-
+-92 

+-sys_gpid
+-();
+-
+-93 

+-sys_kl
+-();
+-
+-94 

+-sys_lk
+-();
+-
+-95 

+-sys_mkd
+-();
+-
+-96 

+-sys_mknod
+-();
+-
+-97 

+-sys_
+-();
+-
+-98 

+-sys_pe
+-();
+-
+-99 

+-sys_ad
+-();
+-
+-100 

+-sys_sbrk
+-();
+-
+-101 

+-sys_p
+-();
+-
+-102 

+-sys_uk
+-();
+-
+-103 

+-sys_wa
+-();
+-
+-104 

+-sys_wre
+-();
+-
+-105 

+-sys_uime
+-();
+-
+-106 

+-sys_mm
+-();
+-
+-107 

+-sys_munm
+-();
+-
+-109 (*
+-syss
+-[])() = {
+-
+-110 [
+-SYS_fk
+-] 
+-sys_fk
+-,
+-
+-111 [
+-SYS_ex
+-] 
+-sys_ex
+-,
+-
+-112 [
+-SYS_wa
+-] 
+-sys_wa
+-,
+-
+-113 [
+-SYS_pe
+-] 
+-sys_pe
+-,
+-
+-114 [
+-SYS_ad
+-] 
+-sys_ad
+-,
+-
+-115 [
+-SYS_kl
+-] 
+-sys_kl
+-,
+-
+-116 [
+-SYS_exec
+-] 
+-sys_exec
+-,
+-
+-117 [
+-SYS_f
+-] 
+-sys_f
+-,
+-
+-118 [
+-SYS_chd
+-] 
+-sys_chd
+-,
+-
+-119 [
+-SYS_dup
+-] 
+-sys_dup
+-,
+-
+-120 [
+-SYS_gpid
+-] 
+-sys_gpid
+-,
+-
+-121 [
+-SYS_sbrk
+-] 
+-sys_sbrk
+-,
+-
+-122 [
+-SYS_p
+-] 
+-sys_p
+-,
+-
+-123 [
+-SYS_uime
+-] 
+-sys_uime
+-,
+-
+-124 [
+-SYS_
+-] 
+-sys_
+-,
+-
+-125 [
+-SYS_wre
+-] 
+-sys_wre
+-,
+-
+-126 [
+-SYS_mknod
+-] 
+-sys_mknod
+-,
+-
+-127 [
+-SYS_uk
+-] 
+-sys_uk
+-,
+-
+-128 [
+-SYS_lk
+-] 
+-sys_lk
+-,
+-
+-129 [
+-SYS_mkd
+-] 
+-sys_mkd
+-,
+-
+-130 [
+-SYS_o
+-] 
+-sys_o
+-,
+-
+-131 [
+-SYS_mm
+-] 
+-sys_mm
+-,
+-
+-132 [
+-SYS_munm
+-] 
+-sys_munm
+-
+-
+-133 
+-	}
+-};
+-
+-136 
+-	$sys
+-()
+-
+-138 
+-num
+-;
+-
+-139 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-141 
+-num
+- = 
+-curoc
+-->
+-tf
+-->
+-x
+-;
+-
+-142 if(
+-num
+- > 0 &&um < 
+-	`NELEM
+-(
+-syss
+-) && syscalls[num]) {
+-
+-143 
+-curoc
+-->
+-tf
+-->
+-x
+- = 
+-syss
+-[
+-num
+-]();
+-
+-145 
+-	`rtf
+-("%d %s: unknown sys call %d\n",
+-
+-146 
+-curoc
+-->
+-pid
+-, curoc->
+-me
+-, 
+-num
+-);
+-
+-147 
+-curoc
+-->
+-tf
+-->
+-x
+- = -1;
+-
+-149 
+-	}
+-}
+-
+-	@syscall.h
+-
+-2 
+-	#SYS_fk
+- 1
+-
+-	)
+-
+-3 
+-	#SYS_ex
+- 2
+-
+-	)
+-
+-4 
+-	#SYS_wa
+- 3
+-
+-	)
+-
+-5 
+-	#SYS_pe
+- 4
+-
+-	)
+-
+-6 
+-	#SYS_ad
+- 5
+-
+-	)
+-
+-7 
+-	#SYS_kl
+- 6
+-
+-	)
+-
+-8 
+-	#SYS_exec
+- 7
+-
+-	)
+-
+-9 
+-	#SYS_f
+- 8
+-
+-	)
+-
+-10 
+-	#SYS_chd
+- 9
+-
+-	)
+-
+-11 
+-	#SYS_dup
+- 10
+-
+-	)
+-
+-12 
+-	#SYS_gpid
+- 11
+-
+-	)
+-
+-13 
+-	#SYS_sbrk
+- 12
+-
+-	)
+-
+-14 
+-	#SYS_p
+- 13
+-
+-	)
+-
+-15 
+-	#SYS_uime
+- 14
+-
+-	)
+-
+-16 
+-	#SYS_
+- 15
+-
+-	)
+-
+-17 
+-	#SYS_wre
+- 16
+-
+-	)
+-
+-18 
+-	#SYS_mknod
+- 17
+-
+-	)
+-
+-19 
+-	#SYS_uk
+- 18
+-
+-	)
+-
+-20 
+-	#SYS_lk
+- 19
+-
+-	)
+-
+-21 
+-	#SYS_mkd
+- 20
+-
+-	)
+-
+-22 
+-	#SYS_o
+- 21
+-
+-	)
+-
+-23 
+-	#SYS_mm
+- 22
+-
+-	)
+-
+-24 
+-	#SYS_munm
+- 23
+-
+-	)
+-
+-	@sysfile.c
+-
+-7 
+-	~"tys.h
+-"
+-
+-8 
+-	~"defs.h
+-"
+-
+-9 
+-	~"m.h
+-"
+-
+-10 
+-	~".h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"lock.h
+-"
+-
+-15 
+-	~"ock.h
+-"
+-
+-16 
+-	~"fe.h
+-"
+-
+-17 
+-	~"f.h
+-"
+-
+-22 
+-	$gfd
+-(
+-n
+-, *
+-pfd
+-, 
+-fe
+- **
+-pf
+-)
+-
+-24 
+-fd
+-;
+-
+-25 
+-fe
+- *
+-f
+-;
+-
+-27 if(
+-	`gt
+-(
+-n
+-, &
+-fd
+-) < 0)
+-
+-29 if(
+-fd
+- < 0 || fd >
+-NOFILE
+- || (
+-f
+-=
+-	`myoc
+-()->
+-ofe
+-[fd]) == 0)
+-
+-31 if(
+-pfd
+-)
+-
+-32 *
+-pfd
+- = 
+-fd
+-;
+-
+-33 if(
+-pf
+-)
+-
+-34 *
+-pf
+- = 
+-f
+-;
+-
+-36 
+-	}
+-}
+-
+-41 
+-	$fdloc
+-(
+-fe
+- *
+-f
+-)
+-
+-43 
+-fd
+-;
+-
+-44 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-46 
+-fd
+- = 0; fd < 
+-NOFILE
+-; fd++){
+-
+-47 if(
+-curoc
+-->
+-ofe
+-[
+-fd
+-] == 0){
+-
+-48 
+-curoc
+-->
+-ofe
+-[
+-fd
+-] = 
+-f
+-;
+-
+-49  
+-fd
+-;
+-
+-53 
+-	}
+-}
+-
+-56 
+-	$sys_dup
+-()
+-
+-58 
+-fe
+- *
+-f
+-;
+-
+-59 
+-fd
+-;
+-
+-61 if(
+-	`gfd
+-(0, 0, &
+-f
+-) < 0)
+-
+-63 if((
+-fd
+-=
+-	`fdloc
+-(
+-f
+-)) < 0)
+-
+-65 
+-	`fedup
+-(
+-f
+-);
+-
+-66  
+-fd
+-;
+-
+-67 
+-	}
+-}
+-
+-70 
+-	$sys_ad
+-()
+-
+-72 
+-fe
+- *
+-f
+-;
+-
+-73 
+-n
+-;
+-
+-74 *
+-p
+-;
+-
+-76 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gt
+-(2, &
+-n
+-< 0 || 
+-	`gr
+-(1, &
+-p
+-,) < 0)
+-
+-78  
+-	`fd
+-(
+-f
+-, 
+-p
+-, 
+-n
+-);
+-
+-79 
+-	}
+-}
+-
+-82 
+-	$sys_wre
+-()
+-
+-84 
+-fe
+- *
+-f
+-;
+-
+-85 
+-n
+-;
+-
+-86 *
+-p
+-;
+-
+-88 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gt
+-(2, &
+-n
+-< 0 || 
+-	`gr
+-(1, &
+-p
+-,) < 0)
+-
+-90  
+-	`fewre
+-(
+-f
+-, 
+-p
+-, 
+-n
+-);
+-
+-91 
+-	}
+-}
+-
+-94 
+-	$sys_o
+-()
+-
+-96 
+-fd
+-;
+-
+-97 
+-fe
+- *
+-f
+-;
+-
+-99 if(
+-	`gfd
+-(0, &
+-fd
+-, &
+-f
+-) < 0)
+-
+-101 
+-	`myoc
+-()->
+-ofe
+-[
+-fd
+-] = 0;
+-
+-102 
+-	`feo
+-(
+-f
+-);
+-
+-104 
+-	}
+-}
+-
+-107 
+-	$sys_f
+-()
+-
+-109 
+-fe
+- *
+-f
+-;
+-
+-110 
+-
+- *
+-
+-;
+-
+-112 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gr
+-(1, (*)&
+-
+-, (*st)) < 0)
+-
+-114  
+-	`fe
+-(
+-f
+-, 
+-
+-);
+-
+-115 
+-	}
+-}
+-
+-119 
+-	$sys_lk
+-()
+-
+-121 
+-me
+-[
+-DIRSIZ
+-], *
+-w
+-, *
+-d
+-;
+-
+-122 
+-ode
+- *
+-dp
+-, *
+-
+-;
+-
+-124 if(
+-	`gr
+-(0, &
+-d
+-< 0 ||rgr(1, &
+-w
+-) < 0)
+-
+-127 
+-	`beg_
+-();
+-
+-128 if((
+-
+- = 
+-	`mei
+-(
+-d
+-)) == 0){
+-
+-129 
+-	`d_
+-();
+-
+-133 
+-	`ock
+-(
+-
+-);
+-
+-134 if(
+-
+-->
+-ty
+- =
+-T_DIR
+-){
+-
+-135 
+-	`iuockput
+-(
+-
+-);
+-
+-136 
+-	`d_
+-();
+-
+-140 
+-
+-->
+-k
+-++;
+-
+-141 
+-	`iupde
+-(
+-
+-);
+-
+-142 
+-	`iuock
+-(
+-
+-);
+-
+-144 if((
+-dp
+- = 
+-	`met
+-(
+-w
+-, 
+-me
+-)) == 0)
+-
+-145 
+-bad
+-;
+-
+-146 
+-	`ock
+-(
+-dp
+-);
+-
+-147 if(
+-dp
+-->
+-dev
+- !
+-
+-->dev || 
+-	`dlk
+-(dp, 
+-me
+-, ip->
+-um
+-) < 0){
+-
+-148 
+-	`iuockput
+-(
+-dp
+-);
+-
+-149 
+-bad
+-;
+-
+-151 
+-	`iuockput
+-(
+-dp
+-);
+-
+-152 
+-	`ut
+-(
+-
+-);
+-
+-154 
+-	`d_
+-();
+-
+-158 
+-bad
+-:
+-
+-159 
+-	`ock
+-(
+-
+-);
+-
+-160 
+-
+-->
+-k
+---;
+-
+-161 
+-	`iupde
+-(
+-
+-);
+-
+-162 
+-	`iuockput
+-(
+-
+-);
+-
+-163 
+-	`d_
+-();
+-
+-165 
+-	}
+-}
+-
+-169 
+-	$isdemy
+-(
+-ode
+- *
+-dp
+-)
+-
+-171 
+-off
+-;
+-
+-172 
+-dt
+- 
+-de
+-;
+-
+-174 
+-off
+-=2*(
+-de
+-); off<
+-dp
+-->
+-size
+-; off+=(de)){
+-
+-175 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-176 
+-	`nic
+-("isdirempty:eadi");
+-
+-177 if(
+-de
+-.
+-um
+- != 0)
+-
+-181 
+-	}
+-}
+-
+-185 
+-	$sys_uk
+-()
+-
+-187 
+-ode
+- *
+-
+-, *
+-dp
+-;
+-
+-188 
+-dt
+- 
+-de
+-;
+-
+-189 
+-me
+-[
+-DIRSIZ
+-], *
+-th
+-;
+-
+-190 
+-ut
+- 
+-off
+-;
+-
+-192 if(
+-	`gr
+-(0, &
+-th
+-) < 0)
+-
+-195 
+-	`beg_
+-();
+-
+-196 if((
+-dp
+- = 
+-	`met
+-(
+-th
+-, 
+-me
+-)) == 0){
+-
+-197 
+-	`d_
+-();
+-
+-201 
+-	`ock
+-(
+-dp
+-);
+-
+-204 if(
+-	`mecmp
+-(
+-me
+-, ".") == 0 ||amecmp(name, "..") == 0)
+-
+-205 
+-bad
+-;
+-
+-207 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, &
+-off
+-)) == 0)
+-
+-208 
+-bad
+-;
+-
+-209 
+-	`ock
+-(
+-
+-);
+-
+-211 if(
+-
+-->
+-k
+- < 1)
+-
+-212 
+-	`nic
+-("unlink:link < 1");
+-
+-213 if(
+-
+-->
+-ty
+- =
+-T_DIR
+- && !
+-	`isdemy
+-(ip)){
+-
+-214 
+-	`iuockput
+-(
+-
+-);
+-
+-215 
+-bad
+-;
+-
+-218 
+-	`memt
+-(&
+-de
+-, 0, (de));
+-
+-219 if(
+-	`wrei
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-220 
+-	`nic
+-("unlink: writei");
+-
+-221 if(
+-
+-->
+-ty
+- =
+-T_DIR
+-){
+-
+-222 
+-dp
+-->
+-k
+---;
+-
+-223 
+-	`iupde
+-(
+-dp
+-);
+-
+-225 
+-	`iuockput
+-(
+-dp
+-);
+-
+-227 
+-
+-->
+-k
+---;
+-
+-228 
+-	`iupde
+-(
+-
+-);
+-
+-229 
+-	`iuockput
+-(
+-
+-);
+-
+-231 
+-	`d_
+-();
+-
+-235 
+-bad
+-:
+-
+-236 
+-	`iuockput
+-(
+-dp
+-);
+-
+-237 
+-	`d_
+-();
+-
+-239 
+-	}
+-}
+-
+-241 
+-ode
+-*
+-
+-242 
+-	$
+-(*
+-th
+-, 
+-ty
+-, 
+-maj
+-, 
+-m
+-)
+-
+-244 
+-ode
+- *
+-
+-, *
+-dp
+-;
+-
+-245 
+-me
+-[
+-DIRSIZ
+-];
+-
+-247 if((
+-dp
+- = 
+-	`met
+-(
+-th
+-, 
+-me
+-)) == 0)
+-
+-249 
+-	`ock
+-(
+-dp
+-);
+-
+-251 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, 0)) != 0){
+-
+-252 
+-	`iuockput
+-(
+-dp
+-);
+-
+-253 
+-	`ock
+-(
+-
+-);
+-
+-254 if(
+-ty
+- =
+-T_FILE
+- && 
+-
+-->type == T_FILE)
+-
+-255  
+-
+-;
+-
+-256 
+-	`iuockput
+-(
+-
+-);
+-
+-260 if((
+-
+- = 
+-	`oc
+-(
+-dp
+-->
+-dev
+-, 
+-ty
+-)) == 0)
+-
+-261 
+-	`nic
+-("create: ialloc");
+-
+-263 
+-	`ock
+-(
+-
+-);
+-
+-264 
+-
+-->
+-maj
+- = major;
+-
+-265 
+-
+-->
+-m
+- = minor;
+-
+-266 
+-
+-->
+-k
+- = 1;
+-
+-267 
+-	`iupde
+-(
+-
+-);
+-
+-269 if(
+-ty
+- =
+-T_DIR
+-){
+-
+-270 
+-dp
+-->
+-k
+-++;
+-
+-271 
+-	`iupde
+-(
+-dp
+-);
+-
+-273 if(
+-	`dlk
+-(
+-
+-, ".", ip->
+-um
+-< 0 || dlk(, "..", 
+-dp
+-->inum) < 0)
+-
+-274 
+-	`nic
+-("create dots");
+-
+-277 if(
+-	`dlk
+-(
+-dp
+-, 
+-me
+-, 
+-
+-->
+-um
+-) < 0)
+-
+-278 
+-	`nic
+-("create: dirlink");
+-
+-280 
+-	`iuockput
+-(
+-dp
+-);
+-
+-282  
+-
+-;
+-
+-283 
+-	}
+-}
+-
+-286 
+-	$sys_
+-()
+-
+-288 *
+-th
+-;
+-
+-289 
+-fd
+-, 
+-omode
+-;
+-
+-290 
+-fe
+- *
+-f
+-;
+-
+-291 
+-ode
+- *
+-
+-;
+-
+-293 if(
+-	`gr
+-(0, &
+-th
+-< 0 || 
+-	`gt
+-(1, &
+-omode
+-) < 0)
+-
+-296 
+-	`beg_
+-();
+-
+-298 if(
+-omode
+- & 
+-O_CREATE
+-){
+-
+-299 
+-
+- = 
+-	`
+-(
+-th
+-, 
+-T_FILE
+-, 0, 0);
+-
+-300 if(
+-
+- == 0){
+-
+-301 
+-	`d_
+-();
+-
+-305 if((
+-
+- = 
+-	`mei
+-(
+-th
+-)) == 0){
+-
+-306 
+-	`d_
+-();
+-
+-309 
+-	`ock
+-(
+-
+-);
+-
+-310 if(
+-
+-->
+-ty
+- =
+-T_DIR
+- && 
+-omode
+- !
+-O_RDONLY
+-){
+-
+-311 
+-	`iuockput
+-(
+-
+-);
+-
+-312 
+-	`d_
+-();
+-
+-317 if((
+-f
+- = 
+-	`foc
+-()=0 || (
+-fd
+- = 
+-	`fdloc
+-(f)) < 0){
+-
+-318 if(
+-f
+-)
+-
+-319 
+-	`feo
+-(
+-f
+-);
+-
+-320 
+-	`iuockput
+-(
+-
+-);
+-
+-321 
+-	`d_
+-();
+-
+-324 
+-	`iuock
+-(
+-
+-);
+-
+-325 
+-	`d_
+-();
+-
+-327 
+-f
+-->
+-ty
+- = 
+-FD_INODE
+-;
+-
+-328 
+-f
+-->
+-
+- = ip;
+-
+-329 
+-f
+-->
+-off
+- = 0;
+-
+-330 
+-f
+-->
+-adab
+- = !(
+-omode
+- & 
+-O_WRONLY
+-);
+-
+-331 
+-f
+-->
+-wrab
+- = (
+-omode
+- & 
+-O_WRONLY
+-|| (omod& 
+-O_RDWR
+-);
+-
+-332  
+-fd
+-;
+-
+-333 
+-	}
+-}
+-
+-336 
+-	$sys_mkd
+-()
+-
+-338 *
+-th
+-;
+-
+-339 
+-ode
+- *
+-
+-;
+-
+-341 
+-	`beg_
+-();
+-
+-342 if(
+-	`gr
+-(0, &
+-th
+-< 0 || (
+-
+- = 
+-	`
+-h, 
+-T_DIR
+-, 0, 0)) == 0){
+-
+-343 
+-	`d_
+-();
+-
+-346 
+-	`iuockput
+-(
+-
+-);
+-
+-347 
+-	`d_
+-();
+-
+-349 
+-	}
+-}
+-
+-352 
+-	$sys_mknod
+-()
+-
+-354 
+-ode
+- *
+-
+-;
+-
+-355 *
+-th
+-;
+-
+-356 
+-maj
+-, 
+-m
+-;
+-
+-358 
+-	`beg_
+-();
+-
+-359 if((
+-	`gr
+-(0, &
+-th
+-)) < 0 ||
+-
+-360 
+-	`gt
+-(1, &
+-maj
+-) < 0 ||
+-
+-361 
+-	`gt
+-(2, &
+-m
+-) < 0 ||
+-
+-362 (
+-
+- = 
+-	`
+-(
+-th
+-, 
+-T_DEV
+-, 
+-maj
+-, 
+-m
+-)) == 0){
+-
+-363 
+-	`d_
+-();
+-
+-366 
+-	`iuockput
+-(
+-
+-);
+-
+-367 
+-	`d_
+-();
+-
+-369 
+-	}
+-}
+-
+-372 
+-	$sys_chd
+-()
+-
+-374 *
+-th
+-;
+-
+-375 
+-ode
+- *
+-
+-;
+-
+-376 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-378 
+-	`beg_
+-();
+-
+-379 if(
+-	`gr
+-(0, &
+-th
+-< 0 || (
+-
+- = 
+-	`mei
+-(path)) == 0){
+-
+-380 
+-	`d_
+-();
+-
+-383 
+-	`ock
+-(
+-
+-);
+-
+-384 if(
+-
+-->
+-ty
+- !
+-T_DIR
+-){
+-
+-385 
+-	`iuockput
+-(
+-
+-);
+-
+-386 
+-	`d_
+-();
+-
+-389 
+-	`iuock
+-(
+-
+-);
+-
+-390 
+-	`ut
+-(
+-curoc
+-->
+-cwd
+-);
+-
+-391 
+-	`d_
+-();
+-
+-392 
+-curoc
+-->
+-cwd
+- = 
+-
+-;
+-
+-394 
+-	}
+-}
+-
+-397 
+-	$sys_exec
+-()
+-
+-399 *
+-th
+-, *
+-gv
+-[
+-MAXARG
+-];
+-
+-400 
+-i
+-;
+-
+-401 
+-ut
+- 
+-ugv
+-, 
+-ug
+-;
+-
+-403 if(
+-	`gr
+-(0, &
+-th
+-< 0 || 
+-	`gt
+-(1, (*)&
+-ugv
+-) < 0){
+-
+-406 
+-	`memt
+-(
+-gv
+-, 0, (argv));
+-
+-407 
+-i
+-=0;; i++){
+-
+-408 if(
+-i
+- >
+-	`NELEM
+-(
+-gv
+-))
+-
+-410 if(
+-	`tcht
+-(
+-ugv
+-+4*
+-i
+-, (*)&
+-ug
+-) < 0)
+-
+-412 if(
+-ug
+- == 0){
+-
+-413 
+-gv
+-[
+-i
+-] = 0;
+-
+-416 if(
+-	`tchr
+-(
+-ug
+-, &
+-gv
+-[
+-i
+-]) < 0)
+-
+-419  
+-	`exec
+-(
+-th
+-, 
+-gv
+-);
+-
+-420 
+-	}
+-}
+-
+-423 
+-	$sys_pe
+-()
+-
+-425 *
+-fd
+-;
+-
+-426 
+-fe
+- *
+-rf
+-, *
+-wf
+-;
+-
+-427 
+-fd0
+-, 
+-fd1
+-;
+-
+-429 if(
+-	`gr
+-(0, (*)&
+-fd
+-, 2*(fd[0])) < 0)
+-
+-431 if(
+-	`poc
+-(&
+-rf
+-, &
+-wf
+-) < 0)
+-
+-433 
+-fd0
+- = -1;
+-
+-434 if((
+-fd0
+- = 
+-	`fdloc
+-(
+-rf
+-)< 0 || (
+-fd1
+- = fdloc(
+-wf
+-)) < 0){
+-
+-435 if(
+-fd0
+- >= 0)
+-
+-436 
+-	`myoc
+-()->
+-ofe
+-[
+-fd0
+-] = 0;
+-
+-437 
+-	`feo
+-(
+-rf
+-);
+-
+-438 
+-	`feo
+-(
+-wf
+-);
+-
+-441 
+-fd
+-[0] = 
+-fd0
+-;
+-
+-442 
+-fd
+-[1] = 
+-fd1
+-;
+-
+-444 
+-	}
+-}
+-
+-446 
+-	$sys_mm
+-(){
+-
+-450 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-;
+-
+-451 
+-fe
+- *
+-
+-;
+-
+-456 i(
+-	`gt
+-(2,&
+-
+-< 0 ||rgt(3,&
+-ags
+-< 0 || 
+-	`gfd
+-(4,&
+-fd
+-,&
+-
+-< 0 ||rgt(5,&
+-offt
+-) < 0){
+-
+-459 
+-	`rtf
+-("%d %d %d %d\n", 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-461 
+-	}
+-}
+-
+-463 
+-	$sys_munm
+-(){
+-
+-465 *
+-addr
+-;
+-
+-466 
+-ngth
+-;
+-
+-468 i(
+-	`gt
+-(1, &
+-ngth
+-< 0 || 
+-	`gr
+-(0, &
+-addr
+-,ength) < 0){
+-
+-472 
+-	}
+-}
+-
+-	@sysproc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"de.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"memyout.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-11 
+-	$sys_fk
+-()
+-
+-13  
+-	`fk
+-();
+-
+-14 
+-	}
+-}
+-
+-17 
+-	$sys_ex
+-()
+-
+-19 
+-	`ex
+-();
+-
+-21 
+-	}
+-}
+-
+-24 
+-	$sys_wa
+-()
+-
+-26  
+-	`wa
+-();
+-
+-27 
+-	}
+-}
+-
+-30 
+-	$sys_kl
+-()
+-
+-32 
+-pid
+-;
+-
+-34 if(
+-	`gt
+-(0, &
+-pid
+-) < 0)
+-
+-36  
+-	`kl
+-(
+-pid
+-);
+-
+-37 
+-	}
+-}
+-
+-40 
+-	$sys_gpid
+-()
+-
+-42  
+-	`myoc
+-()->
+-pid
+-;
+-
+-43 
+-	}
+-}
+-
+-46 
+-	$sys_sbrk
+-()
+-
+-48 
+-addr
+-;
+-
+-49 
+-n
+-;
+-
+-51 if(
+-	`gt
+-(0, &
+-n
+-) < 0)
+-
+-53 
+-addr
+- = 
+-	`myoc
+-()->
+-sz
+-;
+-
+-54 if(
+-	`growoc
+-(
+-n
+-) < 0)
+-
+-56  
+-addr
+-;
+-
+-57 
+-	}
+-}
+-
+-60 
+-	$sys_p
+-()
+-
+-62 
+-n
+-;
+-
+-63 
+-ut
+- 
+-ticks0
+-;
+-
+-65 if(
+-	`gt
+-(0, &
+-n
+-) < 0)
+-
+-67 
+-	`acque
+-(&
+-tickock
+-);
+-
+-68 
+-ticks0
+- = 
+-ticks
+-;
+-
+-69 
+-ticks
+- - 
+-ticks0
+- < 
+-n
+-){
+-
+-70 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-71 
+-	`a
+-(&
+-tickock
+-);
+-
+-74 
+-	`p
+-(&
+-ticks
+-, &
+-tickock
+-);
+-
+-76 
+-	`a
+-(&
+-tickock
+-);
+-
+-78 
+-	}
+-}
+-
+-83 
+-	$sys_uime
+-()
+-
+-85 
+-ut
+- 
+-xticks
+-;
+-
+-87 
+-	`acque
+-(&
+-tickock
+-);
+-
+-88 
+-xticks
+- = 
+-ticks
+-;
+-
+-89 
+-	`a
+-(&
+-tickock
+-);
+-
+-90  
+-xticks
+-;
+-
+-91 
+-	}
+-}
+-
+-	@trap.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-12 
+-gedesc
+- 
+-	gidt
+-[256];
+-
+-13 
+-ut
+- 
+-ves
+-[];
+-
+-14 
+-lock
+- 
+-	gtickock
+-;
+-
+-15 
+-ut
+- 
+-	gticks
+-;
+-
+-18 
+-	$tv
+-()
+-
+-20 
+-i
+-;
+-
+-22 
+-i
+- = 0; i < 256; i++)
+-
+-23 
+-	`SETGATE
+-(
+-idt
+-[
+-i
+-], 0, 
+-SEG_KCODE
+-<<3, 
+-ves
+-[i], 0);
+-
+-24 
+-	`SETGATE
+-(
+-idt
+-[
+-T_SYSCALL
+-], 1, 
+-SEG_KCODE
+-<<3, 
+-ves
+-[T_SYSCALL], 
+-DPL_USER
+-);
+-
+-26 
+-	`lock
+-(&
+-tickock
+-, "time");
+-
+-27 
+-	}
+-}
+-
+-30 
+-	$idt
+-()
+-
+-32 
+-	`lidt
+-(
+-idt
+-, (idt));
+-
+-33 
+-	}
+-}
+-
+-37 
+-	$
+-(
+-ame
+- *
+-tf
+-)
+-
+-39 if(
+-tf
+-->
+-no
+- =
+-T_SYSCALL
+-){
+-
+-40 if(
+-	`myoc
+-()->
+-kd
+-)
+-
+-41 
+-	`ex
+-();
+-
+-42 
+-	`myoc
+-()->
+-tf
+- =f;
+-
+-43 
+-	`sys
+-();
+-
+-44 if(
+-	`myoc
+-()->
+-kd
+-)
+-
+-45 
+-	`ex
+-();
+-
+-49 
+-tf
+-->
+-no
+-){
+-
+-50 
+-T_IRQ0
+- + 
+-IRQ_TIMER
+-:
+-
+-51 if(
+-	`uid
+-() == 0){
+-
+-52 
+-	`acque
+-(&
+-tickock
+-);
+-
+-53 
+-ticks
+-++;
+-
+-54 
+-	`wakeup
+-(&
+-ticks
+-);
+-
+-55 
+-	`a
+-(&
+-tickock
+-);
+-
+-57 
+-	`pioi
+-();
+-
+-59 
+-T_IRQ0
+- + 
+-IRQ_IDE
+-:
+-
+-60 
+-	`ide
+-();
+-
+-61 
+-	`pioi
+-();
+-
+-63 
+-T_IRQ0
+- + 
+-IRQ_IDE
+-+1:
+-
+-66 
+-T_IRQ0
+- + 
+-IRQ_KBD
+-:
+-
+-67 
+-	`kbd
+-();
+-
+-68 
+-	`pioi
+-();
+-
+-70 
+-T_IRQ0
+- + 
+-IRQ_COM1
+-:
+-
+-71 
+-	`ut
+-();
+-
+-72 
+-	`pioi
+-();
+-
+-74 
+-T_IRQ0
+- + 7:
+-
+-75 
+-T_IRQ0
+- + 
+-IRQ_SPURIOUS
+-:
+-
+-76 
+-	`rtf
+-("cpu%d: spurious interruptt %x:%x\n",
+-
+-77 
+-	`uid
+-(), 
+-tf
+-->
+-cs
+-,f->
+-e
+-);
+-
+-78 
+-	`pioi
+-();
+-
+-83 if(
+-	`myoc
+-(=0 || (
+-tf
+-->
+-cs
+-&3) == 0){
+-
+-85 
+-	`rtf
+-("unexpectedrap %d from cpu %dip %x (cr2=0x%x)\n",
+-
+-86 
+-tf
+-->
+-no
+-, 
+-	`uid
+-(),f->
+-e
+-, 
+-	`r2
+-());
+-
+-87 
+-	`nic
+-("trap");
+-
+-90 
+-	`rtf
+-("pid %d %s:rap %drr %d on cpu %d "
+-
+-92 
+-	`myoc
+-()->
+-pid
+-, myoc()->
+-me
+-, 
+-tf
+-->
+-no
+-,
+-
+-93 
+-tf
+-->
+-r
+-, 
+-	`uid
+-(),f->
+-e
+-, 
+-	`r2
+-());
+-
+-94 
+-	`myoc
+-()->
+-kd
+- = 1;
+-
+-100 if(
+-	`myoc
+-(&& myoc()->
+-kd
+- && (
+-tf
+-->
+-cs
+-&3=
+-DPL_USER
+-)
+-
+-101 
+-	`ex
+-();
+-
+-105 if(
+-	`myoc
+-(&& myoc()->
+-e
+- =
+-RUNNING
+- &&
+-
+-106 
+-tf
+-->
+-no
+- =
+-T_IRQ0
+-+
+-IRQ_TIMER
+-)
+-
+-107 
+-	`yld
+-();
+-
+-110 if(
+-	`myoc
+-(&& myoc()->
+-kd
+- && (
+-tf
+-->
+-cs
+-&3=
+-DPL_USER
+-)
+-
+-111 
+-	`ex
+-();
+-
+-112 
+-	}
+-}
+-
+-	@trapasm.S
+-
+-1 
+-	~"mmu.h
+-"
+-
+-3 #ves.
+-S
+- 
+-nds
+- 
+-l
+- 
+-s
+- 
+-he
+-.
+-
+-4 .
+-globl
+- 
+-ps
+-
+-
+-5 
+-	gps
+-:
+-
+-6 #Bud 
+-
+- 
+-ame
+-.
+-
+-7 
+-pushl
+- %
+-ds
+-
+-
+-8 
+-pushl
+- %
+-es
+-
+-
+-9 
+-pushl
+- %
+-fs
+-
+-
+-10 
+-pushl
+- %
+-gs
+-
+-
+-11 
+-push
+-
+-
+-13 #S 
+-up
+- 
+-da
+- 
+-gmts
+-.
+-
+-14 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-ax
+-
+-
+-15 
+-	gmovw
+- %
+-	gax
+-, %
+-ds
+-
+-
+-16 
+-	gmovw
+- %
+-	gax
+-, %
+-	ges
+-
+-
+-18 #C
+-
+-(
+-tf
+-), 
+-whe
+-f=%
+-e
+-
+-
+-19 
+-	gpushl
+- %
+-e
+-
+-
+-20 
+-
+- 
+-
+-
+-
+-21 
+-addl
+- 
+-	g$4
+-, %
+-	ge
+-
+-
+-23 #Ru 
+-s
+- 
+-through
+- 
+-to
+- 
+-t
+-...
+-
+-24 .
+-globl
+- 
+-t
+-
+-
+-25 
+-	gt
+-:
+-
+-26 
+-p
+-
+-
+-27 
+-pl
+- %
+-gs
+-
+-
+-28 
+-pl
+- %
+-fs
+-
+-
+-29 
+-pl
+- %
+-es
+-
+-
+-30 
+-pl
+- %
+-ds
+-
+-
+-31 
+-addl
+- 
+-$0x8
+-, %
+-	ge
+- #n
+-d
+- 
+-rcode
+-
+-
+-32 
+-	g
+-
+-
+-	@traps.h
+-
+-4 
+-	#T_DIVIDE
+- 0
+-
+-5 
+-	#T_DEBUG
+- 1
+-
+-6 
+-	#T_NMI
+- 2
+-
+-7 
+-	#T_BRKPT
+- 3
+-
+-8 
+-	#T_OFLOW
+- 4
+-
+-9 
+-	#T_BOUND
+- 5
+-
+-10 
+-	#T_ILLOP
+- 6
+-
+-11 
+-	#T_DEVICE
+- 7
+-
+-12 
+-	#T_DBLFLT
+- 8
+-
+-14 
+-	#T_TSS
+- 10
+-
+-15 
+-	#T_SEGNP
+- 11
+-
+-16 
+-	#T_STACK
+- 12
+-
+-17 
+-	#T_GPFLT
+- 13
+-
+-18 
+-	#T_PGFLT
+- 14
+-
+-20 
+-	#T_FPERR
+- 16
+-
+-21 
+-	#T_ALIGN
+- 17
+-
+-22 
+-	#T_MCHK
+- 18
+-
+-23 
+-	#T_SIMDERR
+- 19
+-
+-24 
+-
+-	)
+-
+-27 
+-	#T_SYSCALL
+- 64
+-
+-28 
+-	#T_DEFAULT
+- 500
+-
+-29 
+-
+-	)
+-
+-30 
+-	#T_IRQ0
+- 32
+-
+-31 
+-
+-	)
+-
+-32 
+-	#IRQ_TIMER
+- 0
+-
+-	)
+-
+-33 
+-	#IRQ_KBD
+- 1
+-
+-	)
+-
+-34 
+-	#IRQ_COM1
+- 4
+-
+-	)
+-
+-35 
+-	#IRQ_IDE
+- 14
+-
+-	)
+-
+-36 
+-	#IRQ_ERROR
+- 19
+-
+-	)
+-
+-37 
+-	#IRQ_SPURIOUS
+- 31
+-
+-	)
+-
+-	@types.h
+-
+-1 
+-	tut
+-;
+-
+-2 
+-	tusht
+-;
+-
+-3 
+-	tuch
+-;
+-
+-4 
+-ut
+- 
+-	tpde_t
+-;
+-
+-	@uart.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"s.h
+-"
+-
+-7 
+-	~"lock.h
+-"
+-
+-8 
+-	~"ock.h
+-"
+-
+-9 
+-	~"fs.h
+-"
+-
+-10 
+-	~"fe.h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-13 
+-	~"x86.h
+-"
+-
+-15 
+-	#COM1
+- 0x3f8
+-
+-	)
+-
+-17 
+-	gut
+-;
+-
+-20 
+-	$ut
+-()
+-
+-22 *
+-p
+-;
+-
+-25 
+-	`outb
+-(
+-COM1
+-+2, 0);
+-
+-28 
+-	`outb
+-(
+-COM1
+-+3, 0x80);
+-
+-29 
+-	`outb
+-(
+-COM1
+-+0, 115200/9600);
+-
+-30 
+-	`outb
+-(
+-COM1
+-+1, 0);
+-
+-31 
+-	`outb
+-(
+-COM1
+-+3, 0x03);
+-
+-32 
+-	`outb
+-(
+-COM1
+-+4, 0);
+-
+-33 
+-	`outb
+-(
+-COM1
+-+1, 0x01);
+-
+-36 if(
+-	`b
+-(
+-COM1
+-+5) == 0xFF)
+-
+-38 
+-ut
+- = 1;
+-
+-42 
+-	`b
+-(
+-COM1
+-+2);
+-
+-43 
+-	`b
+-(
+-COM1
+-+0);
+-
+-44 
+-	`ipib
+-(
+-IRQ_COM1
+-, 0);
+-
+-47 
+-p
+-="xv6...\n"; *p;++)
+-
+-48 
+-	`uutc
+-(*
+-p
+-);
+-
+-49 
+-	}
+-}
+-
+-52 
+-	$uutc
+-(
+-c
+-)
+-
+-54 
+-i
+-;
+-
+-56 if(!
+-ut
+-)
+-
+-58 
+-i
+- = 0; i < 128 && !(
+-	`b
+-(
+-COM1
+-+5) & 0x20); i++)
+-
+-59 
+-	`mioday
+-(10);
+-
+-60 
+-	`outb
+-(
+-COM1
+-+0, 
+-c
+-);
+-
+-61 
+-	}
+-}
+-
+-64 
+-	$utgc
+-()
+-
+-66 if(!
+-ut
+-)
+-
+-68 if(!(
+-	`b
+-(
+-COM1
+-+5) & 0x01))
+-
+-70  
+-	`b
+-(
+-COM1
+-+0);
+-
+-71 
+-	}
+-}
+-
+-74 
+-	$ut
+-()
+-
+-76 
+-	`cse
+-(
+-utgc
+-);
+-
+-77 
+-	}
+-}
+-
+-	@ulib.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"f.h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"x86.h
+-"
+-
+-8 
+-	$ry
+-(*
+-s
+-, c *
+-t
+-)
+-
+-10 *
+-os
+-;
+-
+-12 
+-os
+- = 
+-s
+-;
+-
+-13 (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-15  
+-os
+-;
+-
+-16 
+-	}
+-}
+-
+-19 
+-	$rcmp
+-(c *
+-p
+-, c *
+-q
+-)
+-
+-21 *
+-p
+- && *=*
+-q
+-)
+-
+-22 
+-p
+-++, 
+-q
+-++;
+-
+-23  (
+-uch
+-)*
+-p
+- - (uch)*
+-q
+-;
+-
+-24 
+-	}
+-}
+-
+-26 
+-ut
+-
+-
+-27 
+-	$
+-(c *
+-s
+-)
+-
+-29 
+-n
+-;
+-
+-31 
+-n
+- = 0; 
+-s
+-[n];++)
+-
+-33  
+-n
+-;
+-
+-34 
+-	}
+-}
+-
+-37 
+-	$memt
+-(*
+-d
+-, 
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-39 
+-	`osb
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-40  
+-d
+-;
+-
+-41 
+-	}
+-}
+-
+-44 
+-	$rchr
+-(c *
+-s
+-, 
+-c
+-)
+-
+-46 ; *
+-s
+-; s++)
+-
+-47 if(*
+-s
+- =
+-c
+-)
+-
+-48  (*)
+-s
+-;
+-
+-50 
+-	}
+-}
+-
+-53 
+-	$gs
+-(*
+-buf
+-, 
+-max
+-)
+-
+-55 
+-i
+-, 
+-cc
+-;
+-
+-56 
+-c
+-;
+-
+-58 
+-i
+-=0; i+1 < 
+-max
+-; ){
+-
+-59 
+-cc
+- = 
+-	`ad
+-(0, &
+-c
+-, 1);
+-
+-60 if(
+-cc
+- < 1)
+-
+-62 
+-buf
+-[
+-i
+-++] = 
+-c
+-;
+-
+-63 if(
+-c
+- == '\n' || c == '\r')
+-
+-66 
+-buf
+-[
+-i
+-] = '\0';
+-
+-67  
+-buf
+-;
+-
+-68 
+-	}
+-}
+-
+-71 
+-	$
+-(c *
+-n
+-, 
+-
+- *
+-
+-)
+-
+-73 
+-fd
+-;
+-
+-74 
+-r
+-;
+-
+-76 
+-fd
+- = 
+-	`
+-(
+-n
+-, 
+-O_RDONLY
+-);
+-
+-77 if(
+-fd
+- < 0)
+-
+-79 
+-r
+- = 
+-	`f
+-(
+-fd
+-, 
+-
+-);
+-
+-80 
+-	`o
+-(
+-fd
+-);
+-
+-81  
+-r
+-;
+-
+-82 
+-	}
+-}
+-
+-85 
+-	$oi
+-(c *
+-s
+-)
+-
+-87 
+-n
+-;
+-
+-89 
+-n
+- = 0;
+-
+-90 '0' <*
+-s
+- && *s <= '9')
+-
+-91 
+-n
+- =*10 + *
+-s
+-++ - '0';
+-
+-92  
+-n
+-;
+-
+-93 
+-	}
+-}
+-
+-96 
+-	$memmove
+-(*
+-vd
+-, c *
+-vc
+-, 
+-n
+-)
+-
+-98 *
+-d
+-;
+-
+-99 c *
+-c
+-;
+-
+-101 
+-d
+- = 
+-vd
+-;
+-
+-102 
+-c
+- = 
+-vc
+-;
+-
+-103 
+-n
+--- > 0)
+-
+-104 *
+-d
+-++ = *
+-c
+-++;
+-
+-105  
+-vd
+-;
+-
+-106 
+-	}
+-}
+-
+-	@umalloc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"m.h
+-"
+-
+-9 
+-	tAlign
+-;
+-
+-11 
+-	uhd
+- {
+-
+-13 
+-hd
+- *
+-	mr
+-;
+-
+-14 
+-ut
+- 
+-	msize
+-;
+-
+-15 } 
+-	ms
+-;
+-
+-16 
+-Align
+- 
+-	mx
+-;
+-
+-19 
+-hd
+- 
+-	tHd
+-;
+-
+-21 
+-Hd
+- 
+-	gba
+-;
+-
+-22 
+-Hd
+- *
+-	gp
+-;
+-
+-25 
+-	$
+-(*
+-
+-)
+-
+-27 
+-Hd
+- *
+-bp
+-, *
+-p
+-;
+-
+-29 
+-bp
+- = (
+-Hd
+-*)
+-
+- - 1;
+-
+-30 
+-p
+- = 
+-p
+-; !(
+-bp
+- > && b<->
+-s
+-.
+-r
+-); =->s.ptr)
+-
+-31 if(
+-p
+- >p->
+-s
+-.
+-r
+- && (
+-bp
+- > || bp <->s.ptr))
+-
+-33 if(
+-bp
+- + bp->
+-s
+-.
+-size
+- =
+-p
+-->s.
+-r
+-){
+-
+-34 
+-bp
+-->
+-s
+-.
+-size
+- +
+-p
+-->s.
+-r
+-->s.size;
+-
+-35 
+-bp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr->s.ptr;
+-
+-37 
+-bp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr;
+-
+-38 if(
+-p
+- +->
+-s
+-.
+-size
+- =
+-bp
+-){
+-
+-39 
+-p
+-->
+-s
+-.
+-size
+- +
+-bp
+-->s.size;
+-
+-40 
+-p
+-->
+-s
+-.
+-r
+- = 
+-bp
+-->s.ptr;
+-
+-42 
+-p
+-->
+-s
+-.
+-r
+- = 
+-bp
+-;
+-
+-43 
+-p
+- = 
+-p
+-;
+-
+-44 
+-	}
+-}
+-
+-46 
+-Hd
+-*
+-
+-47 
+-	$mece
+-(
+-ut
+- 
+-nu
+-)
+-
+-49 *
+-p
+-;
+-
+-50 
+-Hd
+- *
+-hp
+-;
+-
+-52 if(
+-nu
+- < 4096)
+-
+-53 
+-nu
+- = 4096;
+-
+-54 
+-p
+- = 
+-	`sbrk
+-(
+-nu
+- * (
+-Hd
+-));
+-
+-55 if(
+-p
+- == (*)-1)
+-
+-57 
+-hp
+- = (
+-Hd
+-*)
+-p
+-;
+-
+-58 
+-hp
+-->
+-s
+-.
+-size
+- = 
+-nu
+-;
+-
+-59 
+-	`
+-((*)(
+-hp
+- + 1));
+-
+-60  
+-p
+-;
+-
+-61 
+-	}
+-}
+-
+-64 
+-	$mloc
+-(
+-ut
+- 
+-nbys
+-)
+-
+-66 
+-Hd
+- *
+-p
+-, *
+-evp
+-;
+-
+-67 
+-ut
+- 
+-nuns
+-;
+-
+-69 
+-nuns
+- = (
+-nbys
+- + (
+-Hd
+-) - 1)/(Header) + 1;
+-
+-70 if((
+-evp
+- = 
+-p
+-) == 0){
+-
+-71 
+-ba
+-.
+-s
+-.
+-r
+- = 
+-p
+- = 
+-evp
+- = &base;
+-
+-72 
+-ba
+-.
+-s
+-.
+-size
+- = 0;
+-
+-74 
+-p
+- = 
+-evp
+-->
+-s
+-.
+-r
+-; ;revp =, =->s.ptr){
+-
+-75 if(
+-p
+-->
+-s
+-.
+-size
+- >
+-nuns
+-){
+-
+-76 if(
+-p
+-->
+-s
+-.
+-size
+- =
+-nuns
+-)
+-
+-77 
+-evp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr;
+-
+-79 
+-p
+-->
+-s
+-.
+-size
+- -
+-nuns
+-;
+-
+-80 
+-p
+- +p->
+-s
+-.
+-size
+-;
+-
+-81 
+-p
+-->
+-s
+-.
+-size
+- = 
+-nuns
+-;
+-
+-83 
+-p
+- = 
+-evp
+-;
+-
+-84  (*)(
+-p
+- + 1);
+-
+-86 if(
+-p
+- =
+-p
+-)
+-
+-87 if((
+-p
+- = 
+-	`mece
+-(
+-nuns
+-)) == 0)
+-
+-90 
+-	}
+-}
+-
+-	@user.h
+-
+-1 
+-	g
+-;
+-
+-2 
+-	gcde
+-;
+-
+-5 
+-fk
+-();
+-
+-6 
+-	$ex
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-7 
+-	`wa
+-();
+-
+-8 
+-	`pe
+-(*);
+-
+-9 
+-	`wre
+-(, const *, );
+-
+-10 
+-	`ad
+-(, *, );
+-
+-11 
+-	`o
+-();
+-
+-12 
+-	`kl
+-();
+-
+-13 
+-	`exec
+-(*, **);
+-
+-14 
+-	`
+-(const *, );
+-
+-15 
+-	`mknod
+-(const *, , );
+-
+-16 
+-	`uk
+-(const *);
+-
+-17 
+-	`f
+-(
+-fd
+-, 
+-
+-*);
+-
+-18 
+-	`lk
+-(const *, const *);
+-
+-19 
+-	`mkd
+-(const *);
+-
+-20 
+-	`chd
+-(const *);
+-
+-21 
+-	`dup
+-();
+-
+-22 
+-	`gpid
+-();
+-
+-23 * 
+-	`sbrk
+-();
+-
+-24 
+-	`p
+-();
+-
+-25 
+-	`uime
+-();
+-
+-26 
+-	`mm
+-(*
+-addr
+-, 
+-ngth
+-, 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-27 
+-	`munm
+-(*
+-addr
+-, 
+-ngth
+-);
+-
+-30 
+-	`
+-(c *, 
+-
+-*);
+-
+-31 * 
+-	`ry
+-(*, const *);
+-
+-32 *
+-	`memmove
+-(*, const *, );
+-
+-33 * 
+-	`rchr
+-(c *, 
+-c
+-);
+-
+-34 
+-	`rcmp
+-(const *, const *);
+-
+-35 
+-	`tf
+-(, const *, ...);
+-
+-36 * 
+-	`gs
+-(*, 
+-max
+-);
+-
+-37 
+-ut
+- 
+-	`
+-(const *);
+-
+-38 * 
+-	`memt
+-(*, , 
+-ut
+-);
+-
+-39 * 
+-	`mloc
+-(
+-ut
+-);
+-
+-40 
+-	`
+-(*);
+-
+-41 
+-	`oi
+-(const *);
+-
+-	@usertests.c
+-
+-1 
+-	~"m.h
+-"
+-
+-2 
+-	~"tys.h
+-"
+-
+-3 
+-	~".h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"fs.h
+-"
+-
+-6 
+-	~"f.h
+-"
+-
+-7 
+-	~"sys.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"memyout.h
+-"
+-
+-11 
+-	gbuf
+-[8192];
+-
+-12 
+-	gme
+-[3];
+-
+-13 *
+-	gechrgv
+-[] = { "echo", "ALL", "TESTS", "PASSED", 0 };
+-
+-14 
+-	gdout
+- = 1;
+-
+-18 
+-	$ue
+-()
+-
+-20 
+-	`tf
+-(
+-dout
+-, "iputest\n");
+-
+-22 if(
+-	`mkd
+-("iputdir") < 0){
+-
+-23 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-24 
+-	`ex
+-();
+-
+-26 if(
+-	`chd
+-("iputdir") < 0){
+-
+-27 
+-	`tf
+-(
+-dout
+-, "chdir iputdir failed\n");
+-
+-28 
+-	`ex
+-();
+-
+-30 if(
+-	`uk
+-("../iputdir") < 0){
+-
+-31 
+-	`tf
+-(
+-dout
+-, "unlink ../iputdir failed\n");
+-
+-32 
+-	`ex
+-();
+-
+-34 if(
+-	`chd
+-("/") < 0){
+-
+-35 
+-	`tf
+-(
+-dout
+-, "chdir / failed\n");
+-
+-36 
+-	`ex
+-();
+-
+-38 
+-	`tf
+-(
+-dout
+-, "iputest ok\n");
+-
+-39 
+-	}
+-}
+-
+-43 
+-	$exue
+-()
+-
+-45 
+-pid
+-;
+-
+-47 
+-	`tf
+-(
+-dout
+-, "exitiputest\n");
+-
+-49 
+-pid
+- = 
+-	`fk
+-();
+-
+-50 if(
+-pid
+- < 0){
+-
+-51 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-52 
+-	`ex
+-();
+-
+-54 if(
+-pid
+- == 0){
+-
+-55 if(
+-	`mkd
+-("iputdir") < 0){
+-
+-56 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-57 
+-	`ex
+-();
+-
+-59 if(
+-	`chd
+-("iputdir") < 0){
+-
+-60 
+-	`tf
+-(
+-dout
+-, "child chdir failed\n");
+-
+-61 
+-	`ex
+-();
+-
+-63 if(
+-	`uk
+-("../iputdir") < 0){
+-
+-64 
+-	`tf
+-(
+-dout
+-, "unlink ../iputdir failed\n");
+-
+-65 
+-	`ex
+-();
+-
+-67 
+-	`ex
+-();
+-
+-69 
+-	`wa
+-();
+-
+-70 
+-	`tf
+-(
+-dout
+-, "exitiputest ok\n");
+-
+-71 
+-	}
+-}
+-
+-85 
+-	$ue
+-()
+-
+-87 
+-pid
+-;
+-
+-89 
+-	`tf
+-(
+-dout
+-, "openiputest\n");
+-
+-90 if(
+-	`mkd
+-("oidir") < 0){
+-
+-91 
+-	`tf
+-(
+-dout
+-, "mkdir oidir failed\n");
+-
+-92 
+-	`ex
+-();
+-
+-94 
+-pid
+- = 
+-	`fk
+-();
+-
+-95 if(
+-pid
+- < 0){
+-
+-96 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-97 
+-	`ex
+-();
+-
+-99 if(
+-pid
+- == 0){
+-
+-100 
+-fd
+- = 
+-	`
+-("oid", 
+-O_RDWR
+-);
+-
+-101 if(
+-fd
+- >= 0){
+-
+-102 
+-	`tf
+-(
+-dout
+-, "open directory for write succeeded\n");
+-
+-103 
+-	`ex
+-();
+-
+-105 
+-	`ex
+-();
+-
+-107 
+-	`p
+-(1);
+-
+-108 if(
+-	`uk
+-("oidir") != 0){
+-
+-109 
+-	`tf
+-(
+-dout
+-, "unlink failed\n");
+-
+-110 
+-	`ex
+-();
+-
+-112 
+-	`wa
+-();
+-
+-113 
+-	`tf
+-(
+-dout
+-, "openiputest ok\n");
+-
+-114 
+-	}
+-}
+-
+-119 
+-	$
+-()
+-
+-121 
+-fd
+-;
+-
+-123 
+-	`tf
+-(
+-dout
+-, "openest\n");
+-
+-124 
+-fd
+- = 
+-	`
+-("echo", 0);
+-
+-125 if(
+-fd
+- < 0){
+-
+-126 
+-	`tf
+-(
+-dout
+-, "opencho failed!\n");
+-
+-127 
+-	`ex
+-();
+-
+-129 
+-	`o
+-(
+-fd
+-);
+-
+-130 
+-fd
+- = 
+-	`
+-("doesnotexist", 0);
+-
+-131 if(
+-fd
+- >= 0){
+-
+-132 
+-	`tf
+-(
+-dout
+-, "open doesnotexist succeeded!\n");
+-
+-133 
+-	`ex
+-();
+-
+-135 
+-	`tf
+-(
+-dout
+-, "openest ok\n");
+-
+-136 
+-	}
+-}
+-
+-139 
+-	$wre
+-()
+-
+-141 
+-fd
+-;
+-
+-142 
+-i
+-;
+-
+-144 
+-	`tf
+-(
+-dout
+-, "small fileest\n");
+-
+-145 
+-fd
+- = 
+-	`
+-("sml", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-146 if(
+-fd
+- >= 0){
+-
+-147 
+-	`tf
+-(
+-dout
+-, "creat small succeeded; ok\n");
+-
+-149 
+-	`tf
+-(
+-dout
+-, "error: creat small failed!\n");
+-
+-150 
+-	`ex
+-();
+-
+-152 
+-i
+- = 0; i < 100; i++){
+-
+-153 if(
+-	`wre
+-(
+-fd
+-, "aaaaaaaaaa", 10) != 10){
+-
+-154 
+-	`tf
+-(
+-dout
+-, "r: wr %dew fed\n", 
+-i
+-);
+-
+-155 
+-	`ex
+-();
+-
+-157 if(
+-	`wre
+-(
+-fd
+-, "bbbbbbbbbb", 10) != 10){
+-
+-158 
+-	`tf
+-(
+-dout
+-, "r: wrbb %dew fed\n", 
+-i
+-);
+-
+-159 
+-	`ex
+-();
+-
+-162 
+-	`tf
+-(
+-dout
+-, "writes ok\n");
+-
+-163 
+-	`o
+-(
+-fd
+-);
+-
+-164 
+-fd
+- = 
+-	`
+-("sml", 
+-O_RDONLY
+-);
+-
+-165 if(
+-fd
+- >= 0){
+-
+-166 
+-	`tf
+-(
+-dout
+-, "open small succeeded ok\n");
+-
+-168 
+-	`tf
+-(
+-dout
+-, "error: open small failed!\n");
+-
+-169 
+-	`ex
+-();
+-
+-171 
+-i
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 2000);
+-
+-172 if(
+-i
+- == 2000){
+-
+-173 
+-	`tf
+-(
+-dout
+-, "read succeeded ok\n");
+-
+-175 
+-	`tf
+-(
+-dout
+-, "read failed\n");
+-
+-176 
+-	`ex
+-();
+-
+-178 
+-	`o
+-(
+-fd
+-);
+-
+-180 if(
+-	`uk
+-("small") < 0){
+-
+-181 
+-	`tf
+-(
+-dout
+-, "unlink small failed\n");
+-
+-182 
+-	`ex
+-();
+-
+-184 
+-	`tf
+-(
+-dout
+-, "small fileest ok\n");
+-
+-185 
+-	}
+-}
+-
+-188 
+-	$wre1
+-()
+-
+-190 
+-i
+-, 
+-fd
+-, 
+-n
+-;
+-
+-192 
+-	`tf
+-(
+-dout
+-, "big filesest\n");
+-
+-194 
+-fd
+- = 
+-	`
+-("big", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-195 if(
+-fd
+- < 0){
+-
+-196 
+-	`tf
+-(
+-dout
+-, "error: creat big failed!\n");
+-
+-197 
+-	`ex
+-();
+-
+-200 
+-i
+- = 0; i < 
+-MAXFILE
+-; i++){
+-
+-201 ((*)
+-buf
+-)[0] = 
+-i
+-;
+-
+-202 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 512) != 512){
+-
+-203 
+-	`tf
+-(
+-dout
+-, "r: wrbig fed\n", 
+-i
+-);
+-
+-204 
+-	`ex
+-();
+-
+-208 
+-	`o
+-(
+-fd
+-);
+-
+-210 
+-fd
+- = 
+-	`
+-("big", 
+-O_RDONLY
+-);
+-
+-211 if(
+-fd
+- < 0){
+-
+-212 
+-	`tf
+-(
+-dout
+-, "error: open big failed!\n");
+-
+-213 
+-	`ex
+-();
+-
+-216 
+-n
+- = 0;
+-
+-218 
+-i
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 512);
+-
+-219 if(
+-i
+- == 0){
+-
+-220 if(
+-n
+- =
+-MAXFILE
+- - 1){
+-
+-221 
+-	`tf
+-(
+-dout
+-, "ad oy %d blockom big", 
+-n
+-);
+-
+-222 
+-	`ex
+-();
+-
+-225 } if(
+-i
+- != 512){
+-
+-226 
+-	`tf
+-(
+-dout
+-, "ad faed %d\n", 
+-i
+-);
+-
+-227 
+-	`ex
+-();
+-
+-229 if(((*)
+-buf
+-)[0] !
+-n
+-){
+-
+-230 
+-	`tf
+-(
+-dout
+-, "read content of block %d is %d\n",
+-
+-231 
+-n
+-, ((*)
+-buf
+-)[0]);
+-
+-232 
+-	`ex
+-();
+-
+-234 
+-n
+-++;
+-
+-236 
+-	`o
+-(
+-fd
+-);
+-
+-237 if(
+-	`uk
+-("big") < 0){
+-
+-238 
+-	`tf
+-(
+-dout
+-, "unlink big failed\n");
+-
+-239 
+-	`ex
+-();
+-
+-241 
+-	`tf
+-(
+-dout
+-, "big files ok\n");
+-
+-242 
+-	}
+-}
+-
+-245 
+-	$
+-()
+-
+-247 
+-i
+-, 
+-fd
+-;
+-
+-249 
+-	`tf
+-(
+-dout
+-, "many creates, followed by unlinkest\n");
+-
+-251 
+-me
+-[0] = 'a';
+-
+-252 
+-me
+-[2] = '\0';
+-
+-253 
+-i
+- = 0; i < 52; i++){
+-
+-254 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-255 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-256 
+-	`o
+-(
+-fd
+-);
+-
+-258 
+-me
+-[0] = 'a';
+-
+-259 
+-me
+-[2] = '\0';
+-
+-260 
+-i
+- = 0; i < 52; i++){
+-
+-261 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-262 
+-	`uk
+-(
+-me
+-);
+-
+-264 
+-	`tf
+-(
+-dout
+-, "many creates, followed by unlink; ok\n");
+-
+-265 
+-	}
+-}
+-
+-267 
+-	$d
+-()
+-
+-269 
+-	`tf
+-(
+-dout
+-, "mkdirest\n");
+-
+-271 if(
+-	`mkd
+-("dir0") < 0){
+-
+-272 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-273 
+-	`ex
+-();
+-
+-276 if(
+-	`chd
+-("dir0") < 0){
+-
+-277 
+-	`tf
+-(
+-dout
+-, "chdir dir0 failed\n");
+-
+-278 
+-	`ex
+-();
+-
+-281 if(
+-	`chd
+-("..") < 0){
+-
+-282 
+-	`tf
+-(
+-dout
+-, "chdir .. failed\n");
+-
+-283 
+-	`ex
+-();
+-
+-286 if(
+-	`uk
+-("dir0") < 0){
+-
+-287 
+-	`tf
+-(
+-dout
+-, "unlink dir0 failed\n");
+-
+-288 
+-	`ex
+-();
+-
+-290 
+-	`tf
+-(
+-dout
+-, "mkdirest ok\n");
+-
+-291 
+-	}
+-}
+-
+-294 
+-	$exee
+-()
+-
+-296 
+-	`tf
+-(
+-dout
+-, "execest\n");
+-
+-297 if(
+-	`exec
+-("echo", 
+-echrgv
+-) < 0){
+-
+-298 
+-	`tf
+-(
+-dout
+-, "execcho failed\n");
+-
+-299 
+-	`ex
+-();
+-
+-301 
+-	}
+-}
+-
+-306 
+-	$pe1
+-()
+-
+-308 
+-fds
+-[2], 
+-pid
+-;
+-
+-309 
+-q
+-, 
+-i
+-, 
+-n
+-, 
+-cc
+-, 
+-t
+-;
+-
+-311 if(
+-	`pe
+-(
+-fds
+-) != 0){
+-
+-312 
+-	`tf
+-(1, "pipe() failed\n");
+-
+-313 
+-	`ex
+-();
+-
+-315 
+-pid
+- = 
+-	`fk
+-();
+-
+-316 
+-q
+- = 0;
+-
+-317 if(
+-pid
+- == 0){
+-
+-318 
+-	`o
+-(
+-fds
+-[0]);
+-
+-319 
+-n
+- = 0; < 5;++){
+-
+-320 
+-i
+- = 0; i < 1033; i++)
+-
+-321 
+-buf
+-[
+-i
+-] = 
+-q
+-++;
+-
+-322 if(
+-	`wre
+-(
+-fds
+-[1], 
+-buf
+-, 1033) != 1033){
+-
+-323 
+-	`tf
+-(1, "pipe1 oops 1\n");
+-
+-324 
+-	`ex
+-();
+-
+-327 
+-	`ex
+-();
+-
+-328 } if(
+-pid
+- > 0){
+-
+-329 
+-	`o
+-(
+-fds
+-[1]);
+-
+-330 
+-t
+- = 0;
+-
+-331 
+-cc
+- = 1;
+-
+-332 (
+-n
+- = 
+-	`ad
+-(
+-fds
+-[0], 
+-buf
+-, 
+-cc
+-)) > 0){
+-
+-333 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-334 if((
+-buf
+-[
+-i
+-] & 0xff!(
+-q
+-++ & 0xff)){
+-
+-335 
+-	`tf
+-(1, "pipe1 oops 2\n");
+-
+-339 
+-t
+- +
+-n
+-;
+-
+-340 
+-cc
+- = cc * 2;
+-
+-341 if(
+-cc
+- > (
+-buf
+-))
+-
+-342 
+-cc
+- = (
+-buf
+-);
+-
+-344 if(
+-t
+- != 5 * 1033){
+-
+-345 
+-	`tf
+-(1, "pe1 o3 %d\n", 
+-t
+-);
+-
+-346 
+-	`ex
+-();
+-
+-348 
+-	`o
+-(
+-fds
+-[0]);
+-
+-349 
+-	`wa
+-();
+-
+-351 
+-	`tf
+-(1, "fork() failed\n");
+-
+-352 
+-	`ex
+-();
+-
+-354 
+-	`tf
+-(1, "pipe1 ok\n");
+-
+-355 
+-	}
+-}
+-
+-359 
+-	$m
+-()
+-
+-361 
+-pid1
+-, 
+-pid2
+-, 
+-pid3
+-;
+-
+-362 
+-pfds
+-[2];
+-
+-364 
+-	`tf
+-(1, "preempt: ");
+-
+-365 
+-pid1
+- = 
+-	`fk
+-();
+-
+-366 if(
+-pid1
+- == 0)
+-
+-370 
+-pid2
+- = 
+-	`fk
+-();
+-
+-371 if(
+-pid2
+- == 0)
+-
+-375 
+-	`pe
+-(
+-pfds
+-);
+-
+-376 
+-pid3
+- = 
+-	`fk
+-();
+-
+-377 if(
+-pid3
+- == 0){
+-
+-378 
+-	`o
+-(
+-pfds
+-[0]);
+-
+-379 if(
+-	`wre
+-(
+-pfds
+-[1], "x", 1) != 1)
+-
+-380 
+-	`tf
+-(1, "preempt writerror");
+-
+-381 
+-	`o
+-(
+-pfds
+-[1]);
+-
+-386 
+-	`o
+-(
+-pfds
+-[1]);
+-
+-387 if(
+-	`ad
+-(
+-pfds
+-[0], 
+-buf
+-, (buf)) != 1){
+-
+-388 
+-	`tf
+-(1, "preempteadrror");
+-
+-391 
+-	`o
+-(
+-pfds
+-[0]);
+-
+-392 
+-	`tf
+-(1, "kill... ");
+-
+-393 
+-	`kl
+-(
+-pid1
+-);
+-
+-394 
+-	`kl
+-(
+-pid2
+-);
+-
+-395 
+-	`kl
+-(
+-pid3
+-);
+-
+-396 
+-	`tf
+-(1, "wait... ");
+-
+-397 
+-	`wa
+-();
+-
+-398 
+-	`wa
+-();
+-
+-399 
+-	`wa
+-();
+-
+-400 
+-	`tf
+-(1, "preempt ok\n");
+-
+-401 
+-	}
+-}
+-
+-405 
+-	$exwa
+-()
+-
+-407 
+-i
+-, 
+-pid
+-;
+-
+-409 
+-i
+- = 0; i < 100; i++){
+-
+-410 
+-pid
+- = 
+-	`fk
+-();
+-
+-411 if(
+-pid
+- < 0){
+-
+-412 
+-	`tf
+-(1, "fork failed\n");
+-
+-415 if(
+-pid
+-){
+-
+-416 if(
+-	`wa
+-(!
+-pid
+-){
+-
+-417 
+-	`tf
+-(1, "wait wrongid\n");
+-
+-421 
+-	`ex
+-();
+-
+-424 
+-	`tf
+-(1, "exitwait ok\n");
+-
+-425 
+-	}
+-}
+-
+-428 
+-	$mem
+-()
+-
+-430 *
+-m1
+-, *
+-m2
+-;
+-
+-431 
+-pid
+-, 
+-id
+-;
+-
+-433 
+-	`tf
+-(1, "memest\n");
+-
+-434 
+-id
+- = 
+-	`gpid
+-();
+-
+-435 if((
+-pid
+- = 
+-	`fk
+-()) == 0){
+-
+-436 
+-m1
+- = 0;
+-
+-437 (
+-m2
+- = 
+-	`mloc
+-(10001)) != 0){
+-
+-438 *(**)
+-m2
+- = 
+-m1
+-;
+-
+-439 
+-m1
+- = 
+-m2
+-;
+-
+-441 
+-m1
+-){
+-
+-442 
+-m2
+- = *(**)
+-m1
+-;
+-
+-443 
+-	`
+-(
+-m1
+-);
+-
+-444 
+-m1
+- = 
+-m2
+-;
+-
+-446 
+-m1
+- = 
+-	`mloc
+-(1024*20);
+-
+-447 if(
+-m1
+- == 0){
+-
+-448 
+-	`tf
+-(1, "couldn'tllocate mem?!!\n");
+-
+-449 
+-	`kl
+-(
+-id
+-);
+-
+-450 
+-	`ex
+-();
+-
+-452 
+-	`
+-(
+-m1
+-);
+-
+-453 
+-	`tf
+-(1, "mem ok\n");
+-
+-454 
+-	`ex
+-();
+-
+-456 
+-	`wa
+-();
+-
+-458 
+-	}
+-}
+-
+-465 
+-	$shedfd
+-()
+-
+-467 
+-fd
+-, 
+-pid
+-, 
+-i
+-, 
+-n
+-, 
+-nc
+-, 
+-
+-;
+-
+-468 
+-buf
+-[10];
+-
+-470 
+-	`tf
+-(1, "sharedfdest\n");
+-
+-472 
+-	`uk
+-("sharedfd");
+-
+-473 
+-fd
+- = 
+-	`
+-("shedfd", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-474 if(
+-fd
+- < 0){
+-
+-475 
+-	`tf
+-(1, "fstests: cannot open sharedfd for writing");
+-
+-478 
+-pid
+- = 
+-	`fk
+-();
+-
+-479 
+-	`memt
+-(
+-buf
+-, 
+-pid
+-==0?'c':'p', (buf));
+-
+-480 
+-i
+- = 0; i < 1000; i++){
+-
+-481 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, (buf)) != (buf)){
+-
+-482 
+-	`tf
+-(1, "fstests: write sharedfd failed\n");
+-
+-486 if(
+-pid
+- == 0)
+-
+-487 
+-	`ex
+-();
+-
+-489 
+-	`wa
+-();
+-
+-490 
+-	`o
+-(
+-fd
+-);
+-
+-491 
+-fd
+- = 
+-	`
+-("sharedfd", 0);
+-
+-492 if(
+-fd
+- < 0){
+-
+-493 
+-	`tf
+-(1, "fstests: cannot open sharedfd foreading\n");
+-
+-496 
+-nc
+- = 
+-
+- = 0;
+-
+-497 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-498 
+-i
+- = 0; i < (
+-buf
+-); i++){
+-
+-499 if(
+-buf
+-[
+-i
+-] == 'c')
+-
+-500 
+-nc
+-++;
+-
+-501 if(
+-buf
+-[
+-i
+-] == 'p')
+-
+-502 
+-
+-++;
+-
+-505 
+-	`o
+-(
+-fd
+-);
+-
+-506 
+-	`uk
+-("sharedfd");
+-
+-507 if(
+-nc
+- =10000 && 
+-
+- == 10000){
+-
+-508 
+-	`tf
+-(1, "sharedfd ok\n");
+-
+-510 
+-	`tf
+-(1, "shedfd o%d %d\n", 
+-nc
+-, 
+-
+-);
+-
+-511 
+-	`ex
+-();
+-
+-513 
+-	}
+-}
+-
+-518 
+-	$fourfes
+-()
+-
+-520 
+-fd
+-, 
+-pid
+-, 
+-i
+-, 
+-j
+-, 
+-n
+-, 
+-t
+-, 
+-pi
+-;
+-
+-521 *
+-mes
+-[] = { "f0", "f1", "f2", "f3" };
+-
+-522 *
+-ame
+-;
+-
+-524 
+-	`tf
+-(1, "fourfilesest\n");
+-
+-526 
+-pi
+- = 0;i < 4;i++){
+-
+-527 
+-ame
+- = 
+-mes
+-[
+-pi
+-];
+-
+-528 
+-	`uk
+-(
+-ame
+-);
+-
+-530 
+-pid
+- = 
+-	`fk
+-();
+-
+-531 if(
+-pid
+- < 0){
+-
+-532 
+-	`tf
+-(1, "fork failed\n");
+-
+-533 
+-	`ex
+-();
+-
+-536 if(
+-pid
+- == 0){
+-
+-537 
+-fd
+- = 
+-	`
+-(
+-ame
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-538 if(
+-fd
+- < 0){
+-
+-539 
+-	`tf
+-(1, "create failed\n");
+-
+-540 
+-	`ex
+-();
+-
+-543 
+-	`memt
+-(
+-buf
+-, '0'+
+-pi
+-, 512);
+-
+-544 
+-i
+- = 0; i < 12; i++){
+-
+-545 if((
+-n
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 500)) != 500){
+-
+-546 
+-	`tf
+-(1, "wred %d\n", 
+-n
+-);
+-
+-547 
+-	`ex
+-();
+-
+-550 
+-	`ex
+-();
+-
+-554 
+-pi
+- = 0;i < 4;i++){
+-
+-555 
+-	`wa
+-();
+-
+-558 
+-i
+- = 0; i < 2; i++){
+-
+-559 
+-ame
+- = 
+-mes
+-[
+-i
+-];
+-
+-560 
+-fd
+- = 
+-	`
+-(
+-ame
+-, 0);
+-
+-561 
+-t
+- = 0;
+-
+-562 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-563 
+-j
+- = 0; j < 
+-n
+-; j++){
+-
+-564 if(
+-buf
+-[
+-j
+-] !'0'+
+-i
+-){
+-
+-565 
+-	`tf
+-(1, "wrong char\n");
+-
+-566 
+-	`ex
+-();
+-
+-569 
+-t
+- +
+-n
+-;
+-
+-571 
+-	`o
+-(
+-fd
+-);
+-
+-572 if(
+-t
+- != 12*500){
+-
+-573 
+-	`tf
+-(1, "wrggth %d\n", 
+-t
+-);
+-
+-574 
+-	`ex
+-();
+-
+-576 
+-	`uk
+-(
+-ame
+-);
+-
+-579 
+-	`tf
+-(1, "fourfiles ok\n");
+-
+-580 
+-	}
+-}
+-
+-584 
+-	$de
+-()
+-
+-586 um { 
+-N
+- = 20 };
+-
+-587 
+-pid
+-, 
+-i
+-, 
+-fd
+-, 
+-pi
+-;
+-
+-588 
+-me
+-[32];
+-
+-590 
+-	`tf
+-(1, "createdeleteest\n");
+-
+-592 
+-pi
+- = 0;i < 4;i++){
+-
+-593 
+-pid
+- = 
+-	`fk
+-();
+-
+-594 if(
+-pid
+- < 0){
+-
+-595 
+-	`tf
+-(1, "fork failed\n");
+-
+-596 
+-	`ex
+-();
+-
+-599 if(
+-pid
+- == 0){
+-
+-600 
+-me
+-[0] = 'p' + 
+-pi
+-;
+-
+-601 
+-me
+-[2] = '\0';
+-
+-602 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-603 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-604 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-605 if(
+-fd
+- < 0){
+-
+-606 
+-	`tf
+-(1, "create failed\n");
+-
+-607 
+-	`ex
+-();
+-
+-609 
+-	`o
+-(
+-fd
+-);
+-
+-610 if(
+-i
+- > 0 && (i % 2 ) == 0){
+-
+-611 
+-me
+-[1] = '0' + (
+-i
+- / 2);
+-
+-612 if(
+-	`uk
+-(
+-me
+-) < 0){
+-
+-613 
+-	`tf
+-(1, "unlink failed\n");
+-
+-614 
+-	`ex
+-();
+-
+-618 
+-	`ex
+-();
+-
+-622 
+-pi
+- = 0;i < 4;i++){
+-
+-623 
+-	`wa
+-();
+-
+-626 
+-me
+-[0] =ame[1] =ame[2] = 0;
+-
+-627 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-628 
+-pi
+- = 0;i < 4;i++){
+-
+-629 
+-me
+-[0] = 'p' + 
+-pi
+-;
+-
+-630 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-631 
+-fd
+- = 
+-	`
+-(
+-me
+-, 0);
+-
+-632 if((
+-i
+- =0 || i >
+-N
+-/2&& 
+-fd
+- < 0){
+-
+-633 
+-	`tf
+-(1, "od%didn'exi\n", 
+-me
+-);
+-
+-634 
+-	`ex
+-();
+-
+-635 } if((
+-i
+- >1 && i < 
+-N
+-/2&& 
+-fd
+- >= 0){
+-
+-636 
+-	`tf
+-(1, "od%didxi\n", 
+-me
+-);
+-
+-637 
+-	`ex
+-();
+-
+-639 if(
+-fd
+- >= 0)
+-
+-640 
+-	`o
+-(
+-fd
+-);
+-
+-644 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-645 
+-pi
+- = 0;i < 4;i++){
+-
+-646 
+-me
+-[0] = 'p' + 
+-i
+-;
+-
+-647 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-648 
+-	`uk
+-(
+-me
+-);
+-
+-652 
+-	`tf
+-(1, "createdelete ok\n");
+-
+-653 
+-	}
+-}
+-
+-657 
+-	$ukad
+-()
+-
+-659 
+-fd
+-, 
+-fd1
+-;
+-
+-661 
+-	`tf
+-(1, "unlinkreadest\n");
+-
+-662 
+-fd
+- = 
+-	`
+-("ukad", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-663 if(
+-fd
+- < 0){
+-
+-664 
+-	`tf
+-(1, "create unlinkread failed\n");
+-
+-665 
+-	`ex
+-();
+-
+-667 
+-	`wre
+-(
+-fd
+-, "hello", 5);
+-
+-668 
+-	`o
+-(
+-fd
+-);
+-
+-670 
+-fd
+- = 
+-	`
+-("ukad", 
+-O_RDWR
+-);
+-
+-671 if(
+-fd
+- < 0){
+-
+-672 
+-	`tf
+-(1, "open unlinkread failed\n");
+-
+-673 
+-	`ex
+-();
+-
+-675 if(
+-	`uk
+-("unlinkread") != 0){
+-
+-676 
+-	`tf
+-(1, "unlink unlinkread failed\n");
+-
+-677 
+-	`ex
+-();
+-
+-680 
+-fd1
+- = 
+-	`
+-("ukad", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-681 
+-	`wre
+-(
+-fd1
+-, "yyy", 3);
+-
+-682 
+-	`o
+-(
+-fd1
+-);
+-
+-684 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 5){
+-
+-685 
+-	`tf
+-(1, "unlinkreadead failed");
+-
+-686 
+-	`ex
+-();
+-
+-688 if(
+-buf
+-[0] != 'h'){
+-
+-689 
+-	`tf
+-(1, "unlinkread wrong data\n");
+-
+-690 
+-	`ex
+-();
+-
+-692 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 10) != 10){
+-
+-693 
+-	`tf
+-(1, "unlinkread write failed\n");
+-
+-694 
+-	`ex
+-();
+-
+-696 
+-	`o
+-(
+-fd
+-);
+-
+-697 
+-	`uk
+-("unlinkread");
+-
+-698 
+-	`tf
+-(1, "unlinkread ok\n");
+-
+-699 
+-	}
+-}
+-
+-702 
+-	$lk
+-()
+-
+-704 
+-fd
+-;
+-
+-706 
+-	`tf
+-(1, "linktest\n");
+-
+-708 
+-	`uk
+-("lf1");
+-
+-709 
+-	`uk
+-("lf2");
+-
+-711 
+-fd
+- = 
+-	`
+-("lf1", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-712 if(
+-fd
+- < 0){
+-
+-713 
+-	`tf
+-(1, "createf1 failed\n");
+-
+-714 
+-	`ex
+-();
+-
+-716 if(
+-	`wre
+-(
+-fd
+-, "hello", 5) != 5){
+-
+-717 
+-	`tf
+-(1, "writef1 failed\n");
+-
+-718 
+-	`ex
+-();
+-
+-720 
+-	`o
+-(
+-fd
+-);
+-
+-722 if(
+-	`lk
+-("lf1", "lf2") < 0){
+-
+-723 
+-	`tf
+-(1, "linkf1f2 failed\n");
+-
+-724 
+-	`ex
+-();
+-
+-726 
+-	`uk
+-("lf1");
+-
+-728 if(
+-	`
+-("lf1", 0) >= 0){
+-
+-729 
+-	`tf
+-(1, "unlinkedf1 but it is stillhere!\n");
+-
+-730 
+-	`ex
+-();
+-
+-733 
+-fd
+- = 
+-	`
+-("lf2", 0);
+-
+-734 if(
+-fd
+- < 0){
+-
+-735 
+-	`tf
+-(1, "openf2 failed\n");
+-
+-736 
+-	`ex
+-();
+-
+-738 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 5){
+-
+-739 
+-	`tf
+-(1, "readf2 failed\n");
+-
+-740 
+-	`ex
+-();
+-
+-742 
+-	`o
+-(
+-fd
+-);
+-
+-744 if(
+-	`lk
+-("lf2", "lf2") >= 0){
+-
+-745 
+-	`tf
+-(1, "linkf2f2 succeeded! oops\n");
+-
+-746 
+-	`ex
+-();
+-
+-749 
+-	`uk
+-("lf2");
+-
+-750 if(
+-	`lk
+-("lf2", "lf1") >= 0){
+-
+-751 
+-	`tf
+-(1, "linkon-existant succeeded! oops\n");
+-
+-752 
+-	`ex
+-();
+-
+-755 if(
+-	`lk
+-(".", "lf1") >= 0){
+-
+-756 
+-	`tf
+-(1, "link .f1 succeeded! oops\n");
+-
+-757 
+-	`ex
+-();
+-
+-760 
+-	`tf
+-(1, "linktest ok\n");
+-
+-761 
+-	}
+-}
+-
+-765 
+-	$c
+-()
+-
+-767 
+-fe
+-[3];
+-
+-768 
+-i
+-, 
+-pid
+-, 
+-n
+-, 
+-fd
+-;
+-
+-769 
+-
+-[40];
+-
+-771 
+-usht
+- 
+-um
+-;
+-
+-772 
+-me
+-[14];
+-
+-773 } 
+-de
+-;
+-
+-775 
+-	`tf
+-(1, "concreateest\n");
+-
+-776 
+-fe
+-[0] = 'C';
+-
+-777 
+-fe
+-[2] = '\0';
+-
+-778 
+-i
+- = 0; i < 40; i++){
+-
+-779 
+-fe
+-[1] = '0' + 
+-i
+-;
+-
+-780 
+-	`uk
+-(
+-fe
+-);
+-
+-781 
+-pid
+- = 
+-	`fk
+-();
+-
+-782 if(
+-pid
+- && (
+-i
+- % 3) == 1){
+-
+-783 
+-	`lk
+-("C0", 
+-fe
+-);
+-
+-784 } if(
+-pid
+- =0 && (
+-i
+- % 5) == 1){
+-
+-785 
+-	`lk
+-("C0", 
+-fe
+-);
+-
+-787 
+-fd
+- = 
+-	`
+-(
+-fe
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-788 if(
+-fd
+- < 0){
+-
+-789 
+-	`tf
+-(1, "c c%ed\n", 
+-fe
+-);
+-
+-790 
+-	`ex
+-();
+-
+-792 
+-	`o
+-(
+-fd
+-);
+-
+-794 if(
+-pid
+- == 0)
+-
+-795 
+-	`ex
+-();
+-
+-797 
+-	`wa
+-();
+-
+-800 
+-	`memt
+-(
+-
+-, 0, (fa));
+-
+-801 
+-fd
+- = 
+-	`
+-(".", 0);
+-
+-802 
+-n
+- = 0;
+-
+-803 
+-	`ad
+-(
+-fd
+-, &
+-de
+-, (de)) > 0){
+-
+-804 if(
+-de
+-.
+-um
+- == 0)
+-
+-806 if(
+-de
+-.
+-me
+-[0] == 'C' && de.name[2] == '\0'){
+-
+-807 
+-i
+- = 
+-de
+-.
+-me
+-[1] - '0';
+-
+-808 if(
+-i
+- < 0 || i >(
+-
+-)){
+-
+-809 
+-	`tf
+-(1, "c wed f%s\n", 
+-de
+-.
+-me
+-);
+-
+-810 
+-	`ex
+-();
+-
+-812 if(
+-
+-[
+-i
+-]){
+-
+-813 
+-	`tf
+-(1, "c dui f%s\n", 
+-de
+-.
+-me
+-);
+-
+-814 
+-	`ex
+-();
+-
+-816 
+-
+-[
+-i
+-] = 1;
+-
+-817 
+-n
+-++;
+-
+-820 
+-	`o
+-(
+-fd
+-);
+-
+-822 if(
+-n
+- != 40){
+-
+-823 
+-	`tf
+-(1, "concreateotnough files in directoryisting\n");
+-
+-824 
+-	`ex
+-();
+-
+-827 
+-i
+- = 0; i < 40; i++){
+-
+-828 
+-fe
+-[1] = '0' + 
+-i
+-;
+-
+-829 
+-pid
+- = 
+-	`fk
+-();
+-
+-830 if(
+-pid
+- < 0){
+-
+-831 
+-	`tf
+-(1, "fork failed\n");
+-
+-832 
+-	`ex
+-();
+-
+-834 if(((
+-i
+- % 3=0 && 
+-pid
+- == 0) ||
+-
+-835 ((
+-i
+- % 3=1 && 
+-pid
+- != 0)){
+-
+-836 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-837 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-838 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-839 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-841 
+-	`uk
+-(
+-fe
+-);
+-
+-842 
+-	`uk
+-(
+-fe
+-);
+-
+-843 
+-	`uk
+-(
+-fe
+-);
+-
+-844 
+-	`uk
+-(
+-fe
+-);
+-
+-846 if(
+-pid
+- == 0)
+-
+-847 
+-	`ex
+-();
+-
+-849 
+-	`wa
+-();
+-
+-852 
+-	`tf
+-(1, "concreate ok\n");
+-
+-853 
+-	}
+-}
+-
+-858 
+-	$lkuk
+-()
+-
+-860 
+-pid
+-, 
+-i
+-;
+-
+-862 
+-	`tf
+-(1, "linkunlinkest\n");
+-
+-864 
+-	`uk
+-("x");
+-
+-865 
+-pid
+- = 
+-	`fk
+-();
+-
+-866 if(
+-pid
+- < 0){
+-
+-867 
+-	`tf
+-(1, "fork failed\n");
+-
+-868 
+-	`ex
+-();
+-
+-871 
+-x
+- = (
+-pid
+- ? 1 : 97);
+-
+-872 
+-i
+- = 0; i < 100; i++){
+-
+-873 
+-x
+- = x * 1103515245 + 12345;
+-
+-874 if((
+-x
+- % 3) == 0){
+-
+-875 
+-	`o
+-(
+-	`
+-("x", 
+-O_RDWR
+- | 
+-O_CREATE
+-));
+-
+-876 } if((
+-x
+- % 3) == 1){
+-
+-877 
+-	`lk
+-("cat", "x");
+-
+-879 
+-	`uk
+-("x");
+-
+-883 if(
+-pid
+-)
+-
+-884 
+-	`wa
+-();
+-
+-886 
+-	`ex
+-();
+-
+-888 
+-	`tf
+-(1, "linkunlink ok\n");
+-
+-889 
+-	}
+-}
+-
+-893 
+-	$bigd
+-()
+-
+-895 
+-i
+-, 
+-fd
+-;
+-
+-896 
+-me
+-[10];
+-
+-898 
+-	`tf
+-(1, "bigdirest\n");
+-
+-899 
+-	`uk
+-("bd");
+-
+-901 
+-fd
+- = 
+-	`
+-("bd", 
+-O_CREATE
+-);
+-
+-902 if(
+-fd
+- < 0){
+-
+-903 
+-	`tf
+-(1, "bigdir create failed\n");
+-
+-904 
+-	`ex
+-();
+-
+-906 
+-	`o
+-(
+-fd
+-);
+-
+-908 
+-i
+- = 0; i < 500; i++){
+-
+-909 
+-me
+-[0] = 'x';
+-
+-910 
+-me
+-[1] = '0' + (
+-i
+- / 64);
+-
+-911 
+-me
+-[2] = '0' + (
+-i
+- % 64);
+-
+-912 
+-me
+-[3] = '\0';
+-
+-913 if(
+-	`lk
+-("bd", 
+-me
+-) != 0){
+-
+-914 
+-	`tf
+-(1, "bigdirink failed\n");
+-
+-915 
+-	`ex
+-();
+-
+-919 
+-	`uk
+-("bd");
+-
+-920 
+-i
+- = 0; i < 500; i++){
+-
+-921 
+-me
+-[0] = 'x';
+-
+-922 
+-me
+-[1] = '0' + (
+-i
+- / 64);
+-
+-923 
+-me
+-[2] = '0' + (
+-i
+- % 64);
+-
+-924 
+-me
+-[3] = '\0';
+-
+-925 if(
+-	`uk
+-(
+-me
+-) != 0){
+-
+-926 
+-	`tf
+-(1, "bigdir unlink failed");
+-
+-927 
+-	`ex
+-();
+-
+-931 
+-	`tf
+-(1, "bigdir ok\n");
+-
+-932 
+-	}
+-}
+-
+-935 
+-	$subd
+-()
+-
+-937 
+-fd
+-, 
+-cc
+-;
+-
+-939 
+-	`tf
+-(1, "subdirest\n");
+-
+-941 
+-	`uk
+-("ff");
+-
+-942 if(
+-	`mkd
+-("dd") != 0){
+-
+-943 
+-	`tf
+-(1, "subdir mkdir dd failed\n");
+-
+-944 
+-	`ex
+-();
+-
+-947 
+-fd
+- = 
+-	`
+-("dd/ff", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-948 if(
+-fd
+- < 0){
+-
+-949 
+-	`tf
+-(1, "create dd/ff failed\n");
+-
+-950 
+-	`ex
+-();
+-
+-952 
+-	`wre
+-(
+-fd
+-, "ff", 2);
+-
+-953 
+-	`o
+-(
+-fd
+-);
+-
+-955 if(
+-	`uk
+-("dd") >= 0){
+-
+-956 
+-	`tf
+-(1, "unlink dd (non-empty dir) succeeded!\n");
+-
+-957 
+-	`ex
+-();
+-
+-960 if(
+-	`mkd
+-("/dd/dd") != 0){
+-
+-961 
+-	`tf
+-(1, "subdir mkdir dd/dd failed\n");
+-
+-962 
+-	`ex
+-();
+-
+-965 
+-fd
+- = 
+-	`
+-("dd/dd/ff", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-966 if(
+-fd
+- < 0){
+-
+-967 
+-	`tf
+-(1, "create dd/dd/ff failed\n");
+-
+-968 
+-	`ex
+-();
+-
+-970 
+-	`wre
+-(
+-fd
+-, "FF", 2);
+-
+-971 
+-	`o
+-(
+-fd
+-);
+-
+-973 
+-fd
+- = 
+-	`
+-("dd/dd/../ff", 0);
+-
+-974 if(
+-fd
+- < 0){
+-
+-975 
+-	`tf
+-(1, "open dd/dd/../ff failed\n");
+-
+-976 
+-	`ex
+-();
+-
+-978 
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf));
+-
+-979 if(
+-cc
+- !2 || 
+-buf
+-[0] != 'f'){
+-
+-980 
+-	`tf
+-(1, "dd/dd/../ff wrong content\n");
+-
+-981 
+-	`ex
+-();
+-
+-983 
+-	`o
+-(
+-fd
+-);
+-
+-985 if(
+-	`lk
+-("dd/dd/ff", "dd/dd/ffff") != 0){
+-
+-986 
+-	`tf
+-(1, "link dd/dd/ff dd/dd/ffff failed\n");
+-
+-987 
+-	`ex
+-();
+-
+-990 if(
+-	`uk
+-("dd/dd/ff") != 0){
+-
+-991 
+-	`tf
+-(1, "unlink dd/dd/ff failed\n");
+-
+-992 
+-	`ex
+-();
+-
+-994 if(
+-	`
+-("dd/dd/ff", 
+-O_RDONLY
+-) >= 0){
+-
+-995 
+-	`tf
+-(1, "open (unlinked) dd/dd/ff succeeded\n");
+-
+-996 
+-	`ex
+-();
+-
+-999 if(
+-	`chd
+-("dd") != 0){
+-
+-1000 
+-	`tf
+-(1, "chdir dd failed\n");
+-
+-1001 
+-	`ex
+-();
+-
+-1003 if(
+-	`chd
+-("dd/../../dd") != 0){
+-
+-1004 
+-	`tf
+-(1, "chdir dd/../../dd failed\n");
+-
+-1005 
+-	`ex
+-();
+-
+-1007 if(
+-	`chd
+-("dd/../../../dd") != 0){
+-
+-1008 
+-	`tf
+-(1, "chdir dd/../../dd failed\n");
+-
+-1009 
+-	`ex
+-();
+-
+-1011 if(
+-	`chd
+-("./..") != 0){
+-
+-1012 
+-	`tf
+-(1, "chdir ./.. failed\n");
+-
+-1013 
+-	`ex
+-();
+-
+-1016 
+-fd
+- = 
+-	`
+-("dd/dd/ffff", 0);
+-
+-1017 if(
+-fd
+- < 0){
+-
+-1018 
+-	`tf
+-(1, "open dd/dd/ffff failed\n");
+-
+-1019 
+-	`ex
+-();
+-
+-1021 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 2){
+-
+-1022 
+-	`tf
+-(1, "read dd/dd/ffff wrongen\n");
+-
+-1023 
+-	`ex
+-();
+-
+-1025 
+-	`o
+-(
+-fd
+-);
+-
+-1027 if(
+-	`
+-("dd/dd/ff", 
+-O_RDONLY
+-) >= 0){
+-
+-1028 
+-	`tf
+-(1, "open (unlinked) dd/dd/ff succeeded!\n");
+-
+-1029 
+-	`ex
+-();
+-
+-1032 if(
+-	`
+-("dd/ff/ff", 
+-O_CREATE
+-|
+-O_RDWR
+-) >= 0){
+-
+-1033 
+-	`tf
+-(1, "create dd/ff/ff succeeded!\n");
+-
+-1034 
+-	`ex
+-();
+-
+-1036 if(
+-	`
+-("dd/xx/ff", 
+-O_CREATE
+-|
+-O_RDWR
+-) >= 0){
+-
+-1037 
+-	`tf
+-(1, "create dd/xx/ff succeeded!\n");
+-
+-1038 
+-	`ex
+-();
+-
+-1040 if(
+-	`
+-("dd", 
+-O_CREATE
+-) >= 0){
+-
+-1041 
+-	`tf
+-(1, "create dd succeeded!\n");
+-
+-1042 
+-	`ex
+-();
+-
+-1044 if(
+-	`
+-("dd", 
+-O_RDWR
+-) >= 0){
+-
+-1045 
+-	`tf
+-(1, "open dddwr succeeded!\n");
+-
+-1046 
+-	`ex
+-();
+-
+-1048 if(
+-	`
+-("dd", 
+-O_WRONLY
+-) >= 0){
+-
+-1049 
+-	`tf
+-(1, "open dd wronly succeeded!\n");
+-
+-1050 
+-	`ex
+-();
+-
+-1052 if(
+-	`lk
+-("dd/ff/ff", "dd/dd/xx") == 0){
+-
+-1053 
+-	`tf
+-(1, "link dd/ff/ff dd/dd/xx succeeded!\n");
+-
+-1054 
+-	`ex
+-();
+-
+-1056 if(
+-	`lk
+-("dd/xx/ff", "dd/dd/xx") == 0){
+-
+-1057 
+-	`tf
+-(1, "link dd/xx/ff dd/dd/xx succeeded!\n");
+-
+-1058 
+-	`ex
+-();
+-
+-1060 if(
+-	`lk
+-("dd/ff", "dd/dd/ffff") == 0){
+-
+-1061 
+-	`tf
+-(1, "link dd/ff dd/dd/ffff succeeded!\n");
+-
+-1062 
+-	`ex
+-();
+-
+-1064 if(
+-	`mkd
+-("dd/ff/ff") == 0){
+-
+-1065 
+-	`tf
+-(1, "mkdir dd/ff/ff succeeded!\n");
+-
+-1066 
+-	`ex
+-();
+-
+-1068 if(
+-	`mkd
+-("dd/xx/ff") == 0){
+-
+-1069 
+-	`tf
+-(1, "mkdir dd/xx/ff succeeded!\n");
+-
+-1070 
+-	`ex
+-();
+-
+-1072 if(
+-	`mkd
+-("dd/dd/ffff") == 0){
+-
+-1073 
+-	`tf
+-(1, "mkdir dd/dd/ffff succeeded!\n");
+-
+-1074 
+-	`ex
+-();
+-
+-1076 if(
+-	`uk
+-("dd/xx/ff") == 0){
+-
+-1077 
+-	`tf
+-(1, "unlink dd/xx/ff succeeded!\n");
+-
+-1078 
+-	`ex
+-();
+-
+-1080 if(
+-	`uk
+-("dd/ff/ff") == 0){
+-
+-1081 
+-	`tf
+-(1, "unlink dd/ff/ff succeeded!\n");
+-
+-1082 
+-	`ex
+-();
+-
+-1084 if(
+-	`chd
+-("dd/ff") == 0){
+-
+-1085 
+-	`tf
+-(1, "chdir dd/ff succeeded!\n");
+-
+-1086 
+-	`ex
+-();
+-
+-1088 if(
+-	`chd
+-("dd/xx") == 0){
+-
+-1089 
+-	`tf
+-(1, "chdir dd/xx succeeded!\n");
+-
+-1090 
+-	`ex
+-();
+-
+-1093 if(
+-	`uk
+-("dd/dd/ffff") != 0){
+-
+-1094 
+-	`tf
+-(1, "unlink dd/dd/ff failed\n");
+-
+-1095 
+-	`ex
+-();
+-
+-1097 if(
+-	`uk
+-("dd/ff") != 0){
+-
+-1098 
+-	`tf
+-(1, "unlink dd/ff failed\n");
+-
+-1099 
+-	`ex
+-();
+-
+-1101 if(
+-	`uk
+-("dd") == 0){
+-
+-1102 
+-	`tf
+-(1, "unlinkon-empty dd succeeded!\n");
+-
+-1103 
+-	`ex
+-();
+-
+-1105 if(
+-	`uk
+-("dd/dd") < 0){
+-
+-1106 
+-	`tf
+-(1, "unlink dd/dd failed\n");
+-
+-1107 
+-	`ex
+-();
+-
+-1109 if(
+-	`uk
+-("dd") < 0){
+-
+-1110 
+-	`tf
+-(1, "unlink dd failed\n");
+-
+-1111 
+-	`ex
+-();
+-
+-1114 
+-	`tf
+-(1, "subdir ok\n");
+-
+-1115 
+-	}
+-}
+-
+-1119 
+-	$bigwre
+-()
+-
+-1121 
+-fd
+-, 
+-sz
+-;
+-
+-1123 
+-	`tf
+-(1, "bigwriteest\n");
+-
+-1125 
+-	`uk
+-("bigwrite");
+-
+-1126 
+-sz
+- = 499; sz < 12*512; sz += 471){
+-
+-1127 
+-fd
+- = 
+-	`
+-("bigwre", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-1128 if(
+-fd
+- < 0){
+-
+-1129 
+-	`tf
+-(1, "cannot create bigwrite\n");
+-
+-1130 
+-	`ex
+-();
+-
+-1132 
+-i
+-;
+-
+-1133 
+-i
+- = 0; i < 2; i++){
+-
+-1134 
+-cc
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 
+-sz
+-);
+-
+-1135 if(
+-cc
+- !
+-sz
+-){
+-
+-1136 
+-	`tf
+-(1, "wre(%d%d\n", 
+-sz
+-, 
+-cc
+-);
+-
+-1137 
+-	`ex
+-();
+-
+-1140 
+-	`o
+-(
+-fd
+-);
+-
+-1141 
+-	`uk
+-("bigwrite");
+-
+-1144 
+-	`tf
+-(1, "bigwrite ok\n");
+-
+-1145 
+-	}
+-}
+-
+-1148 
+-	$bigfe
+-()
+-
+-1150 
+-fd
+-, 
+-i
+-, 
+-t
+-, 
+-cc
+-;
+-
+-1152 
+-	`tf
+-(1, "bigfileest\n");
+-
+-1154 
+-	`uk
+-("bigfile");
+-
+-1155 
+-fd
+- = 
+-	`
+-("bigfe", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-1156 if(
+-fd
+- < 0){
+-
+-1157 
+-	`tf
+-(1, "cannot create bigfile");
+-
+-1158 
+-	`ex
+-();
+-
+-1160 
+-i
+- = 0; i < 20; i++){
+-
+-1161 
+-	`memt
+-(
+-buf
+-, 
+-i
+-, 600);
+-
+-1162 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 600) != 600){
+-
+-1163 
+-	`tf
+-(1, "write bigfile failed\n");
+-
+-1164 
+-	`ex
+-();
+-
+-1167 
+-	`o
+-(
+-fd
+-);
+-
+-1169 
+-fd
+- = 
+-	`
+-("bigfile", 0);
+-
+-1170 if(
+-fd
+- < 0){
+-
+-1171 
+-	`tf
+-(1, "cannot open bigfile\n");
+-
+-1172 
+-	`ex
+-();
+-
+-1174 
+-t
+- = 0;
+-
+-1175 
+-i
+- = 0; ; i++){
+-
+-1176 
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 300);
+-
+-1177 if(
+-cc
+- < 0){
+-
+-1178 
+-	`tf
+-(1, "read bigfile failed\n");
+-
+-1179 
+-	`ex
+-();
+-
+-1181 if(
+-cc
+- == 0)
+-
+-1183 if(
+-cc
+- != 300){
+-
+-1184 
+-	`tf
+-(1, "shortead bigfile\n");
+-
+-1185 
+-	`ex
+-();
+-
+-1187 if(
+-buf
+-[0] !
+-i
+-/2 || buf[299] != i/2){
+-
+-1188 
+-	`tf
+-(1, "read bigfile wrong data\n");
+-
+-1189 
+-	`ex
+-();
+-
+-1191 
+-t
+- +
+-cc
+-;
+-
+-1193 
+-	`o
+-(
+-fd
+-);
+-
+-1194 if(
+-t
+- != 20*600){
+-
+-1195 
+-	`tf
+-(1, "read bigfile wrongotal\n");
+-
+-1196 
+-	`ex
+-();
+-
+-1198 
+-	`uk
+-("bigfile");
+-
+-1200 
+-	`tf
+-(1, "bigfileest ok\n");
+-
+-1201 
+-	}
+-}
+-
+-1204 
+-	$foun
+-()
+-
+-1206 
+-fd
+-;
+-
+-1209 
+-	`tf
+-(1, "fourteenest\n");
+-
+-1211 if(
+-	`mkd
+-("12345678901234") != 0){
+-
+-1212 
+-	`tf
+-(1, "mkdir 12345678901234 failed\n");
+-
+-1213 
+-	`ex
+-();
+-
+-1215 if(
+-	`mkd
+-("12345678901234/123456789012345") != 0){
+-
+-1216 
+-	`tf
+-(1, "mkdir 12345678901234/123456789012345 failed\n");
+-
+-1217 
+-	`ex
+-();
+-
+-1219 
+-fd
+- = 
+-	`
+-("123456789012345/123456789012345/123456789012345", 
+-O_CREATE
+-);
+-
+-1220 if(
+-fd
+- < 0){
+-
+-1221 
+-	`tf
+-(1, "create 123456789012345/123456789012345/123456789012345 failed\n");
+-
+-1222 
+-	`ex
+-();
+-
+-1224 
+-	`o
+-(
+-fd
+-);
+-
+-1225 
+-fd
+- = 
+-	`
+-("12345678901234/12345678901234/12345678901234", 0);
+-
+-1226 if(
+-fd
+- < 0){
+-
+-1227 
+-	`tf
+-(1, "open 12345678901234/12345678901234/12345678901234 failed\n");
+-
+-1228 
+-	`ex
+-();
+-
+-1230 
+-	`o
+-(
+-fd
+-);
+-
+-1232 if(
+-	`mkd
+-("12345678901234/12345678901234") == 0){
+-
+-1233 
+-	`tf
+-(1, "mkdir 12345678901234/12345678901234 succeeded!\n");
+-
+-1234 
+-	`ex
+-();
+-
+-1236 if(
+-	`mkd
+-("123456789012345/12345678901234") == 0){
+-
+-1237 
+-	`tf
+-(1, "mkdir 12345678901234/123456789012345 succeeded!\n");
+-
+-1238 
+-	`ex
+-();
+-
+-1241 
+-	`tf
+-(1, "fourteen ok\n");
+-
+-1242 
+-	}
+-}
+-
+-1245 
+-	$rmd
+-()
+-
+-1247 
+-	`tf
+-(1, "rmdotest\n");
+-
+-1248 if(
+-	`mkd
+-("dots") != 0){
+-
+-1249 
+-	`tf
+-(1, "mkdir dots failed\n");
+-
+-1250 
+-	`ex
+-();
+-
+-1252 if(
+-	`chd
+-("dots") != 0){
+-
+-1253 
+-	`tf
+-(1, "chdir dots failed\n");
+-
+-1254 
+-	`ex
+-();
+-
+-1256 if(
+-	`uk
+-(".") == 0){
+-
+-1257 
+-	`tf
+-(1, "rm . worked!\n");
+-
+-1258 
+-	`ex
+-();
+-
+-1260 if(
+-	`uk
+-("..") == 0){
+-
+-1261 
+-	`tf
+-(1, "rm .. worked!\n");
+-
+-1262 
+-	`ex
+-();
+-
+-1264 if(
+-	`chd
+-("/") != 0){
+-
+-1265 
+-	`tf
+-(1, "chdir / failed\n");
+-
+-1266 
+-	`ex
+-();
+-
+-1268 if(
+-	`uk
+-("dots/.") == 0){
+-
+-1269 
+-	`tf
+-(1, "unlink dots/. worked!\n");
+-
+-1270 
+-	`ex
+-();
+-
+-1272 if(
+-	`uk
+-("dots/..") == 0){
+-
+-1273 
+-	`tf
+-(1, "unlink dots/.. worked!\n");
+-
+-1274 
+-	`ex
+-();
+-
+-1276 if(
+-	`uk
+-("dots") != 0){
+-
+-1277 
+-	`tf
+-(1, "unlink dots failed!\n");
+-
+-1278 
+-	`ex
+-();
+-
+-1280 
+-	`tf
+-(1, "rmdot ok\n");
+-
+-1281 
+-	}
+-}
+-
+-1284 
+-	$dfe
+-()
+-
+-1286 
+-fd
+-;
+-
+-1288 
+-	`tf
+-(1, "dir vs file\n");
+-
+-1290 
+-fd
+- = 
+-	`
+-("dfe", 
+-O_CREATE
+-);
+-
+-1291 if(
+-fd
+- < 0){
+-
+-1292 
+-	`tf
+-(1, "create dirfile failed\n");
+-
+-1293 
+-	`ex
+-();
+-
+-1295 
+-	`o
+-(
+-fd
+-);
+-
+-1296 if(
+-	`chd
+-("dirfile") == 0){
+-
+-1297 
+-	`tf
+-(1, "chdir dirfile succeeded!\n");
+-
+-1298 
+-	`ex
+-();
+-
+-1300 
+-fd
+- = 
+-	`
+-("dirfile/xx", 0);
+-
+-1301 if(
+-fd
+- >= 0){
+-
+-1302 
+-	`tf
+-(1, "create dirfile/xx succeeded!\n");
+-
+-1303 
+-	`ex
+-();
+-
+-1305 
+-fd
+- = 
+-	`
+-("dfe/xx", 
+-O_CREATE
+-);
+-
+-1306 if(
+-fd
+- >= 0){
+-
+-1307 
+-	`tf
+-(1, "create dirfile/xx succeeded!\n");
+-
+-1308 
+-	`ex
+-();
+-
+-1310 if(
+-	`mkd
+-("dirfile/xx") == 0){
+-
+-1311 
+-	`tf
+-(1, "mkdir dirfile/xx succeeded!\n");
+-
+-1312 
+-	`ex
+-();
+-
+-1314 if(
+-	`uk
+-("dirfile/xx") == 0){
+-
+-1315 
+-	`tf
+-(1, "unlink dirfile/xx succeeded!\n");
+-
+-1316 
+-	`ex
+-();
+-
+-1318 if(
+-	`lk
+-("README", "dirfile/xx") == 0){
+-
+-1319 
+-	`tf
+-(1, "linko dirfile/xx succeeded!\n");
+-
+-1320 
+-	`ex
+-();
+-
+-1322 if(
+-	`uk
+-("dirfile") != 0){
+-
+-1323 
+-	`tf
+-(1, "unlink dirfile failed!\n");
+-
+-1324 
+-	`ex
+-();
+-
+-1327 
+-fd
+- = 
+-	`
+-(".", 
+-O_RDWR
+-);
+-
+-1328 if(
+-fd
+- >= 0){
+-
+-1329 
+-	`tf
+-(1, "open . for writing succeeded!\n");
+-
+-1330 
+-	`ex
+-();
+-
+-1332 
+-fd
+- = 
+-	`
+-(".", 0);
+-
+-1333 if(
+-	`wre
+-(
+-fd
+-, "x", 1) > 0){
+-
+-1334 
+-	`tf
+-(1, "write . succeeded!\n");
+-
+-1335 
+-	`ex
+-();
+-
+-1337 
+-	`o
+-(
+-fd
+-);
+-
+-1339 
+-	`tf
+-(1, "dir vs file OK\n");
+-
+-1340 
+-	}
+-}
+-
+-1344 
+-	$ef
+-()
+-
+-1346 
+-i
+-, 
+-fd
+-;
+-
+-1348 
+-	`tf
+-(1, "empty fileame\n");
+-
+-1351 
+-i
+- = 0; i < 50 + 1; i++){
+-
+-1352 if(
+-	`mkd
+-("irefd") != 0){
+-
+-1353 
+-	`tf
+-(1, "mkdir irefd failed\n");
+-
+-1354 
+-	`ex
+-();
+-
+-1356 if(
+-	`chd
+-("irefd") != 0){
+-
+-1357 
+-	`tf
+-(1, "chdir irefd failed\n");
+-
+-1358 
+-	`ex
+-();
+-
+-1361 
+-	`mkd
+-("");
+-
+-1362 
+-	`lk
+-("README", "");
+-
+-1363 
+-fd
+- = 
+-	`
+-("", 
+-O_CREATE
+-);
+-
+-1364 if(
+-fd
+- >= 0)
+-
+-1365 
+-	`o
+-(
+-fd
+-);
+-
+-1366 
+-fd
+- = 
+-	`
+-("xx", 
+-O_CREATE
+-);
+-
+-1367 if(
+-fd
+- >= 0)
+-
+-1368 
+-	`o
+-(
+-fd
+-);
+-
+-1369 
+-	`uk
+-("xx");
+-
+-1372 
+-	`chd
+-("/");
+-
+-1373 
+-	`tf
+-(1, "empty fileame OK\n");
+-
+-1374 
+-	}
+-}
+-
+-1380 
+-	$fk
+-()
+-
+-1382 
+-n
+-, 
+-pid
+-;
+-
+-1384 
+-	`tf
+-(1, "forkest\n");
+-
+-1386 
+-n
+-=0;<1000;++){
+-
+-1387 
+-pid
+- = 
+-	`fk
+-();
+-
+-1388 if(
+-pid
+- < 0)
+-
+-1390 if(
+-pid
+- == 0)
+-
+-1391 
+-	`ex
+-();
+-
+-1394 if(
+-n
+- == 1000){
+-
+-1395 
+-	`tf
+-(1, "fork claimedo work 1000imes!\n");
+-
+-1396 
+-	`ex
+-();
+-
+-1399 ; 
+-n
+- > 0;--){
+-
+-1400 if(
+-	`wa
+-() < 0){
+-
+-1401 
+-	`tf
+-(1, "wait stoppedarly\n");
+-
+-1402 
+-	`ex
+-();
+-
+-1406 if(
+-	`wa
+-() != -1){
+-
+-1407 
+-	`tf
+-(1, "wait gotoo many\n");
+-
+-1408 
+-	`ex
+-();
+-
+-1411 
+-	`tf
+-(1, "forkest OK\n");
+-
+-1412 
+-	}
+-}
+-
+-1415 
+-	$sbrk
+-()
+-
+-1417 
+-fds
+-[2], 
+-pid
+-, 
+-pids
+-[10], 
+-id
+-;
+-
+-1418 *
+-a
+-, *
+-b
+-, *
+-c
+-, *
+-addr
+-, *
+-dbrk
+-, *
+-p
+-, 
+-sch
+-;
+-
+-1419 
+-ut
+- 
+-amt
+-;
+-
+-1421 
+-	`tf
+-(
+-dout
+-, "sbrkest\n");
+-
+-1422 
+-dbrk
+- = 
+-	`sbrk
+-(0);
+-
+-1425 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1426 
+-i
+-;
+-
+-1427 
+-i
+- = 0; i < 5000; i++){
+-
+-1428 
+-b
+- = 
+-	`sbrk
+-(1);
+-
+-1429 if(
+-b
+- !
+-a
+-){
+-
+-1430 
+-	`tf
+-(
+-dout
+-, "sbrke faed %d %x %x\n", 
+-i
+-, 
+-a
+-, 
+-b
+-);
+-
+-1431 
+-	`ex
+-();
+-
+-1433 *
+-b
+- = 1;
+-
+-1434 
+-a
+- = 
+-b
+- + 1;
+-
+-1436 
+-pid
+- = 
+-	`fk
+-();
+-
+-1437 if(
+-pid
+- < 0){
+-
+-1438 
+-	`tf
+-(
+-dout
+-, "sbrkest fork failed\n");
+-
+-1439 
+-	`ex
+-();
+-
+-1441 
+-c
+- = 
+-	`sbrk
+-(1);
+-
+-1442 
+-c
+- = 
+-	`sbrk
+-(1);
+-
+-1443 if(
+-c
+- !
+-a
+- + 1){
+-
+-1444 
+-	`tf
+-(
+-dout
+-, "sbrkest failedost-fork\n");
+-
+-1445 
+-	`ex
+-();
+-
+-1447 if(
+-pid
+- == 0)
+-
+-1448 
+-	`ex
+-();
+-
+-1449 
+-	`wa
+-();
+-
+-1452 
+-	#BIG
+- (100*1024*1024)
+-
+-	)
+-
+-1453 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1454 
+-amt
+- = (
+-BIG
+-- (
+-ut
+-)
+-a
+-;
+-
+-1455 
+-p
+- = 
+-	`sbrk
+-(
+-amt
+-);
+-
+-1456 i(
+-p
+- !
+-a
+-) {
+-
+-1457 
+-	`tf
+-(
+-dout
+-, "sbrkest failedo grow bigddress space;noughhys mem?\n");
+-
+-1458 
+-	`ex
+-();
+-
+-1460 
+-addr
+- = (*(
+-BIG
+--1);
+-
+-1461 *
+-addr
+- = 99;
+-
+-1464 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1465 
+-c
+- = 
+-	`sbrk
+-(-4096);
+-
+-1466 if(
+-c
+- == (*)0xffffffff){
+-
+-1467 
+-	`tf
+-(
+-dout
+-, "sbrk couldot deallocate\n");
+-
+-1468 
+-	`ex
+-();
+-
+-1470 
+-c
+- = 
+-	`sbrk
+-(0);
+-
+-1471 if(
+-c
+- !
+-a
+- - 4096){
+-
+-1472 
+-	`tf
+-(
+-dout
+-, "sbrk dotirodud wrgddss, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1473 
+-	`ex
+-();
+-
+-1477 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1478 
+-c
+- = 
+-	`sbrk
+-(4096);
+-
+-1479 if(
+-c
+- !
+-a
+- || 
+-	`sbrk
+-(0) != + 4096){
+-
+-1480 
+-	`tf
+-(
+-dout
+-, "sbrke-loti faed, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1481 
+-	`ex
+-();
+-
+-1483 if(*
+-addr
+- == 99){
+-
+-1485 
+-	`tf
+-(
+-dout
+-, "sbrk de-allocation didn'teally deallocate\n");
+-
+-1486 
+-	`ex
+-();
+-
+-1489 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1490 
+-c
+- = 
+-	`sbrk
+-(-(sbrk(0- 
+-dbrk
+-));
+-
+-1491 if(
+-c
+- !
+-a
+-){
+-
+-1492 
+-	`tf
+-(
+-dout
+-, "sbrk downsized, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1493 
+-	`ex
+-();
+-
+-1497 
+-a
+- = (*)(
+-KERNBASE
+-); < (*) (KERNBASE+2000000); += 50000){
+-
+-1498 
+-id
+- = 
+-	`gpid
+-();
+-
+-1499 
+-pid
+- = 
+-	`fk
+-();
+-
+-1500 if(
+-pid
+- < 0){
+-
+-1501 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-1502 
+-	`ex
+-();
+-
+-1504 if(
+-pid
+- == 0){
+-
+-1505 
+-	`tf
+-(
+-dout
+-, "ocouldd %x = %x\n", 
+-a
+-, *a);
+-
+-1506 
+-	`kl
+-(
+-id
+-);
+-
+-1507 
+-	`ex
+-();
+-
+-1509 
+-	`wa
+-();
+-
+-1514 if(
+-	`pe
+-(
+-fds
+-) != 0){
+-
+-1515 
+-	`tf
+-(1, "pipe() failed\n");
+-
+-1516 
+-	`ex
+-();
+-
+-1518 
+-i
+- = 0; i < (
+-pids
+-)/(pids[0]); i++){
+-
+-1519 if((
+-pids
+-[
+-i
+-] = 
+-	`fk
+-()) == 0){
+-
+-1521 
+-	`sbrk
+-(
+-BIG
+- - (
+-ut
+-)sbrk(0));
+-
+-1522 
+-	`wre
+-(
+-fds
+-[1], "x", 1);
+-
+-1524 ;;
+-	`p
+-(1000);
+-
+-1526 if(
+-pids
+-[
+-i
+-] != -1)
+-
+-1527 
+-	`ad
+-(
+-fds
+-[0], &
+-sch
+-, 1);
+-
+-1531 
+-c
+- = 
+-	`sbrk
+-(4096);
+-
+-1532 
+-i
+- = 0; i < (
+-pids
+-)/(pids[0]); i++){
+-
+-1533 if(
+-pids
+-[
+-i
+-] == -1)
+-
+-1535 
+-	`kl
+-(
+-pids
+-[
+-i
+-]);
+-
+-1536 
+-	`wa
+-();
+-
+-1538 if(
+-c
+- == (*)0xffffffff){
+-
+-1539 
+-	`tf
+-(
+-dout
+-, "failed sbrkeaked memory\n");
+-
+-1540 
+-	`ex
+-();
+-
+-1543 if(
+-	`sbrk
+-(0> 
+-dbrk
+-)
+-
+-1544 
+-	`sbrk
+-(-(sbrk(0- 
+-dbrk
+-));
+-
+-1546 
+-	`tf
+-(
+-dout
+-, "sbrkest OK\n");
+-
+-1547 
+-	}
+-}
+-
+-1550 
+-	$videt
+-(*
+-p
+-)
+-
+-1552 
+-s
+-;
+-
+-1553 
+-	`asm
+-("mov %%esp, %%ebx\n\t"
+-
+-1557 "" (
+-s
+-) :
+-
+-1558 "a" (
+-SYS_p
+-), "n" (
+-T_SYSCALL
+-), "c" (
+-p
+-) :
+-
+-1560 
+-	}
+-}
+-
+-1563 
+-	$vide
+-()
+-
+-1565 
+-hi
+-, 
+-pid
+-;
+-
+-1566 
+-ut
+- 
+-p
+-;
+-
+-1568 
+-	`tf
+-(
+-dout
+-, "validateest\n");
+-
+-1569 
+-hi
+- = 1100*1024;
+-
+-1571 
+-p
+- = 0; <(
+-ut
+-)
+-hi
+-; += 4096){
+-
+-1572 if((
+-pid
+- = 
+-	`fk
+-()) == 0){
+-
+-1574 
+-	`videt
+-((*)
+-p
+-);
+-
+-1575 
+-	`ex
+-();
+-
+-1577 
+-	`p
+-(0);
+-
+-1578 
+-	`p
+-(0);
+-
+-1579 
+-	`kl
+-(
+-pid
+-);
+-
+-1580 
+-	`wa
+-();
+-
+-1583 if(
+-	`lk
+-("nosuchfe", (*)
+-p
+-) != -1){
+-
+-1584 
+-	`tf
+-(
+-dout
+-, "link shouldot succeed\n");
+-
+-1585 
+-	`ex
+-();
+-
+-1589 
+-	`tf
+-(
+-dout
+-, "validate ok\n");
+-
+-1590 
+-	}
+-}
+-
+-1593 
+-	gun
+-[10000];
+-
+-1595 
+-	$bse
+-()
+-
+-1597 
+-i
+-;
+-
+-1599 
+-	`tf
+-(
+-dout
+-, "bssest\n");
+-
+-1600 
+-i
+- = 0; i < (
+-un
+-); i++){
+-
+-1601 if(
+-un
+-[
+-i
+-] != '\0'){
+-
+-1602 
+-	`tf
+-(
+-dout
+-, "bssest failed\n");
+-
+-1603 
+-	`ex
+-();
+-
+-1606 
+-	`tf
+-(
+-dout
+-, "bssest ok\n");
+-
+-1607 
+-	}
+-}
+-
+-1613 
+-	$bigg
+-()
+-
+-1615 
+-pid
+-, 
+-fd
+-;
+-
+-1617 
+-	`uk
+-("bigarg-ok");
+-
+-1618 
+-pid
+- = 
+-	`fk
+-();
+-
+-1619 if(
+-pid
+- == 0){
+-
+-1620 *
+-gs
+-[
+-MAXARG
+-];
+-
+-1621 
+-i
+-;
+-
+-1622 
+-i
+- = 0; i < 
+-MAXARG
+--1; i++)
+-
+-1623 
+-gs
+-[
+-i
+-] = "bigargsest: failed\n ";
+-
+-1624 
+-gs
+-[
+-MAXARG
+--1] = 0;
+-
+-1625 
+-	`tf
+-(
+-dout
+-, "bigargest\n");
+-
+-1626 
+-	`exec
+-("echo", 
+-gs
+-);
+-
+-1627 
+-	`tf
+-(
+-dout
+-, "bigargest ok\n");
+-
+-1628 
+-fd
+- = 
+-	`
+-("bigg-ok", 
+-O_CREATE
+-);
+-
+-1629 
+-	`o
+-(
+-fd
+-);
+-
+-1630 
+-	`ex
+-();
+-
+-1631 } if(
+-pid
+- < 0){
+-
+-1632 
+-	`tf
+-(
+-dout
+-, "bigargtest: fork failed\n");
+-
+-1633 
+-	`ex
+-();
+-
+-1635 
+-	`wa
+-();
+-
+-1636 
+-fd
+- = 
+-	`
+-("bigarg-ok", 0);
+-
+-1637 if(
+-fd
+- < 0){
+-
+-1638 
+-	`tf
+-(
+-dout
+-, "bigargest failed!\n");
+-
+-1639 
+-	`ex
+-();
+-
+-1641 
+-	`o
+-(
+-fd
+-);
+-
+-1642 
+-	`uk
+-("bigarg-ok");
+-
+-1643 
+-	}
+-}
+-
+-1648 
+-	$fsfu
+-()
+-
+-1650 
+-nfes
+-;
+-
+-1651 
+-fsblocks
+- = 0;
+-
+-1653 
+-	`tf
+-(1, "fsfullest\n");
+-
+-1655 
+-nfes
+- = 0; ;files++){
+-
+-1656 
+-me
+-[64];
+-
+-1657 
+-me
+-[0] = 'f';
+-
+-1658 
+-me
+-[1] = '0' + 
+-nfes
+- / 1000;
+-
+-1659 
+-me
+-[2] = '0' + (
+-nfes
+- % 1000) / 100;
+-
+-1660 
+-me
+-[3] = '0' + (
+-nfes
+- % 100) / 10;
+-
+-1661 
+-me
+-[4] = '0' + (
+-nfes
+- % 10);
+-
+-1662 
+-me
+-[5] = '\0';
+-
+-1663 
+-	`tf
+-(1, "wrg %s\n", 
+-me
+-);
+-
+-1664 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-1665 if(
+-fd
+- < 0){
+-
+-1666 
+-	`tf
+-(1, " %ed\n", 
+-me
+-);
+-
+-1669 
+-t
+- = 0;
+-
+-1671 
+-cc
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 512);
+-
+-1672 if(
+-cc
+- < 512)
+-
+-1674 
+-t
+- +
+-cc
+-;
+-
+-1675 
+-fsblocks
+-++;
+-
+-1677 
+-	`tf
+-(1, "wr%d bys\n", 
+-t
+-);
+-
+-1678 
+-	`o
+-(
+-fd
+-);
+-
+-1679 if(
+-t
+- == 0)
+-
+-1683 
+-nfes
+- >= 0){
+-
+-1684 
+-me
+-[64];
+-
+-1685 
+-me
+-[0] = 'f';
+-
+-1686 
+-me
+-[1] = '0' + 
+-nfes
+- / 1000;
+-
+-1687 
+-me
+-[2] = '0' + (
+-nfes
+- % 1000) / 100;
+-
+-1688 
+-me
+-[3] = '0' + (
+-nfes
+- % 100) / 10;
+-
+-1689 
+-me
+-[4] = '0' + (
+-nfes
+- % 10);
+-
+-1690 
+-me
+-[5] = '\0';
+-
+-1691 
+-	`uk
+-(
+-me
+-);
+-
+-1692 
+-nfes
+---;
+-
+-1695 
+-	`tf
+-(1, "fsfullest finished\n");
+-
+-1696 
+-	}
+-}
+-
+-1699 
+-	$uio
+-()
+-
+-1701 
+-	#RTC_ADDR
+- 0x70
+-
+-	)
+-
+-1702 
+-	#RTC_DATA
+- 0x71
+-
+-	)
+-
+-1704 
+-usht
+- 
+-pt
+- = 0;
+-
+-1705 
+-uch
+- 
+-v
+- = 0;
+-
+-1706 
+-pid
+-;
+-
+-1708 
+-	`tf
+-(1, "uioest\n");
+-
+-1709 
+-pid
+- = 
+-	`fk
+-();
+-
+-1710 if(
+-pid
+- == 0){
+-
+-1711 
+-pt
+- = 
+-RTC_ADDR
+-;
+-
+-1712 
+-v
+- = 0x09;
+-
+-1714 
+-asm
+- ve("outb %0,%1"::"a"(
+-v
+-), "d" (
+-pt
+-));
+-
+-1715 
+-pt
+- = 
+-RTC_DATA
+-;
+-
+-1716 
+-asm
+- ve("b %1,%0" : "" (
+-v
+-: "d" (
+-pt
+-));
+-
+-1717 
+-	`tf
+-(1, "uio: uio succeeded;est FAILED\n");
+-
+-1718 
+-	`ex
+-();
+-
+-1719 } if(
+-pid
+- < 0){
+-
+-1720 
+-	`tf
+- (1, "fork failed\n");
+-
+-1721 
+-	`ex
+-();
+-
+-1723 
+-	`wa
+-();
+-
+-1724 
+-	`tf
+-(1, "uioest done\n");
+-
+-1725 
+-	}
+-}
+-
+-1727 
+-	$ge
+-()
+-
+-1729 
+-fd
+-;
+-
+-1730 
+-fd
+- = 
+-	`
+-("", 
+-O_RDONLY
+-);
+-
+-1731 i(
+-fd
+- < 0) {
+-
+-1732 
+-	`tf
+-(2, "open failed\n");
+-
+-1733 
+-	`ex
+-();
+-
+-1735 
+-	`ad
+-(
+-fd
+-, 
+-	`sbrk
+-(0) - 1, -1);
+-
+-1736 
+-	`o
+-(
+-fd
+-);
+-
+-1737 
+-	`tf
+-(1, "argestassed\n");
+-
+-1738 
+-	}
+-}
+-
+-1740 
+-	gnde
+- = 1;
+-
+-1742 
+-	$nd
+-()
+-
+-1744 
+-nde
+- =andstate * 1664525 + 1013904223;
+-
+-1745  
+-nde
+-;
+-
+-1746 
+-	}
+-}
+-
+-1749 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-1751 
+-	`tf
+-(1, "usertests starting\n");
+-
+-1753 if(
+-	`
+-("usertests.ran", 0) >= 0){
+-
+-1754 
+-	`tf
+-(1, "alreadyan userests --ebuild fs.img\n");
+-
+-1755 
+-	`ex
+-();
+-
+-1757 
+-	`o
+-(
+-	`
+-("ues.n", 
+-O_CREATE
+-));
+-
+-1759 
+-	`ge
+-();
+-
+-1760 
+-	`de
+-();
+-
+-1761 
+-	`lkuk
+-();
+-
+-1762 
+-	`c
+-();
+-
+-1763 
+-	`fourfes
+-();
+-
+-1764 
+-	`shedfd
+-();
+-
+-1766 
+-	`bigg
+-();
+-
+-1767 
+-	`bigwre
+-();
+-
+-1768 
+-	`bigg
+-();
+-
+-1769 
+-	`bse
+-();
+-
+-1770 
+-	`sbrk
+-();
+-
+-1771 
+-	`vide
+-();
+-
+-1773 
+-	`
+-();
+-
+-1774 
+-	`wre
+-();
+-
+-1775 
+-	`wre1
+-();
+-
+-1776 
+-	`
+-();
+-
+-1778 
+-	`ue
+-();
+-
+-1779 
+-	`exue
+-();
+-
+-1780 
+-	`ue
+-();
+-
+-1782 
+-	`mem
+-();
+-
+-1783 
+-	`pe1
+-();
+-
+-1784 
+-	`m
+-();
+-
+-1785 
+-	`exwa
+-();
+-
+-1787 
+-	`rmd
+-();
+-
+-1788 
+-	`foun
+-();
+-
+-1789 
+-	`bigfe
+-();
+-
+-1790 
+-	`subd
+-();
+-
+-1791 
+-	`lk
+-();
+-
+-1792 
+-	`ukad
+-();
+-
+-1793 
+-	`dfe
+-();
+-
+-1794 
+-	`ef
+-();
+-
+-1795 
+-	`fk
+-();
+-
+-1796 
+-	`bigd
+-();
+-
+-1798 
+-	`uio
+-();
+-
+-1800 
+-	`exee
+-();
+-
+-1802 
+-	`ex
+-();
+-
+-1803 
+-	}
+-}
+-
+-	@usys.S
+-
+-1 
+-	~"sys.h
+-"
+-
+-2 
+-	~"s.h
+-"
+-
+-4 
+-	#SYSCALL
+-(
+-me
+-) \
+-
+-5 .
+-globl
+- 
+-me
+-; \
+-
+-6 
+-me
+-: \
+-
+-7 
+-movl
+- 
+-$SYS_
+- ## 
+-me
+-, %
+-x
+-; \
+-
+-8 
+-$T_SYSCALL
+-; \
+-
+-9 
+-t
+-
+-
+-	)
+-
+-11 
+-	$SYSCALL
+-(
+-fk
+-)
+-
+-12 
+-	$SYSCALL
+-(
+-ex
+-)
+-
+-13 
+-	$SYSCALL
+-(
+-wa
+-)
+-
+-14 
+-	$SYSCALL
+-(
+-pe
+-)
+-
+-15 
+-	$SYSCALL
+-(
+-ad
+-)
+-
+-16 
+-	$SYSCALL
+-(
+-wre
+-)
+-
+-17 
+-	$SYSCALL
+-(
+-o
+-)
+-
+-18 
+-	$SYSCALL
+-(
+-kl
+-)
+-
+-19 
+-	$SYSCALL
+-(
+-exec
+-)
+-
+-20 
+-	$SYSCALL
+-(
+-
+-)
+-
+-21 
+-	$SYSCALL
+-(
+-mknod
+-)
+-
+-22 
+-	$SYSCALL
+-(
+-uk
+-)
+-
+-23 
+-	$SYSCALL
+-(
+-f
+-)
+-
+-24 
+-	$SYSCALL
+-(
+-lk
+-)
+-
+-25 
+-	$SYSCALL
+-(
+-mkd
+-)
+-
+-26 
+-	$SYSCALL
+-(
+-chd
+-)
+-
+-27 
+-	$SYSCALL
+-(
+-dup
+-)
+-
+-28 
+-	$SYSCALL
+-(
+-gpid
+-)
+-
+-29 
+-	$SYSCALL
+-(
+-sbrk
+-)
+-
+-30 
+-	$SYSCALL
+-(
+-p
+-)
+-
+-31 
+-	$SYSCALL
+-(
+-uime
+-)
+-
+-32 
+-	$SYSCALL
+-(
+-mm
+-)
+-
+-33 
+-	`SYSCALL
+-(
+-munm
+-)
+-
+-	@vectors.S
+-
+-1 #ged 
+-by
+- 
+-ves
+-.
+-
+- - d
+-n
+- 
+-ed
+-
+-
+-3 .
+-globl
+- 
+-	gps
+-
+-
+-4 .
+-globl
+- 
+-ve0
+-
+-
+-5 
+-	gve0
+-:
+-
+-6 
+-pushl
+- 
+-$0
+-
+-
+-7 
+-pushl
+- 
+-$0
+-
+-
+-8 
+-jmp
+- 
+-ps
+-
+-
+-9 .
+-globl
+- 
+-ve1
+-
+-
+-10 
+-ve1
+-:
+-
+-11 
+-pushl
+- 
+-$0
+-
+-
+-12 
+-pushl
+- 
+-$1
+-
+-
+-13 
+-jmp
+- 
+-ps
+-
+-
+-14 .
+-globl
+- 
+-ve2
+-
+-
+-15 
+-ve2
+-:
+-
+-16 
+-pushl
+- 
+-$0
+-
+-
+-17 
+-pushl
+- 
+-$2
+-
+-
+-18 
+-jmp
+- 
+-ps
+-
+-
+-19 .
+-globl
+- 
+-ve3
+-
+-
+-20 
+-ve3
+-:
+-
+-21 
+-pushl
+- 
+-$0
+-
+-
+-22 
+-pushl
+- 
+-$3
+-
+-
+-23 
+-jmp
+- 
+-ps
+-
+-
+-24 .
+-globl
+- 
+-ve4
+-
+-
+-25 
+-ve4
+-:
+-
+-26 
+-pushl
+- 
+-$0
+-
+-
+-27 
+-pushl
+- 
+-$4
+-
+-
+-28 
+-jmp
+- 
+-ps
+-
+-
+-29 .
+-globl
+- 
+-ve5
+-
+-
+-30 
+-ve5
+-:
+-
+-31 
+-pushl
+- 
+-$0
+-
+-
+-32 
+-pushl
+- 
+-$5
+-
+-
+-33 
+-jmp
+- 
+-ps
+-
+-
+-34 .
+-globl
+- 
+-ve6
+-
+-
+-35 
+-ve6
+-:
+-
+-36 
+-pushl
+- 
+-$0
+-
+-
+-37 
+-pushl
+- 
+-$6
+-
+-
+-38 
+-jmp
+- 
+-ps
+-
+-
+-39 .
+-globl
+- 
+-ve7
+-
+-
+-40 
+-ve7
+-:
+-
+-41 
+-pushl
+- 
+-$0
+-
+-
+-42 
+-pushl
+- 
+-$7
+-
+-
+-43 
+-jmp
+- 
+-ps
+-
+-
+-44 .
+-globl
+- 
+-ve8
+-
+-
+-45 
+-ve8
+-:
+-
+-46 
+-pushl
+- 
+-$8
+-
+-
+-47 
+-jmp
+- 
+-ps
+-
+-
+-48 .
+-globl
+- 
+-ve9
+-
+-
+-49 
+-ve9
+-:
+-
+-50 
+-pushl
+- 
+-$0
+-
+-
+-51 
+-pushl
+- 
+-$9
+-
+-
+-52 
+-jmp
+- 
+-ps
+-
+-
+-53 .
+-globl
+- 
+-ve10
+-
+-
+-54 
+-ve10
+-:
+-
+-55 
+-pushl
+- 
+-$10
+-
+-
+-56 
+-jmp
+- 
+-ps
+-
+-
+-57 .
+-globl
+- 
+-ve11
+-
+-
+-58 
+-ve11
+-:
+-
+-59 
+-pushl
+- 
+-$11
+-
+-
+-60 
+-jmp
+- 
+-ps
+-
+-
+-61 .
+-globl
+- 
+-ve12
+-
+-
+-62 
+-ve12
+-:
+-
+-63 
+-pushl
+- 
+-$12
+-
+-
+-64 
+-jmp
+- 
+-ps
+-
+-
+-65 .
+-globl
+- 
+-ve13
+-
+-
+-66 
+-ve13
+-:
+-
+-67 
+-pushl
+- 
+-$13
+-
+-
+-68 
+-jmp
+- 
+-ps
+-
+-
+-69 .
+-globl
+- 
+-ve14
+-
+-
+-70 
+-ve14
+-:
+-
+-71 
+-pushl
+- 
+-$14
+-
+-
+-72 
+-jmp
+- 
+-ps
+-
+-
+-73 .
+-globl
+- 
+-ve15
+-
+-
+-74 
+-ve15
+-:
+-
+-75 
+-pushl
+- 
+-$0
+-
+-
+-76 
+-pushl
+- 
+-$15
+-
+-
+-77 
+-jmp
+- 
+-ps
+-
+-
+-78 .
+-globl
+- 
+-ve16
+-
+-
+-79 
+-ve16
+-:
+-
+-80 
+-pushl
+- 
+-$0
+-
+-
+-81 
+-pushl
+- 
+-$16
+-
+-
+-82 
+-jmp
+- 
+-ps
+-
+-
+-83 .
+-globl
+- 
+-ve17
+-
+-
+-84 
+-ve17
+-:
+-
+-85 
+-pushl
+- 
+-$17
+-
+-
+-86 
+-jmp
+- 
+-ps
+-
+-
+-87 .
+-globl
+- 
+-ve18
+-
+-
+-88 
+-ve18
+-:
+-
+-89 
+-pushl
+- 
+-$0
+-
+-
+-90 
+-pushl
+- 
+-$18
+-
+-
+-91 
+-jmp
+- 
+-ps
+-
+-
+-92 .
+-globl
+- 
+-ve19
+-
+-
+-93 
+-ve19
+-:
+-
+-94 
+-pushl
+- 
+-$0
+-
+-
+-95 
+-pushl
+- 
+-$19
+-
+-
+-96 
+-jmp
+- 
+-ps
+-
+-
+-97 .
+-globl
+- 
+-ve20
+-
+-
+-98 
+-ve20
+-:
+-
+-99 
+-pushl
+- 
+-$0
+-
+-
+-100 
+-pushl
+- 
+-$20
+-
+-
+-101 
+-jmp
+- 
+-ps
+-
+-
+-102 .
+-globl
+- 
+-ve21
+-
+-
+-103 
+-ve21
+-:
+-
+-104 
+-pushl
+- 
+-$0
+-
+-
+-105 
+-pushl
+- 
+-$21
+-
+-
+-106 
+-jmp
+- 
+-ps
+-
+-
+-107 .
+-globl
+- 
+-ve22
+-
+-
+-108 
+-ve22
+-:
+-
+-109 
+-pushl
+- 
+-$0
+-
+-
+-110 
+-pushl
+- 
+-$22
+-
+-
+-111 
+-jmp
+- 
+-ps
+-
+-
+-112 .
+-globl
+- 
+-ve23
+-
+-
+-113 
+-ve23
+-:
+-
+-114 
+-pushl
+- 
+-$0
+-
+-
+-115 
+-pushl
+- 
+-$23
+-
+-
+-116 
+-jmp
+- 
+-ps
+-
+-
+-117 .
+-globl
+- 
+-ve24
+-
+-
+-118 
+-ve24
+-:
+-
+-119 
+-pushl
+- 
+-$0
+-
+-
+-120 
+-pushl
+- 
+-$24
+-
+-
+-121 
+-jmp
+- 
+-ps
+-
+-
+-122 .
+-globl
+- 
+-ve25
+-
+-
+-123 
+-ve25
+-:
+-
+-124 
+-pushl
+- 
+-$0
+-
+-
+-125 
+-pushl
+- 
+-$25
+-
+-
+-126 
+-jmp
+- 
+-ps
+-
+-
+-127 .
+-globl
+- 
+-ve26
+-
+-
+-128 
+-ve26
+-:
+-
+-129 
+-pushl
+- 
+-$0
+-
+-
+-130 
+-pushl
+- 
+-$26
+-
+-
+-131 
+-jmp
+- 
+-ps
+-
+-
+-132 .
+-globl
+- 
+-ve27
+-
+-
+-133 
+-ve27
+-:
+-
+-134 
+-pushl
+- 
+-$0
+-
+-
+-135 
+-pushl
+- 
+-$27
+-
+-
+-136 
+-jmp
+- 
+-ps
+-
+-
+-137 .
+-globl
+- 
+-ve28
+-
+-
+-138 
+-ve28
+-:
+-
+-139 
+-pushl
+- 
+-$0
+-
+-
+-140 
+-pushl
+- 
+-$28
+-
+-
+-141 
+-jmp
+- 
+-ps
+-
+-
+-142 .
+-globl
+- 
+-ve29
+-
+-
+-143 
+-ve29
+-:
+-
+-144 
+-pushl
+- 
+-$0
+-
+-
+-145 
+-pushl
+- 
+-$29
+-
+-
+-146 
+-jmp
+- 
+-ps
+-
+-
+-147 .
+-globl
+- 
+-ve30
+-
+-
+-148 
+-ve30
+-:
+-
+-149 
+-pushl
+- 
+-$0
+-
+-
+-150 
+-pushl
+- 
+-$30
+-
+-
+-151 
+-jmp
+- 
+-ps
+-
+-
+-152 .
+-globl
+- 
+-ve31
+-
+-
+-153 
+-ve31
+-:
+-
+-154 
+-pushl
+- 
+-$0
+-
+-
+-155 
+-pushl
+- 
+-$31
+-
+-
+-156 
+-jmp
+- 
+-ps
+-
+-
+-157 .
+-globl
+- 
+-ve32
+-
+-
+-158 
+-ve32
+-:
+-
+-159 
+-pushl
+- 
+-$0
+-
+-
+-160 
+-pushl
+- 
+-$32
+-
+-
+-161 
+-jmp
+- 
+-ps
+-
+-
+-162 .
+-globl
+- 
+-ve33
+-
+-
+-163 
+-ve33
+-:
+-
+-164 
+-pushl
+- 
+-$0
+-
+-
+-165 
+-pushl
+- 
+-$33
+-
+-
+-166 
+-jmp
+- 
+-ps
+-
+-
+-167 .
+-globl
+- 
+-ve34
+-
+-
+-168 
+-ve34
+-:
+-
+-169 
+-pushl
+- 
+-$0
+-
+-
+-170 
+-pushl
+- 
+-$34
+-
+-
+-171 
+-jmp
+- 
+-ps
+-
+-
+-172 .
+-globl
+- 
+-ve35
+-
+-
+-173 
+-ve35
+-:
+-
+-174 
+-pushl
+- 
+-$0
+-
+-
+-175 
+-pushl
+- 
+-$35
+-
+-
+-176 
+-jmp
+- 
+-ps
+-
+-
+-177 .
+-globl
+- 
+-ve36
+-
+-
+-178 
+-ve36
+-:
+-
+-179 
+-pushl
+- 
+-$0
+-
+-
+-180 
+-pushl
+- 
+-$36
+-
+-
+-181 
+-jmp
+- 
+-ps
+-
+-
+-182 .
+-globl
+- 
+-ve37
+-
+-
+-183 
+-ve37
+-:
+-
+-184 
+-pushl
+- 
+-$0
+-
+-
+-185 
+-pushl
+- 
+-$37
+-
+-
+-186 
+-jmp
+- 
+-ps
+-
+-
+-187 .
+-globl
+- 
+-ve38
+-
+-
+-188 
+-ve38
+-:
+-
+-189 
+-pushl
+- 
+-$0
+-
+-
+-190 
+-pushl
+- 
+-$38
+-
+-
+-191 
+-jmp
+- 
+-ps
+-
+-
+-192 .
+-globl
+- 
+-ve39
+-
+-
+-193 
+-ve39
+-:
+-
+-194 
+-pushl
+- 
+-$0
+-
+-
+-195 
+-pushl
+- 
+-$39
+-
+-
+-196 
+-jmp
+- 
+-ps
+-
+-
+-197 .
+-globl
+- 
+-ve40
+-
+-
+-198 
+-ve40
+-:
+-
+-199 
+-pushl
+- 
+-$0
+-
+-
+-200 
+-pushl
+- 
+-$40
+-
+-
+-201 
+-jmp
+- 
+-ps
+-
+-
+-202 .
+-globl
+- 
+-ve41
+-
+-
+-203 
+-ve41
+-:
+-
+-204 
+-pushl
+- 
+-$0
+-
+-
+-205 
+-pushl
+- 
+-$41
+-
+-
+-206 
+-jmp
+- 
+-ps
+-
+-
+-207 .
+-globl
+- 
+-ve42
+-
+-
+-208 
+-ve42
+-:
+-
+-209 
+-pushl
+- 
+-$0
+-
+-
+-210 
+-pushl
+- 
+-$42
+-
+-
+-211 
+-jmp
+- 
+-ps
+-
+-
+-212 .
+-globl
+- 
+-ve43
+-
+-
+-213 
+-ve43
+-:
+-
+-214 
+-pushl
+- 
+-$0
+-
+-
+-215 
+-pushl
+- 
+-$43
+-
+-
+-216 
+-jmp
+- 
+-ps
+-
+-
+-217 .
+-globl
+- 
+-ve44
+-
+-
+-218 
+-ve44
+-:
+-
+-219 
+-pushl
+- 
+-$0
+-
+-
+-220 
+-pushl
+- 
+-$44
+-
+-
+-221 
+-jmp
+- 
+-ps
+-
+-
+-222 .
+-globl
+- 
+-ve45
+-
+-
+-223 
+-ve45
+-:
+-
+-224 
+-pushl
+- 
+-$0
+-
+-
+-225 
+-pushl
+- 
+-$45
+-
+-
+-226 
+-jmp
+- 
+-ps
+-
+-
+-227 .
+-globl
+- 
+-ve46
+-
+-
+-228 
+-ve46
+-:
+-
+-229 
+-pushl
+- 
+-$0
+-
+-
+-230 
+-pushl
+- 
+-$46
+-
+-
+-231 
+-jmp
+- 
+-ps
+-
+-
+-232 .
+-globl
+- 
+-ve47
+-
+-
+-233 
+-ve47
+-:
+-
+-234 
+-pushl
+- 
+-$0
+-
+-
+-235 
+-pushl
+- 
+-$47
+-
+-
+-236 
+-jmp
+- 
+-ps
+-
+-
+-237 .
+-globl
+- 
+-ve48
+-
+-
+-238 
+-ve48
+-:
+-
+-239 
+-pushl
+- 
+-$0
+-
+-
+-240 
+-pushl
+- 
+-$48
+-
+-
+-241 
+-jmp
+- 
+-ps
+-
+-
+-242 .
+-globl
+- 
+-ve49
+-
+-
+-243 
+-ve49
+-:
+-
+-244 
+-pushl
+- 
+-$0
+-
+-
+-245 
+-pushl
+- 
+-$49
+-
+-
+-246 
+-jmp
+- 
+-ps
+-
+-
+-247 .
+-globl
+- 
+-ve50
+-
+-
+-248 
+-ve50
+-:
+-
+-249 
+-pushl
+- 
+-$0
+-
+-
+-250 
+-pushl
+- 
+-$50
+-
+-
+-251 
+-jmp
+- 
+-ps
+-
+-
+-252 .
+-globl
+- 
+-ve51
+-
+-
+-253 
+-ve51
+-:
+-
+-254 
+-pushl
+- 
+-$0
+-
+-
+-255 
+-pushl
+- 
+-$51
+-
+-
+-256 
+-jmp
+- 
+-ps
+-
+-
+-257 .
+-globl
+- 
+-ve52
+-
+-
+-258 
+-ve52
+-:
+-
+-259 
+-pushl
+- 
+-$0
+-
+-
+-260 
+-pushl
+- 
+-$52
+-
+-
+-261 
+-jmp
+- 
+-ps
+-
+-
+-262 .
+-globl
+- 
+-ve53
+-
+-
+-263 
+-ve53
+-:
+-
+-264 
+-pushl
+- 
+-$0
+-
+-
+-265 
+-pushl
+- 
+-$53
+-
+-
+-266 
+-jmp
+- 
+-ps
+-
+-
+-267 .
+-globl
+- 
+-ve54
+-
+-
+-268 
+-ve54
+-:
+-
+-269 
+-pushl
+- 
+-$0
+-
+-
+-270 
+-pushl
+- 
+-$54
+-
+-
+-271 
+-jmp
+- 
+-ps
+-
+-
+-272 .
+-globl
+- 
+-ve55
+-
+-
+-273 
+-ve55
+-:
+-
+-274 
+-pushl
+- 
+-$0
+-
+-
+-275 
+-pushl
+- 
+-$55
+-
+-
+-276 
+-jmp
+- 
+-ps
+-
+-
+-277 .
+-globl
+- 
+-ve56
+-
+-
+-278 
+-ve56
+-:
+-
+-279 
+-pushl
+- 
+-$0
+-
+-
+-280 
+-pushl
+- 
+-$56
+-
+-
+-281 
+-jmp
+- 
+-ps
+-
+-
+-282 .
+-globl
+- 
+-ve57
+-
+-
+-283 
+-ve57
+-:
+-
+-284 
+-pushl
+- 
+-$0
+-
+-
+-285 
+-pushl
+- 
+-$57
+-
+-
+-286 
+-jmp
+- 
+-ps
+-
+-
+-287 .
+-globl
+- 
+-ve58
+-
+-
+-288 
+-ve58
+-:
+-
+-289 
+-pushl
+- 
+-$0
+-
+-
+-290 
+-pushl
+- 
+-$58
+-
+-
+-291 
+-jmp
+- 
+-ps
+-
+-
+-292 .
+-globl
+- 
+-ve59
+-
+-
+-293 
+-ve59
+-:
+-
+-294 
+-pushl
+- 
+-$0
+-
+-
+-295 
+-pushl
+- 
+-$59
+-
+-
+-296 
+-jmp
+- 
+-ps
+-
+-
+-297 .
+-globl
+- 
+-ve60
+-
+-
+-298 
+-ve60
+-:
+-
+-299 
+-pushl
+- 
+-$0
+-
+-
+-300 
+-pushl
+- 
+-$60
+-
+-
+-301 
+-jmp
+- 
+-ps
+-
+-
+-302 .
+-globl
+- 
+-ve61
+-
+-
+-303 
+-ve61
+-:
+-
+-304 
+-pushl
+- 
+-$0
+-
+-
+-305 
+-pushl
+- 
+-$61
+-
+-
+-306 
+-jmp
+- 
+-ps
+-
+-
+-307 .
+-globl
+- 
+-ve62
+-
+-
+-308 
+-ve62
+-:
+-
+-309 
+-pushl
+- 
+-$0
+-
+-
+-310 
+-pushl
+- 
+-$62
+-
+-
+-311 
+-jmp
+- 
+-ps
+-
+-
+-312 .
+-globl
+- 
+-ve63
+-
+-
+-313 
+-ve63
+-:
+-
+-314 
+-pushl
+- 
+-$0
+-
+-
+-315 
+-pushl
+- 
+-$63
+-
+-
+-316 
+-jmp
+- 
+-ps
+-
+-
+-317 .
+-globl
+- 
+-ve64
+-
+-
+-318 
+-ve64
+-:
+-
+-319 
+-pushl
+- 
+-$0
+-
+-
+-320 
+-pushl
+- 
+-$64
+-
+-
+-321 
+-jmp
+- 
+-ps
+-
+-
+-322 .
+-globl
+- 
+-ve65
+-
+-
+-323 
+-ve65
+-:
+-
+-324 
+-pushl
+- 
+-$0
+-
+-
+-325 
+-pushl
+- 
+-$65
+-
+-
+-326 
+-jmp
+- 
+-ps
+-
+-
+-327 .
+-globl
+- 
+-ve66
+-
+-
+-328 
+-ve66
+-:
+-
+-329 
+-pushl
+- 
+-$0
+-
+-
+-330 
+-pushl
+- 
+-$66
+-
+-
+-331 
+-jmp
+- 
+-ps
+-
+-
+-332 .
+-globl
+- 
+-ve67
+-
+-
+-333 
+-ve67
+-:
+-
+-334 
+-pushl
+- 
+-$0
+-
+-
+-335 
+-pushl
+- 
+-$67
+-
+-
+-336 
+-jmp
+- 
+-ps
+-
+-
+-337 .
+-globl
+- 
+-ve68
+-
+-
+-338 
+-ve68
+-:
+-
+-339 
+-pushl
+- 
+-$0
+-
+-
+-340 
+-pushl
+- 
+-$68
+-
+-
+-341 
+-jmp
+- 
+-ps
+-
+-
+-342 .
+-globl
+- 
+-ve69
+-
+-
+-343 
+-ve69
+-:
+-
+-344 
+-pushl
+- 
+-$0
+-
+-
+-345 
+-pushl
+- 
+-$69
+-
+-
+-346 
+-jmp
+- 
+-ps
+-
+-
+-347 .
+-globl
+- 
+-ve70
+-
+-
+-348 
+-ve70
+-:
+-
+-349 
+-pushl
+- 
+-$0
+-
+-
+-350 
+-pushl
+- 
+-$70
+-
+-
+-351 
+-jmp
+- 
+-ps
+-
+-
+-352 .
+-globl
+- 
+-ve71
+-
+-
+-353 
+-ve71
+-:
+-
+-354 
+-pushl
+- 
+-$0
+-
+-
+-355 
+-pushl
+- 
+-$71
+-
+-
+-356 
+-jmp
+- 
+-ps
+-
+-
+-357 .
+-globl
+- 
+-ve72
+-
+-
+-358 
+-ve72
+-:
+-
+-359 
+-pushl
+- 
+-$0
+-
+-
+-360 
+-pushl
+- 
+-$72
+-
+-
+-361 
+-jmp
+- 
+-ps
+-
+-
+-362 .
+-globl
+- 
+-ve73
+-
+-
+-363 
+-ve73
+-:
+-
+-364 
+-pushl
+- 
+-$0
+-
+-
+-365 
+-pushl
+- 
+-$73
+-
+-
+-366 
+-jmp
+- 
+-ps
+-
+-
+-367 .
+-globl
+- 
+-ve74
+-
+-
+-368 
+-ve74
+-:
+-
+-369 
+-pushl
+- 
+-$0
+-
+-
+-370 
+-pushl
+- 
+-$74
+-
+-
+-371 
+-jmp
+- 
+-ps
+-
+-
+-372 .
+-globl
+- 
+-ve75
+-
+-
+-373 
+-ve75
+-:
+-
+-374 
+-pushl
+- 
+-$0
+-
+-
+-375 
+-pushl
+- 
+-$75
+-
+-
+-376 
+-jmp
+- 
+-ps
+-
+-
+-377 .
+-globl
+- 
+-ve76
+-
+-
+-378 
+-ve76
+-:
+-
+-379 
+-pushl
+- 
+-$0
+-
+-
+-380 
+-pushl
+- 
+-$76
+-
+-
+-381 
+-jmp
+- 
+-ps
+-
+-
+-382 .
+-globl
+- 
+-ve77
+-
+-
+-383 
+-ve77
+-:
+-
+-384 
+-pushl
+- 
+-$0
+-
+-
+-385 
+-pushl
+- 
+-$77
+-
+-
+-386 
+-jmp
+- 
+-ps
+-
+-
+-387 .
+-globl
+- 
+-ve78
+-
+-
+-388 
+-ve78
+-:
+-
+-389 
+-pushl
+- 
+-$0
+-
+-
+-390 
+-pushl
+- 
+-$78
+-
+-
+-391 
+-jmp
+- 
+-ps
+-
+-
+-392 .
+-globl
+- 
+-ve79
+-
+-
+-393 
+-ve79
+-:
+-
+-394 
+-pushl
+- 
+-$0
+-
+-
+-395 
+-pushl
+- 
+-$79
+-
+-
+-396 
+-jmp
+- 
+-ps
+-
+-
+-397 .
+-globl
+- 
+-ve80
+-
+-
+-398 
+-ve80
+-:
+-
+-399 
+-pushl
+- 
+-$0
+-
+-
+-400 
+-pushl
+- 
+-$80
+-
+-
+-401 
+-jmp
+- 
+-ps
+-
+-
+-402 .
+-globl
+- 
+-ve81
+-
+-
+-403 
+-ve81
+-:
+-
+-404 
+-pushl
+- 
+-$0
+-
+-
+-405 
+-pushl
+- 
+-$81
+-
+-
+-406 
+-jmp
+- 
+-ps
+-
+-
+-407 .
+-globl
+- 
+-ve82
+-
+-
+-408 
+-ve82
+-:
+-
+-409 
+-pushl
+- 
+-$0
+-
+-
+-410 
+-pushl
+- 
+-$82
+-
+-
+-411 
+-jmp
+- 
+-ps
+-
+-
+-412 .
+-globl
+- 
+-ve83
+-
+-
+-413 
+-ve83
+-:
+-
+-414 
+-pushl
+- 
+-$0
+-
+-
+-415 
+-pushl
+- 
+-$83
+-
+-
+-416 
+-jmp
+- 
+-ps
+-
+-
+-417 .
+-globl
+- 
+-ve84
+-
+-
+-418 
+-ve84
+-:
+-
+-419 
+-pushl
+- 
+-$0
+-
+-
+-420 
+-pushl
+- 
+-$84
+-
+-
+-421 
+-jmp
+- 
+-ps
+-
+-
+-422 .
+-globl
+- 
+-ve85
+-
+-
+-423 
+-ve85
+-:
+-
+-424 
+-pushl
+- 
+-$0
+-
+-
+-425 
+-pushl
+- 
+-$85
+-
+-
+-426 
+-jmp
+- 
+-ps
+-
+-
+-427 .
+-globl
+- 
+-ve86
+-
+-
+-428 
+-ve86
+-:
+-
+-429 
+-pushl
+- 
+-$0
+-
+-
+-430 
+-pushl
+- 
+-$86
+-
+-
+-431 
+-jmp
+- 
+-ps
+-
+-
+-432 .
+-globl
+- 
+-ve87
+-
+-
+-433 
+-ve87
+-:
+-
+-434 
+-pushl
+- 
+-$0
+-
+-
+-435 
+-pushl
+- 
+-$87
+-
+-
+-436 
+-jmp
+- 
+-ps
+-
+-
+-437 .
+-globl
+- 
+-ve88
+-
+-
+-438 
+-ve88
+-:
+-
+-439 
+-pushl
+- 
+-$0
+-
+-
+-440 
+-pushl
+- 
+-$88
+-
+-
+-441 
+-jmp
+- 
+-ps
+-
+-
+-442 .
+-globl
+- 
+-ve89
+-
+-
+-443 
+-ve89
+-:
+-
+-444 
+-pushl
+- 
+-$0
+-
+-
+-445 
+-pushl
+- 
+-$89
+-
+-
+-446 
+-jmp
+- 
+-ps
+-
+-
+-447 .
+-globl
+- 
+-ve90
+-
+-
+-448 
+-ve90
+-:
+-
+-449 
+-pushl
+- 
+-$0
+-
+-
+-450 
+-pushl
+- 
+-$90
+-
+-
+-451 
+-jmp
+- 
+-ps
+-
+-
+-452 .
+-globl
+- 
+-ve91
+-
+-
+-453 
+-ve91
+-:
+-
+-454 
+-pushl
+- 
+-$0
+-
+-
+-455 
+-pushl
+- 
+-$91
+-
+-
+-456 
+-jmp
+- 
+-ps
+-
+-
+-457 .
+-globl
+- 
+-ve92
+-
+-
+-458 
+-ve92
+-:
+-
+-459 
+-pushl
+- 
+-$0
+-
+-
+-460 
+-pushl
+- 
+-$92
+-
+-
+-461 
+-jmp
+- 
+-ps
+-
+-
+-462 .
+-globl
+- 
+-ve93
+-
+-
+-463 
+-ve93
+-:
+-
+-464 
+-pushl
+- 
+-$0
+-
+-
+-465 
+-pushl
+- 
+-$93
+-
+-
+-466 
+-jmp
+- 
+-ps
+-
+-
+-467 .
+-globl
+- 
+-ve94
+-
+-
+-468 
+-ve94
+-:
+-
+-469 
+-pushl
+- 
+-$0
+-
+-
+-470 
+-pushl
+- 
+-$94
+-
+-
+-471 
+-jmp
+- 
+-ps
+-
+-
+-472 .
+-globl
+- 
+-ve95
+-
+-
+-473 
+-ve95
+-:
+-
+-474 
+-pushl
+- 
+-$0
+-
+-
+-475 
+-pushl
+- 
+-$95
+-
+-
+-476 
+-jmp
+- 
+-ps
+-
+-
+-477 .
+-globl
+- 
+-ve96
+-
+-
+-478 
+-ve96
+-:
+-
+-479 
+-pushl
+- 
+-$0
+-
+-
+-480 
+-pushl
+- 
+-$96
+-
+-
+-481 
+-jmp
+- 
+-ps
+-
+-
+-482 .
+-globl
+- 
+-ve97
+-
+-
+-483 
+-ve97
+-:
+-
+-484 
+-pushl
+- 
+-$0
+-
+-
+-485 
+-pushl
+- 
+-$97
+-
+-
+-486 
+-jmp
+- 
+-ps
+-
+-
+-487 .
+-globl
+- 
+-ve98
+-
+-
+-488 
+-ve98
+-:
+-
+-489 
+-pushl
+- 
+-$0
+-
+-
+-490 
+-pushl
+- 
+-$98
+-
+-
+-491 
+-jmp
+- 
+-ps
+-
+-
+-492 .
+-globl
+- 
+-ve99
+-
+-
+-493 
+-ve99
+-:
+-
+-494 
+-pushl
+- 
+-$0
+-
+-
+-495 
+-pushl
+- 
+-$99
+-
+-
+-496 
+-jmp
+- 
+-ps
+-
+-
+-497 .
+-globl
+- 
+-ve100
+-
+-
+-498 
+-ve100
+-:
+-
+-499 
+-pushl
+- 
+-$0
+-
+-
+-500 
+-pushl
+- 
+-$100
+-
+-
+-501 
+-jmp
+- 
+-ps
+-
+-
+-502 .
+-globl
+- 
+-ve101
+-
+-
+-503 
+-ve101
+-:
+-
+-504 
+-pushl
+- 
+-$0
+-
+-
+-505 
+-pushl
+- 
+-$101
+-
+-
+-506 
+-jmp
+- 
+-ps
+-
+-
+-507 .
+-globl
+- 
+-ve102
+-
+-
+-508 
+-ve102
+-:
+-
+-509 
+-pushl
+- 
+-$0
+-
+-
+-510 
+-pushl
+- 
+-$102
+-
+-
+-511 
+-jmp
+- 
+-ps
+-
+-
+-512 .
+-globl
+- 
+-ve103
+-
+-
+-513 
+-ve103
+-:
+-
+-514 
+-pushl
+- 
+-$0
+-
+-
+-515 
+-pushl
+- 
+-$103
+-
+-
+-516 
+-jmp
+- 
+-ps
+-
+-
+-517 .
+-globl
+- 
+-ve104
+-
+-
+-518 
+-ve104
+-:
+-
+-519 
+-pushl
+- 
+-$0
+-
+-
+-520 
+-pushl
+- 
+-$104
+-
+-
+-521 
+-jmp
+- 
+-ps
+-
+-
+-522 .
+-globl
+- 
+-ve105
+-
+-
+-523 
+-ve105
+-:
+-
+-524 
+-pushl
+- 
+-$0
+-
+-
+-525 
+-pushl
+- 
+-$105
+-
+-
+-526 
+-jmp
+- 
+-ps
+-
+-
+-527 .
+-globl
+- 
+-ve106
+-
+-
+-528 
+-ve106
+-:
+-
+-529 
+-pushl
+- 
+-$0
+-
+-
+-530 
+-pushl
+- 
+-$106
+-
+-
+-531 
+-jmp
+- 
+-ps
+-
+-
+-532 .
+-globl
+- 
+-ve107
+-
+-
+-533 
+-ve107
+-:
+-
+-534 
+-pushl
+- 
+-$0
+-
+-
+-535 
+-pushl
+- 
+-$107
+-
+-
+-536 
+-jmp
+- 
+-ps
+-
+-
+-537 .
+-globl
+- 
+-ve108
+-
+-
+-538 
+-ve108
+-:
+-
+-539 
+-pushl
+- 
+-$0
+-
+-
+-540 
+-pushl
+- 
+-$108
+-
+-
+-541 
+-jmp
+- 
+-ps
+-
+-
+-542 .
+-globl
+- 
+-ve109
+-
+-
+-543 
+-ve109
+-:
+-
+-544 
+-pushl
+- 
+-$0
+-
+-
+-545 
+-pushl
+- 
+-$109
+-
+-
+-546 
+-jmp
+- 
+-ps
+-
+-
+-547 .
+-globl
+- 
+-ve110
+-
+-
+-548 
+-ve110
+-:
+-
+-549 
+-pushl
+- 
+-$0
+-
+-
+-550 
+-pushl
+- 
+-$110
+-
+-
+-551 
+-jmp
+- 
+-ps
+-
+-
+-552 .
+-globl
+- 
+-ve111
+-
+-
+-553 
+-ve111
+-:
+-
+-554 
+-pushl
+- 
+-$0
+-
+-
+-555 
+-pushl
+- 
+-$111
+-
+-
+-556 
+-jmp
+- 
+-ps
+-
+-
+-557 .
+-globl
+- 
+-ve112
+-
+-
+-558 
+-ve112
+-:
+-
+-559 
+-pushl
+- 
+-$0
+-
+-
+-560 
+-pushl
+- 
+-$112
+-
+-
+-561 
+-jmp
+- 
+-ps
+-
+-
+-562 .
+-globl
+- 
+-ve113
+-
+-
+-563 
+-ve113
+-:
+-
+-564 
+-pushl
+- 
+-$0
+-
+-
+-565 
+-pushl
+- 
+-$113
+-
+-
+-566 
+-jmp
+- 
+-ps
+-
+-
+-567 .
+-globl
+- 
+-ve114
+-
+-
+-568 
+-ve114
+-:
+-
+-569 
+-pushl
+- 
+-$0
+-
+-
+-570 
+-pushl
+- 
+-$114
+-
+-
+-571 
+-jmp
+- 
+-ps
+-
+-
+-572 .
+-globl
+- 
+-ve115
+-
+-
+-573 
+-ve115
+-:
+-
+-574 
+-pushl
+- 
+-$0
+-
+-
+-575 
+-pushl
+- 
+-$115
+-
+-
+-576 
+-jmp
+- 
+-ps
+-
+-
+-577 .
+-globl
+- 
+-ve116
+-
+-
+-578 
+-ve116
+-:
+-
+-579 
+-pushl
+- 
+-$0
+-
+-
+-580 
+-pushl
+- 
+-$116
+-
+-
+-581 
+-jmp
+- 
+-ps
+-
+-
+-582 .
+-globl
+- 
+-ve117
+-
+-
+-583 
+-ve117
+-:
+-
+-584 
+-pushl
+- 
+-$0
+-
+-
+-585 
+-pushl
+- 
+-$117
+-
+-
+-586 
+-jmp
+- 
+-ps
+-
+-
+-587 .
+-globl
+- 
+-ve118
+-
+-
+-588 
+-ve118
+-:
+-
+-589 
+-pushl
+- 
+-$0
+-
+-
+-590 
+-pushl
+- 
+-$118
+-
+-
+-591 
+-jmp
+- 
+-ps
+-
+-
+-592 .
+-globl
+- 
+-ve119
+-
+-
+-593 
+-ve119
+-:
+-
+-594 
+-pushl
+- 
+-$0
+-
+-
+-595 
+-pushl
+- 
+-$119
+-
+-
+-596 
+-jmp
+- 
+-ps
+-
+-
+-597 .
+-globl
+- 
+-ve120
+-
+-
+-598 
+-ve120
+-:
+-
+-599 
+-pushl
+- 
+-$0
+-
+-
+-600 
+-pushl
+- 
+-$120
+-
+-
+-601 
+-jmp
+- 
+-ps
+-
+-
+-602 .
+-globl
+- 
+-ve121
+-
+-
+-603 
+-ve121
+-:
+-
+-604 
+-pushl
+- 
+-$0
+-
+-
+-605 
+-pushl
+- 
+-$121
+-
+-
+-606 
+-jmp
+- 
+-ps
+-
+-
+-607 .
+-globl
+- 
+-ve122
+-
+-
+-608 
+-ve122
+-:
+-
+-609 
+-pushl
+- 
+-$0
+-
+-
+-610 
+-pushl
+- 
+-$122
+-
+-
+-611 
+-jmp
+- 
+-ps
+-
+-
+-612 .
+-globl
+- 
+-ve123
+-
+-
+-613 
+-ve123
+-:
+-
+-614 
+-pushl
+- 
+-$0
+-
+-
+-615 
+-pushl
+- 
+-$123
+-
+-
+-616 
+-jmp
+- 
+-ps
+-
+-
+-617 .
+-globl
+- 
+-ve124
+-
+-
+-618 
+-ve124
+-:
+-
+-619 
+-pushl
+- 
+-$0
+-
+-
+-620 
+-pushl
+- 
+-$124
+-
+-
+-621 
+-jmp
+- 
+-ps
+-
+-
+-622 .
+-globl
+- 
+-ve125
+-
+-
+-623 
+-ve125
+-:
+-
+-624 
+-pushl
+- 
+-$0
+-
+-
+-625 
+-pushl
+- 
+-$125
+-
+-
+-626 
+-jmp
+- 
+-ps
+-
+-
+-627 .
+-globl
+- 
+-ve126
+-
+-
+-628 
+-ve126
+-:
+-
+-629 
+-pushl
+- 
+-$0
+-
+-
+-630 
+-pushl
+- 
+-$126
+-
+-
+-631 
+-jmp
+- 
+-ps
+-
+-
+-632 .
+-globl
+- 
+-ve127
+-
+-
+-633 
+-ve127
+-:
+-
+-634 
+-pushl
+- 
+-$0
+-
+-
+-635 
+-pushl
+- 
+-$127
+-
+-
+-636 
+-jmp
+- 
+-ps
+-
+-
+-637 .
+-globl
+- 
+-ve128
+-
+-
+-638 
+-ve128
+-:
+-
+-639 
+-pushl
+- 
+-$0
+-
+-
+-640 
+-pushl
+- 
+-$128
+-
+-
+-641 
+-jmp
+- 
+-ps
+-
+-
+-642 .
+-globl
+- 
+-ve129
+-
+-
+-643 
+-ve129
+-:
+-
+-644 
+-pushl
+- 
+-$0
+-
+-
+-645 
+-pushl
+- 
+-$129
+-
+-
+-646 
+-jmp
+- 
+-ps
+-
+-
+-647 .
+-globl
+- 
+-ve130
+-
+-
+-648 
+-ve130
+-:
+-
+-649 
+-pushl
+- 
+-$0
+-
+-
+-650 
+-pushl
+- 
+-$130
+-
+-
+-651 
+-jmp
+- 
+-ps
+-
+-
+-652 .
+-globl
+- 
+-ve131
+-
+-
+-653 
+-ve131
+-:
+-
+-654 
+-pushl
+- 
+-$0
+-
+-
+-655 
+-pushl
+- 
+-$131
+-
+-
+-656 
+-jmp
+- 
+-ps
+-
+-
+-657 .
+-globl
+- 
+-ve132
+-
+-
+-658 
+-ve132
+-:
+-
+-659 
+-pushl
+- 
+-$0
+-
+-
+-660 
+-pushl
+- 
+-$132
+-
+-
+-661 
+-jmp
+- 
+-ps
+-
+-
+-662 .
+-globl
+- 
+-ve133
+-
+-
+-663 
+-ve133
+-:
+-
+-664 
+-pushl
+- 
+-$0
+-
+-
+-665 
+-pushl
+- 
+-$133
+-
+-
+-666 
+-jmp
+- 
+-ps
+-
+-
+-667 .
+-globl
+- 
+-ve134
+-
+-
+-668 
+-ve134
+-:
+-
+-669 
+-pushl
+- 
+-$0
+-
+-
+-670 
+-pushl
+- 
+-$134
+-
+-
+-671 
+-jmp
+- 
+-ps
+-
+-
+-672 .
+-globl
+- 
+-ve135
+-
+-
+-673 
+-ve135
+-:
+-
+-674 
+-pushl
+- 
+-$0
+-
+-
+-675 
+-pushl
+- 
+-$135
+-
+-
+-676 
+-jmp
+- 
+-ps
+-
+-
+-677 .
+-globl
+- 
+-ve136
+-
+-
+-678 
+-ve136
+-:
+-
+-679 
+-pushl
+- 
+-$0
+-
+-
+-680 
+-pushl
+- 
+-$136
+-
+-
+-681 
+-jmp
+- 
+-ps
+-
+-
+-682 .
+-globl
+- 
+-ve137
+-
+-
+-683 
+-ve137
+-:
+-
+-684 
+-pushl
+- 
+-$0
+-
+-
+-685 
+-pushl
+- 
+-$137
+-
+-
+-686 
+-jmp
+- 
+-ps
+-
+-
+-687 .
+-globl
+- 
+-ve138
+-
+-
+-688 
+-ve138
+-:
+-
+-689 
+-pushl
+- 
+-$0
+-
+-
+-690 
+-pushl
+- 
+-$138
+-
+-
+-691 
+-jmp
+- 
+-ps
+-
+-
+-692 .
+-globl
+- 
+-ve139
+-
+-
+-693 
+-ve139
+-:
+-
+-694 
+-pushl
+- 
+-$0
+-
+-
+-695 
+-pushl
+- 
+-$139
+-
+-
+-696 
+-jmp
+- 
+-ps
+-
+-
+-697 .
+-globl
+- 
+-ve140
+-
+-
+-698 
+-ve140
+-:
+-
+-699 
+-pushl
+- 
+-$0
+-
+-
+-700 
+-pushl
+- 
+-$140
+-
+-
+-701 
+-jmp
+- 
+-ps
+-
+-
+-702 .
+-globl
+- 
+-ve141
+-
+-
+-703 
+-ve141
+-:
+-
+-704 
+-pushl
+- 
+-$0
+-
+-
+-705 
+-pushl
+- 
+-$141
+-
+-
+-706 
+-jmp
+- 
+-ps
+-
+-
+-707 .
+-globl
+- 
+-ve142
+-
+-
+-708 
+-ve142
+-:
+-
+-709 
+-pushl
+- 
+-$0
+-
+-
+-710 
+-pushl
+- 
+-$142
+-
+-
+-711 
+-jmp
+- 
+-ps
+-
+-
+-712 .
+-globl
+- 
+-ve143
+-
+-
+-713 
+-ve143
+-:
+-
+-714 
+-pushl
+- 
+-$0
+-
+-
+-715 
+-pushl
+- 
+-$143
+-
+-
+-716 
+-jmp
+- 
+-ps
+-
+-
+-717 .
+-globl
+- 
+-ve144
+-
+-
+-718 
+-ve144
+-:
+-
+-719 
+-pushl
+- 
+-$0
+-
+-
+-720 
+-pushl
+- 
+-$144
+-
+-
+-721 
+-jmp
+- 
+-ps
+-
+-
+-722 .
+-globl
+- 
+-ve145
+-
+-
+-723 
+-ve145
+-:
+-
+-724 
+-pushl
+- 
+-$0
+-
+-
+-725 
+-pushl
+- 
+-$145
+-
+-
+-726 
+-jmp
+- 
+-ps
+-
+-
+-727 .
+-globl
+- 
+-ve146
+-
+-
+-728 
+-ve146
+-:
+-
+-729 
+-pushl
+- 
+-$0
+-
+-
+-730 
+-pushl
+- 
+-$146
+-
+-
+-731 
+-jmp
+- 
+-ps
+-
+-
+-732 .
+-globl
+- 
+-ve147
+-
+-
+-733 
+-ve147
+-:
+-
+-734 
+-pushl
+- 
+-$0
+-
+-
+-735 
+-pushl
+- 
+-$147
+-
+-
+-736 
+-jmp
+- 
+-ps
+-
+-
+-737 .
+-globl
+- 
+-ve148
+-
+-
+-738 
+-ve148
+-:
+-
+-739 
+-pushl
+- 
+-$0
+-
+-
+-740 
+-pushl
+- 
+-$148
+-
+-
+-741 
+-jmp
+- 
+-ps
+-
+-
+-742 .
+-globl
+- 
+-ve149
+-
+-
+-743 
+-ve149
+-:
+-
+-744 
+-pushl
+- 
+-$0
+-
+-
+-745 
+-pushl
+- 
+-$149
+-
+-
+-746 
+-jmp
+- 
+-ps
+-
+-
+-747 .
+-globl
+- 
+-ve150
+-
+-
+-748 
+-ve150
+-:
+-
+-749 
+-pushl
+- 
+-$0
+-
+-
+-750 
+-pushl
+- 
+-$150
+-
+-
+-751 
+-jmp
+- 
+-ps
+-
+-
+-752 .
+-globl
+- 
+-ve151
+-
+-
+-753 
+-ve151
+-:
+-
+-754 
+-pushl
+- 
+-$0
+-
+-
+-755 
+-pushl
+- 
+-$151
+-
+-
+-756 
+-jmp
+- 
+-ps
+-
+-
+-757 .
+-globl
+- 
+-ve152
+-
+-
+-758 
+-ve152
+-:
+-
+-759 
+-pushl
+- 
+-$0
+-
+-
+-760 
+-pushl
+- 
+-$152
+-
+-
+-761 
+-jmp
+- 
+-ps
+-
+-
+-762 .
+-globl
+- 
+-ve153
+-
+-
+-763 
+-ve153
+-:
+-
+-764 
+-pushl
+- 
+-$0
+-
+-
+-765 
+-pushl
+- 
+-$153
+-
+-
+-766 
+-jmp
+- 
+-ps
+-
+-
+-767 .
+-globl
+- 
+-ve154
+-
+-
+-768 
+-ve154
+-:
+-
+-769 
+-pushl
+- 
+-$0
+-
+-
+-770 
+-pushl
+- 
+-$154
+-
+-
+-771 
+-jmp
+- 
+-ps
+-
+-
+-772 .
+-globl
+- 
+-ve155
+-
+-
+-773 
+-ve155
+-:
+-
+-774 
+-pushl
+- 
+-$0
+-
+-
+-775 
+-pushl
+- 
+-$155
+-
+-
+-776 
+-jmp
+- 
+-ps
+-
+-
+-777 .
+-globl
+- 
+-ve156
+-
+-
+-778 
+-ve156
+-:
+-
+-779 
+-pushl
+- 
+-$0
+-
+-
+-780 
+-pushl
+- 
+-$156
+-
+-
+-781 
+-jmp
+- 
+-ps
+-
+-
+-782 .
+-globl
+- 
+-ve157
+-
+-
+-783 
+-ve157
+-:
+-
+-784 
+-pushl
+- 
+-$0
+-
+-
+-785 
+-pushl
+- 
+-$157
+-
+-
+-786 
+-jmp
+- 
+-ps
+-
+-
+-787 .
+-globl
+- 
+-ve158
+-
+-
+-788 
+-ve158
+-:
+-
+-789 
+-pushl
+- 
+-$0
+-
+-
+-790 
+-pushl
+- 
+-$158
+-
+-
+-791 
+-jmp
+- 
+-ps
+-
+-
+-792 .
+-globl
+- 
+-ve159
+-
+-
+-793 
+-ve159
+-:
+-
+-794 
+-pushl
+- 
+-$0
+-
+-
+-795 
+-pushl
+- 
+-$159
+-
+-
+-796 
+-jmp
+- 
+-ps
+-
+-
+-797 .
+-globl
+- 
+-ve160
+-
+-
+-798 
+-ve160
+-:
+-
+-799 
+-pushl
+- 
+-$0
+-
+-
+-800 
+-pushl
+- 
+-$160
+-
+-
+-801 
+-jmp
+- 
+-ps
+-
+-
+-802 .
+-globl
+- 
+-ve161
+-
+-
+-803 
+-ve161
+-:
+-
+-804 
+-pushl
+- 
+-$0
+-
+-
+-805 
+-pushl
+- 
+-$161
+-
+-
+-806 
+-jmp
+- 
+-ps
+-
+-
+-807 .
+-globl
+- 
+-ve162
+-
+-
+-808 
+-ve162
+-:
+-
+-809 
+-pushl
+- 
+-$0
+-
+-
+-810 
+-pushl
+- 
+-$162
+-
+-
+-811 
+-jmp
+- 
+-ps
+-
+-
+-812 .
+-globl
+- 
+-ve163
+-
+-
+-813 
+-ve163
+-:
+-
+-814 
+-pushl
+- 
+-$0
+-
+-
+-815 
+-pushl
+- 
+-$163
+-
+-
+-816 
+-jmp
+- 
+-ps
+-
+-
+-817 .
+-globl
+- 
+-ve164
+-
+-
+-818 
+-ve164
+-:
+-
+-819 
+-pushl
+- 
+-$0
+-
+-
+-820 
+-pushl
+- 
+-$164
+-
+-
+-821 
+-jmp
+- 
+-ps
+-
+-
+-822 .
+-globl
+- 
+-ve165
+-
+-
+-823 
+-ve165
+-:
+-
+-824 
+-pushl
+- 
+-$0
+-
+-
+-825 
+-pushl
+- 
+-$165
+-
+-
+-826 
+-jmp
+- 
+-ps
+-
+-
+-827 .
+-globl
+- 
+-ve166
+-
+-
+-828 
+-ve166
+-:
+-
+-829 
+-pushl
+- 
+-$0
+-
+-
+-830 
+-pushl
+- 
+-$166
+-
+-
+-831 
+-jmp
+- 
+-ps
+-
+-
+-832 .
+-globl
+- 
+-ve167
+-
+-
+-833 
+-ve167
+-:
+-
+-834 
+-pushl
+- 
+-$0
+-
+-
+-835 
+-pushl
+- 
+-$167
+-
+-
+-836 
+-jmp
+- 
+-ps
+-
+-
+-837 .
+-globl
+- 
+-ve168
+-
+-
+-838 
+-ve168
+-:
+-
+-839 
+-pushl
+- 
+-$0
+-
+-
+-840 
+-pushl
+- 
+-$168
+-
+-
+-841 
+-jmp
+- 
+-ps
+-
+-
+-842 .
+-globl
+- 
+-ve169
+-
+-
+-843 
+-ve169
+-:
+-
+-844 
+-pushl
+- 
+-$0
+-
+-
+-845 
+-pushl
+- 
+-$169
+-
+-
+-846 
+-jmp
+- 
+-ps
+-
+-
+-847 .
+-globl
+- 
+-ve170
+-
+-
+-848 
+-ve170
+-:
+-
+-849 
+-pushl
+- 
+-$0
+-
+-
+-850 
+-pushl
+- 
+-$170
+-
+-
+-851 
+-jmp
+- 
+-ps
+-
+-
+-852 .
+-globl
+- 
+-ve171
+-
+-
+-853 
+-ve171
+-:
+-
+-854 
+-pushl
+- 
+-$0
+-
+-
+-855 
+-pushl
+- 
+-$171
+-
+-
+-856 
+-jmp
+- 
+-ps
+-
+-
+-857 .
+-globl
+- 
+-ve172
+-
+-
+-858 
+-ve172
+-:
+-
+-859 
+-pushl
+- 
+-$0
+-
+-
+-860 
+-pushl
+- 
+-$172
+-
+-
+-861 
+-jmp
+- 
+-ps
+-
+-
+-862 .
+-globl
+- 
+-ve173
+-
+-
+-863 
+-ve173
+-:
+-
+-864 
+-pushl
+- 
+-$0
+-
+-
+-865 
+-pushl
+- 
+-$173
+-
+-
+-866 
+-jmp
+- 
+-ps
+-
+-
+-867 .
+-globl
+- 
+-ve174
+-
+-
+-868 
+-ve174
+-:
+-
+-869 
+-pushl
+- 
+-$0
+-
+-
+-870 
+-pushl
+- 
+-$174
+-
+-
+-871 
+-jmp
+- 
+-ps
+-
+-
+-872 .
+-globl
+- 
+-ve175
+-
+-
+-873 
+-ve175
+-:
+-
+-874 
+-pushl
+- 
+-$0
+-
+-
+-875 
+-pushl
+- 
+-$175
+-
+-
+-876 
+-jmp
+- 
+-ps
+-
+-
+-877 .
+-globl
+- 
+-ve176
+-
+-
+-878 
+-ve176
+-:
+-
+-879 
+-pushl
+- 
+-$0
+-
+-
+-880 
+-pushl
+- 
+-$176
+-
+-
+-881 
+-jmp
+- 
+-ps
+-
+-
+-882 .
+-globl
+- 
+-ve177
+-
+-
+-883 
+-ve177
+-:
+-
+-884 
+-pushl
+- 
+-$0
+-
+-
+-885 
+-pushl
+- 
+-$177
+-
+-
+-886 
+-jmp
+- 
+-ps
+-
+-
+-887 .
+-globl
+- 
+-ve178
+-
+-
+-888 
+-ve178
+-:
+-
+-889 
+-pushl
+- 
+-$0
+-
+-
+-890 
+-pushl
+- 
+-$178
+-
+-
+-891 
+-jmp
+- 
+-ps
+-
+-
+-892 .
+-globl
+- 
+-ve179
+-
+-
+-893 
+-ve179
+-:
+-
+-894 
+-pushl
+- 
+-$0
+-
+-
+-895 
+-pushl
+- 
+-$179
+-
+-
+-896 
+-jmp
+- 
+-ps
+-
+-
+-897 .
+-globl
+- 
+-ve180
+-
+-
+-898 
+-ve180
+-:
+-
+-899 
+-pushl
+- 
+-$0
+-
+-
+-900 
+-pushl
+- 
+-$180
+-
+-
+-901 
+-jmp
+- 
+-ps
+-
+-
+-902 .
+-globl
+- 
+-ve181
+-
+-
+-903 
+-ve181
+-:
+-
+-904 
+-pushl
+- 
+-$0
+-
+-
+-905 
+-pushl
+- 
+-$181
+-
+-
+-906 
+-jmp
+- 
+-ps
+-
+-
+-907 .
+-globl
+- 
+-ve182
+-
+-
+-908 
+-ve182
+-:
+-
+-909 
+-pushl
+- 
+-$0
+-
+-
+-910 
+-pushl
+- 
+-$182
+-
+-
+-911 
+-jmp
+- 
+-ps
+-
+-
+-912 .
+-globl
+- 
+-ve183
+-
+-
+-913 
+-ve183
+-:
+-
+-914 
+-pushl
+- 
+-$0
+-
+-
+-915 
+-pushl
+- 
+-$183
+-
+-
+-916 
+-jmp
+- 
+-ps
+-
+-
+-917 .
+-globl
+- 
+-ve184
+-
+-
+-918 
+-ve184
+-:
+-
+-919 
+-pushl
+- 
+-$0
+-
+-
+-920 
+-pushl
+- 
+-$184
+-
+-
+-921 
+-jmp
+- 
+-ps
+-
+-
+-922 .
+-globl
+- 
+-ve185
+-
+-
+-923 
+-ve185
+-:
+-
+-924 
+-pushl
+- 
+-$0
+-
+-
+-925 
+-pushl
+- 
+-$185
+-
+-
+-926 
+-jmp
+- 
+-ps
+-
+-
+-927 .
+-globl
+- 
+-ve186
+-
+-
+-928 
+-ve186
+-:
+-
+-929 
+-pushl
+- 
+-$0
+-
+-
+-930 
+-pushl
+- 
+-$186
+-
+-
+-931 
+-jmp
+- 
+-ps
+-
+-
+-932 .
+-globl
+- 
+-ve187
+-
+-
+-933 
+-ve187
+-:
+-
+-934 
+-pushl
+- 
+-$0
+-
+-
+-935 
+-pushl
+- 
+-$187
+-
+-
+-936 
+-jmp
+- 
+-ps
+-
+-
+-937 .
+-globl
+- 
+-ve188
+-
+-
+-938 
+-ve188
+-:
+-
+-939 
+-pushl
+- 
+-$0
+-
+-
+-940 
+-pushl
+- 
+-$188
+-
+-
+-941 
+-jmp
+- 
+-ps
+-
+-
+-942 .
+-globl
+- 
+-ve189
+-
+-
+-943 
+-ve189
+-:
+-
+-944 
+-pushl
+- 
+-$0
+-
+-
+-945 
+-pushl
+- 
+-$189
+-
+-
+-946 
+-jmp
+- 
+-ps
+-
+-
+-947 .
+-globl
+- 
+-ve190
+-
+-
+-948 
+-ve190
+-:
+-
+-949 
+-pushl
+- 
+-$0
+-
+-
+-950 
+-pushl
+- 
+-$190
+-
+-
+-951 
+-jmp
+- 
+-ps
+-
+-
+-952 .
+-globl
+- 
+-ve191
+-
+-
+-953 
+-ve191
+-:
+-
+-954 
+-pushl
+- 
+-$0
+-
+-
+-955 
+-pushl
+- 
+-$191
+-
+-
+-956 
+-jmp
+- 
+-ps
+-
+-
+-957 .
+-globl
+- 
+-ve192
+-
+-
+-958 
+-ve192
+-:
+-
+-959 
+-pushl
+- 
+-$0
+-
+-
+-960 
+-pushl
+- 
+-$192
+-
+-
+-961 
+-jmp
+- 
+-ps
+-
+-
+-962 .
+-globl
+- 
+-ve193
+-
+-
+-963 
+-ve193
+-:
+-
+-964 
+-pushl
+- 
+-$0
+-
+-
+-965 
+-pushl
+- 
+-$193
+-
+-
+-966 
+-jmp
+- 
+-ps
+-
+-
+-967 .
+-globl
+- 
+-ve194
+-
+-
+-968 
+-ve194
+-:
+-
+-969 
+-pushl
+- 
+-$0
+-
+-
+-970 
+-pushl
+- 
+-$194
+-
+-
+-971 
+-jmp
+- 
+-ps
+-
+-
+-972 .
+-globl
+- 
+-ve195
+-
+-
+-973 
+-ve195
+-:
+-
+-974 
+-pushl
+- 
+-$0
+-
+-
+-975 
+-pushl
+- 
+-$195
+-
+-
+-976 
+-jmp
+- 
+-ps
+-
+-
+-977 .
+-globl
+- 
+-ve196
+-
+-
+-978 
+-ve196
+-:
+-
+-979 
+-pushl
+- 
+-$0
+-
+-
+-980 
+-pushl
+- 
+-$196
+-
+-
+-981 
+-jmp
+- 
+-ps
+-
+-
+-982 .
+-globl
+- 
+-ve197
+-
+-
+-983 
+-ve197
+-:
+-
+-984 
+-pushl
+- 
+-$0
+-
+-
+-985 
+-pushl
+- 
+-$197
+-
+-
+-986 
+-jmp
+- 
+-ps
+-
+-
+-987 .
+-globl
+- 
+-ve198
+-
+-
+-988 
+-ve198
+-:
+-
+-989 
+-pushl
+- 
+-$0
+-
+-
+-990 
+-pushl
+- 
+-$198
+-
+-
+-991 
+-jmp
+- 
+-ps
+-
+-
+-992 .
+-globl
+- 
+-ve199
+-
+-
+-993 
+-ve199
+-:
+-
+-994 
+-pushl
+- 
+-$0
+-
+-
+-995 
+-pushl
+- 
+-$199
+-
+-
+-996 
+-jmp
+- 
+-ps
+-
+-
+-997 .
+-globl
+- 
+-ve200
+-
+-
+-998 
+-ve200
+-:
+-
+-999 
+-pushl
+- 
+-$0
+-
+-
+-1000 
+-pushl
+- 
+-$200
+-
+-
+-1001 
+-jmp
+- 
+-ps
+-
+-
+-1002 .
+-globl
+- 
+-ve201
+-
+-
+-1003 
+-ve201
+-:
+-
+-1004 
+-pushl
+- 
+-$0
+-
+-
+-1005 
+-pushl
+- 
+-$201
+-
+-
+-1006 
+-jmp
+- 
+-ps
+-
+-
+-1007 .
+-globl
+- 
+-ve202
+-
+-
+-1008 
+-ve202
+-:
+-
+-1009 
+-pushl
+- 
+-$0
+-
+-
+-1010 
+-pushl
+- 
+-$202
+-
+-
+-1011 
+-jmp
+- 
+-ps
+-
+-
+-1012 .
+-globl
+- 
+-ve203
+-
+-
+-1013 
+-ve203
+-:
+-
+-1014 
+-pushl
+- 
+-$0
+-
+-
+-1015 
+-pushl
+- 
+-$203
+-
+-
+-1016 
+-jmp
+- 
+-ps
+-
+-
+-1017 .
+-globl
+- 
+-ve204
+-
+-
+-1018 
+-ve204
+-:
+-
+-1019 
+-pushl
+- 
+-$0
+-
+-
+-1020 
+-pushl
+- 
+-$204
+-
+-
+-1021 
+-jmp
+- 
+-ps
+-
+-
+-1022 .
+-globl
+- 
+-ve205
+-
+-
+-1023 
+-ve205
+-:
+-
+-1024 
+-pushl
+- 
+-$0
+-
+-
+-1025 
+-pushl
+- 
+-$205
+-
+-
+-1026 
+-jmp
+- 
+-ps
+-
+-
+-1027 .
+-globl
+- 
+-ve206
+-
+-
+-1028 
+-ve206
+-:
+-
+-1029 
+-pushl
+- 
+-$0
+-
+-
+-1030 
+-pushl
+- 
+-$206
+-
+-
+-1031 
+-jmp
+- 
+-ps
+-
+-
+-1032 .
+-globl
+- 
+-ve207
+-
+-
+-1033 
+-ve207
+-:
+-
+-1034 
+-pushl
+- 
+-$0
+-
+-
+-1035 
+-pushl
+- 
+-$207
+-
+-
+-1036 
+-jmp
+- 
+-ps
+-
+-
+-1037 .
+-globl
+- 
+-ve208
+-
+-
+-1038 
+-ve208
+-:
+-
+-1039 
+-pushl
+- 
+-$0
+-
+-
+-1040 
+-pushl
+- 
+-$208
+-
+-
+-1041 
+-jmp
+- 
+-ps
+-
+-
+-1042 .
+-globl
+- 
+-ve209
+-
+-
+-1043 
+-ve209
+-:
+-
+-1044 
+-pushl
+- 
+-$0
+-
+-
+-1045 
+-pushl
+- 
+-$209
+-
+-
+-1046 
+-jmp
+- 
+-ps
+-
+-
+-1047 .
+-globl
+- 
+-ve210
+-
+-
+-1048 
+-ve210
+-:
+-
+-1049 
+-pushl
+- 
+-$0
+-
+-
+-1050 
+-pushl
+- 
+-$210
+-
+-
+-1051 
+-jmp
+- 
+-ps
+-
+-
+-1052 .
+-globl
+- 
+-ve211
+-
+-
+-1053 
+-ve211
+-:
+-
+-1054 
+-pushl
+- 
+-$0
+-
+-
+-1055 
+-pushl
+- 
+-$211
+-
+-
+-1056 
+-jmp
+- 
+-ps
+-
+-
+-1057 .
+-globl
+- 
+-ve212
+-
+-
+-1058 
+-ve212
+-:
+-
+-1059 
+-pushl
+- 
+-$0
+-
+-
+-1060 
+-pushl
+- 
+-$212
+-
+-
+-1061 
+-jmp
+- 
+-ps
+-
+-
+-1062 .
+-globl
+- 
+-ve213
+-
+-
+-1063 
+-ve213
+-:
+-
+-1064 
+-pushl
+- 
+-$0
+-
+-
+-1065 
+-pushl
+- 
+-$213
+-
+-
+-1066 
+-jmp
+- 
+-ps
+-
+-
+-1067 .
+-globl
+- 
+-ve214
+-
+-
+-1068 
+-ve214
+-:
+-
+-1069 
+-pushl
+- 
+-$0
+-
+-
+-1070 
+-pushl
+- 
+-$214
+-
+-
+-1071 
+-jmp
+- 
+-ps
+-
+-
+-1072 .
+-globl
+- 
+-ve215
+-
+-
+-1073 
+-ve215
+-:
+-
+-1074 
+-pushl
+- 
+-$0
+-
+-
+-1075 
+-pushl
+- 
+-$215
+-
+-
+-1076 
+-jmp
+- 
+-ps
+-
+-
+-1077 .
+-globl
+- 
+-ve216
+-
+-
+-1078 
+-ve216
+-:
+-
+-1079 
+-pushl
+- 
+-$0
+-
+-
+-1080 
+-pushl
+- 
+-$216
+-
+-
+-1081 
+-jmp
+- 
+-ps
+-
+-
+-1082 .
+-globl
+- 
+-ve217
+-
+-
+-1083 
+-ve217
+-:
+-
+-1084 
+-pushl
+- 
+-$0
+-
+-
+-1085 
+-pushl
+- 
+-$217
+-
+-
+-1086 
+-jmp
+- 
+-ps
+-
+-
+-1087 .
+-globl
+- 
+-ve218
+-
+-
+-1088 
+-ve218
+-:
+-
+-1089 
+-pushl
+- 
+-$0
+-
+-
+-1090 
+-pushl
+- 
+-$218
+-
+-
+-1091 
+-jmp
+- 
+-ps
+-
+-
+-1092 .
+-globl
+- 
+-ve219
+-
+-
+-1093 
+-ve219
+-:
+-
+-1094 
+-pushl
+- 
+-$0
+-
+-
+-1095 
+-pushl
+- 
+-$219
+-
+-
+-1096 
+-jmp
+- 
+-ps
+-
+-
+-1097 .
+-globl
+- 
+-ve220
+-
+-
+-1098 
+-ve220
+-:
+-
+-1099 
+-pushl
+- 
+-$0
+-
+-
+-1100 
+-pushl
+- 
+-$220
+-
+-
+-1101 
+-jmp
+- 
+-ps
+-
+-
+-1102 .
+-globl
+- 
+-ve221
+-
+-
+-1103 
+-ve221
+-:
+-
+-1104 
+-pushl
+- 
+-$0
+-
+-
+-1105 
+-pushl
+- 
+-$221
+-
+-
+-1106 
+-jmp
+- 
+-ps
+-
+-
+-1107 .
+-globl
+- 
+-ve222
+-
+-
+-1108 
+-ve222
+-:
+-
+-1109 
+-pushl
+- 
+-$0
+-
+-
+-1110 
+-pushl
+- 
+-$222
+-
+-
+-1111 
+-jmp
+- 
+-ps
+-
+-
+-1112 .
+-globl
+- 
+-ve223
+-
+-
+-1113 
+-ve223
+-:
+-
+-1114 
+-pushl
+- 
+-$0
+-
+-
+-1115 
+-pushl
+- 
+-$223
+-
+-
+-1116 
+-jmp
+- 
+-ps
+-
+-
+-1117 .
+-globl
+- 
+-ve224
+-
+-
+-1118 
+-ve224
+-:
+-
+-1119 
+-pushl
+- 
+-$0
+-
+-
+-1120 
+-pushl
+- 
+-$224
+-
+-
+-1121 
+-jmp
+- 
+-ps
+-
+-
+-1122 .
+-globl
+- 
+-ve225
+-
+-
+-1123 
+-ve225
+-:
+-
+-1124 
+-pushl
+- 
+-$0
+-
+-
+-1125 
+-pushl
+- 
+-$225
+-
+-
+-1126 
+-jmp
+- 
+-ps
+-
+-
+-1127 .
+-globl
+- 
+-ve226
+-
+-
+-1128 
+-ve226
+-:
+-
+-1129 
+-pushl
+- 
+-$0
+-
+-
+-1130 
+-pushl
+- 
+-$226
+-
+-
+-1131 
+-jmp
+- 
+-ps
+-
+-
+-1132 .
+-globl
+- 
+-ve227
+-
+-
+-1133 
+-ve227
+-:
+-
+-1134 
+-pushl
+- 
+-$0
+-
+-
+-1135 
+-pushl
+- 
+-$227
+-
+-
+-1136 
+-jmp
+- 
+-ps
+-
+-
+-1137 .
+-globl
+- 
+-ve228
+-
+-
+-1138 
+-ve228
+-:
+-
+-1139 
+-pushl
+- 
+-$0
+-
+-
+-1140 
+-pushl
+- 
+-$228
+-
+-
+-1141 
+-jmp
+- 
+-ps
+-
+-
+-1142 .
+-globl
+- 
+-ve229
+-
+-
+-1143 
+-ve229
+-:
+-
+-1144 
+-pushl
+- 
+-$0
+-
+-
+-1145 
+-pushl
+- 
+-$229
+-
+-
+-1146 
+-jmp
+- 
+-ps
+-
+-
+-1147 .
+-globl
+- 
+-ve230
+-
+-
+-1148 
+-ve230
+-:
+-
+-1149 
+-pushl
+- 
+-$0
+-
+-
+-1150 
+-pushl
+- 
+-$230
+-
+-
+-1151 
+-jmp
+- 
+-ps
+-
+-
+-1152 .
+-globl
+- 
+-ve231
+-
+-
+-1153 
+-ve231
+-:
+-
+-1154 
+-pushl
+- 
+-$0
+-
+-
+-1155 
+-pushl
+- 
+-$231
+-
+-
+-1156 
+-jmp
+- 
+-ps
+-
+-
+-1157 .
+-globl
+- 
+-ve232
+-
+-
+-1158 
+-ve232
+-:
+-
+-1159 
+-pushl
+- 
+-$0
+-
+-
+-1160 
+-pushl
+- 
+-$232
+-
+-
+-1161 
+-jmp
+- 
+-ps
+-
+-
+-1162 .
+-globl
+- 
+-ve233
+-
+-
+-1163 
+-ve233
+-:
+-
+-1164 
+-pushl
+- 
+-$0
+-
+-
+-1165 
+-pushl
+- 
+-$233
+-
+-
+-1166 
+-jmp
+- 
+-ps
+-
+-
+-1167 .
+-globl
+- 
+-ve234
+-
+-
+-1168 
+-ve234
+-:
+-
+-1169 
+-pushl
+- 
+-$0
+-
+-
+-1170 
+-pushl
+- 
+-$234
+-
+-
+-1171 
+-jmp
+- 
+-ps
+-
+-
+-1172 .
+-globl
+- 
+-ve235
+-
+-
+-1173 
+-ve235
+-:
+-
+-1174 
+-pushl
+- 
+-$0
+-
+-
+-1175 
+-pushl
+- 
+-$235
+-
+-
+-1176 
+-jmp
+- 
+-ps
+-
+-
+-1177 .
+-globl
+- 
+-ve236
+-
+-
+-1178 
+-ve236
+-:
+-
+-1179 
+-pushl
+- 
+-$0
+-
+-
+-1180 
+-pushl
+- 
+-$236
+-
+-
+-1181 
+-jmp
+- 
+-ps
+-
+-
+-1182 .
+-globl
+- 
+-ve237
+-
+-
+-1183 
+-ve237
+-:
+-
+-1184 
+-pushl
+- 
+-$0
+-
+-
+-1185 
+-pushl
+- 
+-$237
+-
+-
+-1186 
+-jmp
+- 
+-ps
+-
+-
+-1187 .
+-globl
+- 
+-ve238
+-
+-
+-1188 
+-ve238
+-:
+-
+-1189 
+-pushl
+- 
+-$0
+-
+-
+-1190 
+-pushl
+- 
+-$238
+-
+-
+-1191 
+-jmp
+- 
+-ps
+-
+-
+-1192 .
+-globl
+- 
+-ve239
+-
+-
+-1193 
+-ve239
+-:
+-
+-1194 
+-pushl
+- 
+-$0
+-
+-
+-1195 
+-pushl
+- 
+-$239
+-
+-
+-1196 
+-jmp
+- 
+-ps
+-
+-
+-1197 .
+-globl
+- 
+-ve240
+-
+-
+-1198 
+-ve240
+-:
+-
+-1199 
+-pushl
+- 
+-$0
+-
+-
+-1200 
+-pushl
+- 
+-$240
+-
+-
+-1201 
+-jmp
+- 
+-ps
+-
+-
+-1202 .
+-globl
+- 
+-ve241
+-
+-
+-1203 
+-ve241
+-:
+-
+-1204 
+-pushl
+- 
+-$0
+-
+-
+-1205 
+-pushl
+- 
+-$241
+-
+-
+-1206 
+-jmp
+- 
+-ps
+-
+-
+-1207 .
+-globl
+- 
+-ve242
+-
+-
+-1208 
+-ve242
+-:
+-
+-1209 
+-pushl
+- 
+-$0
+-
+-
+-1210 
+-pushl
+- 
+-$242
+-
+-
+-1211 
+-jmp
+- 
+-ps
+-
+-
+-1212 .
+-globl
+- 
+-ve243
+-
+-
+-1213 
+-ve243
+-:
+-
+-1214 
+-pushl
+- 
+-$0
+-
+-
+-1215 
+-pushl
+- 
+-$243
+-
+-
+-1216 
+-jmp
+- 
+-ps
+-
+-
+-1217 .
+-globl
+- 
+-ve244
+-
+-
+-1218 
+-ve244
+-:
+-
+-1219 
+-pushl
+- 
+-$0
+-
+-
+-1220 
+-pushl
+- 
+-$244
+-
+-
+-1221 
+-jmp
+- 
+-ps
+-
+-
+-1222 .
+-globl
+- 
+-ve245
+-
+-
+-1223 
+-ve245
+-:
+-
+-1224 
+-pushl
+- 
+-$0
+-
+-
+-1225 
+-pushl
+- 
+-$245
+-
+-
+-1226 
+-jmp
+- 
+-ps
+-
+-
+-1227 .
+-globl
+- 
+-ve246
+-
+-
+-1228 
+-ve246
+-:
+-
+-1229 
+-pushl
+- 
+-$0
+-
+-
+-1230 
+-pushl
+- 
+-$246
+-
+-
+-1231 
+-jmp
+- 
+-ps
+-
+-
+-1232 .
+-globl
+- 
+-ve247
+-
+-
+-1233 
+-ve247
+-:
+-
+-1234 
+-pushl
+- 
+-$0
+-
+-
+-1235 
+-pushl
+- 
+-$247
+-
+-
+-1236 
+-jmp
+- 
+-ps
+-
+-
+-1237 .
+-globl
+- 
+-ve248
+-
+-
+-1238 
+-ve248
+-:
+-
+-1239 
+-pushl
+- 
+-$0
+-
+-
+-1240 
+-pushl
+- 
+-$248
+-
+-
+-1241 
+-jmp
+- 
+-ps
+-
+-
+-1242 .
+-globl
+- 
+-ve249
+-
+-
+-1243 
+-ve249
+-:
+-
+-1244 
+-pushl
+- 
+-$0
+-
+-
+-1245 
+-pushl
+- 
+-$249
+-
+-
+-1246 
+-jmp
+- 
+-ps
+-
+-
+-1247 .
+-globl
+- 
+-ve250
+-
+-
+-1248 
+-ve250
+-:
+-
+-1249 
+-pushl
+- 
+-$0
+-
+-
+-1250 
+-pushl
+- 
+-$250
+-
+-
+-1251 
+-jmp
+- 
+-ps
+-
+-
+-1252 .
+-globl
+- 
+-ve251
+-
+-
+-1253 
+-ve251
+-:
+-
+-1254 
+-pushl
+- 
+-$0
+-
+-
+-1255 
+-pushl
+- 
+-$251
+-
+-
+-1256 
+-jmp
+- 
+-ps
+-
+-
+-1257 .
+-globl
+- 
+-ve252
+-
+-
+-1258 
+-ve252
+-:
+-
+-1259 
+-pushl
+- 
+-$0
+-
+-
+-1260 
+-pushl
+- 
+-$252
+-
+-
+-1261 
+-jmp
+- 
+-ps
+-
+-
+-1262 .
+-globl
+- 
+-ve253
+-
+-
+-1263 
+-ve253
+-:
+-
+-1264 
+-pushl
+- 
+-$0
+-
+-
+-1265 
+-pushl
+- 
+-$253
+-
+-
+-1266 
+-jmp
+- 
+-ps
+-
+-
+-1267 .
+-globl
+- 
+-ve254
+-
+-
+-1268 
+-ve254
+-:
+-
+-1269 
+-pushl
+- 
+-$0
+-
+-
+-1270 
+-pushl
+- 
+-$254
+-
+-
+-1271 
+-jmp
+- 
+-ps
+-
+-
+-1272 .
+-globl
+- 
+-ve255
+-
+-
+-1273 
+-ve255
+-:
+-
+-1274 
+-pushl
+- 
+-$0
+-
+-
+-1275 
+-pushl
+- 
+-$255
+-
+-
+-1276 
+-jmp
+- 
+-ps
+-
+-
+-1278 #ve 
+-b
+-
+-
+-1279 .
+-da
+-
+-
+-1280 .
+-globl
+- 
+-ves
+-
+-
+-1281 
+-ves
+-:
+-
+-1282 .
+-ve0
+-
+-
+-1283 .
+-ve1
+-
+-
+-1284 .
+-ve2
+-
+-
+-1285 .
+-ve3
+-
+-
+-1286 .
+-ve4
+-
+-
+-1287 .
+-ve5
+-
+-
+-1288 .
+-ve6
+-
+-
+-1289 .
+-ve7
+-
+-
+-1290 .
+-ve8
+-
+-
+-1291 .
+-ve9
+-
+-
+-1292 .
+-ve10
+-
+-
+-1293 .
+-ve11
+-
+-
+-1294 .
+-ve12
+-
+-
+-1295 .
+-ve13
+-
+-
+-1296 .
+-ve14
+-
+-
+-1297 .
+-ve15
+-
+-
+-1298 .
+-ve16
+-
+-
+-1299 .
+-ve17
+-
+-
+-1300 .
+-ve18
+-
+-
+-1301 .
+-ve19
+-
+-
+-1302 .
+-ve20
+-
+-
+-1303 .
+-ve21
+-
+-
+-1304 .
+-ve22
+-
+-
+-1305 .
+-ve23
+-
+-
+-1306 .
+-ve24
+-
+-
+-1307 .
+-ve25
+-
+-
+-1308 .
+-ve26
+-
+-
+-1309 .
+-ve27
+-
+-
+-1310 .
+-ve28
+-
+-
+-1311 .
+-ve29
+-
+-
+-1312 .
+-ve30
+-
+-
+-1313 .
+-ve31
+-
+-
+-1314 .
+-ve32
+-
+-
+-1315 .
+-ve33
+-
+-
+-1316 .
+-ve34
+-
+-
+-1317 .
+-ve35
+-
+-
+-1318 .
+-ve36
+-
+-
+-1319 .
+-ve37
+-
+-
+-1320 .
+-ve38
+-
+-
+-1321 .
+-ve39
+-
+-
+-1322 .
+-ve40
+-
+-
+-1323 .
+-ve41
+-
+-
+-1324 .
+-ve42
+-
+-
+-1325 .
+-ve43
+-
+-
+-1326 .
+-ve44
+-
+-
+-1327 .
+-ve45
+-
+-
+-1328 .
+-ve46
+-
+-
+-1329 .
+-ve47
+-
+-
+-1330 .
+-ve48
+-
+-
+-1331 .
+-ve49
+-
+-
+-1332 .
+-ve50
+-
+-
+-1333 .
+-ve51
+-
+-
+-1334 .
+-ve52
+-
+-
+-1335 .
+-ve53
+-
+-
+-1336 .
+-ve54
+-
+-
+-1337 .
+-ve55
+-
+-
+-1338 .
+-ve56
+-
+-
+-1339 .
+-ve57
+-
+-
+-1340 .
+-ve58
+-
+-
+-1341 .
+-ve59
+-
+-
+-1342 .
+-ve60
+-
+-
+-1343 .
+-ve61
+-
+-
+-1344 .
+-ve62
+-
+-
+-1345 .
+-ve63
+-
+-
+-1346 .
+-ve64
+-
+-
+-1347 .
+-ve65
+-
+-
+-1348 .
+-ve66
+-
+-
+-1349 .
+-ve67
+-
+-
+-1350 .
+-ve68
+-
+-
+-1351 .
+-ve69
+-
+-
+-1352 .
+-ve70
+-
+-
+-1353 .
+-ve71
+-
+-
+-1354 .
+-ve72
+-
+-
+-1355 .
+-ve73
+-
+-
+-1356 .
+-ve74
+-
+-
+-1357 .
+-ve75
+-
+-
+-1358 .
+-ve76
+-
+-
+-1359 .
+-ve77
+-
+-
+-1360 .
+-ve78
+-
+-
+-1361 .
+-ve79
+-
+-
+-1362 .
+-ve80
+-
+-
+-1363 .
+-ve81
+-
+-
+-1364 .
+-ve82
+-
+-
+-1365 .
+-ve83
+-
+-
+-1366 .
+-ve84
+-
+-
+-1367 .
+-ve85
+-
+-
+-1368 .
+-ve86
+-
+-
+-1369 .
+-ve87
+-
+-
+-1370 .
+-ve88
+-
+-
+-1371 .
+-ve89
+-
+-
+-1372 .
+-ve90
+-
+-
+-1373 .
+-ve91
+-
+-
+-1374 .
+-ve92
+-
+-
+-1375 .
+-ve93
+-
+-
+-1376 .
+-ve94
+-
+-
+-1377 .
+-ve95
+-
+-
+-1378 .
+-ve96
+-
+-
+-1379 .
+-ve97
+-
+-
+-1380 .
+-ve98
+-
+-
+-1381 .
+-ve99
+-
+-
+-1382 .
+-ve100
+-
+-
+-1383 .
+-ve101
+-
+-
+-1384 .
+-ve102
+-
+-
+-1385 .
+-ve103
+-
+-
+-1386 .
+-ve104
+-
+-
+-1387 .
+-ve105
+-
+-
+-1388 .
+-ve106
+-
+-
+-1389 .
+-ve107
+-
+-
+-1390 .
+-ve108
+-
+-
+-1391 .
+-ve109
+-
+-
+-1392 .
+-ve110
+-
+-
+-1393 .
+-ve111
+-
+-
+-1394 .
+-ve112
+-
+-
+-1395 .
+-ve113
+-
+-
+-1396 .
+-ve114
+-
+-
+-1397 .
+-ve115
+-
+-
+-1398 .
+-ve116
+-
+-
+-1399 .
+-ve117
+-
+-
+-1400 .
+-ve118
+-
+-
+-1401 .
+-ve119
+-
+-
+-1402 .
+-ve120
+-
+-
+-1403 .
+-ve121
+-
+-
+-1404 .
+-ve122
+-
+-
+-1405 .
+-ve123
+-
+-
+-1406 .
+-ve124
+-
+-
+-1407 .
+-ve125
+-
+-
+-1408 .
+-ve126
+-
+-
+-1409 .
+-ve127
+-
+-
+-1410 .
+-ve128
+-
+-
+-1411 .
+-ve129
+-
+-
+-1412 .
+-ve130
+-
+-
+-1413 .
+-ve131
+-
+-
+-1414 .
+-ve132
+-
+-
+-1415 .
+-ve133
+-
+-
+-1416 .
+-ve134
+-
+-
+-1417 .
+-ve135
+-
+-
+-1418 .
+-ve136
+-
+-
+-1419 .
+-ve137
+-
+-
+-1420 .
+-ve138
+-
+-
+-1421 .
+-ve139
+-
+-
+-1422 .
+-ve140
+-
+-
+-1423 .
+-ve141
+-
+-
+-1424 .
+-ve142
+-
+-
+-1425 .
+-ve143
+-
+-
+-1426 .
+-ve144
+-
+-
+-1427 .
+-ve145
+-
+-
+-1428 .
+-ve146
+-
+-
+-1429 .
+-ve147
+-
+-
+-1430 .
+-ve148
+-
+-
+-1431 .
+-ve149
+-
+-
+-1432 .
+-ve150
+-
+-
+-1433 .
+-ve151
+-
+-
+-1434 .
+-ve152
+-
+-
+-1435 .
+-ve153
+-
+-
+-1436 .
+-ve154
+-
+-
+-1437 .
+-ve155
+-
+-
+-1438 .
+-ve156
+-
+-
+-1439 .
+-ve157
+-
+-
+-1440 .
+-ve158
+-
+-
+-1441 .
+-ve159
+-
+-
+-1442 .
+-ve160
+-
+-
+-1443 .
+-ve161
+-
+-
+-1444 .
+-ve162
+-
+-
+-1445 .
+-ve163
+-
+-
+-1446 .
+-ve164
+-
+-
+-1447 .
+-ve165
+-
+-
+-1448 .
+-ve166
+-
+-
+-1449 .
+-ve167
+-
+-
+-1450 .
+-ve168
+-
+-
+-1451 .
+-ve169
+-
+-
+-1452 .
+-ve170
+-
+-
+-1453 .
+-ve171
+-
+-
+-1454 .
+-ve172
+-
+-
+-1455 .
+-ve173
+-
+-
+-1456 .
+-ve174
+-
+-
+-1457 .
+-ve175
+-
+-
+-1458 .
+-ve176
+-
+-
+-1459 .
+-ve177
+-
+-
+-1460 .
+-ve178
+-
+-
+-1461 .
+-ve179
+-
+-
+-1462 .
+-ve180
+-
+-
+-1463 .
+-ve181
+-
+-
+-1464 .
+-ve182
+-
+-
+-1465 .
+-ve183
+-
+-
+-1466 .
+-ve184
+-
+-
+-1467 .
+-ve185
+-
+-
+-1468 .
+-ve186
+-
+-
+-1469 .
+-ve187
+-
+-
+-1470 .
+-ve188
+-
+-
+-1471 .
+-ve189
+-
+-
+-1472 .
+-ve190
+-
+-
+-1473 .
+-ve191
+-
+-
+-1474 .
+-ve192
+-
+-
+-1475 .
+-ve193
+-
+-
+-1476 .
+-ve194
+-
+-
+-1477 .
+-ve195
+-
+-
+-1478 .
+-ve196
+-
+-
+-1479 .
+-ve197
+-
+-
+-1480 .
+-ve198
+-
+-
+-1481 .
+-ve199
+-
+-
+-1482 .
+-ve200
+-
+-
+-1483 .
+-ve201
+-
+-
+-1484 .
+-ve202
+-
+-
+-1485 .
+-ve203
+-
+-
+-1486 .
+-ve204
+-
+-
+-1487 .
+-ve205
+-
+-
+-1488 .
+-ve206
+-
+-
+-1489 .
+-ve207
+-
+-
+-1490 .
+-ve208
+-
+-
+-1491 .
+-ve209
+-
+-
+-1492 .
+-ve210
+-
+-
+-1493 .
+-ve211
+-
+-
+-1494 .
+-ve212
+-
+-
+-1495 .
+-ve213
+-
+-
+-1496 .
+-ve214
+-
+-
+-1497 .
+-ve215
+-
+-
+-1498 .
+-ve216
+-
+-
+-1499 .
+-ve217
+-
+-
+-1500 .
+-ve218
+-
+-
+-1501 .
+-ve219
+-
+-
+-1502 .
+-ve220
+-
+-
+-1503 .
+-ve221
+-
+-
+-1504 .
+-ve222
+-
+-
+-1505 .
+-ve223
+-
+-
+-1506 .
+-ve224
+-
+-
+-1507 .
+-ve225
+-
+-
+-1508 .
+-ve226
+-
+-
+-1509 .
+-ve227
+-
+-
+-1510 .
+-ve228
+-
+-
+-1511 .
+-ve229
+-
+-
+-1512 .
+-ve230
+-
+-
+-1513 .
+-ve231
+-
+-
+-1514 .
+-ve232
+-
+-
+-1515 .
+-ve233
+-
+-
+-1516 .
+-ve234
+-
+-
+-1517 .
+-ve235
+-
+-
+-1518 .
+-ve236
+-
+-
+-1519 .
+-ve237
+-
+-
+-1520 .
+-ve238
+-
+-
+-1521 .
+-ve239
+-
+-
+-1522 .
+-ve240
+-
+-
+-1523 .
+-ve241
+-
+-
+-1524 .
+-ve242
+-
+-
+-1525 .
+-ve243
+-
+-
+-1526 .
+-ve244
+-
+-
+-1527 .
+-ve245
+-
+-
+-1528 .
+-ve246
+-
+-
+-1529 .
+-ve247
+-
+-
+-1530 .
+-ve248
+-
+-
+-1531 .
+-ve249
+-
+-
+-1532 .
+-ve250
+-
+-
+-1533 .
+-ve251
+-
+-
+-1534 .
+-ve252
+-
+-
+-1535 .
+-ve253
+-
+-
+-1536 .
+-ve254
+-
+-
+-1537 .
+-ve255
+-
+-
+-	@vm.c
+-
+-1 
+-	~"m.h
+-"
+-
+-2 
+-	~"tys.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"x86.h
+-"
+-
+-5 
+-	~"memyout.h
+-"
+-
+-6 
+-	~"mmu.h
+-"
+-
+-7 
+-	~"oc.h
+-"
+-
+-8 
+-	~"f.h
+-"
+-
+-10 

+-da
+-[];
+-
+-11 
+-pde_t
+- *
+-	gkpgd
+-;
+-
+-16 
+-	$g
+-()
+-
+-18 
+-u
+- *
+-c
+-;
+-
+-24 
+-c
+- = &
+-us
+-[
+-	`uid
+-()];
+-
+-25 
+-c
+-->
+-gdt
+-[
+-SEG_KCODE
+-] = 
+-	`SEG
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff, 0);
+-
+-26 
+-c
+-->
+-gdt
+-[
+-SEG_KDATA
+-] = 
+-	`SEG
+-(
+-STA_W
+-, 0, 0xffffffff, 0);
+-
+-27 
+-c
+-->
+-gdt
+-[
+-SEG_UCODE
+-] = 
+-	`SEG
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff, 
+-DPL_USER
+-);
+-
+-28 
+-c
+-->
+-gdt
+-[
+-SEG_UDATA
+-] = 
+-	`SEG
+-(
+-STA_W
+-, 0, 0xffffffff, 
+-DPL_USER
+-);
+-
+-29 
+-	`lgdt
+-(
+-c
+-->
+-gdt
+-, (c->gdt));
+-
+-30 
+-	}
+-}
+-
+-35 
+-e_t
+- *
+-
+-36 
+-	$wkpgd
+-(
+-pde_t
+- *
+-pgd
+-, c *
+-va
+-, 
+-loc
+-)
+-
+-38 
+-pde_t
+- *
+-pde
+-;
+-
+-39 
+-e_t
+- *
+-pgb
+-;
+-
+-41 
+-pde
+- = &
+-pgd
+-[
+-	`PDX
+-(
+-va
+-)];
+-
+-42 if(*
+-pde
+- & 
+-PTE_P
+-){
+-
+-43 
+-pgb
+- = (
+-e_t
+-*)
+-	`P2V
+-(
+-	`PTE_ADDR
+-(*
+-pde
+-));
+-
+-45 if(!
+-loc
+- || (
+-pgb
+- = (
+-e_t
+-*)
+-	`kloc
+-()) == 0)
+-
+-48 
+-	`memt
+-(
+-pgb
+-, 0, 
+-PGSIZE
+-);
+-
+-52 *
+-pde
+- = 
+-	`V2P
+-(
+-pgb
+-| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_U
+-;
+-
+-54  &
+-pgb
+-[
+-	`PTX
+-(
+-va
+-)];
+-
+-55 
+-	}
+-}
+-
+-61 
+-	$mges
+-(
+-pde_t
+- *
+-pgd
+-, *
+-va
+-, 
+-ut
+- 
+-size
+-, u
+-
+-, 
+-rm
+-)
+-
+-63 *
+-a
+-, *
+-
+-;
+-
+-64 
+-e_t
+- *
+-e
+-;
+-
+-66 
+-a
+- = (*)
+-	`PGROUNDDOWN
+-((
+-ut
+-)
+-va
+-);
+-
+-67 
+-
+- = (*)
+-	`PGROUNDDOWN
+-(((
+-ut
+-)
+-va
+-+ 
+-size
+- - 1);
+-
+-69 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-a
+-, 1)) == 0)
+-
+-71 if(*
+-e
+- & 
+-PTE_P
+-)
+-
+-72 
+-	`nic
+-("remap");
+-
+-73 *
+-e
+- = 
+-
+- | 
+-rm
+- | 
+-PTE_P
+-;
+-
+-74 if(
+-a
+- =
+-
+-)
+-
+-76 
+-a
+- +
+-PGSIZE
+-;
+-
+-77 
+-
+- +
+-PGSIZE
+-;
+-
+-80 
+-	}
+-}
+-
+-105 
+-	skm
+- {
+-
+-106 *
+-	mvt
+-;
+-
+-107 
+-ut
+- 
+-	mphys_t
+-;
+-
+-108 
+-ut
+- 
+-	mphys_d
+-;
+-
+-109 
+-	mrm
+-;
+-
+-110 } 
+-	gkm
+-[] = {
+-
+-111 { (*)
+-KERNBASE
+-, 0, 
+-EXTMEM
+-, 
+-PTE_W
+-},
+-
+-112 { (*)
+-KERNLINK
+-, 
+-V2P
+-(KERNLINK), V2P(
+-da
+-), 0},
+-
+-113 { (*)
+-da
+-, 
+-V2P
+-(da), 
+-PHYSTOP
+-, 
+-PTE_W
+-},
+-
+-114 { (*)
+-DEVSPACE
+-, DEVSPACE, 0, 
+-PTE_W
+-},
+-
+-118 
+-pde_t
+-*
+-
+-119 
+-	$tupkvm
+-()
+-
+-121 
+-pde_t
+- *
+-pgd
+-;
+-
+-122 
+-km
+- *
+-k
+-;
+-
+-124 if((
+-pgd
+- = (
+-pde_t
+-*)
+-	`kloc
+-()) == 0)
+-
+-126 
+-	`memt
+-(
+-pgd
+-, 0, 
+-PGSIZE
+-);
+-
+-127 i(
+-	`P2V
+-(
+-PHYSTOP
+-> (*)
+-DEVSPACE
+-)
+-
+-128 
+-	`nic
+-("PHYSTOPoo high");
+-
+-129 
+-k
+- = 
+-km
+-; k < &km[
+-	`NELEM
+-(kmap)]; k++)
+-
+-130 if(
+-	`mges
+-(
+-pgd
+-, 
+-k
+-->
+-vt
+-, k->
+-phys_d
+- - k->
+-phys_t
+-,
+-
+-131 (
+-ut
+-)
+-k
+-->
+-phys_t
+-, k->
+-rm
+-) < 0) {
+-
+-132 
+-	`vm
+-(
+-pgd
+-);
+-
+-135  
+-pgd
+-;
+-
+-136 
+-	}
+-}
+-
+-141 
+-	$kvmloc
+-()
+-
+-143 
+-kpgd
+- = 
+-	`tupkvm
+-();
+-
+-144 
+-	`swchkvm
+-();
+-
+-145 
+-	}
+-}
+-
+-150 
+-	$swchkvm
+-()
+-
+-152 
+-	`l3
+-(
+-	`V2P
+-(
+-kpgd
+-));
+-
+-153 
+-	}
+-}
+-
+-157 
+-	$swchuvm
+-(
+-oc
+- *
+-p
+-)
+-
+-159 if(
+-p
+- == 0)
+-
+-160 
+-	`nic
+-("switchuvm:orocess");
+-
+-161 if(
+-p
+-->
+-kack
+- == 0)
+-
+-162 
+-	`nic
+-("switchuvm:o kstack");
+-
+-163 if(
+-p
+-->
+-pgd
+- == 0)
+-
+-164 
+-	`nic
+-("switchuvm:ogdir");
+-
+-166 
+-	`pushi
+-();
+-
+-167 
+-	`myu
+-()->
+-gdt
+-[
+-SEG_TSS
+-] = 
+-	`SEG16
+-(
+-STS_T32A
+-, &myu()->
+-ts
+-,
+-
+-168 (
+-	`myu
+-()->
+-ts
+-)-1, 0);
+-
+-169 
+-	`myu
+-()->
+-gdt
+-[
+-SEG_TSS
+-].
+-s
+- = 0;
+-
+-170 
+-	`myu
+-()->
+-ts
+-.
+-ss0
+- = 
+-SEG_KDATA
+- << 3;
+-
+-171 
+-	`myu
+-()->
+-ts
+-.
+-e0
+- = (
+-ut
+-)
+-p
+-->
+-kack
+- + 
+-KSTACKSIZE
+-;
+-
+-174 
+-	`myu
+-()->
+-ts
+-.
+-iomb
+- = (
+-usht
+-) 0xFFFF;
+-
+-175 
+-	`r
+-(
+-SEG_TSS
+- << 3);
+-
+-176 
+-	`l3
+-(
+-	`V2P
+-(
+-p
+-->
+-pgd
+-));
+-
+-177 
+-	`pi
+-();
+-
+-178 
+-	}
+-}
+-
+-183 
+-	$uvm
+-(
+-pde_t
+- *
+-pgd
+-, *
+-
+-, 
+-ut
+- 
+-sz
+-)
+-
+-185 *
+-mem
+-;
+-
+-187 if(
+-sz
+- >
+-PGSIZE
+-)
+-
+-188 
+-	`nic
+-("inituvm: morehanage");
+-
+-189 
+-mem
+- = 
+-	`kloc
+-();
+-
+-190 
+-	`memt
+-(
+-mem
+-, 0, 
+-PGSIZE
+-);
+-
+-191 
+-	`mges
+-(
+-pgd
+-, 0, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-PTE_W
+-|
+-PTE_U
+-);
+-
+-192 
+-	`memmove
+-(
+-mem
+-, 
+-
+-, 
+-sz
+-);
+-
+-193 
+-	}
+-}
+-
+-198 
+-	$lduvm
+-(
+-pde_t
+- *
+-pgd
+-, *
+-addr
+-, 
+-ode
+- *
+-
+-, 
+-ut
+- 
+-offt
+-, u
+-sz
+-)
+-
+-200 
+-ut
+- 
+-i
+-, 
+-
+-, 
+-n
+-;
+-
+-201 
+-e_t
+- *
+-e
+-;
+-
+-203 if((
+-ut
+-
+-addr
+- % 
+-PGSIZE
+- != 0)
+-
+-204 
+-	`nic
+-("loaduvm:ddr must beageligned");
+-
+-205 
+-i
+- = 0; i < 
+-sz
+-; i +
+-PGSIZE
+-){
+-
+-206 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-addr
+-+
+-i
+-, 0)) == 0)
+-
+-207 
+-	`nic
+-("loaduvm:ddress shouldxist");
+-
+-208 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-209 if(
+-sz
+- - 
+-i
+- < 
+-PGSIZE
+-)
+-
+-210 
+-n
+- = 
+-sz
+- - 
+-i
+-;
+-
+-212 
+-n
+- = 
+-PGSIZE
+-;
+-
+-213 if(
+-	`adi
+-(
+-
+-, 
+-	`P2V
+-(
+-
+-), 
+-offt
+-+
+-i
+-, 
+-n
+-) !=)
+-
+-217 
+-	}
+-}
+-
+-222 
+-	$locuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-dsz
+-, u
+-wsz
+-)
+-
+-224 *
+-mem
+-;
+-
+-225 
+-ut
+- 
+-a
+-;
+-
+-227 if(
+-wsz
+- >
+-KERNBASE
+-)
+-
+-229 if(
+-wsz
+- < 
+-dsz
+-)
+-
+-230  
+-dsz
+-;
+-
+-232 
+-a
+- = 
+-	`PGROUNDUP
+-(
+-dsz
+-);
+-
+-233 ; 
+-a
+- < 
+-wsz
+-; +
+-PGSIZE
+-){
+-
+-234 
+-mem
+- = 
+-	`kloc
+-();
+-
+-235 if(
+-mem
+- == 0){
+-
+-236 
+-	`rtf
+-("allocuvm out of memory\n");
+-
+-237 
+-	`docuvm
+-(
+-pgd
+-, 
+-wsz
+-, 
+-dsz
+-);
+-
+-240 
+-	`memt
+-(
+-mem
+-, 0, 
+-PGSIZE
+-);
+-
+-241 if(
+-	`mges
+-(
+-pgd
+-, (*)
+-a
+-, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-PTE_W
+-|
+-PTE_U
+-) < 0){
+-
+-242 
+-	`rtf
+-("allocuvm out of memory (2)\n");
+-
+-243 
+-	`docuvm
+-(
+-pgd
+-, 
+-wsz
+-, 
+-dsz
+-);
+-
+-244 
+-	`k
+-(
+-mem
+-);
+-
+-248  
+-wsz
+-;
+-
+-249 
+-	}
+-}
+-
+-256 
+-	$docuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-dsz
+-, u
+-wsz
+-)
+-
+-258 
+-e_t
+- *
+-e
+-;
+-
+-259 
+-ut
+- 
+-a
+-, 
+-
+-;
+-
+-261 if(
+-wsz
+- >
+-dsz
+-)
+-
+-262  
+-dsz
+-;
+-
+-264 
+-a
+- = 
+-	`PGROUNDUP
+-(
+-wsz
+-);
+-
+-265 ; 
+-a
+- < 
+-dsz
+-; +
+-PGSIZE
+-){
+-
+-266 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, (*)
+-a
+-, 0);
+-
+-267 if(!
+-e
+-)
+-
+-268 
+-a
+- = 
+-	`PGADDR
+-(
+-	`PDX
+-+ 1, 0, 0- 
+-PGSIZE
+-;
+-
+-269 if((*
+-e
+- & 
+-PTE_P
+-) != 0){
+-
+-270 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-271 if(
+-
+- == 0)
+-
+-272 
+-	`nic
+-("kfree");
+-
+-273 *
+-v
+- = 
+-	`P2V
+-(
+-
+-);
+-
+-274 
+-	`k
+-(
+-v
+-);
+-
+-275 *
+-e
+- = 0;
+-
+-278  
+-wsz
+-;
+-
+-279 
+-	}
+-}
+-
+-284 
+-	$vm
+-(
+-pde_t
+- *
+-pgd
+-)
+-
+-286 
+-ut
+- 
+-i
+-;
+-
+-288 if(
+-pgd
+- == 0)
+-
+-289 
+-	`nic
+-("freevm:ogdir");
+-
+-290 
+-	`docuvm
+-(
+-pgd
+-, 
+-KERNBASE
+-, 0);
+-
+-291 
+-i
+- = 0; i < 
+-NPDENTRIES
+-; i++){
+-
+-292 if(
+-pgd
+-[
+-i
+-] & 
+-PTE_P
+-){
+-
+-293 * 
+-v
+- = 
+-	`P2V
+-(
+-	`PTE_ADDR
+-(
+-pgd
+-[
+-i
+-]));
+-
+-294 
+-	`k
+-(
+-v
+-);
+-
+-297 
+-	`k
+-((*)
+-pgd
+-);
+-
+-298 
+-	}
+-}
+-
+-303 
+-	$u
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-)
+-
+-305 
+-e_t
+- *
+-e
+-;
+-
+-307 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-uva
+-, 0);
+-
+-308 if(
+-e
+- == 0)
+-
+-309 
+-	`nic
+-("clearpteu");
+-
+-310 *
+-e
+- &~
+-PTE_U
+-;
+-
+-311 
+-	}
+-}
+-
+-315 
+-pde_t
+-*
+-
+-316 
+-	$cyuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-sz
+-)
+-
+-318 
+-pde_t
+- *
+-d
+-;
+-
+-319 
+-e_t
+- *
+-e
+-;
+-
+-320 
+-ut
+- 
+-
+-, 
+-i
+-, 
+-ags
+-;
+-
+-321 *
+-mem
+-;
+-
+-323 if((
+-d
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-325 
+-i
+- = 0; i < 
+-sz
+-; i +
+-PGSIZE
+-){
+-
+-326 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, (*
+-i
+-, 0)) == 0)
+-
+-327 
+-	`nic
+-("copyuvm:te shouldxist");
+-
+-328 if(!(*
+-e
+- & 
+-PTE_P
+-))
+-
+-329 
+-	`nic
+-("copyuvm:ageotresent");
+-
+-330 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-331 
+-ags
+- = 
+-	`PTE_FLAGS
+-(*
+-e
+-);
+-
+-332 if((
+-mem
+- = 
+-	`kloc
+-()) == 0)
+-
+-333 
+-bad
+-;
+-
+-334 
+-	`memmove
+-(
+-mem
+-, (*)
+-	`P2V
+-(
+-
+-), 
+-PGSIZE
+-);
+-
+-335 if(
+-	`mges
+-(
+-d
+-, (*)
+-i
+-, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-ags
+-) < 0) {
+-
+-336 
+-	`k
+-(
+-mem
+-);
+-
+-337 
+-bad
+-;
+-
+-340  
+-d
+-;
+-
+-342 
+-bad
+-:
+-
+-343 
+-	`vm
+-(
+-d
+-);
+-
+-345 
+-	}
+-}
+-
+-350 
+-	$uva2ka
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-)
+-
+-352 
+-e_t
+- *
+-e
+-;
+-
+-354 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-uva
+-, 0);
+-
+-355 if((*
+-e
+- & 
+-PTE_P
+-) == 0)
+-
+-357 if((*
+-e
+- & 
+-PTE_U
+-) == 0)
+-
+-359  (*)
+-	`P2V
+-(
+-	`PTE_ADDR
+-(*
+-e
+-));
+-
+-360 
+-	}
+-}
+-
+-366 
+-	$cyout
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-va
+-, *
+-p
+-, u
+-n
+-)
+-
+-368 *
+-buf
+-, *
+-0
+-;
+-
+-369 
+-ut
+- 
+-n
+-, 
+-va0
+-;
+-
+-371 
+-buf
+- = (*)
+-p
+-;
+-
+-372 
+-n
+- > 0){
+-
+-373 
+-va0
+- = (
+-ut
+-)
+-	`PGROUNDDOWN
+-(
+-va
+-);
+-
+-374 
+-0
+- = 
+-	`uva2ka
+-(
+-pgd
+-, (*)
+-va0
+-);
+-
+-375 if(
+-0
+- == 0)
+-
+-377 
+-n
+- = 
+-PGSIZE
+- - (
+-va
+- - 
+-va0
+-);
+-
+-378 if(
+-n
+- > 
+-n
+-)
+-
+-379 
+-n
+- = 
+-n
+-;
+-
+-380 
+-	`memmove
+-(
+-0
+- + (
+-va
+- - 
+-va0
+-), 
+-buf
+-, 
+-n
+-);
+-
+-381 
+-n
+- -
+-n
+-;
+-
+-382 
+-buf
+- +
+-n
+-;
+-
+-383 
+-va
+- = 
+-va0
+- + 
+-PGSIZE
+-;
+-
+-386 
+-	}
+-}
+-
+-	@wc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-5 
+-	gbuf
+-[512];
+-
+-8 
+-	$wc
+-(
+-fd
+-, *
+-me
+-)
+-
+-10 
+-i
+-, 
+-n
+-;
+-
+-11 
+-l
+-, 
+-w
+-, 
+-c
+-, 
+-wd
+-;
+-
+-13 
+-l
+- = 
+-w
+- = 
+-c
+- = 0;
+-
+-14 
+-wd
+- = 0;
+-
+-15 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-16 
+-i
+-=0; i<
+-n
+-; i++){
+-
+-17 
+-c
+-++;
+-
+-18 if(
+-buf
+-[
+-i
+-] == '\n')
+-
+-19 
+-l
+-++;
+-
+-20 if(
+-	`rchr
+-(" \r\t\n\v", 
+-buf
+-[
+-i
+-]))
+-
+-21 
+-wd
+- = 0;
+-
+-22 if(!
+-wd
+-){
+-
+-23 
+-w
+-++;
+-
+-24 
+-wd
+- = 1;
+-
+-28 if(
+-n
+- < 0){
+-
+-29 
+-	`tf
+-(1, "wc:eadrror\n");
+-
+-30 
+-	`ex
+-();
+-
+-32 
+-	`tf
+-(1, "%d %d %d %s\n", 
+-l
+-, 
+-w
+-, 
+-c
+-, 
+-me
+-);
+-
+-33 
+-	}
+-}
+-
+-36 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-38 
+-fd
+-, 
+-i
+-;
+-
+-40 if(
+-gc
+- <= 1){
+-
+-41 
+-	`wc
+-(0, "");
+-
+-42 
+-	`ex
+-();
+-
+-45 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-46 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-47 
+-	`tf
+-(1, "wc: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-48 
+-	`ex
+-();
+-
+-50 
+-	`wc
+-(
+-fd
+-, 
+-gv
+-[
+-i
+-]);
+-
+-51 
+-	`o
+-(
+-fd
+-);
+-
+-53 
+-	`ex
+-();
+-
+-54 
+-	}
+-}
+-
+-	@x86.h
+-
+-3 
+-le
+- 
+-uch
+-
+-
+-4 
+-	$b
+-(
+-usht
+- 
+-pt
+-)
+-
+-6 
+-uch
+- 
+-da
+-;
+-
+-8 
+-asm
+- ve(" %1,%0" : "" (
+-da
+-: "d" (
+-pt
+-));
+-
+-9  
+-da
+-;
+-
+-10 
+-	}
+-}
+-
+-12 
+-le
+- 
+-
+-13 
+-	$
+-(
+-pt
+-, *
+-addr
+-, 
+-t
+-)
+-
+-15 
+-asm
+- volatile("cld;ep insl" :
+-
+-16 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-17 "d" (
+-pt
+-), "0" (
+-addr
+-), "1" (
+-t
+-) :
+-
+-19 
+-	}
+-}
+-
+-21 
+-le
+- 
+-
+-22 
+-	$outb
+-(
+-usht
+- 
+-pt
+-, 
+-uch
+- 
+-da
+-)
+-
+-24 
+-asm
+- ve("ou%0,%1" : : "a" (
+-da
+-), "d" (
+-pt
+-));
+-
+-25 
+-	}
+-}
+-
+-27 
+-le
+- 
+-
+-28 
+-	$outw
+-(
+-usht
+- 
+-pt
+-, ush
+-da
+-)
+-
+-30 
+-asm
+- ve("ou%0,%1" : : "a" (
+-da
+-), "d" (
+-pt
+-));
+-
+-31 
+-	}
+-}
+-
+-33 
+-le
+- 
+-
+-34 
+-	$out
+-(
+-pt
+-, c *
+-addr
+-, 
+-t
+-)
+-
+-36 
+-asm
+- volatile("cld;ep outsl" :
+-
+-37 "=S" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-38 "d" (
+-pt
+-), "0" (
+-addr
+-), "1" (
+-t
+-) :
+-
+-40 
+-	}
+-}
+-
+-42 
+-le
+- 
+-
+-43 
+-	$osb
+-(*
+-addr
+-, 
+-da
+-, 
+-t
+-)
+-
+-45 
+-asm
+- volatile("cld;ep stosb" :
+-
+-46 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-47 "0" (
+-addr
+-), "1" (
+-t
+-), "a" (
+-da
+-) :
+-
+-49 
+-	}
+-}
+-
+-51 
+-le
+- 
+-
+-52 
+-	$o
+-(*
+-addr
+-, 
+-da
+-, 
+-t
+-)
+-
+-54 
+-asm
+- volatile("cld;ep stosl" :
+-
+-55 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-56 "0" (
+-addr
+-), "1" (
+-t
+-), "a" (
+-da
+-) :
+-
+-58 
+-	}
+-}
+-
+-60 
+-	ggdesc
+-;
+-
+-62 
+-le
+- 
+-
+-63 
+-	$lgdt
+-(
+-gdesc
+- *
+-p
+-, 
+-size
+-)
+-
+-65 v
+-usht
+- 
+-pd
+-[3];
+-
+-67 
+-pd
+-[0] = 
+-size
+--1;
+-
+-68 
+-pd
+-[1] = (
+-ut
+-)
+-p
+-;
+-
+-69 
+-pd
+-[2] = (
+-ut
+-)
+-p
+- >> 16;
+-
+-71 
+-asm
+- ve("lgd(%0)" : : "r" (
+-pd
+-));
+-
+-72 
+-	}
+-}
+-
+-74 
+-	ggedesc
+-;
+-
+-76 
+-le
+- 
+-
+-77 
+-	$lidt
+-(
+-gedesc
+- *
+-p
+-, 
+-size
+-)
+-
+-79 v
+-usht
+- 
+-pd
+-[3];
+-
+-81 
+-pd
+-[0] = 
+-size
+--1;
+-
+-82 
+-pd
+-[1] = (
+-ut
+-)
+-p
+-;
+-
+-83 
+-pd
+-[2] = (
+-ut
+-)
+-p
+- >> 16;
+-
+-85 
+-asm
+- ve("lid(%0)" : : "r" (
+-pd
+-));
+-
+-86 
+-	}
+-}
+-
+-88 
+-le
+- 
+-
+-89 
+-	$r
+-(
+-usht
+- 
+-l
+-)
+-
+-91 
+-asm
+- ve("%0" : : "r" (
+-l
+-));
+-
+-92 
+-	}
+-}
+-
+-94 
+-le
+- 
+-ut
+-
+-
+-95 
+-	$adeags
+-()
+-
+-97 
+-ut
+- 
+-eags
+-;
+-
+-98 
+-asm
+- ve("push;%0" : "" (
+-eags
+-));
+-
+-99  
+-eags
+-;
+-
+-100 
+-	}
+-}
+-
+-102 
+-le
+- 
+-
+-103 
+-	$ldgs
+-(
+-usht
+- 
+-v
+-)
+-
+-105 
+-asm
+- ve("movw %0, %%gs" : : "r" (
+-v
+-));
+-
+-106 
+-	}
+-}
+-
+-108 
+-le
+- 
+-
+-109 
+-	$i
+-()
+-
+-111 
+-asm
+- volatile("cli");
+-
+-112 
+-	}
+-}
+-
+-114 
+-le
+- 
+-
+-115 
+-	$i
+-()
+-
+-117 
+-asm
+- volatile("sti");
+-
+-118 
+-	}
+-}
+-
+-120 
+-le
+- 
+-ut
+-
+-
+-121 
+-	$xchg
+-(v
+-ut
+- *
+-addr
+-, u
+-wv
+-)
+-
+-123 
+-ut
+- 
+-su
+-;
+-
+-126 
+-asm
+- volatile("lock; xchgl %0, %1" :
+-
+-127 "+m" (*
+-addr
+-), "" (
+-su
+-) :
+-
+-128 "1" (
+-wv
+-) :
+-
+-130  
+-su
+-;
+-
+-131 
+-	}
+-}
+-
+-133 
+-le
+- 
+-ut
+-
+-
+-134 
+-	$r2
+-()
+-
+-136 
+-ut
+- 
+-v
+-;
+-
+-137 
+-asm
+- ve("mov%%2,%0" : "" (
+-v
+-));
+-
+-138  
+-v
+-;
+-
+-139 
+-	}
+-}
+-
+-141 
+-le
+- 
+-
+-142 
+-	$l3
+-(
+-ut
+- 
+-v
+-)
+-
+-144 
+-asm
+- ve("mov%0,%%3" : : "r" (
+-v
+-));
+-
+-145 
+-	}
+-}
+-
+-150 
+-	same
+- {
+-
+-152 
+-ut
+- 
+-	medi
+-;
+-
+-153 
+-ut
+- 
+-	mesi
+-;
+-
+-154 
+-ut
+- 
+-	mebp
+-;
+-
+-155 
+-ut
+- 
+-	m
+-;
+-
+-156 
+-ut
+- 
+-	mebx
+-;
+-
+-157 
+-ut
+- 
+-	medx
+-;
+-
+-158 
+-ut
+- 
+-	mecx
+-;
+-
+-159 
+-ut
+- 
+-	mx
+-;
+-
+-162 
+-usht
+- 
+-	mgs
+-;
+-
+-163 
+-usht
+- 
+-	mddg1
+-;
+-
+-164 
+-usht
+- 
+-	mfs
+-;
+-
+-165 
+-usht
+- 
+-	mddg2
+-;
+-
+-166 
+-usht
+- 
+-	mes
+-;
+-
+-167 
+-usht
+- 
+-	mddg3
+-;
+-
+-168 
+-usht
+- 
+-	mds
+-;
+-
+-169 
+-usht
+- 
+-	mddg4
+-;
+-
+-170 
+-ut
+- 
+-	mno
+-;
+-
+-173 
+-ut
+- 
+-	mr
+-;
+-
+-174 
+-ut
+- 
+-	me
+-;
+-
+-175 
+-usht
+- 
+-	mcs
+-;
+-
+-176 
+-usht
+- 
+-	mddg5
+-;
+-
+-177 
+-ut
+- 
+-	meags
+-;
+-
+-180 
+-ut
+- 
+-	me
+-;
+-
+-181 
+-usht
+- 
+-	mss
+-;
+-
+-182 
+-usht
+- 
+-	mddg6
+-;
+-
+-	@zombie.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~".h
+-"
+-
+-6 
+-	~"ur.h
+-"
+-
+-9 
+-	$ma
+-()
+-
+-11 if(
+-	`fk
+-() > 0)
+-
+-12 
+-	`p
+-(5);
+-
+-13 
+-	`ex
+-();
+-
+-14 
+-	}
+-}
+-
+-	@/usr/include/assert.h
+-
+-22 #ifdef 
+-_ASSERT_H
+-
+-
+-24 #unde
+-_ASSERT_H
+-
+-
+-25 #unde
+-as
+-
+-
+-26 #unde
+-__ASSERT_VOID_CAST
+-
+-
+-28 #ifdef 
+-__USE_GNU
+-
+-
+-29 #unde
+-as_
+-
+-
+-34 
+-	#_ASSERT_H
+- 1
+-
+-	)
+-
+-35 
+-	~<us.h
+->
+-
+-37 #i
+-defed
+- 
+-__lulus
+- && 
+-__GNUC_PREREQ
+- (2,95)
+-
+-38 
+-	#__ASSERT_VOID_CAST
+- 
+-ic_
+-<>
+-
+-	)
+-
+-40 
+-	#__ASSERT_VOID_CAST
+- ()
+-
+-	)
+-
+-48 #ifdef 
+-NDEBUG
+-
+-
+-50 
+-	#as
+-(
+-ex
+-(
+-	`__ASSERT_VOID_CAST
+- (0))
+-
+-	)
+-
+-58 #ifdef 
+-__USE_GNU
+-
+-
+-59 
+-	#as_
+-(
+-um
+-(
+-	`__ASSERT_VOID_CAST
+- (0))
+-
+-	)
+-
+-64 #ide
+-_ASSERT_H_DECLS
+-
+-
+-65 
+-	#_ASSERT_H_DECLS
+-
+-
+-	)
+-
+-66 
+-__BEGIN_DECLS
+-
+-
+-69 

+-	$__as_
+- (c *
+-__asi
+-, c *
+-__fe
+-,
+-
+-70 
+-__le
+-, c *
+-__funi
+-)
+-
+-71 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-74 

+-	$__as__
+- (
+-__um
+-, c *
+-__fe
+-,
+-
+-75 
+-__le
+-, c *
+-__funi
+-)
+-
+-76 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-81 

+-	$__as
+- (c *
+-__asi
+-, c *
+-__fe
+-, 
+-__le
+-)
+-
+-82 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-85 
+-__END_DECLS
+-
+-
+-91 #i
+-defed
+- 
+-__lulus
+-
+-
+-92 
+-	#as
+-(
+-ex
+-) \
+-
+-93 (
+-ic_
+- <
+-bo
+-> (
+-ex
+-) \
+-
+-95 : 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-96 #i!
+-defed
+- 
+-__GNUC__
+- || defed 
+-__STRICT_ANSI__
+-
+-
+-97 
+-	#as
+-(
+-ex
+-) \
+-
+-98 ((
+-ex
+-) \
+-
+-99 ? 
+-	`__ASSERT_VOID_CAST
+- (0) \
+-
+-100 : 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-107 
+-	#as
+-(
+-ex
+-) \
+-
+-108 (( ((
+-ex
+-? 1 : 0), 
+-	`__exnsi__
+- ({ \
+-
+-109 i(
+-ex
+-) \
+-
+-112 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-); \
+-
+-113 
+-	}
+-}))
+-
+-	)
+-
+-116 #ifdef 
+-__USE_GNU
+-
+-
+-117 
+-	#as_
+-(
+-um
+-) \
+-
+-118 (!(
+-um
+-) \
+-
+-119 ? 
+-	`__ASSERT_VOID_CAST
+- (0) \
+-
+-120 : 
+-	`__as__
+- ((
+-um
+-), 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-128 #i
+-defed
+- 
+-__lulus
+- ? 
+-__GNUC_PREREQ
+- (2, 6) : __GNUC_PREREQ (2, 4)
+-
+-129 
+-	#__ASSERT_FUNCTION
+- 
+-__exnsi__
+- 
+-__PRETTY_FUNCTION__
+-
+-
+-	)
+-
+-131 #i
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199901L
+-
+-132 
+-	#__ASSERT_FUNCTION
+- 
+-__func__
+-
+-
+-	)
+-
+-134 
+-	#__ASSERT_FUNCTION
+- ((c *0)
+-
+-	)
+-
+-141 #i
+-defed
+- 
+-__USE_ISOC11
+- && !defed 
+-__lulus
+-
+-
+-142 #unde
+-ic_as
+-
+-
+-143 
+-	#ic_as
+- 
+-_Stic_as
+-
+-
+-	)
+-
+-	@/usr/include/stdio.h
+-
+-23 #ide
+-_STDIO_H
+-
+-
+-24 
+-	#_STDIO_H
+- 1
+-
+-	)
+-
+-26 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-27 
+-	~<bs/libc-hd-t.h
+->
+-
+-29 
+-	g__BEGIN_DECLS
+-
+-
+-31 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-32 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-33 
+-	~<ddef.h
+->
+-
+-35 
+-	#__ed___va_li
+-
+-
+-	)
+-
+-36 
+-	~<dg.h
+->
+-
+-38 
+-	~<bs/tys.h
+->
+-
+-39 
+-	~<bs/tys/__os_t.h
+->
+-
+-40 
+-	~<bs/tys/__os64_t.h
+->
+-
+-41 
+-	~<bs/tys/__FILE.h
+->
+-
+-42 
+-	~<bs/tys/FILE.h
+->
+-
+-43 
+-	~<bs/tys/ru_FILE.h
+->
+-
+-45 #ifde
+-__USE_GNU
+-
+-
+-46 
+-	~<bs/tys/cook_io_funis_t.h
+->
+-
+-49 #i
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-50 #ifde
+-__GNUC__
+-
+-
+-51 #ide
+-_VA_LIST_DEFINED
+-
+-
+-52 
+-__gnuc_va_li
+- 
+-	tva_li
+-;
+-
+-53 
+-	#_VA_LIST_DEFINED
+-
+-
+-	)
+-
+-56 
+-	~<dg.h
+->
+-
+-60 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-61 #ide
+-__off_t_defed
+-
+-
+-62 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-63 
+-__off_t
+- 
+-	toff_t
+-;
+-
+-65 
+-__off64_t
+- 
+-	toff_t
+-;
+-
+-67 
+-	#__off_t_defed
+-
+-
+-	)
+-
+-69 #i
+-defed
+- 
+-__USE_LARGEFILE64
+- && !defed 
+-__off64_t_defed
+-
+-
+-70 
+-__off64_t
+- 
+-	toff64_t
+-;
+-
+-71 
+-	#__off64_t_defed
+-
+-
+-	)
+-
+-75 #ifde
+-__USE_XOPEN2K8
+-
+-
+-76 #ide
+-__ssize_t_defed
+-
+-
+-77 
+-__ssize_t
+- 
+-	tssize_t
+-;
+-
+-78 
+-	#__ssize_t_defed
+-
+-
+-	)
+-
+-83 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-84 
+-__os_t
+- 
+-	tos_t
+-;
+-
+-86 
+-__os64_t
+- 
+-	tos_t
+-;
+-
+-88 #ifde
+-__USE_LARGEFILE64
+-
+-
+-89 
+-__os64_t
+- 
+-	tos64_t
+-;
+-
+-93 
+-	#_IOFBF
+- 0
+-
+-	)
+-
+-94 
+-	#_IOLBF
+- 1
+-
+-	)
+-
+-95 
+-	#_IONBF
+- 2
+-
+-	)
+-
+-99 
+-	#BUFSIZ
+- 8192
+-
+-	)
+-
+-104 
+-	#EOF
+- (-1)
+-
+-	)
+-
+-109 
+-	#SEEK_SET
+- 0
+-
+-	)
+-
+-110 
+-	#SEEK_CUR
+- 1
+-
+-	)
+-
+-111 
+-	#SEEK_END
+- 2
+-
+-	)
+-
+-112 #ifde
+-__USE_GNU
+-
+-
+-113 
+-	#SEEK_DATA
+- 3
+-
+-	)
+-
+-114 
+-	#SEEK_HOLE
+- 4
+-
+-	)
+-
+-118 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-120 
+-	#P_tmpd
+- "/tmp"
+-
+-	)
+-
+-133 
+-	~<bs/dio_lim.h
+->
+-
+-136 #i
+-__GLIBC_USE
+- (
+-ISOC2X
+-)
+-
+-138 
+-	#_PRINTF_NAN_LEN_MAX
+- 4
+-
+-	)
+-
+-143 
+-FILE
+- *
+-d
+-;
+-
+-144 
+-FILE
+- *
+-dout
+-;
+-
+-145 
+-FILE
+- *
+-dr
+-;
+-
+-147 
+-	#d
+- 
+-d
+-
+-
+-	)
+-
+-148 
+-	#dout
+- 
+-dout
+-
+-
+-	)
+-
+-149 
+-	#dr
+- 
+-dr
+-
+-
+-	)
+-
+-152 

+-	$move
+- (c *
+-__fame
+-
+-__THROW
+-;
+-
+-154 

+-	$me
+- (c *
+-__d
+-, c *
+-__w
+-
+-__THROW
+-;
+-
+-156 #ifde
+-__USE_ATFILE
+-
+-
+-158 

+-	$mt
+- (
+-__dfd
+-, c *
+-__d
+-, 
+-__wfd
+-,
+-
+-159 c *
+-__w
+-
+-__THROW
+-;
+-
+-162 #ifde
+-__USE_GNU
+-
+-
+-164 
+-	#RENAME_NOREPLACE
+- (1 << 0)
+-
+-	)
+-
+-165 
+-	#RENAME_EXCHANGE
+- (1 << 1)
+-
+-	)
+-
+-166 
+-	#RENAME_WHITEOUT
+- (1 << 2)
+-
+-	)
+-
+-170 

+-	$mt2
+- (
+-__dfd
+-, c *
+-__d
+-, 
+-__wfd
+-,
+-
+-171 c *
+-__w
+-, 
+-__ags
+-
+-__THROW
+-;
+-
+-178 

+-	`fo
+- (
+-FILE
+- *
+-__am
+-);
+-
+-180 #unde
+-___doc_fo
+-
+-
+-181 
+-	#___doc_fo
+- 
+-	`___doc
+- (
+-fo
+-, 1)
+-
+-	)
+-
+-187 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-188 
+-FILE
+- *
+-	$tmpfe
+- ()
+-
+-189 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-191 #ifde
+-__REDIRECT
+-
+-
+-192 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-tmpfe
+-, (), 
+-tmpfe64
+-)
+-
+-193 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-195 
+-	#tmpfe
+- 
+-tmpfe64
+-
+-
+-	)
+-
+-199 #ifde
+-__USE_LARGEFILE64
+-
+-
+-200 
+-FILE
+- *
+-	$tmpfe64
+- ()
+-
+-201 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-205 
*
+-	$tmam
+- ([
+-L_tmam
+-]
+-__THROW
+- 
+-__wur
+-;
+-
+-207 #ifde
+-__USE_MISC
+-
+-
+-210 
*
+-	$tmam_r
+- (
+-__s
+-[
+-L_tmam
+-]
+-__THROW
+- 
+-__wur
+-;
+-
+-214 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-222 
*
+-	$mam
+- (c *
+-__d
+-, c *
+-__pfx
+-)
+-
+-223 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-__wur
+- 
+-___doc_
+-;
+-
+-230 

+-	`fush
+- (
+-FILE
+- *
+-__am
+-);
+-
+-232 #ifde
+-__USE_MISC
+-
+-
+-239 

+-	`fush_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-242 #ifde
+-__USE_GNU
+-
+-
+-249 

+-	`fol
+- ();
+-
+-253 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-258 
+-FILE
+- *
+-	$f
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-259 c *
+-__ri
+- 
+-__modes
+-)
+-
+-260 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-265 
+-FILE
+- *
+-	$e
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-266 c *
+-__ri
+- 
+-__modes
+-,
+-
+-267 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-269 #ifde
+-__REDIRECT
+-
+-
+-270 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-f
+-, (c *
+-__ri
+- 
+-__fame
+-,
+-
+-271 c *
+-__ri
+- 
+-__modes
+-), 
+-f64
+-)
+-
+-272 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-273 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-e
+-, (c *
+-__ri
+- 
+-__fame
+-,
+-
+-274 c *
+-__ri
+- 
+-__modes
+-,
+-
+-275 
+-FILE
+- *
+-__ri
+- 
+-__am
+-), 
+-e64
+-)
+-
+-276 
+-__wur
+-;
+-
+-278 
+-	#f
+- 
+-f64
+-
+-
+-	)
+-
+-279 
+-	#e
+- 
+-e64
+-
+-
+-	)
+-
+-282 #ifde
+-__USE_LARGEFILE64
+-
+-
+-283 
+-FILE
+- *
+-	$f64
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-284 c *
+-__ri
+- 
+-__modes
+-)
+-
+-285 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-286 
+-FILE
+- *
+-	$e64
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-287 c *
+-__ri
+- 
+-__modes
+-,
+-
+-288 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-291 #ifdef 
+-__USE_POSIX
+-
+-
+-293 
+-FILE
+- *
+-	$fd
+- (
+-__fd
+-, c *
+-__modes
+-
+-__THROW
+-
+-
+-294 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-297 #ifdef 
+-__USE_GNU
+-
+-
+-300 
+-FILE
+- *
+-	$fcook
+- (*
+-__ri
+- 
+-__magic_cook
+-,
+-
+-301 c *
+-__ri
+- 
+-__modes
+-,
+-
+-302 
+-cook_io_funis_t
+- 
+-__io_funcs
+-
+-__THROW
+-
+-
+-303 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-306 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-308 
+-FILE
+- *
+-	$fmem
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-, c *
+-__modes
+-)
+-
+-309 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-314 
+-FILE
+- *
+-	$_memam
+- (**
+-__buoc
+-, 
+-size_t
+- *
+-__sizoc
+-
+-__THROW
+-
+-
+-315 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-317 #ifde
+-_WCHAR_H
+-
+-
+-321 
+-__FILE
+- *
+-	$_wmemam
+- (
+-wch_t
+- **
+-__buoc
+-, 
+-size_t
+- *
+-__sizoc
+-
+-__THROW
+-
+-
+-322 
+-__ibu_mloc__
+- 
+-___doc_fo
+-;
+-
+-328 

+-	$tbuf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-
+-__THROW
+-;
+-
+-332 

+-	$tvbuf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-,
+-
+-333 
+-__modes
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-335 #ifdef 
+-__USE_MISC
+-
+-
+-338 

+-	$tbufr
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-,
+-
+-339 
+-size_t
+- 
+-__size
+-
+-__THROW
+-;
+-
+-342 

+-	$ebuf
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-350 

+-	`rtf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-351 c *
+-__ri
+- 
+-__fm
+-, ...);
+-
+-356 

+-	`tf
+- (c *
+-__ri
+- 
+-__fm
+-, ...);
+-
+-358 

+-	$rtf
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-359 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROWNL
+-;
+-
+-365 

+-	`vrtf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-366 
+-__gnuc_va_li
+- 
+-__g
+-);
+-
+-371 

+-	`vtf
+- (c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-);
+-
+-373 

+-	$vrtf
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-374 
+-__gnuc_va_li
+- 
+-__g
+-
+-__THROWNL
+-;
+-
+-376 #i
+-defed
+- 
+-__USE_ISOC99
+- || defed 
+-__USE_UNIX98
+-
+-
+-378 

+-	$tf
+- (*
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__maxn
+-,
+-
+-379 c *
+-__ri
+- 
+-__fm
+-, ...)
+-
+-380 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 3, 4)));
+-
+-382 

+-	$vtf
+- (*
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__maxn
+-,
+-
+-383 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-384 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 3, 0)));
+-
+-387 #i
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-390 

+-	$vartf
+- (**
+-__ri
+- 
+-__r
+-, c *__ri 
+-__f
+-,
+-
+-391 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-392 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 0))
+-__wur
+-;
+-
+-393 

+-	$__artf
+- (**
+-__ri
+- 
+-__r
+-,
+-
+-394 c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-395 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 3))
+-__wur
+-;
+-
+-396 

+-	$artf
+- (**
+-__ri
+- 
+-__r
+-,
+-
+-397 c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-398 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 3))
+-__wur
+-;
+-
+-401 #ifde
+-__USE_XOPEN2K8
+-
+-
+-403 

+-	$vdtf
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__fmt
+-,
+-
+-404 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-405 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 0)));
+-
+-406 

+-	$dtf
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-407 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 3)));
+-
+-415 

+-	$fsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-416 c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-421 

+-	$snf
+- (c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-423 

+-	$ssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-424 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROW
+-;
+-
+-430 
+-	~<bs/.h
+->
+-
+-431 #i!
+-	`__GLIBC_USE
+- (
+-DEPRECATED_SCANF
+-&& !
+-defed
+- 
+-__LDBL_COMPAT
+- \
+-
+-432 && 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 0
+-
+-433 #ifde
+-__REDIRECT
+-
+-
+-434 

+-	`__REDIRECT
+- (
+-fsnf
+-, (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-435 c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-436 
+-__isoc99_fsnf
+-
+-__wur
+-;
+-
+-437 

+-	`__REDIRECT
+- (
+-snf
+-, (c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-438 
+-__isoc99_snf
+-
+-__wur
+-;
+-
+-439 

+-	`__REDIRECT_NTH
+- (
+-ssnf
+-, (c *
+-__ri
+- 
+-__s
+-,
+-
+-440 c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-441 
+-__isoc99_ssnf
+-);
+-
+-443 

+-	$__isoc99_fsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-444 c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-445 

+-	$__isoc99_snf
+- (c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-446 

+-	$__isoc99_ssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-447 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROW
+-;
+-
+-448 
+-	#fsnf
+- 
+-__isoc99_fsnf
+-
+-
+-	)
+-
+-449 
+-	#snf
+- 
+-__isoc99_snf
+-
+-
+-	)
+-
+-450 
+-	#ssnf
+- 
+-__isoc99_ssnf
+-
+-
+-	)
+-
+-454 #ifdef 
+-__USE_ISOC99
+-
+-
+-459 

+-	$vfsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-460 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-461 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 2, 0))
+-__wur
+-;
+-
+-467 

+-	$vsnf
+- (c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-468 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 1, 0))
+-__wur
+-;
+-
+-471 

+-	$vssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-472 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-473 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__snf__
+-, 2, 0)));
+-
+-476 #i!
+-	`__GLIBC_USE
+- (
+-DEPRECATED_SCANF
+-)
+-
+-477 #i
+-defed
+- 
+-__REDIRECT
+- && !defed 
+-__LDBL_COMPAT
+- \
+-
+-478 && 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 0
+-
+-479 

+-	`__REDIRECT
+- (
+-vfsnf
+-,
+-
+-480 (
+-FILE
+- *
+-__ri
+- 
+-__s
+-,
+-
+-481 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-),
+-
+-482 
+-__isoc99_vfsnf
+-)
+-
+-483 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 2, 0))
+-__wur
+-;
+-
+-484 

+-	`__REDIRECT
+- (
+-vsnf
+-, (c *
+-__ri
+- 
+-__fm
+-,
+-
+-485 
+-__gnuc_va_li
+- 
+-__g
+-), 
+-__isoc99_vsnf
+-)
+-
+-486 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 1, 0))
+-__wur
+-;
+-
+-487 

+-	`__REDIRECT_NTH
+- (
+-vssnf
+-,
+-
+-488 (c *
+-__ri
+- 
+-__s
+-,
+-
+-489 c *
+-__ri
+- 
+-__fm
+-,
+-
+-490 
+-__gnuc_va_li
+- 
+-__g
+-), 
+-__isoc99_vssnf
+-)
+-
+-491 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__snf__
+-, 2, 0)));
+-
+-492 #i!
+-defed
+- 
+-__REDIRECT
+-
+-
+-493 

+-	$__isoc99_vfsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-,
+-
+-494 c *
+-__ri
+- 
+-__fm
+-,
+-
+-495 
+-__gnuc_va_li
+- 
+-__g
+-
+-__wur
+-;
+-
+-496 

+-	$__isoc99_vsnf
+- (c *
+-__ri
+- 
+-__fm
+-,
+-
+-497 
+-__gnuc_va_li
+- 
+-__g
+-
+-__wur
+-;
+-
+-498 

+-	$__isoc99_vssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-499 c *
+-__ri
+- 
+-__fm
+-,
+-
+-500 
+-__gnuc_va_li
+- 
+-__g
+-
+-__THROW
+-;
+-
+-501 
+-	#vfsnf
+- 
+-__isoc99_vfsnf
+-
+-
+-	)
+-
+-502 
+-	#vsnf
+- 
+-__isoc99_vsnf
+-
+-
+-	)
+-
+-503 
+-	#vssnf
+- 
+-__isoc99_vssnf
+-
+-
+-	)
+-
+-513 

+-	`fgc
+- (
+-FILE
+- *
+-__am
+-);
+-
+-514 

+-	`gc
+- (
+-FILE
+- *
+-__am
+-);
+-
+-520 

+-	`gch
+- ();
+-
+-522 #ifde
+-__USE_POSIX199506
+-
+-
+-527 

+-	`gc_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-528 

+-	`gch_uocked
+- ();
+-
+-531 #ifde
+-__USE_MISC
+-
+-
+-538 

+-	`fgc_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-549 

+-	`utc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-550 

+-	`putc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-556 

+-	`putch
+- (
+-__c
+-);
+-
+-558 #ifde
+-__USE_MISC
+-
+-
+-565 

+-	`utc_uocked
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-568 #ifde
+-__USE_POSIX199506
+-
+-
+-573 

+-	`putc_uocked
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-574 

+-	`putch_uocked
+- (
+-__c
+-);
+-
+-578 #i
+-defed
+- 
+-__USE_MISC
+- \
+-
+-579 || (
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-)
+-
+-581 

+-	`gw
+- (
+-FILE
+- *
+-__am
+-);
+-
+-584 

+-	`putw
+- (
+-__w
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-592 
*
+-	$fgs
+- (*
+-__ri
+- 
+-__s
+-, 
+-__n
+-, 
+-FILE
+- *__ri 
+-__am
+-)
+-
+-593 
+-__wur
+- 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-595 #i
+-	`__GLIBC_USE
+- (
+-DEPRECATED_GETS
+-)
+-
+-605 
*
+-	$gs
+- (*
+-__s
+-
+-__wur
+- 
+-__ibu_dd__
+-;
+-
+-608 #ifde
+-__USE_GNU
+-
+-
+-615 
*
+-	$fgs_uocked
+- (*
+-__ri
+- 
+-__s
+-, 
+-__n
+-,
+-
+-616 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-
+-
+-617 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-621 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-632 
+-__ssize_t
+- 
+-	$__gdim
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-633 
+-size_t
+- *
+-__ri
+- 
+-__n
+-, 
+-__dim
+-,
+-
+-634 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-635 
+-__ssize_t
+- 
+-	$gdim
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-636 
+-size_t
+- *
+-__ri
+- 
+-__n
+-, 
+-__dim
+-,
+-
+-637 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-645 
+-__ssize_t
+- 
+-	$gle
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-646 
+-size_t
+- *
+-__ri
+- 
+-__n
+-,
+-
+-647 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-655 

+-	`uts
+- (c *
+-__ri
+- 
+-__s
+-, 
+-FILE
+- *__ri 
+-__am
+-);
+-
+-661 

+-	`puts
+- (c *
+-__s
+-);
+-
+-668 

+-	`ungc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-675 
+-size_t
+- 
+-	$d
+- (*
+-__ri
+- 
+-__r
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-676 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-681 
+-size_t
+- 
+-	`fwre
+- (c *
+-__ri
+- 
+-__r
+-, size_
+-__size
+-,
+-
+-682 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__s
+-);
+-
+-684 #ifde
+-__USE_GNU
+-
+-
+-691 

+-	`uts_uocked
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-692 
+-FILE
+- *
+-__ri
+- 
+-__am
+-);
+-
+-695 #ifde
+-__USE_MISC
+-
+-
+-702 
+-size_t
+- 
+-	$d_uocked
+- (*
+-__ri
+- 
+-__r
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-703 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-704 
+-size_t
+- 
+-	`fwre_uocked
+- (c *
+-__ri
+- 
+-__r
+-, size_
+-__size
+-,
+-
+-705 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-);
+-
+-713 

+-	`fek
+- (
+-FILE
+- *
+-__am
+-, 
+-__off
+-, 
+-__wh
+-);
+-
+-718 

+-	$l
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-723 

+-	`wd
+- (
+-FILE
+- *
+-__am
+-);
+-
+-730 #i
+-defed
+- 
+-__USE_LARGEFILE
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-731 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-736 

+-	`feko
+- (
+-FILE
+- *
+-__am
+-, 
+-__off_t
+- 
+-__off
+-, 
+-__wh
+-);
+-
+-741 
+-__off_t
+- 
+-	$lo
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-743 #ifde
+-__REDIRECT
+-
+-
+-744 

+-	`__REDIRECT
+- (
+-feko
+-,
+-
+-745 (
+-FILE
+- *
+-__am
+-, 
+-__off64_t
+- 
+-__off
+-, 
+-__wh
+-),
+-
+-746 
+-feko64
+-);
+-
+-747 
+-__off64_t
+- 
+-	`__REDIRECT
+- (
+-lo
+-, (
+-FILE
+- *
+-__am
+-), 
+-lo64
+-);
+-
+-749 
+-	#feko
+- 
+-feko64
+-
+-
+-	)
+-
+-750 
+-	#lo
+- 
+-lo64
+-
+-
+-	)
+-
+-755 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-760 

+-	`fgpos
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, 
+-os_t
+- *__ri 
+-__pos
+-);
+-
+-765 

+-	`fos
+- (
+-FILE
+- *
+-__am
+-, c 
+-os_t
+- *
+-__pos
+-);
+-
+-767 #ifde
+-__REDIRECT
+-
+-
+-768 

+-	`__REDIRECT
+- (
+-fgpos
+-, (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-769 
+-os_t
+- *
+-__ri
+- 
+-__pos
+-), 
+-fgpos64
+-);
+-
+-770 

+-	`__REDIRECT
+- (
+-fos
+-,
+-
+-771 (
+-FILE
+- *
+-__am
+-, c 
+-os_t
+- *
+-__pos
+-), 
+-fos64
+-);
+-
+-773 
+-	#fgpos
+- 
+-fgpos64
+-
+-
+-	)
+-
+-774 
+-	#fos
+- 
+-fos64
+-
+-
+-	)
+-
+-778 #ifde
+-__USE_LARGEFILE64
+-
+-
+-779 

+-	`feko64
+- (
+-FILE
+- *
+-__am
+-, 
+-__off64_t
+- 
+-__off
+-, 
+-__wh
+-);
+-
+-780 
+-__off64_t
+- 
+-	$lo64
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-781 

+-	`fgpos64
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, 
+-os64_t
+- *__ri 
+-__pos
+-);
+-
+-782 

+-	`fos64
+- (
+-FILE
+- *
+-__am
+-, c 
+-os64_t
+- *
+-__pos
+-);
+-
+-786 

+-	$
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-788 

+-	$of
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-790 

+-	$
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-792 #ifde
+-__USE_MISC
+-
+-
+-794 

+-	$_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-795 

+-	$of_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-796 

+-	$_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-804 

+-	`
+- (c *
+-__s
+-);
+-
+-807 #ifdef 
+-__USE_POSIX
+-
+-
+-809 

+-	$fo
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-812 #ifde
+-__USE_MISC
+-
+-
+-814 

+-	$fo_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-818 #ifde
+-__USE_POSIX2
+-
+-
+-823 

+-	`po
+- (
+-FILE
+- *
+-__am
+-);
+-
+-829 
+-FILE
+- *
+-	$p
+- (c *
+-__commd
+-, c *
+-__modes
+-)
+-
+-830 
+-__ibu_mloc__
+- 
+-	$___doc
+- (
+-po
+-, 1
+-__wur
+-;
+-
+-835 #ifdef 
+-__USE_POSIX
+-
+-
+-837 
*
+-	$mid
+- (*
+-__s
+-
+-__THROW
+-
+-
+-838 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-842 #i(
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-|| defed 
+-__USE_GNU
+-
+-
+-844 
*
+-	$curid
+- (*
+-__s
+-)
+-
+-845 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-849 #ifdef 
+-__USE_GNU
+-
+-
+-850 
+-oback
+-;
+-
+-853 

+-	$oback_tf
+- (
+-oback
+- *
+-__ri
+- 
+-__oback
+-,
+-
+-854 c *
+-__ri
+- 
+-__fm
+-, ...)
+-
+-855 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 3)));
+-
+-856 

+-	$oback_vtf
+- (
+-oback
+- *
+-__ri
+- 
+-__oback
+-,
+-
+-857 c *
+-__ri
+- 
+-__fm
+-,
+-
+-858 
+-__gnuc_va_li
+- 
+-__gs
+-)
+-
+-859 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 0)));
+-
+-863 #ifde
+-__USE_POSIX199506
+-
+-
+-867 

+-	$ockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-871 

+-	$rylockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-874 

+-	$fuockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-877 #i
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+- && !defed 
+-__USE_GNU
+-
+-
+-880 
+-	~<bs/gt_posix.h
+->
+-
+-885 

+-	`__uow
+- (
+-FILE
+- *);
+-
+-886 

+-	`__ovow
+- (
+-FILE
+- *, );
+-
+-890 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-891 
+-	~<bs/dio.h
+->
+-
+-893 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-894 
+-	~<bs/dio2.h
+->
+-
+-897 
+-	~<bs/.h
+->
+-
+-898 #i
+-defed
+- 
+-__LDBL_COMPAT
+- || 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 1
+-
+-899 
+-	~<bs/dio-ldbl.h
+->
+-
+-902 
+-__END_DECLS
+-
+-
+-	@/usr/include/stdlib.h
+-
+-23 #idef 
+-_STDLIB_H
+-
+-
+-25 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-26 
+-	~<bs/libc-hd-t.h
+->
+-
+-29 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-30 
+-	#__ed_wch_t
+-
+-
+-	)
+-
+-31 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-32 
+-	~<ddef.h
+->
+-
+-34 
+-	g__BEGIN_DECLS
+-
+-
+-36 
+-	#_STDLIB_H
+- 1
+-
+-	)
+-
+-38 #i(
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K8
+-&& !defed 
+-_SYS_WAIT_H
+-
+-
+-40 
+-	~<bs/waags.h
+->
+-
+-41 
+-	~<bs/waus.h
+->
+-
+-44 
+-	#WEXITSTATUS
+-(
+-us
+-
+-	`__WEXITSTATUS
+- (us)
+-
+-	)
+-
+-45 
+-	#WTERMSIG
+-(
+-us
+-
+-	`__WTERMSIG
+- (us)
+-
+-	)
+-
+-46 
+-	#WSTOPSIG
+-(
+-us
+-
+-	`__WSTOPSIG
+- (us)
+-
+-	)
+-
+-47 
+-	#WIFEXITED
+-(
+-us
+-
+-	`__WIFEXITED
+- (us)
+-
+-	)
+-
+-48 
+-	#WIFSIGNALED
+-(
+-us
+-
+-	`__WIFSIGNALED
+- (us)
+-
+-	)
+-
+-49 
+-	#WIFSTOPPED
+-(
+-us
+-
+-	`__WIFSTOPPED
+- (us)
+-
+-	)
+-
+-50 #ifde
+-__WIFCONTINUED
+-
+-
+-51 
+-	#WIFCONTINUED
+-(
+-us
+-
+-	`__WIFCONTINUED
+- (us)
+-
+-	)
+-
+-56 
+-	~<bs/.h
+->
+-
+-61 
+-	mqu
+-;
+-
+-62 
+-	mm
+-;
+-
+-63 } 
+-	tdiv_t
+-;
+-
+-66 #ide
+-__ldiv_t_defed
+-
+-
+-69 
+-	mqu
+-;
+-
+-70 
+-	mm
+-;
+-
+-71 } 
+-	tldiv_t
+-;
+-
+-72 
+-	#__ldiv_t_defed
+- 1
+-
+-	)
+-
+-75 #i
+-defed
+- 
+-__USE_ISOC99
+- && !defed 
+-__div_t_defed
+-
+-
+-77 
+-__exnsi__
+- struct
+-
+-79 
+-	mqu
+-;
+-
+-80 
+-	mm
+-;
+-
+-81 } 
+-	tdiv_t
+-;
+-
+-82 
+-	#__div_t_defed
+- 1
+-
+-	)
+-
+-87 
+-	#RAND_MAX
+- 2147483647
+-
+-	)
+-
+-92 
+-	#EXIT_FAILURE
+- 1
+-
+-	)
+-
+-93 
+-	#EXIT_SUCCESS
+- 0
+-
+-	)
+-
+-97 
+-	#MB_CUR_MAX
+- (
+-	`__y_g_mb_cur_max
+- ())
+-
+-	)
+-
+-98 
+-size_t
+- 
+-	$__y_g_mb_cur_max
+- (
+-__THROW
+- 
+-__wur
+-;
+-
+-102 

+-	$of
+- (c *
+-__
+-)
+-
+-103 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-105 

+-	$oi
+- (c *
+-__
+-)
+-
+-106 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-108 

+-	$
+- (c *
+-__
+-)
+-
+-109 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-111 #ifde
+-__USE_ISOC99
+-
+-
+-113 
+-__exnsi__
+- 

+-	$l
+- (c *
+-__
+-)
+-
+-114 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-118 

+-	$od
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-119 **
+-__ri
+- 
+-__dr
+-)
+-
+-120 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-122 #ifdef 
+-__USE_ISOC99
+-
+-
+-124 

+-	$of
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-125 **
+-__ri
+- 
+-__dr
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-127 

+-	$d
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-128 **
+-__ri
+- 
+-__dr
+-)
+-
+-129 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-134 #i
+-__HAVE_FLOAT16
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-135 
+-_Flt16
+- 
+-	$of16
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-136 **
+-__ri
+- 
+-__dr
+-)
+-
+-137 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-140 #i
+-__HAVE_FLOAT32
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-141 
+-_Flt32
+- 
+-	$of32
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-142 **
+-__ri
+- 
+-__dr
+-)
+-
+-143 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-146 #i
+-__HAVE_FLOAT64
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-147 
+-_Flt64
+- 
+-	$of64
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-148 **
+-__ri
+- 
+-__dr
+-)
+-
+-149 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-152 #i
+-__HAVE_FLOAT128
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-153 
+-_Flt128
+- 
+-	$of128
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-154 **
+-__ri
+- 
+-__dr
+-)
+-
+-155 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-158 #i
+-__HAVE_FLOAT32X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-159 
+-_Flt32x
+- 
+-	$of32x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-160 **
+-__ri
+- 
+-__dr
+-)
+-
+-161 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-164 #i
+-__HAVE_FLOAT64X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-165 
+-_Flt64x
+- 
+-	$of64x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-166 **
+-__ri
+- 
+-__dr
+-)
+-
+-167 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-170 #i
+-__HAVE_FLOAT128X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-171 
+-_Flt128x
+- 
+-	$of128x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-172 **
+-__ri
+- 
+-__dr
+-)
+-
+-173 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-177 

+-	$
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-178 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-179 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-181 

+-	$oul
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-182 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-183 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-185 #ifde
+-__USE_MISC
+-
+-
+-187 
+-__exnsi__
+-
+-
+-188 

+-	$oq
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-189 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-190 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-192 
+-__exnsi__
+-
+-
+-193 

+-	$ouq
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-194 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-195 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-198 #ifde
+-__USE_ISOC99
+-
+-
+-200 
+-__exnsi__
+-
+-
+-201 

+-	$l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-202 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-203 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-205 
+-__exnsi__
+-
+-
+-206 

+-	$ou
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-207 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-208 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-212 #i
+-	`__GLIBC_USE
+- (
+-IEC_60559_BFP_EXT_C2X
+-)
+-
+-213 

+-	$romd
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-214 
+-__f
+-)
+-
+-215 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-217 

+-	$romf
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-218 
+-__f
+-)
+-
+-219 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-221 

+-	$roml
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-222 
+-__f
+-)
+-
+-223 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-226 #i
+-__HAVE_FLOAT16
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-227 

+-	$romf16
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-228 
+-_Flt16
+- 
+-__f
+-)
+-
+-229 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-232 #i
+-__HAVE_FLOAT32
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-233 

+-	$romf32
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-234 
+-_Flt32
+- 
+-__f
+-)
+-
+-235 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-238 #i
+-__HAVE_FLOAT64
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-239 

+-	$romf64
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-240 
+-_Flt64
+- 
+-__f
+-)
+-
+-241 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-244 #i
+-__HAVE_FLOAT128
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-245 

+-	$romf128
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-246 
+-_Flt128
+- 
+-__f
+-)
+-
+-247 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-250 #i
+-__HAVE_FLOAT32X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-251 

+-	$romf32x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-252 
+-_Flt32x
+- 
+-__f
+-)
+-
+-253 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-256 #i
+-__HAVE_FLOAT64X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-257 

+-	$romf64x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-258 
+-_Flt64x
+- 
+-__f
+-)
+-
+-259 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-262 #i
+-__HAVE_FLOAT128X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-263 

+-	$romf128x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-264 
+-_Flt128x
+- 
+-__f
+-)
+-
+-265 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-269 #ifde
+-__USE_GNU
+-
+-
+-273 
+-	~<bs/tys/lo_t.h
+->
+-
+-275 

+-	$_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-276 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-,
+-
+-277 
+-lo_t
+- 
+-__loc
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-279 

+-	$oul_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-280 **
+-__ri
+- 
+-__dr
+-,
+-
+-281 
+-__ba
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-282 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-284 
+-__exnsi__
+-
+-
+-285 

+-	$l_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-286 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-,
+-
+-287 
+-lo_t
+- 
+-__loc
+-)
+-
+-288 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-290 
+-__exnsi__
+-
+-
+-291 

+-	$ou_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-292 **
+-__ri
+- 
+-__dr
+-,
+-
+-293 
+-__ba
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-294 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-296 

+-	$od_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-297 **
+-__ri
+- 
+-__dr
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-298 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-300 

+-	$of_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-301 **
+-__ri
+- 
+-__dr
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-302 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-304 

+-	$d_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-305 **
+-__ri
+- 
+-__dr
+-,
+-
+-306 
+-lo_t
+- 
+-__loc
+-)
+-
+-307 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-309 #i
+-__HAVE_FLOAT16
+-
+-
+-310 
+-_Flt16
+- 
+-	$of16_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-311 **
+-__ri
+- 
+-__dr
+-,
+-
+-312 
+-lo_t
+- 
+-__loc
+-)
+-
+-313 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-316 #i
+-__HAVE_FLOAT32
+-
+-
+-317 
+-_Flt32
+- 
+-	$of32_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-318 **
+-__ri
+- 
+-__dr
+-,
+-
+-319 
+-lo_t
+- 
+-__loc
+-)
+-
+-320 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-323 #i
+-__HAVE_FLOAT64
+-
+-
+-324 
+-_Flt64
+- 
+-	$of64_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-325 **
+-__ri
+- 
+-__dr
+-,
+-
+-326 
+-lo_t
+- 
+-__loc
+-)
+-
+-327 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-330 #i
+-__HAVE_FLOAT128
+-
+-
+-331 
+-_Flt128
+- 
+-	$of128_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-332 **
+-__ri
+- 
+-__dr
+-,
+-
+-333 
+-lo_t
+- 
+-__loc
+-)
+-
+-334 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-337 #i
+-__HAVE_FLOAT32X
+-
+-
+-338 
+-_Flt32x
+- 
+-	$of32x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-339 **
+-__ri
+- 
+-__dr
+-,
+-
+-340 
+-lo_t
+- 
+-__loc
+-)
+-
+-341 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-344 #i
+-__HAVE_FLOAT64X
+-
+-
+-345 
+-_Flt64x
+- 
+-	$of64x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-346 **
+-__ri
+- 
+-__dr
+-,
+-
+-347 
+-lo_t
+- 
+-__loc
+-)
+-
+-348 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-351 #i
+-__HAVE_FLOAT128X
+-
+-
+-352 
+-_Flt128x
+- 
+-	$of128x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-353 **
+-__ri
+- 
+-__dr
+-,
+-
+-354 
+-lo_t
+- 
+-__loc
+-)
+-
+-355 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-360 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-361 
+-__ex_le
+- 
+-
+-362 
+-	`__NTH
+- (
+-	$oi
+- (c *
+-__
+-))
+-
+-364  (
+-	`
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-365 
+-	}
+-}
+-
+-366 
+-__ex_le
+- 
+-
+-367 
+-__NTH
+- (
+-	$
+- (c *
+-__
+-))
+-
+-369  
+-	`
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-370 
+-	}
+-}
+-
+-372 #ifde
+-__USE_ISOC99
+-
+-
+-373 
+-__exnsi__
+- 
+-__ex_le
+- 
+-
+-374 
+-__NTH
+- (
+-	$l
+- (c *
+-__
+-))
+-
+-376  
+-	`l
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-377 
+-	}
+-}
+-
+-382 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-386 
*
+-	$l64a
+- (
+-__n
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-389 

+-	$a64l
+- (c *
+-__s
+-)
+-
+-390 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-394 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-395 
+-	~<sys/tys.h
+->
+-
+-402 

+-	$ndom
+- (
+-__THROW
+-;
+-
+-405 

+-	$dom
+- (
+-__ed
+-
+-__THROW
+-;
+-
+-411 
*
+-	$e
+- (
+-__ed
+-, *
+-__ebuf
+-,
+-
+-412 
+-size_t
+- 
+-__
+-
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-416 
*
+-	$te
+- (*
+-__ebuf
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-419 #ifde
+-__USE_MISC
+-
+-
+-424 
+-	sndom_da
+-
+-
+-426 
+-t32_t
+- *
+-
+-;
+-
+-427 
+-t32_t
+- *
+-
+-;
+-
+-428 
+-t32_t
+- *
+-e
+-;
+-
+-429 
+-nd_ty
+-;
+-
+-430 
+-nd_deg
+-;
+-
+-431 
+-nd_p
+-;
+-
+-432 
+-t32_t
+- *
+-d_r
+-;
+-
+-435 

+-	$ndom_r
+- (
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-,
+-
+-436 
+-t32_t
+- *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-438 

+-	$dom_r
+- (
+-__ed
+-, 
+-ndom_da
+- *
+-__buf
+-)
+-
+-439 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-441 

+-	$e_r
+- (
+-__ed
+-, *
+-__ri
+- 
+-__ebuf
+-,
+-
+-442 
+-size_t
+- 
+-__
+-,
+-
+-443 
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-)
+-
+-444 
+-__THROW
+- 
+-	`__nnu
+- ((2, 4));
+-
+-446 

+-	$te_r
+- (*
+-__ri
+- 
+-__ebuf
+-,
+-
+-447 
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-)
+-
+-448 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-454 

+-	$nd
+- (
+-__THROW
+-;
+-
+-456 

+-	$d
+- (
+-__ed
+-
+-__THROW
+-;
+-
+-458 #ifde
+-__USE_POSIX199506
+-
+-
+-460 

+-	$nd_r
+- (*
+-__ed
+-
+-__THROW
+-;
+-
+-464 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-468 

+-	$dnd48
+- (
+-__THROW
+-;
+-
+-469 

+-	$d48
+- (
+-__xsubi
+-[3]
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-472 

+-	$d48
+- (
+-__THROW
+-;
+-
+-473 

+-	$d48
+- (
+-__xsubi
+-[3])
+-
+-474 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-477 

+-	$mnd48
+- (
+-__THROW
+-;
+-
+-478 

+-	$jnd48
+- (
+-__xsubi
+-[3])
+-
+-479 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-482 

+-	$d48
+- (
+-__edv
+-
+-__THROW
+-;
+-
+-483 
*
+-	$ed48
+- (
+-__ed16v
+-[3])
+-
+-484 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-485 

+-	$lcg48
+- (
+-__m
+-[7]
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-487 #ifde
+-__USE_MISC
+-
+-
+-491 
+-	sdnd48_da
+-
+-
+-493 
+-__x
+-[3];
+-
+-494 
+-__d_x
+-[3];
+-
+-495 
+-__c
+-;
+-
+-496 
+-__
+-;
+-
+-497 
+-__exnsi__
+- 
+-__a
+-;
+-
+-502 

+-	$dnd48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-503 *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-504 

+-	$d48_r
+- (
+-__xsubi
+-[3],
+-
+-505 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-506 *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-509 

+-	$d48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-510 *
+-__ri
+- 
+-__su
+-)
+-
+-511 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-512 

+-	$d48_r
+- (
+-__xsubi
+-[3],
+-
+-513 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-514 *
+-__ri
+- 
+-__su
+-)
+-
+-515 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-518 

+-	$mnd48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-519 *
+-__ri
+- 
+-__su
+-)
+-
+-520 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-521 

+-	$jnd48_r
+- (
+-__xsubi
+-[3],
+-
+-522 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-523 *
+-__ri
+- 
+-__su
+-)
+-
+-524 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-527 

+-	$d48_r
+- (
+-__edv
+-, 
+-dnd48_da
+- *
+-__bufr
+-)
+-
+-528 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-530 

+-	$ed48_r
+- (
+-__ed16v
+-[3],
+-
+-531 
+-dnd48_da
+- *
+-__bufr
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-533 

+-	$lcg48_r
+- (
+-__m
+-[7],
+-
+-534 
+-dnd48_da
+- *
+-__bufr
+-)
+-
+-535 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-540 
*
+-	$mloc
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__ibu_mloc__
+-
+-
+-541 
+-	`__ibu_loc_size__
+- ((1)
+-__wur
+-;
+-
+-543 
*
+-	$oc
+- (
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-544 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__ibu_loc_size__
+- ((1, 2)
+-__wur
+-;
+-
+-551 
*
+-	$loc
+- (*
+-__r
+-, 
+-size_t
+- 
+-__size
+-)
+-
+-552 
+-__THROW
+- 
+-__ibu_wn_unud_su__
+- 
+-	`__ibu_loc_size__
+- ((2));
+-
+-555 

+-	$
+- (*
+-__r
+-
+-__THROW
+-;
+-
+-557 #ifde
+-__USE_MISC
+-
+-
+-563 
*
+-	$loay
+- (*
+-__r
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-564 
+-__THROW
+- 
+-__ibu_wn_unud_su__
+-
+-
+-565 
+-	`__ibu_loc_size__
+- ((2, 3))
+-
+-566 
+-___doc_
+-;
+-
+-569 
*
+-	$loay
+- (*
+-__r
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-570 
+-__THROW
+- 
+-	`___doc
+- (
+-loay
+-, 1);
+-
+-573 #ifde
+-__USE_MISC
+-
+-
+-574 
+-	~<lo.h
+->
+-
+-577 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-) \
+-
+-578 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-580 
*
+-	$vloc
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__ibu_mloc__
+-
+-
+-581 
+-	`__ibu_loc_size__
+- ((1)
+-__wur
+-;
+-
+-584 #ifde
+-__USE_XOPEN2K
+-
+-
+-586 

+-	$posix_memign
+- (**
+-__memr
+-, 
+-size_t
+- 
+-__ignmt
+-, size_
+-__size
+-)
+-
+-587 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-590 #ifde
+-__USE_ISOC11
+-
+-
+-592 
*
+-	$igd_loc
+- (
+-size_t
+- 
+-__ignmt
+-, size_
+-__size
+-)
+-
+-593 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__ibu_loc_ign__
+- ((1))
+-
+-594 
+-	`__ibu_loc_size__
+- ((2)
+-__wur
+-;
+-
+-598 

+-	$abt
+- (
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-602 

+-	$ex
+- ((*
+-__func
+-()
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-604 #i
+-defed
+- 
+-__USE_ISOC11
+- || defed 
+-__USE_ISOCXX11
+-
+-
+-606 #ifde
+-__lulus
+-
+-
+-607 
"C++" 
+-	$_quick_ex
+- ((*
+-__func
+-) ())
+-
+-608 
+-__THROW
+- 
+-	`__asm
+- ("_quick_ex"
+-	`__nnu
+- ((1));
+-
+-610 

+-	$_quick_ex
+- ((*
+-__func
+-()
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-614 #ifdef 
+-__USE_MISC
+-
+-
+-617 

+-	$_ex
+- ((*
+-__func
+-(
+-__us
+-, *
+-__g
+-), *__arg)
+-
+-618 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-624 

+-	$ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-626 #i
+-defed
+- 
+-__USE_ISOC11
+- || defed 
+-__USE_ISOCXX11
+-
+-
+-630 

+-	$quick_ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-633 #ifde
+-__USE_ISOC99
+-
+-
+-636 

+-	$_Ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-641 
*
+-	$gv
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-643 #ifde
+-__USE_GNU
+-
+-
+-646 
*
+-	$cu_gv
+- (c *
+-__me
+-)
+-
+-647 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-650 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-654 

+-	$punv
+- (*
+-__rg
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-657 #ifde
+-__USE_XOPEN2K
+-
+-
+-660 

+-	$nv
+- (c *
+-__me
+-, c *
+-__vue
+-, 
+-__a
+-)
+-
+-661 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-664 

+-	$unnv
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-667 #ifdef 
+-__USE_MISC
+-
+-
+-671 

+-	$nv
+- (
+-__THROW
+-;
+-
+-675 #i
+-defed
+- 
+-__USE_MISC
+- \
+-
+-676 || (
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-)
+-
+-682 
*
+-	$mkmp
+- (*
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-685 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-694 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-695 

+-	$mkemp
+- (*
+-__me
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-697 #ifde
+-__REDIRECT
+-
+-
+-698 

+-	`__REDIRECT
+- (
+-mkemp
+-, (*
+-__me
+-), 
+-mkemp64
+-)
+-
+-699 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-701 
+-	#mkemp
+- 
+-mkemp64
+-
+-
+-	)
+-
+-704 #ifde
+-__USE_LARGEFILE64
+-
+-
+-705 

+-	$mkemp64
+- (*
+-__me
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-709 #ifde
+-__USE_MISC
+-
+-
+-716 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-717 

+-	$mkemps
+- (*
+-__me
+-, 
+-__suffixn
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-719 #ifde
+-__REDIRECT
+-
+-
+-720 

+-	`__REDIRECT
+- (
+-mkemps
+-, (*
+-__me
+-, 
+-__suffixn
+-),
+-
+-721 
+-mkemps64
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-723 
+-	#mkemps
+- 
+-mkemps64
+-
+-
+-	)
+-
+-726 #ifde
+-__USE_LARGEFILE64
+-
+-
+-727 

+-	$mkemps64
+- (*
+-__me
+-, 
+-__suffixn
+-)
+-
+-728 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-732 #ifde
+-__USE_XOPEN2K8
+-
+-
+-738 
*
+-	$mkdmp
+- (*
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-741 #ifde
+-__USE_GNU
+-
+-
+-748 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-749 

+-	$mkoemp
+- (*
+-__me
+-, 
+-__ags
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-751 #ifde
+-__REDIRECT
+-
+-
+-752 

+-	`__REDIRECT
+- (
+-mkoemp
+-, (*
+-__me
+-, 
+-__ags
+-), 
+-mkoemp64
+-)
+-
+-753 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-755 
+-	#mkoemp
+- 
+-mkoemp64
+-
+-
+-	)
+-
+-758 #ifde
+-__USE_LARGEFILE64
+-
+-
+-759 

+-	$mkoemp64
+- (*
+-__me
+-, 
+-__ags
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-768 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-769 

+-	$mkoemps
+- (*
+-__me
+-, 
+-__suffixn
+-, 
+-__ags
+-)
+-
+-770 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-772 #ifde
+-__REDIRECT
+-
+-
+-773 

+-	`__REDIRECT
+- (
+-mkoemps
+-, (*
+-__me
+-, 
+-__suffixn
+-,
+-
+-774 
+-__ags
+-), 
+-mkoemps64
+-)
+-
+-775 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-777 
+-	#mkoemps
+- 
+-mkoemps64
+-
+-
+-	)
+-
+-780 #ifde
+-__USE_LARGEFILE64
+-
+-
+-781 

+-	$mkoemps64
+- (*
+-__me
+-, 
+-__suffixn
+-, 
+-__ags
+-)
+-
+-782 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-791 

+-	$syem
+- (c *
+-__commd
+-
+-__wur
+-;
+-
+-794 #ifdef 
+-__USE_GNU
+-
+-
+-797 
*
+-	$nilize_fe_me
+- (c *
+-__me
+-)
+-
+-798 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__ibu_mloc__
+-
+-
+-799 
+-___doc_
+- 
+-__wur
+-;
+-
+-802 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-808 
*
+-	$th
+- (c *
+-__ri
+- 
+-__me
+-,
+-
+-809 *
+-__ri
+- 
+-__sved
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-814 #ide
+-__COMPAR_FN_T
+-
+-
+-815 
+-	#__COMPAR_FN_T
+-
+-
+-	)
+-
+-816 (*
+-	t__comr__t
+-) (const *, const *);
+-
+-818 #ifdef 
+-__USE_GNU
+-
+-
+-819 
+-__comr__t
+- 
+-	tcomris__t
+-;
+-
+-822 #ifde
+-__USE_GNU
+-
+-
+-823 (*
+-	t__comr_d__t
+-) (const *, const *, *);
+-
+-828 
*
+-	$bch
+- (c *
+-__key
+-, c *
+-__ba
+-,
+-
+-829 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-, 
+-__comr__t
+- 
+-__comr
+-)
+-
+-830 
+-	`__nnu
+- ((1, 2, 5)
+-__wur
+-;
+-
+-832 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-833 
+-	~<bs/dlib-bch.h
+->
+-
+-838 

+-	$qst
+- (*
+-__ba
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-,
+-
+-839 
+-__comr__t
+- 
+-__comr
+-
+-	`__nnu
+- ((1, 4));
+-
+-840 #ifde
+-__USE_GNU
+-
+-
+-841 

+-	$qst_r
+- (*
+-__ba
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-,
+-
+-842 
+-__comr_d__t
+- 
+-__comr
+-, *
+-__g
+-)
+-
+-843 
+-	`__nnu
+- ((1, 4));
+-
+-848 

+-	$abs
+- (
+-__x
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-849 

+-	$bs
+- (
+-__x
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-851 #ifde
+-__USE_ISOC99
+-
+-
+-852 
+-__exnsi__
+- 

+-	$abs
+- (
+-__x
+-)
+-
+-853 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-860 
+-div_t
+- 
+-	$div
+- (
+-__num
+-, 
+-__dom
+-)
+-
+-861 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-862 
+-ldiv_t
+- 
+-	$ldiv
+- (
+-__num
+-, 
+-__dom
+-)
+-
+-863 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-865 #ifde
+-__USE_ISOC99
+-
+-
+-866 
+-__exnsi__
+- 
+-div_t
+- 
+-	$div
+- (
+-__num
+-,
+-
+-867 
+-__dom
+-)
+-
+-868 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-872 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-873 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-880 
*
+-	$ecvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-881 *
+-__ri
+- 
+-__sign
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-886 
*
+-	$fcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-887 *
+-__ri
+- 
+-__sign
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-892 
*
+-	$gcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__buf
+-)
+-
+-893 
+-__THROW
+- 
+-	`__nnu
+- ((3)
+-__wur
+-;
+-
+-896 #ifde
+-__USE_MISC
+-
+-
+-898 
*
+-	$qecvt
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-899 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-)
+-
+-900 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-901 
*
+-	$qfcvt
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-902 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-)
+-
+-903 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-904 
*
+-	$qgcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__buf
+-)
+-
+-905 
+-__THROW
+- 
+-	`__nnu
+- ((3)
+-__wur
+-;
+-
+-910 

+-	$ecvt_r
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-911 *
+-__ri
+- 
+-__sign
+-, *__ri 
+-__buf
+-,
+-
+-912 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-913 

+-	$fcvt_r
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-914 *
+-__ri
+- 
+-__sign
+-, *__ri 
+-__buf
+-,
+-
+-915 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-917 

+-	$qecvt_r
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-918 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-,
+-
+-919 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-920 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-921 

+-	$qfcvt_r
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-922 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-,
+-
+-923 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-924 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-930 

+-	$mbn
+- (c *
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-933 

+-	$mbtowc
+- (
+-wch_t
+- *
+-__ri
+- 
+-__pwc
+-,
+-
+-934 c *
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-937 

+-	$womb
+- (*
+-__s
+-, 
+-wch_t
+- 
+-__wch
+-
+-__THROW
+-;
+-
+-941 
+-size_t
+- 
+-	$mbowcs
+- (
+-wch_t
+- *
+-__ri
+- 
+-__pwcs
+-,
+-
+-942 c *
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-943 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2));
+-
+-945 
+-size_t
+- 
+-	$wcombs
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-946 c 
+-wch_t
+- *
+-__ri
+- 
+-__pwcs
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-947 
+-__THROW
+-
+-
+-948 
+-	$__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 3)
+-
+-949 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2));
+-
+-951 #ifde
+-__USE_MISC
+-
+-
+-956 

+-	$mch
+- (c *
+-__
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-960 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-967 

+-	$gsubt
+- (**
+-__ri
+- 
+-__tip
+-,
+-
+-968 *c *
+-__ri
+- 
+-__toks
+-,
+-
+-969 **
+-__ri
+- 
+-__vu
+-)
+-
+-970 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2, 3)
+-__wur
+-;
+-
+-976 #ifde
+-__USE_XOPEN2KXSI
+-
+-
+-978 

+-	$posix_
+- (
+-__oag
+-
+-__wur
+-;
+-
+-981 #ifde
+-__USE_XOPEN_EXTENDED
+-
+-
+-986 

+-	$g
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-990 

+-	$uock
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-995 
*
+-	$ame
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-998 #ifde
+-__USE_GNU
+-
+-
+-1002 

+-	$ame_r
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-1003 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-1006 

+-	`g
+- ();
+-
+-1009 #ifde
+-__USE_MISC
+-
+-
+-1013 

+-	$gldavg
+- (
+-__ldavg
+-[], 
+-__m
+-)
+-
+-1014 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-1017 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1020 

+-	$y
+- (
+-__THROW
+-;
+-
+-1023 
+-	~<bs/dlib-t.h
+->
+-
+-1026 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-1027 
+-	~<bs/dlib.h
+->
+-
+-1030 
+-	~<bs/.h
+->
+-
+-1031 #i
+-defed
+- 
+-__LDBL_COMPAT
+- || 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 1
+-
+-1032 
+-	~<bs/dlib-ldbl.h
+->
+-
+-1035 
+-__END_DECLS
+-
+-
+-	@/usr/include/string.h
+-
+-22 #idef 
+-_STRING_H
+-
+-
+-23 
+-	#_STRING_H
+- 1
+-
+-	)
+-
+-25 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-26 
+-	~<bs/libc-hd-t.h
+->
+-
+-28 
+-	g__BEGIN_DECLS
+-
+-
+-31 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-32 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-33 
+-	~<ddef.h
+->
+-
+-36 #i
+-defed
+- 
+-__lulus
+- && (
+-__GNUC_PREREQ
+- (4, 4) \
+-
+-37 || 
+-	$__glibc_g_eq
+- (3, 5))
+-
+-38 
+-	#__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-	)
+-
+-43 
*
+-	$memy
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-44 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-47 
*
+-	$memmove
+- (*
+-__de
+-, c *
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-48 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-53 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+- || 
+-	`__GLIBC_USE
+- (
+-ISOC2X
+-)
+-
+-54 
*
+-	$memcy
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-55 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-56 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 4));
+-
+-61 
*
+-	$memt
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-64 

+-	$memcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-65 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-80 

+-	$__memcmq
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-81 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-84 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-87 
*
+-	`memchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-88 
+-__THROW
+- 
+-	`__asm
+- ("memchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-89 
c *
+-	`memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-90 
+-__THROW
+- 
+-	`__asm
+- ("memchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-92 #ifde
+-__OPTIMIZE__
+-
+-
+-93 
+-__ex_ways_le
+- *
+-
+-94 
+-	`memchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-96  
+-	`__but_memchr
+- (
+-__s
+-, 
+-__c
+-, 
+-__n
+-);
+-
+-99 
+-__ex_ways_le
+- const *
+-
+-100 
+-	`memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-102  
+-	`__but_memchr
+- (
+-__s
+-, 
+-__c
+-, 
+-__n
+-);
+-
+-105 
+-	}
+-}
+-
+-107 
*
+-	$memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-108 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-111 #ifde
+-__USE_GNU
+-
+-
+-114 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-115 
"C++" *
+-	$wmemchr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-116 
+-__THROW
+- 
+-	`__asm
+- ("wmemchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-117 
"C++" c *
+-	$wmemchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-118 
+-__THROW
+- 
+-	`__asm
+- ("wmemchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-120 
*
+-	$wmemchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-121 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-125 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-126 
"C++" *
+-	$memrchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-127 
+-__THROW
+- 
+-	`__asm
+- ("memrchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-128 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-129 
"C++" c *
+-	$memrchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-130 
+-__THROW
+- 
+-	`__asm
+- ("memrchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-131 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-133 
*
+-	$memrchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-134 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-135 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-141 
*
+-	$ry
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-142 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-144 
*
+-	$y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-145 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-146 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-149 
*
+-	$rt
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-150 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-152 
*
+-	$t
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-153 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-156 

+-	$rcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-157 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-159 

+-	$cmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-160 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-163 

+-	$rcl
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-164 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-166 
+-size_t
+- 
+-	$rxm
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-167 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-168 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 3));
+-
+-170 #ifde
+-__USE_XOPEN2K8
+-
+-
+-172 
+-	~<bs/tys/lo_t.h
+->
+-
+-175 

+-	$rcl_l
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-lo_t
+- 
+-__l
+-)
+-
+-176 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 3));
+-
+-179 
+-size_t
+- 
+-	$rxm_l
+- (*
+-__de
+-, c *
+-__c
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-180 
+-lo_t
+- 
+-__l
+-
+-__THROW
+- 
+-	`__nnu
+- ((2, 4))
+-
+-181 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 3));
+-
+-184 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+- \
+-
+-185 || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-|| 
+-	$__GLIBC_USE
+- (
+-ISOC2X
+-))
+-
+-187 
*
+-	$rdup
+- (c *
+-__s
+-)
+-
+-188 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__nnu
+- ((1));
+-
+-194 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-|| __GLIBC_USE (
+-ISOC2X
+-)
+-
+-195 
*
+-	$dup
+- (c *
+-__rg
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-196 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__nnu
+- ((1));
+-
+-199 #i
+-defed
+- 
+-__USE_GNU
+- && defed 
+-__GNUC__
+-
+-
+-201 
+-	#rdu
+-(
+-s
+-) \
+-
+-202 (
+-__exnsi__
+- \
+-
+-204 c *
+-__d
+- = (
+-s
+-); \
+-
+-205 
+-size_t
+- 
+-__n
+- = 
+-	`
+- (
+-__d
+-) + 1; \
+-
+-206 *
+-__w
+- = (*
+-	`__but_lo
+- (
+-__n
+-); \
+-
+-207 (*
+-	`memy
+- (
+-__w
+-, 
+-__d
+-, 
+-__n
+-); \
+-
+-208 
+-	}
+-}))
+-
+-	)
+-
+-211 
+-	#du
+-(
+-s
+-, 
+-n
+-) \
+-
+-212 (
+-__exnsi__
+- \
+-
+-214 c *
+-__d
+- = (
+-s
+-); \
+-
+-215 
+-size_t
+- 
+-__n
+- = 
+-	`n
+- (
+-__d
+-, (
+-n
+-)); \
+-
+-216 *
+-__w
+- = (*
+-	`__but_lo
+- (
+-__n
+- + 1); \
+-
+-217 
+-__w
+-[
+-__n
+-] = '\0'; \
+-
+-218 (*
+-	`memy
+- (
+-__w
+-, 
+-__d
+-, 
+-__n
+-); \
+-
+-219 }))
+-
+-	)
+-
+-223 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-226 
*
+-rchr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-227 
+-__THROW
+- 
+-__asm
+- ("rchr"
+-__ibu_pu__
+- 
+-__nnu
+- ((1));
+-
+-228 
c *
+-rchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-229 
+-__THROW
+- 
+-__asm
+- ("rchr"
+-__ibu_pu__
+- 
+-__nnu
+- ((1));
+-
+-231 #ifde
+-__OPTIMIZE__
+-
+-
+-232 
+-__ex_ways_le
+- *
+-
+-233 
+-rchr
+- (*
+-__s
+-, 
+-__c
+-
+-	g__THROW
+-
+-
+-235  
+-__but_rchr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-238 
+-__ex_ways_le
+- const *
+-
+-239 
+-rchr
+- (c *
+-__s
+-, 
+-__c
+-
+-	g__THROW
+-
+-
+-241  
+-__but_rchr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-246 
*
+-	$rchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-247 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-250 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-253 
*
+-	`chr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-254 
+-__THROW
+- 
+-	`__asm
+- ("chr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-255 
c *
+-	`chr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-256 
+-__THROW
+- 
+-	`__asm
+- ("chr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-258 #ifde
+-__OPTIMIZE__
+-
+-
+-259 
+-__ex_ways_le
+- *
+-
+-260 
+-	`chr
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-262  
+-	`__but_chr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-265 
+-__ex_ways_le
+- const *
+-
+-266 
+-	`chr
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-268  
+-	`__but_chr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-271 
+-	}
+-}
+-
+-273 
*
+-	$chr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-274 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-277 #ifde
+-__USE_GNU
+-
+-
+-280 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-281 
"C++" *
+-	$rchul
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-282 
+-__THROW
+- 
+-	`__asm
+- ("rchul"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-283 
"C++" c *
+-	$rchul
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-284 
+-__THROW
+- 
+-	`__asm
+- ("rchul"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-286 
*
+-	$rchul
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-287 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-293 
+-size_t
+- 
+-	$rcn
+- (c *
+-__s
+-, c *
+-__je
+-)
+-
+-294 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-297 
+-size_t
+- 
+-	$rn
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-298 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-300 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-303 
*
+-	`brk
+- (*
+-__s
+-, c *
+-__ac
+-)
+-
+-304 
+-__THROW
+- 
+-	`__asm
+- ("brk"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-305 
c *
+-	`brk
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-306 
+-__THROW
+- 
+-	`__asm
+- ("brk"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-308 #ifde
+-__OPTIMIZE__
+-
+-
+-309 
+-__ex_ways_le
+- *
+-
+-310 
+-	`brk
+- (*
+-__s
+-, c *
+-__ac
+-
+-__THROW
+-
+-
+-312  
+-	`__but_brk
+- (
+-__s
+-, 
+-__ac
+-);
+-
+-315 
+-__ex_ways_le
+- const *
+-
+-316 
+-	`brk
+- (c *
+-__s
+-, c *
+-__ac
+-
+-__THROW
+-
+-
+-318  
+-	`__but_brk
+- (
+-__s
+-, 
+-__ac
+-);
+-
+-321 
+-	}
+-}
+-
+-323 
*
+-	$brk
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-324 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-327 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-330 
*
+-	`rr
+- (*
+-__hayack
+-, c *
+-__ed
+-)
+-
+-331 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-332 
c *
+-	`rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-333 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-335 #ifde
+-__OPTIMIZE__
+-
+-
+-336 
+-__ex_ways_le
+- *
+-
+-337 
+-	`rr
+- (*
+-__hayack
+-, c *
+-__ed
+-
+-__THROW
+-
+-
+-339  
+-	`__but_rr
+- (
+-__hayack
+-, 
+-__ed
+-);
+-
+-342 
+-__ex_ways_le
+- const *
+-
+-343 
+-	`rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-
+-__THROW
+-
+-
+-345  
+-	`__but_rr
+- (
+-__hayack
+-, 
+-__ed
+-);
+-
+-348 
+-	}
+-}
+-
+-350 
*
+-	$rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-351 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-356 
*
+-	$ok
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__dim
+-)
+-
+-357 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-361 
*
+-	$__ok_r
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-362 c *
+-__ri
+- 
+-__dim
+-,
+-
+-363 **
+-__ri
+- 
+-__ve_r
+-)
+-
+-364 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-365 #ifde
+-__USE_POSIX
+-
+-
+-366 
*
+-	$ok_r
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__dim
+-,
+-
+-367 **
+-__ri
+- 
+-__ve_r
+-)
+-
+-368 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-371 #ifde
+-__USE_GNU
+-
+-
+-373 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-374 
"C++" *
+-	$rr
+- (*
+-__hayack
+-, c *
+-__ed
+-)
+-
+-375 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-376 
"C++" c *
+-	$rr
+- (c *
+-__hayack
+-,
+-
+-377 c *
+-__ed
+-)
+-
+-378 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-380 
*
+-	$rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-381 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-385 #ifde
+-__USE_GNU
+-
+-
+-389 
*
+-	$memmem
+- (c *
+-__hayack
+-, 
+-size_t
+- 
+-__hayackn
+-,
+-
+-390 c *
+-__ed
+-, 
+-size_t
+- 
+-__edn
+-)
+-
+-391 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 3))
+-
+-392 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2))
+-
+-393 
+-	`___acss
+- ((
+-__ad_ly__
+-, 3, 4));
+-
+-397 
*
+-	$__mempy
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-398 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-399 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-400 
*
+-	$mempy
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-401 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-402 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-407 
+-size_t
+- 
+-	$
+- (c *
+-__s
+-)
+-
+-408 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-410 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-413 
+-size_t
+- 
+-	$n
+- (c *
+-__rg
+-, 
+-size_t
+- 
+-__maxn
+-)
+-
+-414 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-419 
*
+-	$
+- (
+-__um
+-
+-__THROW
+-;
+-
+-420 #ifde
+-__USE_XOPEN2K
+-
+-
+-428 #i
+-defed
+- 
+-__USE_XOPEN2K
+- && !defed 
+-__USE_GNU
+-
+-
+-431 #ifde
+-__REDIRECT_NTH
+-
+-
+-432 

+-	`__REDIRECT_NTH
+- (
+-_r
+-,
+-
+-433 (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-),
+-
+-434 
+-__xpg__r
+-
+-	`__nnu
+- ((2))
+-
+-435 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-437 

+-	$__xpg__r
+- (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-438 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-439 
+-	#_r
+- 
+-__xpg__r
+-
+-
+-	)
+-
+-444 
*
+-	$_r
+- (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-445 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+- 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-448 #ifde
+-__USE_GNU
+-
+-
+-450 
c *
+-	$desc_
+- (
+-__r
+-
+-__THROW
+-;
+-
+-452 
c *
+-	$me_
+- (
+-__r
+-
+-__THROW
+-;
+-
+-456 #ifde
+-__USE_XOPEN2K8
+-
+-
+-458 
*
+-	$_l
+- (
+-__um
+-, 
+-lo_t
+- 
+-__l
+-
+-__THROW
+-;
+-
+-461 #ifde
+-__USE_MISC
+-
+-
+-462 
+-	~<rgs.h
+->
+-
+-466 

+-	$exic_bzo
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-467 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-471 
*
+-	$rp
+- (**
+-__ri
+- 
+-__rgp
+-,
+-
+-472 c *
+-__ri
+- 
+-__dim
+-)
+-
+-473 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-476 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-478 
*
+-	$rsigl
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-480 #ifde
+-__USE_GNU
+-
+-
+-482 
c *
+-	$sigabbv_
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-485 
c *
+-	$sigdes_
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-489 
*
+-	$__py
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-490 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-491 
*
+-	$py
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-492 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-496 
*
+-	$__y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-497 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-498 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-499 
*
+-	$y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-500 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-501 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-504 #ifdef 
+-__USE_GNU
+-
+-
+-506 

+-	$rvscmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-507 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-510 
*
+-	$ry
+- (*
+-__rg
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-513 
*
+-	$memob
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-514 
+-	`___acss
+- ((
+-__ad_wre__
+-, 1, 2));
+-
+-516 #ide
+-bame
+-
+-
+-521 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-522 
"C++" *
+-	$bame
+- (*
+-__fame
+-)
+-
+-523 
+-__THROW
+- 
+-	`__asm
+- ("bame"
+-	`__nnu
+- ((1));
+-
+-524 
"C++" c *
+-	$bame
+- (c *
+-__fame
+-)
+-
+-525 
+-__THROW
+- 
+-	`__asm
+- ("bame"
+-	`__nnu
+- ((1));
+-
+-527 
*
+-	$bame
+- (c *
+-__fame
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-532 #i
+-	`__GNUC_PREREQ
+- (3,4)
+-
+-533 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-535 
+-	~<bs/rg_ftifd.h
+->
+-
+-539 
+-__END_DECLS
+-
+-
+-	@/usr/include/unistd.h
+-
+-22 #idef 
+-_UNISTD_H
+-
+-
+-23 
+-	#_UNISTD_H
+- 1
+-
+-	)
+-
+-25 
+-	~<us.h
+->
+-
+-27 
+-	g__BEGIN_DECLS
+-
+-
+-32 #ifde
+-__USE_XOPEN2K8
+-
+-
+-34 
+-	#_POSIX_VERSION
+- 200809L
+-
+-	)
+-
+-35 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-37 
+-	#_POSIX_VERSION
+- 200112L
+-
+-	)
+-
+-38 #i
+-defed
+- 
+-__USE_POSIX199506
+-
+-
+-40 
+-	#_POSIX_VERSION
+- 199506L
+-
+-	)
+-
+-41 #i
+-defed
+- 
+-__USE_POSIX199309
+-
+-
+-43 
+-	#_POSIX_VERSION
+- 199309L
+-
+-	)
+-
+-46 
+-	#_POSIX_VERSION
+- 199009L
+-
+-	)
+-
+-52 #ifde
+-__USE_XOPEN2K8
+-
+-
+-53 
+-	#__POSIX2_THIS_VERSION
+- 200809L
+-
+-	)
+-
+-55 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-57 
+-	#__POSIX2_THIS_VERSION
+- 200112L
+-
+-	)
+-
+-58 #i
+-defed
+- 
+-__USE_POSIX199506
+-
+-
+-60 
+-	#__POSIX2_THIS_VERSION
+- 199506L
+-
+-	)
+-
+-63 
+-	#__POSIX2_THIS_VERSION
+- 199209L
+-
+-	)
+-
+-67 
+-	#_POSIX2_VERSION
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-70 
+-	#_POSIX2_C_VERSION
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-74 
+-	#_POSIX2_C_BIND
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-78 
+-	#_POSIX2_C_DEV
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-82 
+-	#_POSIX2_SW_DEV
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-86 
+-	#_POSIX2_LOCALEDEF
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-89 #ifde
+-__USE_XOPEN2K8
+-
+-
+-90 
+-	#_XOPEN_VERSION
+- 700
+-
+-	)
+-
+-91 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-92 
+-	#_XOPEN_VERSION
+- 600
+-
+-	)
+-
+-93 #i
+-defed
+- 
+-__USE_UNIX98
+-
+-
+-94 
+-	#_XOPEN_VERSION
+- 500
+-
+-	)
+-
+-96 
+-	#_XOPEN_VERSION
+- 4
+-
+-	)
+-
+-100 
+-	#_XOPEN_XCU_VERSION
+- 4
+-
+-	)
+-
+-103 
+-	#_XOPEN_XPG2
+- 1
+-
+-	)
+-
+-104 
+-	#_XOPEN_XPG3
+- 1
+-
+-	)
+-
+-105 
+-	#_XOPEN_XPG4
+- 1
+-
+-	)
+-
+-108 
+-	#_XOPEN_UNIX
+- 1
+-
+-	)
+-
+-112 
+-	#_XOPEN_ENH_I18N
+- 1
+-
+-	)
+-
+-115 
+-	#_XOPEN_LEGACY
+- 1
+-
+-	)
+-
+-202 
+-	~<bs/posix_t.h
+->
+-
+-205 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-206 
+-	~<bs/vmts.h
+->
+-
+-210 
+-	#STDIN_FILENO
+- 0
+-
+-	)
+-
+-211 
+-	#STDOUT_FILENO
+- 1
+-
+-	)
+-
+-212 
+-	#STDERR_FILENO
+- 2
+-
+-	)
+-
+-217 
+-	~<bs/tys.h
+->
+-
+-219 #idef 
+-__ssize_t_defed
+-
+-
+-220 
+-__ssize_t
+- 
+-	tssize_t
+-;
+-
+-221 
+-	#__ssize_t_defed
+-
+-
+-	)
+-
+-224 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-225 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-226 
+-	~<ddef.h
+->
+-
+-228 #i
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-231 #ide
+-__gid_t_defed
+-
+-
+-232 
+-__gid_t
+- 
+-	tgid_t
+-;
+-
+-233 
+-	#__gid_t_defed
+-
+-
+-	)
+-
+-236 #ide
+-__uid_t_defed
+-
+-
+-237 
+-__uid_t
+- 
+-	tuid_t
+-;
+-
+-238 
+-	#__uid_t_defed
+-
+-
+-	)
+-
+-241 #ide
+-__off_t_defed
+-
+-
+-242 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-243 
+-__off_t
+- 
+-	toff_t
+-;
+-
+-245 
+-__off64_t
+- 
+-	toff_t
+-;
+-
+-247 
+-	#__off_t_defed
+-
+-
+-	)
+-
+-249 #i
+-defed
+- 
+-__USE_LARGEFILE64
+- && !defed 
+-__off64_t_defed
+-
+-
+-250 
+-__off64_t
+- 
+-	toff64_t
+-;
+-
+-251 
+-	#__off64_t_defed
+-
+-
+-	)
+-
+-254 #ide
+-__ucds_t_defed
+-
+-
+-255 
+-__ucds_t
+- 
+-	tucds_t
+-;
+-
+-256 
+-	#__ucds_t_defed
+-
+-
+-	)
+-
+-259 #ide
+-__pid_t_defed
+-
+-
+-260 
+-__pid_t
+- 
+-	tpid_t
+-;
+-
+-261 
+-	#__pid_t_defed
+-
+-
+-	)
+-
+-265 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-266 #ide
+-___t_defed
+-
+-
+-267 
+-___t
+- 
+-	t_t
+-;
+-
+-268 
+-	#___t_defed
+-
+-
+-	)
+-
+-272 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-273 #ide
+-__sockn_t_defed
+-
+-
+-274 
+-__sockn_t
+- 
+-	tsockn_t
+-;
+-
+-275 
+-	#__sockn_t_defed
+-
+-
+-	)
+-
+-281 
+-	#R_OK
+- 4
+-
+-	)
+-
+-282 
+-	#W_OK
+- 2
+-
+-	)
+-
+-283 
+-	#X_OK
+- 1
+-
+-	)
+-
+-284 
+-	#F_OK
+- 0
+-
+-	)
+-
+-287 

+-	$acss
+- (c *
+-__me
+-, 
+-__ty
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-289 #ifde
+-__USE_GNU
+-
+-
+-292 

+-	$euidacss
+- (c *
+-__me
+-, 
+-__ty
+-)
+-
+-293 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-296 

+-	$css
+- (c *
+-__me
+-, 
+-__ty
+-)
+-
+-297 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-300 

+-	$execvt
+- (
+-__fd
+-, c *
+-__th
+-, *c 
+-__gv
+-[],
+-
+-301 *c 
+-__vp
+-[], 
+-__ags
+-)
+-
+-302 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-305 #ifde
+-__USE_ATFILE
+-
+-
+-309 

+-	$cst
+- (
+-__fd
+-, c *
+-__fe
+-, 
+-__ty
+-, 
+-__ag
+-)
+-
+-310 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-;
+-
+-315 #idef 
+-_STDIO_H
+-
+-
+-316 
+-	#SEEK_SET
+- 0
+-
+-	)
+-
+-317 
+-	#SEEK_CUR
+- 1
+-
+-	)
+-
+-318 
+-	#SEEK_END
+- 2
+-
+-	)
+-
+-319 #ifde
+-__USE_GNU
+-
+-
+-320 
+-	#SEEK_DATA
+- 3
+-
+-	)
+-
+-321 
+-	#SEEK_HOLE
+- 4
+-
+-	)
+-
+-325 #i
+-defed
+- 
+-__USE_MISC
+- && !defed 
+-L_SET
+-
+-
+-327 
+-	#L_SET
+- 
+-SEEK_SET
+-
+-
+-	)
+-
+-328 
+-	#L_INCR
+- 
+-SEEK_CUR
+-
+-
+-	)
+-
+-329 
+-	#L_XTND
+- 
+-SEEK_END
+-
+-
+-	)
+-
+-338 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-339 
+-__off_t
+- 
+-	$lek
+- (
+-__fd
+-, 
+-__off_t
+- 
+-__offt
+-, 
+-__wh
+-
+-__THROW
+-;
+-
+-341 #ifde
+-__REDIRECT_NTH
+-
+-
+-342 
+-__off64_t
+- 
+-	`__REDIRECT_NTH
+- (
+-lek
+-,
+-
+-343 (
+-__fd
+-, 
+-__off64_t
+- 
+-__offt
+-, 
+-__wh
+-),
+-
+-344 
+-lek64
+-);
+-
+-346 
+-	#lek
+- 
+-lek64
+-
+-
+-	)
+-
+-349 #ifde
+-__USE_LARGEFILE64
+-
+-
+-350 
+-__off64_t
+- 
+-	$lek64
+- (
+-__fd
+-, 
+-__off64_t
+- 
+-__offt
+-, 
+-__wh
+-)
+-
+-351 
+-__THROW
+-;
+-
+-358 

+-	`o
+- (
+-__fd
+-);
+-
+-360 #ifde
+-__USE_MISC
+-
+-
+-363 

+-	$oom
+- (
+-__lowfd
+-
+-__THROW
+-;
+-
+-371 
+-ssize_t
+- 
+-	$ad
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-
+-__wur
+-
+-
+-372 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-378 
+-ssize_t
+- 
+-	$wre
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-
+-__wur
+-
+-
+-379 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-381 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-382 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-389 
+-ssize_t
+- 
+-	$d
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-390 
+-__off_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-391 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-398 
+-ssize_t
+- 
+-	$pwre
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-399 
+-__off_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-400 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-403 #ifde
+-__REDIRECT
+-
+-
+-404 
+-ssize_t
+- 
+-	`__REDIRECT
+- (
+-d
+-, (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-405 
+-__off64_t
+- 
+-__offt
+-),
+-
+-406 
+-d64
+-
+-__wur
+-
+-
+-407 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-408 
+-ssize_t
+- 
+-	`__REDIRECT
+- (
+-pwre
+-, (
+-__fd
+-, c *
+-__buf
+-,
+-
+-409 
+-size_t
+- 
+-__nbys
+-, 
+-__off64_t
+- 
+-__offt
+-),
+-
+-410 
+-pwre64
+-
+-__wur
+-
+-
+-411 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-413 
+-	#d
+- 
+-d64
+-
+-
+-	)
+-
+-414 
+-	#pwre
+- 
+-pwre64
+-
+-
+-	)
+-
+-418 #ifde
+-__USE_LARGEFILE64
+-
+-
+-422 
+-ssize_t
+- 
+-	$d64
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-423 
+-__off64_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-424 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-427 
+-ssize_t
+- 
+-	$pwre64
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-428 
+-__off64_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-429 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-437 

+-	$pe
+- (
+-__pedes
+-[2]
+-__THROW
+- 
+-__wur
+-;
+-
+-439 #ifde
+-__USE_GNU
+-
+-
+-442 

+-	$pe2
+- (
+-__pedes
+-[2], 
+-__ags
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-452 

+-	$m
+- (
+-__cds
+-
+-__THROW
+-;
+-
+-464 

+-	`p
+- (
+-__cds
+-);
+-
+-466 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-467 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-472 
+-__ucds_t
+- 
+-	$um
+- (
+-__ucds_t
+- 
+-__vue
+-, __ucds_
+-__rv
+-)
+-
+-473 
+-__THROW
+-;
+-
+-480 

+-	`up
+- (
+-__ucds_t
+- 
+-__ucds
+-);
+-
+-489 

+-	`u
+- ();
+-
+-493 

+-	$chown
+- (c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-)
+-
+-494 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-496 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-498 

+-	$fchown
+- (
+-__fd
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-503 

+-	$lchown
+- (c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-)
+-
+-504 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-508 #ifde
+-__USE_ATFILE
+-
+-
+-511 

+-	$fchowt
+- (
+-__fd
+-, c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-,
+-
+-512 
+-__gid_t
+- 
+-__group
+-, 
+-__ag
+-)
+-
+-513 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-;
+-
+-517 

+-	$chd
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-519 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-521 

+-	$fchd
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-531 
*
+-	$gcwd
+- (*
+-__buf
+-, 
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-533 #ifdef 
+-__USE_GNU
+-
+-
+-537 
*
+-	$g_cut_d_me
+- (
+-__THROW
+-;
+-
+-540 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-541 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-545 
*
+-	$gwd
+- (*
+-__buf
+-)
+-
+-546 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__ibu_dd__
+- 
+-__wur
+-
+-
+-547 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-552 

+-	$dup
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-555 

+-	$dup2
+- (
+-__fd
+-, 
+-__fd2
+-
+-__THROW
+-;
+-
+-557 #ifde
+-__USE_GNU
+-
+-
+-560 

+-	$dup3
+- (
+-__fd
+-, 
+-__fd2
+-, 
+-__ags
+-
+-__THROW
+-;
+-
+-564 
**
+-__v
+-;
+-
+-565 #ifde
+-__USE_GNU
+-
+-
+-566 
**
+-v
+-;
+-
+-572 

+-	$execve
+- (c *
+-__th
+-, *c 
+-__gv
+-[],
+-
+-573 *c 
+-__vp
+-[]
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-575 #ifde
+-__USE_XOPEN2K8
+-
+-
+-578 

+-	$xecve
+- (
+-__fd
+-, *c 
+-__gv
+-[], *c 
+-__vp
+-[])
+-
+-579 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-584 

+-	$execv
+- (c *
+-__th
+-, *c 
+-__gv
+-[])
+-
+-585 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-589 

+-	$exee
+- (c *
+-__th
+-, c *
+-__g
+-, ...)
+-
+-590 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-594 

+-	$exe
+- (c *
+-__th
+-, c *
+-__g
+-, ...)
+-
+-595 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-599 

+-	$execvp
+- (c *
+-__fe
+-, *c 
+-__gv
+-[])
+-
+-600 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-605 

+-	$exep
+- (c *
+-__fe
+-, c *
+-__g
+-, ...)
+-
+-606 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-608 #ifde
+-__USE_GNU
+-
+-
+-611 

+-	$execv
+- (c *
+-__fe
+-, *c 
+-__gv
+-[],
+-
+-612 *c 
+-__vp
+-[])
+-
+-613 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-617 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-619 

+-	$ni
+- (
+-__c
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-624 

+-	$_ex
+- (
+-__us
+-
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-630 
+-	~<bs/came.h
+->
+-
+-633 

+-	$thcf
+- (c *
+-__th
+-, 
+-__me
+-)
+-
+-634 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-637 

+-	$hcf
+- (
+-__fd
+-, 
+-__me
+-
+-__THROW
+-;
+-
+-640 

+-	$syscf
+- (
+-__me
+-
+-__THROW
+-;
+-
+-642 #ifdef 
+-__USE_POSIX2
+-
+-
+-644 
+-size_t
+- 
+-	$cfr
+- (
+-__me
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-645 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-650 
+-__pid_t
+- 
+-	$gpid
+- (
+-__THROW
+-;
+-
+-653 
+-__pid_t
+- 
+-	$gid
+- (
+-__THROW
+-;
+-
+-656 
+-__pid_t
+- 
+-	$gpg
+- (
+-__THROW
+-;
+-
+-659 
+-__pid_t
+- 
+-	$__gpgid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-660 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-661 
+-__pid_t
+- 
+-	$gpgid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-668 

+-	$gid
+- (
+-__pid_t
+- 
+-__pid
+-, __pid_
+-__pgid
+-
+-__THROW
+-;
+-
+-670 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-682 

+-	$g
+- (
+-__THROW
+-;
+-
+-689 
+-__pid_t
+- 
+-	$tsid
+- (
+-__THROW
+-;
+-
+-691 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-693 
+-__pid_t
+- 
+-	$gsid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-697 
+-__uid_t
+- 
+-	$guid
+- (
+-__THROW
+-;
+-
+-700 
+-__uid_t
+- 
+-	$geuid
+- (
+-__THROW
+-;
+-
+-703 
+-__gid_t
+- 
+-	$ggid
+- (
+-__THROW
+-;
+-
+-706 
+-__gid_t
+- 
+-	$gegid
+- (
+-__THROW
+-;
+-
+-711 

+-	$ggroups
+- (
+-__size
+-, 
+-__gid_t
+- 
+-__li
+-[]
+-__THROW
+- 
+-__wur
+-
+-
+-712 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 1);
+-
+-713 #ifdef 
+-__USE_GNU
+-
+-
+-715 

+-	$group_memb
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+-;
+-
+-722 

+-	$tuid
+- (
+-__uid_t
+- 
+-__uid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-724 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-727 

+-	$euid
+- (
+-__uid_t
+- 
+-__ruid
+-, __uid_
+-__euid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-730 #ifde
+-__USE_XOPEN2K
+-
+-
+-732 

+-	$uid
+- (
+-__uid_t
+- 
+-__uid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-739 

+-	$tgid
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-741 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-744 

+-	$egid
+- (
+-__gid_t
+- 
+-__rgid
+-, __gid_
+-__egid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-747 #ifde
+-__USE_XOPEN2K
+-
+-
+-749 

+-	$gid
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-752 #ifde
+-__USE_GNU
+-
+-
+-755 

+-	$gsuid
+- (
+-__uid_t
+- *
+-__ruid
+-, __uid_*
+-__euid
+-, __uid_*
+-__suid
+-)
+-
+-756 
+-__THROW
+-;
+-
+-760 

+-	$gsgid
+- (
+-__gid_t
+- *
+-__rgid
+-, __gid_*
+-__egid
+-, __gid_*
+-__sgid
+-)
+-
+-761 
+-__THROW
+-;
+-
+-765 

+-	$esuid
+- (
+-__uid_t
+- 
+-__ruid
+-, __uid_
+-__euid
+-, __uid_
+-__suid
+-)
+-
+-766 
+-__THROW
+- 
+-__wur
+-;
+-
+-770 

+-	$esgid
+- (
+-__gid_t
+- 
+-__rgid
+-, __gid_
+-__egid
+-, __gid_
+-__sgid
+-)
+-
+-771 
+-__THROW
+- 
+-__wur
+-;
+-
+-778 
+-__pid_t
+- 
+-	$fk
+- (
+-__THROWNL
+-;
+-
+-780 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-781 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-786 
+-__pid_t
+- 
+-	$vfk
+- (
+-__THROW
+-;
+-
+-789 #ifde
+-__USE_GNU
+-
+-
+-793 
+-__pid_t
+- 
+-	$_Fk
+- (
+-__THROW
+-;
+-
+-799 
*
+-	$yme
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-803 

+-	$yme_r
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-804 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-
+-
+-805 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-809 

+-	$iy
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-811 #ifde
+-__USE_MISC
+-
+-
+-814 

+-	$y
+- (
+-__THROW
+-;
+-
+-819 

+-	$lk
+- (c *
+-__om
+-, c *
+-__to
+-)
+-
+-820 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-;
+-
+-822 #ifde
+-__USE_ATFILE
+-
+-
+-825 

+-	$lk
+- (
+-__omfd
+-, c *
+-__om
+-, 
+-__tofd
+-,
+-
+-826 c *
+-__to
+-, 
+-__ags
+-)
+-
+-827 
+-__THROW
+- 
+-	`__nnu
+- ((2, 4)
+-__wur
+-;
+-
+-830 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-832 

+-	$symlk
+- (c *
+-__om
+-, c *
+-__to
+-)
+-
+-833 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-;
+-
+-838 
+-ssize_t
+- 
+-	$adlk
+- (c *
+-__ri
+- 
+-__th
+-,
+-
+-839 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-840 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-
+-
+-841 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-845 #ifde
+-__USE_ATFILE
+-
+-
+-847 

+-	$symlk
+- (c *
+-__om
+-, 
+-__tofd
+-,
+-
+-848 c *
+-__to
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 3)
+-__wur
+-;
+-
+-851 
+-ssize_t
+- 
+-	$adlk
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__th
+-,
+-
+-852 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-853 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3)
+-__wur
+-
+-
+-854 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 3, 4);
+-
+-858 

+-	$uk
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-860 #ifde
+-__USE_ATFILE
+-
+-
+-862 

+-	$uk
+- (
+-__fd
+-, c *
+-__me
+-, 
+-__ag
+-)
+-
+-863 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-867 

+-	$rmd
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-871 
+-__pid_t
+- 
+-	$tcgpg
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-874 

+-	$tcg
+- (
+-__fd
+-, 
+-__pid_t
+- 
+-__pg_id
+-
+-__THROW
+-;
+-
+-881 
*
+-	`glog
+- ();
+-
+-882 #ifde
+-__USE_POSIX199506
+-
+-
+-889 

+-	$glog_r
+- (*
+-__me
+-, 
+-size_t
+- 
+-__me_n
+-
+-	`__nnu
+- ((1))
+-
+-890 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-893 #ifdef 
+-__USE_MISC
+-
+-
+-895 

+-	$og
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-899 #ifdef 
+-__USE_POSIX2
+-
+-
+-903 
+-	~<bs/gt_posix.h
+->
+-
+-907 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-911 

+-	$ghome
+- (*
+-__me
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-912 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-916 #i
+-defed
+- 
+-__USE_MISC
+-
+-
+-919 

+-	$thome
+- (c *
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-920 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+- 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2));
+-
+-924 

+-	$thoid
+- (
+-__id
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-930 

+-	$gdomame
+- (*
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-931 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-
+-
+-932 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-933 

+-	$tdomame
+- (c *
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-934 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+- 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2));
+-
+-939 

+-	$vhgup
+- (
+-__THROW
+-;
+-
+-942 

+-	$voke
+- (c *
+-__fe
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-950 

+-	$of
+- (*
+-__me_bufr
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-951 
+-size_t
+- 
+-__offt
+-, 
+-__s
+-)
+-
+-952 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-958 

+-	$ac
+- (c *
+-__me
+-
+-__THROW
+-;
+-
+-962 
*
+-	$gurshl
+- (
+-__THROW
+-;
+-
+-963 

+-	$durshl
+- (
+-__THROW
+-;
+-
+-964 

+-	$turshl
+- (
+-__THROW
+-;
+-
+-970 

+-	$dm
+- (
+-__nochd
+-, 
+-__noo
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-974 #i
+-defed
+- 
+-__USE_MISC
+- || (defed 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-)
+-
+-977 

+-	$chro
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-981 
*
+-	$gss
+- (c *
+-__om
+-
+-	`__nnu
+- ((1));
+-
+-989 

+-	`fsync
+- (
+-__fd
+-);
+-
+-992 #ifde
+-__USE_GNU
+-
+-
+-995 

+-	$syncfs
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-999 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-1002 

+-	`ghoid
+- ();
+-
+-1005 

+-	$sync
+- (
+-__THROW
+-;
+-
+-1008 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K
+-
+-
+-1011 

+-	$ggesize
+- (
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-));
+-
+-1016 

+-	$gdbsize
+- (
+-__THROW
+-;
+-
+-1022 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-1025 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1026 

+-	$un
+- (c *
+-__fe
+-, 
+-__off_t
+- 
+-__ngth
+-)
+-
+-1027 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1029 #ifde
+-__REDIRECT_NTH
+-
+-
+-1030 

+-	`__REDIRECT_NTH
+- (
+-un
+-,
+-
+-1031 (c *
+-__fe
+-, 
+-__off64_t
+- 
+-__ngth
+-),
+-
+-1032 
+-un64
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1034 
+-	#un
+- 
+-un64
+-
+-
+-	)
+-
+-1037 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1038 

+-	$un64
+- (c *
+-__fe
+-, 
+-__off64_t
+- 
+-__ngth
+-)
+-
+-1039 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1044 #i
+-defed
+- 
+-__USE_POSIX199309
+- \
+-
+-1045 || 
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-1048 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1049 

+-	$run
+- (
+-__fd
+-, 
+-__off_t
+- 
+-__ngth
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1051 #ifde
+-__REDIRECT_NTH
+-
+-
+-1052 

+-	`__REDIRECT_NTH
+- (
+-run
+-, (
+-__fd
+-, 
+-__off64_t
+- 
+-__ngth
+-),
+-
+-1053 
+-run64
+-
+-__wur
+-;
+-
+-1055 
+-	#run
+- 
+-run64
+-
+-
+-	)
+-
+-1058 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1059 

+-	$run64
+- (
+-__fd
+-, 
+-__off64_t
+- 
+-__ngth
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1065 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-) \
+-
+-1066 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-1070 

+-	$brk
+- (*
+-__addr
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1076 
*
+-	$sbrk
+- (
+-_t
+- 
+-__d
+-
+-__THROW
+-;
+-
+-1080 #ifde
+-__USE_MISC
+-
+-
+-1091 

+-	$sys
+- (
+-__syo
+-, ...
+-__THROW
+-;
+-
+-1096 #i(
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-&& !defed 
+-F_LOCK
+-
+-
+-1108 
+-	#F_ULOCK
+- 0
+-
+-	)
+-
+-1109 
+-	#F_LOCK
+- 1
+-
+-	)
+-
+-1110 
+-	#F_TLOCK
+- 2
+-
+-	)
+-
+-1111 
+-	#F_TEST
+- 3
+-
+-	)
+-
+-1113 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1114 

+-	$lockf
+- (
+-__fd
+-, 
+-__cmd
+-, 
+-__off_t
+- 
+-__n
+-
+-__wur
+-;
+-
+-1116 #ifde
+-__REDIRECT
+-
+-
+-1117 

+-	`__REDIRECT
+- (
+-lockf
+-, (
+-__fd
+-, 
+-__cmd
+-, 
+-__off64_t
+- 
+-__n
+-),
+-
+-1118 
+-lockf64
+-
+-__wur
+-;
+-
+-1120 
+-	#lockf
+- 
+-lockf64
+-
+-
+-	)
+-
+-1123 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1124 

+-	$lockf64
+- (
+-__fd
+-, 
+-__cmd
+-, 
+-__off64_t
+- 
+-__n
+-
+-__wur
+-;
+-
+-1129 #ifde
+-__USE_GNU
+-
+-
+-1134 
+-	#TEMP_FAILURE_RETRY
+-(
+-exessi
+-) \
+-
+-1135 (
+-__exnsi__
+- \
+-
+-1136 ({ 
+-__su
+-; \
+-
+-1137 d
+-__su
+- = ((
+-exessi
+-); \
+-
+-1138 
+-__su
+- =-1L && 
+-o
+- =
+-EINTR
+-); \
+-
+-1139 
+-__su
+-; 
+-	}
+-}))
+-
+-	)
+-
+-1142 
+-ssize_t
+- 
+-cy_fe_nge
+- (
+-__fd
+-, 
+-__off64_t
+- *
+-__poff
+-,
+-
+-1143 
+-__outfd
+-, 
+-__off64_t
+- *
+-__poutoff
+-,
+-
+-1144 
+-size_t
+- 
+-__ngth
+-, 
+-__ags
+-);
+-
+-1147 #i
+-defed
+- 
+-__USE_POSIX199309
+- || defed 
+-__USE_UNIX98
+-
+-
+-1150 

+-fdasync
+- (
+-__fdes
+-);
+-
+-1153 #ifde
+-__USE_MISC
+-
+-
+-1159 
*
+-	$y
+- (c *
+-__key
+-, c *
+-__
+-)
+-
+-1160 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-1163 #ifdef 
+-__USE_XOPEN
+-
+-
+-1168 

+-	$swab
+- (c *
+-__ri
+- 
+-__om
+-, *__ri 
+-__to
+-,
+-
+-1169 
+-ssize_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2))
+-
+-1170 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3))
+-
+-1171 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-1178 #i
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1180 
*
+-	$mid
+- (*
+-__s
+-
+-__THROW
+-;
+-
+-1183 
*
+-	`curid
+- (*
+-__s
+-);
+-
+-1189 #i
+-defed
+- 
+-__USE_UNIX98
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1190 

+-	$had_fk
+- ((*
+-__e
+-) (),
+-
+-1191 (*
+-__
+-) (),
+-
+-1192 (*
+-__chd
+-()
+-__THROW
+-;
+-
+-1195 #ifde
+-__USE_MISC
+-
+-
+-1198 
+-	$gy
+- (*
+-__bufr
+-, 
+-size_t
+- 
+-__ngth
+-
+-__wur
+-
+-
+-1199 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 2));
+-
+-1202 #ifde
+-__USE_GNU
+-
+-
+-1208 

+-	$o_nge
+- (
+-__fd
+-, 
+-__max_fd
+-,
+-
+-1209 
+-__ags
+-
+-__THROW
+-;
+-
+-1213 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-1214 
+-	~<bs/unid.h
+->
+-
+-1218 
+-	~<bs/unid_ext.h
+->
+-
+-1220 
+-__END_DECLS
+-
+-
+-	@/usr/include/alloca.h
+-
+-18 #idef 
+-_ALLOCA_H
+-
+-
+-19 
+-	#_ALLOCA_H
+- 1
+-
+-	)
+-
+-21 
+-	~<us.h
+->
+-
+-23 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-24 
+-	~<ddef.h
+->
+-
+-26 
+-	g__BEGIN_DECLS
+-
+-
+-29 #unde
+-lo
+-
+-
+-32 
*
+-	$lo
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+-;
+-
+-34 #ifdef 
+-__GNUC__
+-
+-
+-35 
+-	#lo
+-(
+-size
+-
+-	`__but_lo
+- (size)
+-
+-	)
+-
+-38 
+-__END_DECLS
+-
+-
+-	@/usr/include/features.h
+-
+-18 #idef 
+-_FEATURES_H
+-
+-
+-19 
+-	#_FEATURES_H
+- 1
+-
+-	)
+-
+-126 #unde
+-__USE_ISOC11
+-
+-
+-127 #unde
+-__USE_ISOC99
+-
+-
+-128 #unde
+-__USE_ISOC95
+-
+-
+-129 #unde
+-__USE_ISOCXX11
+-
+-
+-130 #unde
+-__USE_POSIX
+-
+-
+-131 #unde
+-__USE_POSIX2
+-
+-
+-132 #unde
+-__USE_POSIX199309
+-
+-
+-133 #unde
+-__USE_POSIX199506
+-
+-
+-134 #unde
+-__USE_XOPEN
+-
+-
+-135 #unde
+-__USE_XOPEN_EXTENDED
+-
+-
+-136 #unde
+-__USE_UNIX98
+-
+-
+-137 #unde
+-__USE_XOPEN2K
+-
+-
+-138 #unde
+-__USE_XOPEN2KXSI
+-
+-
+-139 #unde
+-__USE_XOPEN2K8
+-
+-
+-140 #unde
+-__USE_XOPEN2K8XSI
+-
+-
+-141 #unde
+-__USE_LARGEFILE
+-
+-
+-142 #unde
+-__USE_LARGEFILE64
+-
+-
+-143 #unde
+-__USE_FILE_OFFSET64
+-
+-
+-144 #unde
+-__USE_MISC
+-
+-
+-145 #unde
+-__USE_ATFILE
+-
+-
+-146 #unde
+-__USE_DYNAMIC_STACK_SIZE
+-
+-
+-147 #unde
+-__USE_GNU
+-
+-
+-148 #unde
+-__USE_FORTIFY_LEVEL
+-
+-
+-149 #unde
+-__KERNEL_STRICT_NAMES
+-
+-
+-150 #unde
+-__GLIBC_USE_ISOC2X
+-
+-
+-151 #unde
+-__GLIBC_USE_DEPRECATED_GETS
+-
+-
+-152 #unde
+-__GLIBC_USE_DEPRECATED_SCANF
+-
+-
+-156 #ide
+-_LOOSE_KERNEL_NAMES
+-
+-
+-157 
+-	#__KERNEL_STRICT_NAMES
+-
+-
+-	)
+-
+-167 #i
+-defed
+- 
+-__GNUC__
+- && defed 
+-__GNUC_MINOR__
+-
+-
+-168 
+-	#__GNUC_PREREQ
+-(
+-maj
+-, 
+-m
+-) \
+-
+-169 ((
+-__GNUC__
+- << 16+ 
+-__GNUC_MINOR__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-171 
+-	#__GNUC_PREREQ
+-(
+-maj
+-, 
+-m
+-0
+-
+-	)
+-
+-178 #i
+-defed
+- 
+-__g_maj__
+- && defed 
+-__g_m__
+-
+-
+-179 
+-	#__glibc_g_eq
+-(
+-maj
+-, 
+-m
+-) \
+-
+-180 ((
+-__g_maj__
+- << 16+ 
+-__g_m__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-182 
+-	#__glibc_g_eq
+-(
+-maj
+-, 
+-m
+-0
+-
+-	)
+-
+-186 
+-	#__GLIBC_USE
+-(
+-F
+-
+-__GLIBC_USE_
+- ## 
+-	)
+-F
+-
+-192 #i(
+-defed
+- 
+-_BSD_SOURCE
+- || defed 
+-_SVID_SOURCE
+-) \
+-
+-193 && !
+-defed
+- 
+-	g_DEFAULT_SOURCE
+-
+-
+-195 #unde
+-_DEFAULT_SOURCE
+-
+-
+-196 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-200 #ifde
+-_GNU_SOURCE
+-
+-
+-201 #unde
+-_ISOC95_SOURCE
+-
+-
+-202 
+-	#_ISOC95_SOURCE
+- 1
+-
+-	)
+-
+-203 #unde
+-_ISOC99_SOURCE
+-
+-
+-204 
+-	#_ISOC99_SOURCE
+- 1
+-
+-	)
+-
+-205 #unde
+-_ISOC11_SOURCE
+-
+-
+-206 
+-	#_ISOC11_SOURCE
+- 1
+-
+-	)
+-
+-207 #unde
+-_ISOC2X_SOURCE
+-
+-
+-208 
+-	#_ISOC2X_SOURCE
+- 1
+-
+-	)
+-
+-209 #unde
+-_POSIX_SOURCE
+-
+-
+-210 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-211 #unde
+-_POSIX_C_SOURCE
+-
+-
+-212 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-213 #unde
+-_XOPEN_SOURCE
+-
+-
+-214 
+-	#_XOPEN_SOURCE
+- 700
+-
+-	)
+-
+-215 #unde
+-_XOPEN_SOURCE_EXTENDED
+-
+-
+-216 
+-	#_XOPEN_SOURCE_EXTENDED
+- 1
+-
+-	)
+-
+-217 #unde
+-_LARGEFILE64_SOURCE
+-
+-
+-218 
+-	#_LARGEFILE64_SOURCE
+- 1
+-
+-	)
+-
+-219 #unde
+-_DEFAULT_SOURCE
+-
+-
+-220 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-221 #unde
+-_ATFILE_SOURCE
+-
+-
+-222 
+-	#_ATFILE_SOURCE
+- 1
+-
+-	)
+-
+-223 #unde
+-_DYNAMIC_STACK_SIZE_SOURCE
+-
+-
+-224 
+-	#_DYNAMIC_STACK_SIZE_SOURCE
+- 1
+-
+-	)
+-
+-229 #i(
+-defed
+- 
+-_DEFAULT_SOURCE
+- \
+-
+-230 || (!
+-defed
+- 
+-	g__STRICT_ANSI__
+- \
+-
+-231 && !
+-defed
+- 
+-	g_ISOC99_SOURCE
+- && !defed 
+-	g_ISOC11_SOURCE
+- \
+-
+-232 && !
+-defed
+- 
+-	g_ISOC2X_SOURCE
+- \
+-
+-233 && !
+-defed
+- 
+-	g_POSIX_SOURCE
+- && !defed 
+-	g_POSIX_C_SOURCE
+- \
+-
+-234 && !
+-defed
+- 
+-	g_XOPEN_SOURCE
+-))
+-
+-235 #unde
+-_DEFAULT_SOURCE
+-
+-
+-236 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-240 #i(
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-241 || (
+-defed
+- 
+-	g__STDC_VERSION__
+- && __STDC_VERSION__ > 201710L))
+-
+-242 
+-	#__GLIBC_USE_ISOC2X
+- 1
+-
+-	)
+-
+-244 
+-	#__GLIBC_USE_ISOC2X
+- 0
+-
+-	)
+-
+-248 #i(
+-defed
+- 
+-_ISOC11_SOURCE
+- || defed 
+-_ISOC2X_SOURCE
+- \
+-
+-249 || (
+-defed
+- 
+-	g__STDC_VERSION__
+- && __STDC_VERSION__ >= 201112L))
+-
+-250 
+-	#__USE_ISOC11
+- 1
+-
+-	)
+-
+-254 #i(
+-defed
+- 
+-_ISOC99_SOURCE
+- || defed 
+-_ISOC11_SOURCE
+- \
+-
+-255 || 
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-256 || (
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199901L))
+-
+-257 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-261 #i(
+-defed
+- 
+-_ISOC99_SOURCE
+- || defed 
+-_ISOC11_SOURCE
+- \
+-
+-262 || 
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-263 || (
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199409L))
+-
+-264 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-267 #ifde
+-__lulus
+-
+-
+-269 #i
+-__lulus
+- >= 201703L
+-
+-270 
+-	#__USE_ISOC11
+- 1
+-
+-	)
+-
+-274 #i
+-__lulus
+- >201103L || 
+-defed
+- 
+-__GXX_EXPERIMENTAL_CXX0X__
+-
+-
+-275 
+-	#__USE_ISOCXX11
+- 1
+-
+-	)
+-
+-276 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-283 #ifde
+-_DEFAULT_SOURCE
+-
+-
+-284 #i!
+-defed
+- 
+-_POSIX_SOURCE
+- && !defed 
+-_POSIX_C_SOURCE
+-
+-
+-285 
+-	#__USE_POSIX_IMPLICITLY
+- 1
+-
+-	)
+-
+-287 #unde
+-_POSIX_SOURCE
+-
+-
+-288 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-289 #unde
+-_POSIX_C_SOURCE
+-
+-
+-290 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-293 #i((!
+-defed
+- 
+-__STRICT_ANSI__
+- \
+-
+-294 || (
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) >= 500)) \
+-
+-295 && !
+-defed
+- 
+-_POSIX_SOURCE
+- && !defed 
+-_POSIX_C_SOURCE
+-)
+-
+-296 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-297 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 500
+-
+-298 
+-	#_POSIX_C_SOURCE
+- 2
+-
+-	)
+-
+-299 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 600
+-
+-300 
+-	#_POSIX_C_SOURCE
+- 199506L
+-
+-	)
+-
+-301 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 700
+-
+-302 
+-	#_POSIX_C_SOURCE
+- 200112L
+-
+-	)
+-
+-304 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-306 
+-	#__USE_POSIX_IMPLICITLY
+- 1
+-
+-	)
+-
+-315 #i((!
+-defed
+- 
+-_POSIX_C_SOURCE
+- || (_POSIX_C_SOURCE - 0) < 199506L) \
+-
+-316 && (
+-defed
+- 
+-_REENTRANT
+- || defed 
+-_THREAD_SAFE
+-))
+-
+-317 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-318 #unde
+-_POSIX_C_SOURCE
+-
+-
+-319 
+-	#_POSIX_C_SOURCE
+- 199506L
+-
+-	)
+-
+-322 #i(
+-defed
+- 
+-_POSIX_SOURCE
+- \
+-
+-323 || (
+-defed
+- 
+-_POSIX_C_SOURCE
+- && _POSIX_C_SOURCE >= 1) \
+-
+-324 || 
+-defed
+- 
+-_XOPEN_SOURCE
+-)
+-
+-325 
+-	#__USE_POSIX
+- 1
+-
+-	)
+-
+-328 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && _POSIX_C_SOURCE >2 || defed 
+-_XOPEN_SOURCE
+-
+-
+-329 
+-	#__USE_POSIX2
+- 1
+-
+-	)
+-
+-332 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 199309L
+-
+-333 
+-	#__USE_POSIX199309
+- 1
+-
+-	)
+-
+-336 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 199506L
+-
+-337 
+-	#__USE_POSIX199506
+- 1
+-
+-	)
+-
+-340 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 200112L
+-
+-341 
+-	#__USE_XOPEN2K
+- 1
+-
+-	)
+-
+-342 #unde
+-__USE_ISOC95
+-
+-
+-343 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-344 #unde
+-__USE_ISOC99
+-
+-
+-345 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-348 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 200809L
+-
+-349 
+-	#__USE_XOPEN2K8
+- 1
+-
+-	)
+-
+-350 #unde
+-_ATFILE_SOURCE
+-
+-
+-351 
+-	#_ATFILE_SOURCE
+- 1
+-
+-	)
+-
+-354 #ifdef 
+-_XOPEN_SOURCE
+-
+-
+-355 
+-	#__USE_XOPEN
+- 1
+-
+-	)
+-
+-356 #i(
+-_XOPEN_SOURCE
+- - 0) >= 500
+-
+-357 
+-	#__USE_XOPEN_EXTENDED
+- 1
+-
+-	)
+-
+-358 
+-	#__USE_UNIX98
+- 1
+-
+-	)
+-
+-359 #unde
+-_LARGEFILE_SOURCE
+-
+-
+-360 
+-	#_LARGEFILE_SOURCE
+- 1
+-
+-	)
+-
+-361 #i(
+-_XOPEN_SOURCE
+- - 0) >= 600
+-
+-362 #i(
+-_XOPEN_SOURCE
+- - 0) >= 700
+-
+-363 
+-	#__USE_XOPEN2K8
+- 1
+-
+-	)
+-
+-364 
+-	#__USE_XOPEN2K8XSI
+- 1
+-
+-	)
+-
+-366 
+-	#__USE_XOPEN2K
+- 1
+-
+-	)
+-
+-367 
+-	#__USE_XOPEN2KXSI
+- 1
+-
+-	)
+-
+-368 #unde
+-__USE_ISOC95
+-
+-
+-369 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-370 #unde
+-__USE_ISOC99
+-
+-
+-371 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-374 #ifde
+-_XOPEN_SOURCE_EXTENDED
+-
+-
+-375 
+-	#__USE_XOPEN_EXTENDED
+- 1
+-
+-	)
+-
+-380 #ifde
+-_LARGEFILE_SOURCE
+-
+-
+-381 
+-	#__USE_LARGEFILE
+- 1
+-
+-	)
+-
+-384 #ifde
+-_LARGEFILE64_SOURCE
+-
+-
+-385 
+-	#__USE_LARGEFILE64
+- 1
+-
+-	)
+-
+-388 #i
+-defed
+- 
+-_FILE_OFFSET_BITS
+- && _FILE_OFFSET_BITS == 64
+-
+-389 
+-	#__USE_FILE_OFFSET64
+- 1
+-
+-	)
+-
+-392 
+-	~<us-time64.h
+->
+-
+-394 #i
+-defed
+- 
+-_DEFAULT_SOURCE
+-
+-
+-395 
+-	#__USE_MISC
+- 1
+-
+-	)
+-
+-398 #ifdef 
+-_ATFILE_SOURCE
+-
+-
+-399 
+-	#__USE_ATFILE
+- 1
+-
+-	)
+-
+-402 #ifdef 
+-_DYNAMIC_STACK_SIZE_SOURCE
+-
+-
+-403 
+-	#__USE_DYNAMIC_STACK_SIZE
+- 1
+-
+-	)
+-
+-406 #ifdef 
+-_GNU_SOURCE
+-
+-
+-407 
+-	#__USE_GNU
+- 1
+-
+-	)
+-
+-410 #i
+-defed
+- 
+-_FORTIFY_SOURCE
+- && _FORTIFY_SOURCE > 0
+-
+-411 #i!
+-defed
+- 
+-__OPTIMIZE__
+- || __OPTIMIZE__ <= 0
+-
+-412 #i!
+-__GNUC_PREREQ
+- (4, 1)
+-
+-413 #i
+-_FORTIFY_SOURCE
+- > 2 && (
+-__glibc_g_eq
+- (9, 0) \
+-
+-414 || 
+-	$__GNUC_PREREQ
+- (12, 0))
+-
+-416 #i
+-_FORTIFY_SOURCE
+- > 3
+-
+-418 
+-	#__USE_FORTIFY_LEVEL
+- 3
+-
+-	)
+-
+-419 #i
+-_FORTIFY_SOURCE
+- > 1
+-
+-420 #i
+-_FORTIFY_SOURCE
+- > 2
+-
+-422 
+-	#__USE_FORTIFY_LEVEL
+- 2
+-
+-	)
+-
+-424 
+-	#__USE_FORTIFY_LEVEL
+- 1
+-
+-	)
+-
+-427 #ide
+-__USE_FORTIFY_LEVEL
+-
+-
+-428 
+-	#__USE_FORTIFY_LEVEL
+- 0
+-
+-	)
+-
+-435 #i
+-defed
+- 
+-__lulus
+- ? __lulu>201402L : defed 
+-__USE_ISOC11
+-
+-
+-436 
+-	#__GLIBC_USE_DEPRECATED_GETS
+- 0
+-
+-	)
+-
+-438 
+-	#__GLIBC_USE_DEPRECATED_GETS
+- 1
+-
+-	)
+-
+-453 #i(
+-defed
+- 
+-__USE_GNU
+- \
+-
+-454 && (
+-defed
+- 
+-__lulus
+- \
+-
+-455 ? (
+-__lulus
+- < 201103L && !
+-defed
+- 
+-__GXX_EXPERIMENTAL_CXX0X__
+-) \
+-
+-456 : (!
+-defed
+- 
+-__STDC_VERSION__
+- || __STDC_VERSION__ < 199901L)))
+-
+-457 
+-	#__GLIBC_USE_DEPRECATED_SCANF
+- 1
+-
+-	)
+-
+-459 
+-	#__GLIBC_USE_DEPRECATED_SCANF
+- 0
+-
+-	)
+-
+-464 
+-	~<dc-edef.h
+->
+-
+-472 #unde
+-__GNU_LIBRARY__
+-
+-
+-473 
+-	#__GNU_LIBRARY__
+- 6
+-
+-	)
+-
+-477 
+-	#__GLIBC__
+- 2
+-
+-	)
+-
+-478 
+-	#__GLIBC_MINOR__
+- 35
+-
+-	)
+-
+-480 
+-	#__GLIBC_PREREQ
+-(
+-maj
+-, 
+-m
+-) \
+-
+-481 ((
+-__GLIBC__
+- << 16+ 
+-__GLIBC_MINOR__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-484 #ide
+-__ASSEMBLER__
+-
+-
+-485 #ide
+-_SYS_CDEFS_H
+-
+-
+-486 
+-	~<sys/cdefs.h
+->
+-
+-491 #i
+-defed
+- 
+-__USE_FILE_OFFSET64
+- && !defed 
+-__REDIRECT
+-
+-
+-492 
+-	#__USE_LARGEFILE
+- 1
+-
+-	)
+-
+-493 
+-	#__USE_LARGEFILE64
+- 1
+-
+-	)
+-
+-499 #i
+-	`__GNUC_PREREQ
+- (2, 7&& 
+-defed
+- 
+-__OPTIMIZE__
+- \
+-
+-500 && !
+-defed
+- 
+-__OPTIMIZE_SIZE__
+- && !defed 
+-__NO_INLINE__
+- \
+-
+-501 && 
+-defed
+- 
+-__ex_le
+-
+-
+-502 
+-	#__USE_EXTERN_INLINES
+- 1
+-
+-	)
+-
+-510 
+-	~<gnu/ubs.h
+->
+-
+-	@/usr/include/strings.h
+-
+-18 #idef 
+-_STRINGS_H
+-
+-
+-19 
+-	#_STRINGS_H
+- 1
+-
+-	)
+-
+-21 
+-	~<us.h
+->
+-
+-22 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-23 
+-	~<ddef.h
+->
+-
+-26 #i
+-defed
+- 
+-__lulus
+- && 
+-__GNUC_PREREQ
+- (4, 4)
+-
+-27 
+-	#__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-	)
+-
+-30 
+-	g__BEGIN_DECLS
+-
+-
+-32 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+-
+-
+-34 

+-	$bcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-35 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-38 

+-	$bcy
+- (c *
+-__c
+-, *
+-__de
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-39 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-42 

+-	$bzo
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-45 #ifde
+-__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-48 
*
+-	`dex
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-49 
+-__THROW
+- 
+-	`__asm
+- ("dex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-50 
c *
+-	`dex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-51 
+-__THROW
+- 
+-	`__asm
+- ("dex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-53 #i
+-defed
+- 
+-__OPTIMIZE__
+-
+-
+-54 
+-__ex_ways_le
+- *
+-
+-55 
+-	`dex
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-57  
+-	`__but_dex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-60 
+-__ex_ways_le
+- const *
+-
+-61 
+-	`dex
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-63  
+-	`__but_dex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-66 
+-	}
+-}
+-
+-68 
*
+-	$dex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-69 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-73 #ifde
+-__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-76 
*
+-	`rdex
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-77 
+-__THROW
+- 
+-	`__asm
+- ("rdex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-78 
c *
+-	`rdex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-79 
+-__THROW
+- 
+-	`__asm
+- ("rdex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-81 #i
+-defed
+- 
+-__OPTIMIZE__
+-
+-
+-82 
+-__ex_ways_le
+- *
+-
+-83 
+-	`rdex
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-85  
+-	`__but_rdex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-88 
+-__ex_ways_le
+- const *
+-
+-89 
+-	`rdex
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-91  
+-	`__but_rdex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-94 
+-	}
+-}
+-
+-96 
*
+-	$rdex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-97 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-101 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+- || defed 
+-__USE_XOPEN2K8XSI
+-
+-
+-104 

+-	$ffs
+- (
+-__i
+-
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-109 #ifdef 
+-__USE_MISC
+-
+-
+-110 

+-	$ff
+- (
+-__l
+-
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-111 
+-__exnsi__
+- 

+-	$ffl
+- (
+-__
+-)
+-
+-112 
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-116 

+-	$rcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-117 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-120 

+-	$cmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-121 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-123 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-125 
+-	~<bs/tys/lo_t.h
+->
+-
+-128 

+-	$rcmp_l
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-129 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 3));
+-
+-133 

+-	$cmp_l
+- (c *
+-__s1
+-, c *
+-__s2
+-,
+-
+-134 
+-size_t
+- 
+-__n
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-135 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 4));
+-
+-138 
+-__END_DECLS
+-
+-
+-140 #i
+-	`__GNUC_PREREQ
+- (3,4&& 
+-__USE_FORTIFY_LEVEL
+- > 0 \
+-
+-141 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-143 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+-
+-
+-144 
+-	~<bs/rgs_ftifd.h
+->
+-
+-	@/usr/include/features-time64.h
+-
+-20 
+-	~<bs/wdsize.h
+->
+-
+-21 
+-	~<bs/timesize.h
+->
+-
+-23 #i
+-defed
+- 
+-_TIME_BITS
+-
+-
+-24 #i
+-_TIME_BITS
+- == 64
+-
+-25 #i! 
+-defed
+- (
+-_FILE_OFFSET_BITS
+-) || _FILE_OFFSET_BITS != 64
+-
+-27 #i
+-__TIMESIZE
+- == 32
+-
+-28 
+-	#__USE_TIME_BITS64
+- 1
+-
+-	)
+-
+-30 #i
+-_TIME_BITS
+- == 32
+-
+-31 #i
+-__TIMESIZE
+- > 32
+-
+-35 #r 
+-Invid
+- 
+-_TIME_BITS
+- 
+-vue
+- (
+-n
+- 
+-ly
+- 
+-be
+- 32 
+-
+- 64-
+-b
+-)
+-
+-	@/usr/include/stdc-predef.h
+-
+-18 #idef 
+-_STDC_PREDEF_H
+-
+-
+-19 
+-	#_STDC_PREDEF_H
+- 1
+-
+-	)
+-
+-36 #ifde
+-__GCC_IEC_559
+-
+-
+-37 #i
+-__GCC_IEC_559
+- > 0
+-
+-38 
+-	#__STDC_IEC_559__
+- 1
+-
+-	)
+-
+-39 
+-	#__STDC_IEC_60559_BFP__
+- 201404L
+-
+-	)
+-
+-42 
+-	#__STDC_IEC_559__
+- 1
+-
+-	)
+-
+-43 
+-	#__STDC_IEC_60559_BFP__
+- 201404L
+-
+-	)
+-
+-46 #ifde
+-__GCC_IEC_559_COMPLEX
+-
+-
+-47 #i
+-__GCC_IEC_559_COMPLEX
+- > 0
+-
+-48 
+-	#__STDC_IEC_559_COMPLEX__
+- 1
+-
+-	)
+-
+-49 
+-	#__STDC_IEC_60559_COMPLEX__
+- 201404L
+-
+-	)
+-
+-52 
+-	#__STDC_IEC_559_COMPLEX__
+- 1
+-
+-	)
+-
+-53 
+-	#__STDC_IEC_60559_COMPLEX__
+- 201404L
+-
+-	)
+-
+-62 
+-	#__STDC_ISO_10646__
+- 201706L
+-
+-	)
+-
+-	@
+-1
+-.
+-1
+-/usr/include
+-87
+-843
+-asm.h
+-bio.c
+-bootasm.S
+-bootmain.c
+-buf.h
+-cat.c
+-console.c
+-date.h
+-defs.h
+-echo.c
+-elf.h
+-entry.S
+-entryother.S
+-exec.c
+-fcntl.h
+-file.c
+-file.h
+-forktest.c
+-fs.c
+-fs.h
+-grep.c
+-ide.c
+-init.c
+-initcode.S
+-ioapic.c
+-kalloc.c
+-kbd.c
+-kbd.h
+-kill.c
+-lapic.c
+-ln.c
+-log.c
+-ls.c
+-main.c
+-memide.c
+-memlayout.h
+-mkdir.c
+-mkfs.c
+-mman.c
+-mmu.h
+-mp.c
+-mp.h
+-param.h
+-picirq.c
+-pipe.c
+-printf.c
+-proc.c
+-proc.h
+-rm.c
+-sh.c
+-sleeplock.c
+-sleeplock.h
+-spinlock.c
+-spinlock.h
+-stat.h
+-stressfs.c
+-string.c
+-swtch.S
+-syscall.c
+-syscall.h
+-sysfile.c
+-sysproc.c
+-trap.c
+-trapasm.S
+-traps.h
+-types.h
+-uart.c
+-ulib.c
+-umalloc.c
+-user.h
+-usertests.c
+-usys.S
+-vectors.S
+-vm.c
+-wc.c
+-x86.h
+-zombie.c
+-/usr/include/assert.h
+-/usr/include/stdio.h
+-/usr/include/stdlib.h
+-/usr/include/string.h
+-/usr/include/unistd.h
+-/usr/include/alloca.h
+-/usr/include/features.h
+-/usr/include/strings.h
+-/usr/include/features-time64.h
+-/usr/include/stdc-predef.h
+diff --git a/cscope.po.out b/cscope.po.out
+deleted file mode 100644
+index f0d5be1..0000000
+Binary files a/cscope.po.out and /dev/null differ
+diff --git a/mman.c b/mman.c
+index 72a8352..f45e33f 100644
+--- a/mman.c
++++ b/mman.c
+@@ -18,11 +18,11 @@ int main(int argc, char *argv[]){
+ 
+ 	printf(1, "char: %c\n", ret[0]);
+ 	printf(1, "############################\n");
+-	printf(1, "char: %c\n", ret[4096]);
++	ret[0] = 'a';
+ 
+-	// munmap(ret, 4096);
++	munmap(ret+4096, 4096);
+ 
+-	// printf(1, "char: %c\n", ret[0]);
++	printf(1, "char: %c\n", ret[0]);
+ 
+ 	close(fd);
+ 	exit();
+diff --git a/mmu.h b/mmu.h
+index 59a4e01..2e9bfee 100644
+--- a/mmu.h
++++ b/mmu.h
+@@ -141,10 +141,12 @@ struct mmapInfo{
+   int flags;
+   struct legend2 *pages;
+   struct anon *anonMaps;
+-  int valid;
++  int ref;
+   int actualFlags;
+ };
+ 
++void freeVMA(struct mmapInfo *vma);
++
+ void *mmap_helper(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+ 
+ int munmap_helper(void *addr, unsigned int length);
+diff --git a/proc.c b/proc.c
+index 5a671da..537549e 100644
+--- a/proc.c
++++ b/proc.c
+@@ -215,7 +215,7 @@ fork(void)
+       np->ofile[i] = filedup(curproc->ofile[i]);
+   
+   for(i = 0; i < NOMAPS; i++)
+-    if(curproc->maps[i] && curproc->maps[i]->valid){
++    if(curproc->maps[i] && curproc->maps[i]->ref){
+       if (curproc->maps[i]->anonMaps){
+         cprintf("Anonymous %x\n", curproc->maps[i]->start);
+       }
+@@ -261,8 +261,9 @@ exit(void)
+   // Clear PTEs of mapped files if their ref count is 1
+   // cprintf("Exiting\n");
+   for (md = 0; md<NOMAPS; md++){
+-    if (curproc->maps[md] && curproc->maps[md]->valid==1){
++    if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
+       if (curproc->maps[md]->pages && curproc->maps[md]->pages->mapRef>1){
++        // Clear the PTEs to save the pages
+         clear(curproc->pgdir, curproc->maps[md]);
+       } else if (curproc->maps[md]->pages){
+         // Clear the struct out globally
+@@ -271,8 +272,11 @@ exit(void)
+       if (curproc->maps[md]->anonMaps && curproc->maps[md]->anonMaps->ref > 1){
+         clear(curproc->pgdir, curproc->maps[md]);
+       }
+-      curproc->maps[md]--;
+-      curproc->maps[md]->valid = 0;
++      curproc->maps[md]->ref--;
++
++      if (curproc->maps[md]->ref == 0){
++        freeVMA(curproc->maps[md]);
++      }
+       curproc->maps[md] = 0;
+     }
+   }
+@@ -334,6 +338,26 @@ wait(void)
+         // for (int i=0; i<NOMAPS; i++){
+         //   p->maps[i] = 0;
+         // }
++        for (int md = 0; md<NOMAPS; md++){
++          if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
++            if (curproc->maps[md]->pages && curproc->maps[md]->pages->mapRef>1){
++              // Clear the PTEs to save the pages
++              clear(curproc->pgdir, curproc->maps[md]);
++            } else if (curproc->maps[md]->pages){
++              // Clear the struct out globally
++              clearMap(curproc->maps[md]->pages);
++            }
++            if (curproc->maps[md]->anonMaps && curproc->maps[md]->anonMaps->ref > 1){
++              clear(curproc->pgdir, curproc->maps[md]);
++            }
++            curproc->maps[md]->ref--;
++
++            if (curproc->maps[md]->ref == 0){
++              freeVMA(curproc->maps[md]);
++            }
++            curproc->maps[md] = 0;
++          }
++        }
+         release(&ptable.lock);
+         return pid;
+       }
+diff --git a/vm.c b/vm.c
+index 61449cb..26e7b31 100644
+--- a/vm.c
++++ b/vm.c
+@@ -364,7 +364,7 @@ copyuvm(pde_t *pgdir, uint sz)
+   for (int i=0; i<NOMAPS; i++){
+     struct mmapInfo *vma = currproc->maps[i];
+     // Get a new VMA, set the appropriate flags
+-    if (vma && vma->valid){
++    if (vma && vma->ref){
+       // Get the pte, mark the AVL bits]
+       char *start = vma->start;
+       char *end = (char *) PGROUNDUP((uint) vma->end);
+@@ -469,6 +469,7 @@ struct mmapInfo *mmapdup(struct mmapInfo *m){
+   } else{
+     m->anonMaps->ref++;
+   }
++  m->ref++;
+   return m;
+ }
+ 
+@@ -572,7 +573,7 @@ struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int
+ 
+   struct mmapInfo *mI = 0;
+   for (int i=0; i<NMAPS; i++){
+-    if (mtable.info[i].valid==0){
++    if (mtable.info[i].ref==0){
+       mI = &mtable.info[i];
+       break;
+     }
+@@ -585,7 +586,7 @@ struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int
+   mI->start = start;
+   mI->end = start + length;
+   mI->pages = m;
+-  mI->valid = 1;
++  mI->ref = 1;
+   mI->firstPageIndex = offset / PGSIZE;
+   mI->numPages = numPages;
+   mI->prot = prot;
+@@ -695,7 +696,7 @@ void freeVMA(struct mmapInfo *vma){
+   vma->prot = 0;
+   vma->numPages = 0;
+   vma->pages = 0;
+-  vma->valid = 0;
++  vma->ref = 0;
+   vma->anonMaps = 0;
+ }
+ 
+@@ -1015,7 +1016,7 @@ int munmap_helper(void *addr, unsigned int length){
+   // Find the VMA
+   struct proc *currproc = myproc();
+   for (int i=0; i<NOMAPS; i++){
+-    if (currproc->maps[i] && currproc->maps[i]->valid){
++    if (currproc->maps[i] && currproc->maps[i]->ref){
+       if (currproc->maps[i]->start <= roundAddr && roundAddr < currproc->maps[i]->end){
+         vma = currproc->maps[i];
+         break;
+@@ -1061,11 +1062,12 @@ int munmap_helper(void *addr, unsigned int length){
+   }
+ 
+   // So, we have to deallocate the memory of the process and possibly flush it back to disk
+-  char *start = vma->start;
+-  char *end = vma->end;
++  char *start = roundAddr;
++  char *end = (char *) min(PGROUNDUP((uint) (vma->start + length)), PGROUNDUP((uint) vma->end));
++  cprintf("Unmapping from %x-%x\n", start, end);
+   char *va = start;
+   pte_t *pte;
+-  int pageIndex = (int) (roundAddr - start) / PGSIZE;
++  int pageIndex = (int) (roundAddr - vma->start) / PGSIZE;
+   uint pa;
+ 
+   struct legend2 *m;
+@@ -1081,6 +1083,10 @@ int munmap_helper(void *addr, unsigned int length){
+       if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+         panic("munmap: pte should exist");
+       }
++      if (!(*pte & PTE_P)){
++        // This region wasn't mapped. Skip it
++        continue;
++      }
+       // Decrement the page reference count
+       ref[pageIndex]--;
+       cprintf("Legend %d %d\n", pageIndex, ref[pageIndex]);
diff --git a/trap.c b/trap.c
index 41c66eb..9db7f42 100644
--- a/trap.c
+++ b/trap.c
@@ -77,6 +77,13 @@ trap(struct trapframe *tf)
             cpuid(), tf->cs, tf->eip);
     lapiceoi();
     break;
+  case T_PGFLT:
+    // If payheed, then only handle, else this is not what we are capable of
+    char *faultedOn = (char *) rcr2();
+    cprintf("Faulted on %x\n", faultedOn);
+    handleMapFault(faultedOn);
+    switchuvm(myproc());
+    break;
 
   //PAGEBREAK: 13
   default:
diff --git a/user.h b/user.h
index 4f99c52..2eefcec 100644
--- a/user.h
+++ b/user.h
@@ -23,6 +23,8 @@ int getpid(void);
 char* sbrk(int);
 int sleep(int);
 int uptime(void);
+void *mmap(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+int munmap(void *addr, unsigned int length);
 
 // ulib.c
 int stat(const char*, struct stat*);
diff --git a/usertests.c b/usertests.c
index a1e97e7..18ebdfb 100644
--- a/usertests.c
+++ b/usertests.c
@@ -477,12 +477,15 @@ sharedfd(void)
   }
   pid = fork();
   memset(buf, pid==0?'c':'p', sizeof(buf));
+  printf(1, "writing\n");
   for(i = 0; i < 1000; i++){
+    printf(1, "i: %d\n", i);
     if(write(fd, buf, sizeof(buf)) != sizeof(buf)){
       printf(1, "fstests: write sharedfd failed\n");
       break;
     }
   }
+  printf(1, "child exiting\n");
   if(pid == 0)
     exit();
   else
@@ -494,6 +497,7 @@ sharedfd(void)
     return;
   }
   nc = np = 0;
+  printf(1, "reading\n");
   while((n = read(fd, buf, sizeof(buf))) > 0){
     for(i = 0; i < sizeof(buf); i++){
       if(buf[i] == 'c')
@@ -504,6 +508,7 @@ sharedfd(void)
   }
   close(fd);
   unlink("sharedfd");
+  printf(1, "%d %d\n", nc, np);
   if(nc == 10000 && np == 10000){
     printf(1, "sharedfd ok\n");
   } else {
@@ -555,6 +560,8 @@ fourfiles(void)
     wait();
   }
 
+  printf(1, "!!!!!!!!!!!!!!! In parent\n");
+
   for(i = 0; i < 2; i++){
     fname = names[i];
     fd = open(fname, 0);
@@ -1756,10 +1763,10 @@ main(int argc, char *argv[])
   }
   close(open("usertests.ran", O_CREATE));
 
-  argptest();
-  createdelete();
-  linkunlink();
-  concreate();
+  // argptest();
+  // createdelete();
+  // linkunlink();
+  // concreate();
   fourfiles();
   sharedfd();
 
diff --git a/usys.S b/usys.S
index 8bfd8a1..9ac03b2 100644
--- a/usys.S
+++ b/usys.S
@@ -29,3 +29,5 @@ SYSCALL(getpid)
 SYSCALL(sbrk)
 SYSCALL(sleep)
 SYSCALL(uptime)
+SYSCALL(mmap)
+SYSCALL(munmap)
diff --git a/vm.c b/vm.c
index 7134cff..54bfe9c 100644
--- a/vm.c
+++ b/vm.c
@@ -5,11 +5,36 @@
 #include "memlayout.h"
 #include "mmu.h"
 #include "proc.h"
+#include "spinlock.h"
+#include "sleeplock.h"
 #include "elf.h"
+#include "fs.h"
+#include "file.h"
+#include "mman.h"
 
 extern char data[];  // defined by kernel.ld
 pde_t *kpgdir;  // for use in scheduler()
 
+int mmapAssignProc(struct proc *currproc, struct mmapInfo *vma);
+
+// General map cache
+struct {
+  struct spinlock lock;
+  struct legend2 maps[NMAPS];
+} mmapCache;
+
+// Anonymous map cache
+struct {
+  struct spinlock lock;
+  struct anon anonMaps[NMAPS];
+} anonCache;
+
+// mmapInfo structs
+struct {
+  struct spinlock lock;
+  struct mmapInfo info[NMAPS];
+} mtable;
+
 // Set up CPU's kernel segment descriptors.
 // Run once on entry on each CPU.
 void
@@ -70,7 +95,13 @@ mappages(pde_t *pgdir, void *va, uint size, uint pa, int perm)
       return -1;
     if(*pte & PTE_P)
       panic("remap");
-    *pte = pa | perm | PTE_P;
+    if (PTE_META(*pte) == (PTE_PRIVATE >> 8)){
+      *pte &= ~PTE_W;
+      *pte |= PTE_P;
+      *pte &= ~PTE_PRIVATE;
+    } else{
+      *pte = pa | perm | PTE_P;
+    }
     if(a == last)
       break;
     a += PGSIZE;
@@ -126,12 +157,13 @@ setupkvm(void)
   memset(pgdir, 0, PGSIZE);
   if (P2V(PHYSTOP) > (void*)DEVSPACE)
     panic("PHYSTOP too high");
-  for(k = kmap; k < &kmap[NELEM(kmap)]; k++)
+  for(k = kmap; k < &kmap[NELEM(kmap)]; k++){
     if(mappages(pgdir, k->virt, k->phys_end - k->phys_start,
                 (uint)k->phys_start, k->perm) < 0) {
       freevm(pgdir);
       return 0;
     }
+  }
   return pgdir;
 }
 
@@ -192,6 +224,14 @@ inituvm(pde_t *pgdir, char *init, uint sz)
   memmove(mem, init, sz);
 }
 
+// MINE: Get details of the pte
+void getDetails(pte_t *pte){
+}
+
+int isDirty(pte_t *pte){
+  return *pte & 0x40;
+}
+
 // Load a program segment into pgdir.  addr must be page-aligned
 // and the pages from addr to addr+sz must already be mapped.
 int
@@ -216,6 +256,10 @@ loaduvm(pde_t *pgdir, char *addr, struct inode *ip, uint offset, uint sz)
   return 0;
 }
 
+int isMapped(char *v){
+  return 0;
+}
+
 // Allocate page tables and physical memory to grow process from oldsz to
 // newsz, which need not be page aligned.  Returns new size or 0 on error.
 int
@@ -284,7 +328,7 @@ void
 freevm(pde_t *pgdir)
 {
   uint i;
-
+  
   if(pgdir == 0)
     panic("freevm: no pgdir");
   deallocuvm(pgdir, KERNBASE, 0);
@@ -322,11 +366,64 @@ copyuvm(pde_t *pgdir, uint sz)
 
   if((d = setupkvm()) == 0)
     return 0;
+  
+  // If this address lies in the range of a map, handle it by pointing mem to the correct page. Or best, don't map it only. Let it page fault. Ensure but pte is with correct permissions. Map Private should be marked as Read-only, that's it. Set the AVL bit to some value, we have three bits for the purpose. Let's set them to an alternating pattern of 101
+  // Actual flags of VMA never change, so processes can share VMAs as well. Need refCount on vma
+  // Nullify pte
+  struct proc *currproc = myproc();
+  int pid = currproc->pid;
+  if (pid != 1 && pid!=2){
+    for (int i=0; i<NOMAPS; i++){
+      struct mmapInfo *vma = currproc->maps[i];
+      // Get a new VMA, set the appropriate flags
+      if (vma && vma->ref){
+        // Get the pte, mark the AVL bits]
+        char *start = vma->start;
+        char *end = (char *) PGROUNDUP((uint) vma->end);
+        char *a = start;
+        for (; a < end; a += PGSIZE){
+          if ( (pte = walkpgdir(pgdir, a, 0)) == 0){
+            panic("copyuvm: pte should exist");
+          }
+          if (!(*pte & PTE_P)){
+            *pte |= PTE_SKIP;
+            continue;
+          }
+          if (vma->flags & MAP_PRIVATE){
+            *pte |= PTE_PRIVATE;
+            *pte &= ~PTE_P;
+          } else{
+            *pte |= PTE_AVL;
+            *pte &= ~PTE_P;
+          }
+        }
+      }
+    }
+  }
+
   for(i = 0; i < sz; i += PGSIZE){
     if((pte = walkpgdir(pgdir, (void *) i, 0)) == 0)
       panic("copyuvm: pte should exist");
-    if(!(*pte & PTE_P))
-      panic("copyuvm: page not present");
+    if(!(*pte & PTE_P)){
+      if (PTE_META(*pte)==(PTE_AVL >> 8)){
+        *pte |=  PTE_P;
+        *pte &= ~PTE_AVL;
+        continue;
+      } else if (PTE_META(*pte)==(PTE_PRIVATE >> 8)){
+        pte_t *newPte;
+        if ((newPte = walkpgdir(d, (void *) i, 0)) == 0){
+          panic("Copying MAP_PRIVATE went wrong");
+        }
+        *newPte = *pte;
+        *pte |= PTE_P;
+        *pte &= ~PTE_PRIVATE;
+      } else if (*pte & PTE_SKIP){
+        *pte &= ~PTE_SKIP;
+        continue;
+      }
+      // panic("copyuvm: page not present");
+      continue;
+    }
     pa = PTE_ADDR(*pte);
     flags = PTE_FLAGS(*pte);
     if((mem = kalloc()) == 0)
@@ -385,10 +482,1056 @@ copyout(pde_t *pgdir, uint va, void *p, uint len)
   return 0;
 }
 
+char *extend(struct proc *p, uint oldsz, uint newsz){
+  p->sz += newsz;
+  return (char *) oldsz;
+}
+
+struct mmapInfo *mmapdup(struct mmapInfo *m){
+  if (m->pages && m->pages->f->ref < 1){
+    panic("filedup");
+  } else if (m->pages){
+    m->pages->f->ref++;
+    m->pages->mapRef++;
+  } else{
+    m->anonMaps->ref++;
+  }
+  m->ref++;
+  return m;
+}
+
+// Print all the maps of the process
+void unfoldMaps(){
+}
+
+void mmapCopyUvm(pde_t *pgdir, struct mmapInfo *vma){
+
+}
+
+// VMA carries the entire information of how we want to map the pages
+int mmapAllocUvm(pde_t *pgdir, struct mmapInfo *vma, int reload, char *faultedAddr){
+  char *mem;
+  uint a;
+  int mappingPagesFrom;
+  struct legend2 *m = vma->pages;
+  struct anon *am = vma->anonMaps;
+  char **physicalPages = 0;
+  int anonFlag = 0;
+  char *end, *start;
+
+  acquire(&mmapCache.lock);
+  if (m){
+    physicalPages = m->physicalPages;
+  } else if (am){
+    physicalPages = am->physicalPages;
+  } else{
+    panic("Incorrect VMA");
+  }
+
+  if (!faultedAddr){
+    mappingPagesFrom = vma->firstPageIndex;
+    a = (uint) vma->start;
+    end = vma->end;
+    start = vma->start;
+  } else{
+    mappingPagesFrom = ((uint) (faultedAddr - vma->start) / PGSIZE) + vma->firstPageIndex;
+    a = PGROUNDDOWN((uint) faultedAddr);
+    end = (char *) PGROUNDDOWN((uint) faultedAddr + PGSIZE);
+    start = (char *) PGROUNDDOWN((uint) faultedAddr);
+  }
+
+  for(; a < (uint) end; a += PGSIZE){
+    if (reload || !physicalPages[mappingPagesFrom]){
+      if (!physicalPages[mappingPagesFrom] && am && (vma->prot & PROT_WRITE)){
+        anonFlag = PTE_W;
+      }
+      mem = kalloc();
+      memset(mem, 0, PGSIZE);
+      if(mem == 0){
+        cprintf("allocuvm out of memory\n");
+        deallocuvm(pgdir, (uint) end, (uint) start);
+        release(&mmapCache.lock);
+        return -1;
+      }
+    }
+    if (reload){
+      pte_t *pte;
+      if ( (pte = walkpgdir(pgdir, (void *) a, 0)) == 0){
+        panic("Drunken walk\n");
+      }
+      memmove(mem, P2V(PTE_ADDR(*pte)), PGSIZE);
+      *pte = 0;
+    }
+    if (!reload && !physicalPages[mappingPagesFrom]){
+      physicalPages[mappingPagesFrom] = mem;
+    } else if (!reload && physicalPages[mappingPagesFrom]){
+      mem = physicalPages[mappingPagesFrom];
+    }
+    if(mappages(pgdir, (char*)a, PGSIZE, V2P(mem), vma->actualFlags | anonFlag) < 0){
+      cprintf("allocuvm out of memory (2)\n");
+      deallocuvm(pgdir, (uint) end, (uint) start);
+      kfree(mem);
+      release(&mmapCache.lock);
+      return -1;
+    }
+    mappingPagesFrom++;
+  }
+  release(&mmapCache.lock);
+  return 0;
+}
+
+struct legend2 *mmapAlloc(){
+  acquire(&mmapCache.lock);
+  for (int i=0; i<NMAPS; i++){
+    if (mmapCache.maps[i].mapRef == 0){
+      for (int j=0; j<MAX_PAGES; j++){
+        mmapCache.maps[i].physicalPages[j] = 0;
+      }
+      release(&mmapCache.lock);
+      return &mmapCache.maps[i];
+    }
+  }
+  release(&mmapCache.lock);
+  return 0;
+}
+
+struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int offset, int length, int prot, int flags, char fileOp){
+  int numPages = (PGROUNDUP(offset + length) - PGROUNDDOWN(offset)) / PGSIZE;
+
+  acquire(&mtable.lock);
+  struct mmapInfo *vma = 0;
+  for (int i=0; i<NMAPS; i++){
+    if (mtable.info[i].ref==0){
+      vma = &mtable.info[i];
+      break;
+    }
+  }
+
+  if (!vma){
+    return 0;
+  }
+
+  vma->start = start;
+  vma->end = vma->start + offset + length - PGROUNDDOWN(offset);
+  vma->pages = m;
+  vma->ref = 1;
+  vma->firstPageIndex = (PGROUNDDOWN(offset)) / PGSIZE;
+  vma->numPages = numPages;
+  vma->prot = prot;
+  vma->flags = flags;
+  vma->anonMaps = am;
+  vma->fileOp = fileOp;
+
+  // If MAP_PRIVATE is present, mark the page as read-only. When page fault occurs, then we'll decide if the page was actually writable or not using the prot field
+  if (flags & MAP_PRIVATE){
+    vma->actualFlags = PTE_P | PTE_U;
+  } else{
+    if (prot & PROT_WRITE){
+      vma->actualFlags = PTE_P | PTE_W | PTE_U;
+    } else{
+      vma->actualFlags = PTE_P | PTE_U;
+    }
+  }
+
+  if (vma->prot == PROT_NONE){
+    vma->actualFlags = PTE_U;
+  }
+  release(&mtable.lock);
+
+  return vma;
+}
+
+int min(int a, int b){
+  return a<b?a:b;
+}
+
+int max(int a, int b){
+  return a>b?a:b;
+}
+
+void printInfo(struct legend2 *m){
+  for (int i=0; i<MAX_PAGES; i++){
+    // cprintf("%x\n", m->physicalPages[i]);
+  }
+}
+
+// Map the pages into struct legend2 only if they could be loaded
+int mmapLoadUvm(pde_t *pgdir, struct legend2 *map, struct mmapInfo *m, int reload, char *faultedAddr){
+  // pde_t *pgdir, char *addr, struct inode *ip, uint offset, uint sz
+  uint i, pa, n, sz, offset;
+  pte_t *pte;
+  int pageNum;
+  char *addr;
+  int firstPageIndex, numPages;
+
+  if (!faultedAddr){
+    addr = m->start;
+    sz = min(m->numPages*PGSIZE, map->f->ip->size - m->firstPageIndex*PGSIZE);
+    offset = m->firstPageIndex * PGSIZE;
+    pageNum = m->firstPageIndex;
+  } else{
+    addr = (char *) PGROUNDDOWN((uint) faultedAddr);
+    firstPageIndex = (int) (faultedAddr - m->start) / PGSIZE + m->firstPageIndex;
+    numPages = 1;
+    sz = min(numPages*PGSIZE, map->f->ip->size - firstPageIndex*PGSIZE);
+    offset = firstPageIndex * PGSIZE;
+    pageNum = firstPageIndex;
+  }
+
+  if((uint) addr % PGSIZE != 0)
+    panic("loaduvm: addr must be page aligned");
+  for(i = 0; i < sz; i += PGSIZE){
+    if((pte = walkpgdir(pgdir, addr+i, 0)) == 0)
+      panic("loaduvm: address should exist");
+    pa = PTE_ADDR(*pte);
+    // If the page was not in the cache
+    if (!map->ref[pageNum]){
+      if(sz - i < PGSIZE)
+        n = sz - i;
+      else
+        n = PGSIZE;
+      int written;
+      begin_op();
+      if(( written = readi(map->f->ip, P2V(pa), offset+i, n) ) != n){
+        end_op();
+        return -1;
+      }
+      end_op();
+    }
+    map->ref[pageNum]++;
+    pageNum++;
+  }
+  return 0;
+}
+
+struct legend2 *findInCache(struct file *f){
+  acquire(&mmapCache.lock);
+  struct legend2 *old;
+  struct legend2 *m = 0;
+
+  for (int i=0; i<NMAPS; i++){
+    if ( (old = &mmapCache.maps[i])->mapRef != 0){
+      if (old->f->ip == f->ip){
+        m = &mmapCache.maps[i];
+        break;
+      }
+    }
+  }
+  release(&mmapCache.lock);
+  return m;
+}
+
+void freeVMA(struct mmapInfo *vma){
+  int shouldRelease = 0;
+  if (!holding(&mtable.lock)){
+    acquire(&mtable.lock);
+    shouldRelease = 1;
+  }
+  vma->start = 0;
+  vma->end = 0;
+  vma->firstPageIndex = -1;
+  vma->flags = 0;
+  vma->prot = 0;
+  vma->numPages = 0;
+  vma->pages = 0;
+  vma->ref = 0;
+  vma->anonMaps = 0;
+  if (shouldRelease){
+    release(&mtable.lock);
+  }
+}
+
+int readFromPageCache(struct legend2 *m, char *addr, int offset, int length){
+  int toRead, lastPage, canRead, readFrom, actualRead;
+  char *page;
+
+  if (offset > m->f->ip->size){
+    return 0;
+  }
+
+  toRead = length;
+  lastPage = m->f->ip->size / PGSIZE;
+  if (m->f->ip->size % PGSIZE == 0){
+    lastPage--;
+  }
+  actualRead = 0;
+  // cprintf("Reading %d from %d\n", length, offset);
+
+  while (toRead){
+    int pageNum = (offset / PGSIZE);
+    page = m->physicalPages[pageNum];
+    readFrom = offset % PGSIZE;
+    canRead = min(PGSIZE - readFrom, toRead);
+    if (pageNum == lastPage){
+      int bytes = (m->f->ip->size % PGSIZE);
+      if (bytes == 0){
+        canRead = min(toRead, PGSIZE);
+      } else{
+        canRead = min(bytes - readFrom, toRead);
+      }
+      // cprintf("-------------------------------%d %d %d %d-----------------------------------\n", lastPage, toRead, bytes, canRead);
+    }
+    // cprintf("From page %d at %d can read %d | File size: %d\n", pageNum, readFrom, canRead, m->f->ip->size);
+
+    memmove(addr + actualRead, page + readFrom, canRead);
+
+    toRead -= canRead;
+    offset += canRead;
+    actualRead += canRead;
+    // Have you read the last page? If yes, break;
+    if (pageNum == lastPage){
+      break;
+    }
+  }
+
+  if (length - toRead != actualRead){
+    panic("Incorrect logic\n");
+  }
+
+  return actualRead;
+}
+
+int mmapdeallocuvm(pde_t *pgdir, uint oldsz, uint newsz){
+  pte_t *pte;
+  uint a, pa;
+
+  if(newsz >= oldsz)
+    return oldsz;
+
+  a = PGROUNDUP(newsz);
+  for(; a  < oldsz; a += PGSIZE){
+    pte = walkpgdir(pgdir, (char*)a, 0);
+    if(!pte)
+      a = PGADDR(PDX(a) + 1, 0, 0) - PGSIZE;
+    else if((*pte & PTE_P) != 0){
+      pa = PTE_ADDR(*pte);
+      if(pa == 0)
+        panic("kfree");
+      *pte = 0;
+    }
+  }
+  return newsz;
+}
+
+struct mmapInfo *readIntoPageCache(void *addr, unsigned int length, int prot, int flags, struct file *f, int offset){
+  struct proc *currproc = myproc();
+  struct legend2 *m = 0;
+  // cprintf("Reading into Page Cache\n");
+
+  // Find in the global cache
+  m = findInCache(f);
+
+  if (!m && ((m = mmapAlloc()) == 0)){
+    cprintf("Call a geographer: I'm out of maps!\n");
+    return 0;
+  }
+
+  acquire(&mmapCache.lock);
+  m->f = f;
+  m->mapRef++;
+  m->f->ref++;
+  release(&mmapCache.lock);
+
+  // Check if fd prot and map prot are compatible
+  int fileProt = m->f->readable?1:0 | m->f->writable?2:0;
+  if ( (fileProt & prot) == 0){
+    return (void *) 0xffffffff;
+  }
+
+  // Extend the process size if necessary - you could check if such a mapping already exists in the process address space (not doing this currently)
+  int newSz;
+  char *start;
+
+  newSz = PGROUNDUP(offset+length) - PGROUNDDOWN(offset);
+  start = extend(currproc, currproc->sz, newSz);
+
+  struct mmapInfo *vma = mmapAssign(m, 0, start, offset, length, prot, flags, '1');
+  offset = PGROUNDDOWN(offset);
+
+  int status = 0;
+  if ((status = mmapAssignProc(currproc, vma)) == -1){
+    return 0;
+  }
+
+  // Use the VMA
+
+  // Allocate PTEs
+  if (( status = mmapAllocUvm(currproc->pgdir, vma, 0, 0)) <0 ){
+    cprintf("Couldn't allocate\n");
+    return 0;
+  }
+
+  // Load the pages
+    // Use the struct legend and the vma to figure out which pages are needed and load only the necessary pages
+  int written;
+
+  if (offset >= f->ip->size){
+    // Need to allocate pages still
+    int pageIndex = vma->firstPageIndex;
+    for (int i=0; i < vma->numPages; i++){
+      vma->pages->ref[pageIndex]++;
+    }
+  } else{
+    ilock(m->f->ip);
+    if (( written = mmapLoadUvm(currproc->pgdir, m, vma, 0, 0)) < 0){
+      cprintf("Loading failed\n");
+      iunlock(m->f->ip);
+      return 0;
+    }
+    iunlock(m->f->ip);
+  }
+
+  // printInfo(m);
+  mmapdeallocuvm(currproc->pgdir, currproc->sz, currproc->sz - newSz);
+  currproc->sz -= newSz;
+
+  // freeVMA(vma);
+  return vma;
+}
+
+int writeToPageCache(struct legend2 *map, char *addr, int offset, int length){
+  // This needs to update the VMA end
+  char *pagePointer;
+  int pageIndex, toWrite, canWrite;
+
+  pageIndex = PGROUNDDOWN(offset) / PGSIZE;
+  toWrite = length;
+
+  offset = offset % PGSIZE;
+  while (toWrite){
+    pagePointer = map->physicalPages[pageIndex];
+    if (!pagePointer){
+      panic("871 Unmapped\n");
+    }
+    pagePointer += offset;
+
+    canWrite = min(toWrite, PGSIZE - offset);
+    memmove(pagePointer, addr, canWrite);
+
+    toWrite = toWrite - canWrite;
+    offset  = (offset + canWrite) % PGSIZE;
+
+    addr = addr + canWrite;
+    pageIndex++;
+  }
+
+  return length - toWrite;
+}
+
+int mmapAssignProc(struct proc *currproc, struct mmapInfo *vma){
+  for (int i=0; i < NOMAPS; i++){
+    if (!currproc->maps[i] || currproc->maps[i]->ref == 0){
+      currproc->maps[i] = vma;
+      return 0;
+    }
+  }
+  return -1;
+}
+
+struct legend2 *findInCachePage(struct file *f, int offset, int length, int op){
+  struct legend2 *map = findInCache(f);
+  if (!map && ((map = mmapAlloc())) == 0){
+    panic("Out of maps\n");
+    return 0;
+  }
+  if (!op && offset >= f->ip->size){
+    return 0;
+  }
+  int pageNum = offset / PGSIZE;
+  int lastPage = (offset + length) / PGSIZE;
+  if ((offset + length) % PGSIZE == 0){
+    lastPage--;
+  }
+  int prot = f->readable?PROT_READ:0 | f->writable?PROT_WRITE:0;
+  for (int page = pageNum; page <= lastPage; page++){
+    // Check if page is present
+    if (map->physicalPages[page]){
+    } else{
+      // If not, read into the cache
+      readIntoPageCache(0, PGSIZE, prot, MAP_SHARED, f, page * PGSIZE);
+      // cprintf("\n#########################################\n");
+      // cprintf("Read in page num %d\n", page);
+      // cprintf("#########################################\n");
+    }
+  }
+  return map;
+}
+
+void *mmap_helper(void *addr, int length, int prot, int flags, int fd, int offset){
+  // Anonymous Maps aren't cached, do you need to?
+  // Process calls MAP_ANON and MAP_SHARED, you note this in the struct proc
+
+  if (length <= 0){
+    return MAP_FAILED;
+  }
+
+  if (PGROUNDDOWN(offset) != offset){
+    return MAP_FAILED;
+  }
+
+  struct proc *currproc = myproc();
+  struct legend2 *m = 0;
+  struct anon *anonMap = 0;
+  struct file *f = 0;
+
+  switch(flags){
+    case MAP_SHARED: 
+    case MAP_PRIVATE:
+      if (fd < 0 || fd > NOFILE){
+        return MAP_FAILED;
+      }
+      f = currproc->ofile[fd];
+      if (f->ip == (struct inode *) 0x80112a24){
+        return MAP_FAILED;
+      }
+      break;
+    case MAP_ANONYMOUS | MAP_PRIVATE: 
+    case MAP_ANONYMOUS | MAP_SHARED: 
+      offset = 0;
+      break;
+    default: return MAP_FAILED;
+  }
+
+  if (!(flags & MAP_ANONYMOUS)){
+    // Find in the global cache
+    m = findInCache(f);
+
+    if (!m && ((m = mmapAlloc()) == 0)){
+      cprintf("Call a geographer: I'm out of maps!\n");
+      return (void *) 0xffffffff;
+    }
+
+    acquire(&mmapCache.lock);
+    m->f = currproc->ofile[fd];
+    m->mapRef++;
+    m->f->ref++;
+    release(&mmapCache.lock);
+
+    // Check if fd prot and map prot are compatible
+    int fileProt = (m->f->readable?1:0) | (m->f->writable?2:0);
+    if ( (fileProt & prot) != prot){
+      if (prot == PROT_NONE){
+      } else{
+        return (void *) 0xffffffff;
+      }
+    }
+  } else{
+    // This is anonymous mapping
+    // Get a struct anon from anonCache
+    acquire(&anonCache.lock);
+    for (int i=0; i<NMAPS; i++){
+      if (anonCache.anonMaps[i].ref == 0){
+        anonMap = &anonCache.anonMaps[i];
+        break;
+      }
+    }
+
+    if (!anonMap){
+      release(&anonCache.lock);
+      return MAP_FAILED;
+    }
+
+    anonMap->ref++;
+    release(&anonCache.lock);
+    offset = 0;
+  }
+
+  // Extend the process size if necessary - you could check if such a mapping already exists in the process address space (not doing this currently)
+  int newSz;
+  char *start;
+
+  newSz = PGROUNDUP(length);
+  start = extend(currproc, currproc->sz, newSz);
+
+  struct mmapInfo *vma = mmapAssign(m, anonMap, start, offset, length, prot, flags, '\0');
+  offset = PGROUNDDOWN(offset);
+
+  int status = 0;
+  if ((status = mmapAssignProc(currproc, vma)) == -1){
+    freeVMA(vma);
+    return MAP_FAILED;
+  }
+
+  return vma->start;
+}
+
+void clearAnon(struct anon *am){
+  for (int i=0; i<3; i++){
+    am->physicalPages[i] = 0;
+  }
+  am->ref = 0;
+}
+
+void clearMap(struct legend2 *m){
+  m->f->ref--;
+  m->f = 0;
+  m->mapRef = 0;
+  for (int i=0; i<MAX_PAGES; i++){
+    m->physicalPages[i] = 0;
+    m->ref[i] = 0;
+  }
+}
+
+// Write to disk function
+  // returns success or fail
+int writeToDisk(struct mmapInfo *vma, int pageIndex){
+  acquire(&mmapCache.lock);
+  int n = PGSIZE;
+  struct legend2 *m = vma->pages;
+  char *addr = m->physicalPages[pageIndex];
+  
+  if (!m){
+    panic("Should have had a legend\n");
+  }
+
+  m->f->off = pageIndex * PGSIZE;
+
+  if (pageIndex==vma->firstPageIndex+vma->numPages-1){
+    // We're writing the last page, do not write beyond the vma specified
+    if (((uint) vma->end % PGSIZE) == 0){
+      // Skip
+    } else{
+      n = min((uint) vma->end - PGROUNDDOWN((uint) vma->end), PGSIZE);
+      // int checkForHole = 0;
+      // int lastByteWritten = 0;
+      // int hole = 1;
+      // // Or till the actual number of bytes written. Was there an intentions to create a hole?
+      // for (int i=0; i<PGSIZE; i++){
+      //   if (addr[i]=='\0'){
+      //     lastByteWritten = i;
+      //     checkForHole = 1;
+      //   }
+      //   if (checkForHole && addr[i]!='\0'){
+      //     hole = 1;
+      //   }
+      // }
+    }
+  }
+  int r = 0;
+  int max = ((MAXOPBLOCKS-1-1-2) / 2) * 512;
+  int i = 0;
+  while(i < n){
+    int n1 = n - i;
+    if(n1 > max)
+      n1 = max;
+    release(&mmapCache.lock);
+    begin_op();
+    ilock(m->f->ip);
+    if ((r = writei(m->f->ip, addr + i, m->f->off, n1)) > 0)
+      m->f->off += r;
+    iunlock(m->f->ip);
+    end_op();
+    acquire(&mmapCache.lock);
+    if(r < 0){
+      break;
+    }
+    if(r != n1)
+      panic("short filewrite");
+    i += r;
+  }
+
+  release(&mmapCache.lock);
+  return 0;
+}
+
+void clearPTE(pde_t *pgdir, char *va, int numPTEs){
+  // Since VMA allocates consecutive PTEs, we just need to find the first PTE to clear and then we clear numPTEs
+  pte_t *pte;
+
+  pte = walkpgdir(pgdir, va, 0);
+  if (!pte){
+    panic("Yet to handle");
+  }
+
+  for (int i=0; i < numPTEs; i++){
+    if (!(*pte & PTE_P)){
+      pte++;
+      continue;
+    }
+    *pte = 0;
+    pte++;
+  }
+}
+
+void freeMap(struct legend2 *map, int clearAll){
+  // This should only happen when mapRef is 0
+  if (map->mapRef != 0){
+    panic("Freeing map that is referenced");
+  }
+  // We don't need to clear the PTEs. It will be cleared in freevm as well as the pages, but we need to check if the pages are dirty or not
+  clearMap(map);
+}
+
+void freeAnon(struct anon *anon, int clearAll){
+  // This should only happen when anon ref is 0
+  if (anon->ref != 0){
+    panic("Freeing map that is referenced");
+  }
+  // We don't need to clear the PTEs. It will be cleared in freevm as well as the pages, but we need to check if the pages are dirty or not
+  clearAnon(anon);
+}
+
+void printVMAStatistics(struct mmapInfo *vma){
+  cprintf("Ref: %d | %d | %d | %c %d\n", vma->ref, vma->firstPageIndex, vma->numPages, vma->fileOp, vma->fileOp=='1'?vma->fileOp:0);
+  if (vma->pages){
+    for (int i=vma->firstPageIndex; i < vma->firstPageIndex + vma->numPages; i++){
+      cprintf("---%d ", vma->pages->ref[i]);
+    }
+  }
+  cprintf("\n");
+}
+
+void setDirty(pte_t *pte, int bit){
+  *pte &= ~PTE_DIRTY;
+}
+
+void cleanUpVMA(struct mmapInfo *vma){
+  struct proc *currproc = myproc();
+  pte_t *pteIndex;
+  char *addr = vma->start;
+  acquire(&mtable.lock);
+  if ((vma->flags & (MAP_ANONYMOUS)) == 0){
+    if (vma->flags & MAP_SHARED){
+      // int update = 0;
+      // if (vma->pages->f->off >= vma->pages->f->ip->size){
+      //   update = 1;
+      // }
+      // Use MAXPAGES if any process can write other processes' changes to the file back to disk
+      // printVMAStatistics(vma);
+      for (int i=vma->firstPageIndex; i < vma->firstPageIndex + vma->numPages; i++, addr+=PGSIZE){
+        if (vma->pages && (uint) vma->pages->physicalPages[i] > 0){
+          vma->pages->ref[i]--;
+          pteIndex = walkpgdir(currproc->pgdir, addr, 0);
+          if (!pteIndex){
+            panic("Yet to handled 1078");
+          }
+          if (!(*pteIndex & PTE_P) && !vma->fileOp){
+            continue;
+          }
+          if (isDirty(pteIndex) || vma->fileOp){
+            release(&mtable.lock);
+            writeToDisk(vma, i);
+            acquire(&mtable.lock);
+            setDirty(pteIndex, 0);
+          }
+          if (vma->pages->ref[i] == 0){
+            vma->pages->physicalPages[i] = 0;
+          } else{
+            clearPTE(currproc->pgdir, addr, 1);
+          }
+        }
+      }
+      vma->ref--;
+      vma->pages->mapRef--;
+      if (vma->pages->mapRef == 0){
+        freeMap(vma->pages, 0);
+      }
+      if (vma->ref == 0){
+        freeVMA(vma);
+      }
+    } else{
+      vma->ref--;
+      vma->pages->mapRef--;
+      if (vma->ref == 0){
+        if (vma->pages->mapRef == 0){
+          freeMap(vma->pages, 0);
+        }
+        freeVMA(vma);
+      } else{
+        clearPTE(currproc->pgdir, vma->start, vma->numPages);
+      }
+    }
+  } else{
+    vma->ref--;
+    vma->anonMaps->ref--;
+    if (vma->ref==0){
+      if (vma->anonMaps->ref == 0){
+        freeAnon(vma->anonMaps, 1);
+      }
+      freeVMA(vma);
+    } else{
+      clearPTE(currproc->pgdir, vma->start, vma->numPages);
+    }
+  }
+  release(&mtable.lock);
+}
+
+int munmap_helper(void *addr, unsigned int length){
+  if (length <= 0){
+    return -1;
+  }
+  if (!addr || (PGROUNDDOWN((uint) addr) != (uint) addr )){
+    return -1;
+  }
+
+  char *roundAddr;
+  struct mmapInfo *vma = 0;
+  int vmaIndex = 0;
+
+  roundAddr = (char *) PGROUNDDOWN((uint) addr);
+
+  // Find the VMA
+  struct proc *currproc = myproc();
+  for (int i=0; i<NOMAPS; i++){
+    if (currproc->maps[i] && currproc->maps[i]->ref){
+      if (currproc->maps[i]->start <= roundAddr && roundAddr < currproc->maps[i]->end){
+        vma = currproc->maps[i];
+        vmaIndex = i;
+        break;
+      }
+    }
+  }
+
+  if (!vma){
+    return 0;
+  }
+
+  // Possibly divide the VMA into 2
+  // Does it span the entire VMA?
+  struct mmapInfo *leftVMA = 0;
+  struct mmapInfo *rightVMA = 0;
+  if (roundAddr == vma->start && roundAddr + length >= vma->end){
+    // Entire VMA
+  } else if (roundAddr == vma->start){
+    // Divide into right-side VMA
+    char *newStart = (char *) PGROUNDDOWN((uint) (vma->start + length));
+    int newOffset = PGROUNDUP(vma->firstPageIndex * PGSIZE + length);
+    rightVMA = mmapAssign(vma->pages, vma->anonMaps, newStart, newOffset, (uint) vma->end - (uint) newStart, vma->prot, vma->flags, '\0');
+    if (!rightVMA){
+      return -1;
+    }
+  } else if (roundAddr + length >= vma->end){
+    // Divide into left-side VMA
+    char *newStart = vma->start;
+    int newOffset = (uint) roundAddr - (uint) vma->start;
+    leftVMA = mmapAssign(vma->pages, vma->anonMaps, newStart, newOffset, newOffset, vma->prot, vma->flags, '\0');
+    if (!leftVMA){
+      return -1;
+    }
+  } else{
+    // Divide into left-and-right-side VMA
+    char *left = vma->start;
+    char *leftEnd = roundAddr;
+    int leftOffset = (uint) leftEnd - (uint) left;
+    char *right = (char *) PGROUNDUP((uint) (roundAddr + length));
+    char *rightEnd = vma->end;
+    int rightOffset = (uint) rightEnd - (uint) right;
+    leftVMA = mmapAssign(vma->pages, vma->anonMaps, left, leftOffset, leftOffset, vma->prot, vma->flags, '\0');
+    rightVMA = mmapAssign(vma->pages, vma->anonMaps, right, rightOffset, rightOffset, vma->prot, vma->flags, '\0');
+    if (!leftVMA || !rightVMA){
+      if (leftVMA){
+        freeVMA(leftVMA);
+      } else if (rightVMA){
+        freeVMA(rightVMA);
+      }
+      return -1;
+    }
+  }
+
+  int status = 0;
+  if (leftVMA){
+    // Switch the VMAs in current process
+    currproc->maps[vmaIndex] = leftVMA;
+
+    // Now assign the rightVMA if it exists
+    if (rightVMA){
+      if ((status = mmapAssignProc(currproc, rightVMA)) == -1){
+        return -1;
+      }
+    }
+  } else if (rightVMA){
+    currproc->maps[vmaIndex] = rightVMA;
+  }
+
+  // So, we have to deallocate the memory of the process and possibly flush it back to disk
+  char *start = roundAddr;
+  char *end = (char *) min(PGROUNDUP((uint) (start + length)), PGROUNDUP((uint) vma->end));
+  char *va = start;
+  pte_t *pte;
+  int pageIndex = (int) (roundAddr - vma->start) / PGSIZE + vma->firstPageIndex;
+  // cprintf("------------------%d %d--------------------\n", (int) (roundAddr - vma->start) / PGSIZE, vma->firstPageIndex);
+  // cprintf("---------------------------------%d-----------------------------------\n", vma->pages->f->ip->size);
+  if (vma->fileOp){
+    vma->end = vma->start + vma->pages->f->ip->size;
+  }
+  uint pa;
+
+  struct legend2 *m;
+  struct anon *am;
+  int *ref;
+  int *count = 0;
+
+  m = vma->pages;
+  am = vma->anonMaps;
+
+  // For MAP_PRIVATE, we would like to discard the pages
+  // For MAP_SHARED, check if the page's reference count has gone down or not and write to the disk
+  if (m){
+    ref = vma->pages->ref;
+    for (; va < end; va += PGSIZE){
+      if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+        panic("munmap: pte should exist");
+      }
+      if (!(*pte & PTE_P)){
+        continue;
+      }
+      // Decrement the page reference count
+      ref[pageIndex]--;
+      if (ref[pageIndex] == 0){
+        // Check if the page is dirty and write it back to the disks
+        if (isDirty(pte)){
+          writeToDisk(vma, pageIndex);
+        }
+        m->physicalPages[pageIndex] = 0;
+        if(!pte)
+          va = (char *) (PGADDR(PDX((uint) va) + 1, 0, 0) - PGSIZE);
+        else if((*pte & PTE_P) != 0){
+          pa = PTE_ADDR(*pte);
+          if(pa == 0)
+            panic("kfree");
+          char *v = P2V(pa);
+          kfree(v);
+          *pte = 0;
+        }
+      }
+      // THIS IS DOUBTFUL
+      *pte = 0;
+      pageIndex++;
+    }
+  } else{
+    va = start;
+    count = &vma->anonMaps->ref;
+    for (; va < end; va += PGSIZE){
+      if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+        panic("munmap: pte should exist");
+      }
+      // Decrement the page reference count
+      (*count)--;
+      if (*count == 0){
+        clearAnon(am);
+
+        if(!pte)
+          va = (char *) (PGADDR(PDX((uint) va) + 1, 0, 0) - PGSIZE);
+        else if((*pte & PTE_P) != 0){
+          pa = PTE_ADDR(*pte);
+          if(pa == 0)
+            panic("kfree");
+          char *v = P2V(pa);
+          kfree(v);
+          *pte = 0;
+        }
+      }
+      // Remove the page table entry
+      *pte = 0;
+      pageIndex++;
+    }
+  }
+  
+  // Remove VMA from struct proc
+  // Decrement the ref count. If the ref count is 0, free the VMA
+  vma->ref--;
+  if (vma->ref == 0){
+    freeVMA(vma);
+  } else{
+    // Assign the leftVMA and rightVMA
+  }
+  lcr3(V2P(currproc->pgdir));
+  return 0;
+}
+
+void handleMapFault(char *addr){
+  struct mmapInfo *vma = 0;
+  struct proc *currproc = myproc();
+
+  acquire(&mtable.lock);
+  for (int i=0; i<NOMAPS; i++){
+    struct mmapInfo *map = currproc->maps[i];
+    if (map && map->start <= addr && addr < map->end){
+      vma = map;
+      break;
+    }
+  }
+  release(&mtable.lock);
+
+  pte_t *pte;
+  if (( pte = walkpgdir(currproc->pgdir, (void *) addr, 0)) == 0){
+    panic("Something's wrong");
+  }
+  if (!vma){
+    // We shouldn't be handling this
+    cprintf("Paging fault 1\n");
+    exit();
+    return;
+  }
+
+  if (*pte & PTE_P){
+    if (*pte & PTE_W){
+      panic("There shouldn't have been any fault\n");
+    } else{
+      if (vma->prot & PROT_WRITE){
+        // This would only happen for MAP_PRIVATE maps
+        // 1. Alloc new pages over the same range
+        // 2. Clear the initial page table entries with correct permissions
+        acquire(&mtable.lock);
+        vma->actualFlags |= PTE_W;
+        mmapAllocUvm(currproc->pgdir, vma, 1, addr);
+        vma->actualFlags &= ~PTE_W;
+        // 3. Flush TLB: Reload the base register cr3
+        // 4. Should I clear the map? Need to experiment with actual mmap You don't need to keep track of the private mappings
+        release(&mtable.lock);
+        return;
+      } else{
+        cprintf("Paging fault 2\n");
+        exit();
+        return;
+      }
+    }
+  } else{
+    if (vma->prot == PROT_NONE){
+      cprintf("Paging fault 3\n");
+      exit();
+      return;
+    }
+    struct legend2 *m = vma->pages;
+    int status;
+    if (( status = mmapAllocUvm(currproc->pgdir, vma, 0, addr)) < 0 ){
+      return;
+    }
+
+    if (!(vma->flags & MAP_ANONYMOUS)){
+      // Load the pages
+      int written;
+      ilock(m->f->ip);
+      if (( written = mmapLoadUvm(currproc->pgdir, m, vma, 0, addr)) < 0){
+        iunlock(m->f->ip);
+        return;
+      }
+      iunlock(m->f->ip);
+      return;
+    } else{
+      return;
+    }
+  }
+  return;
+}
+
+void clear(pde_t *pgdir, struct mmapInfo *m){
+  // Get the pte, clear it
+  pte_t *pte;
+
+  pte = walkpgdir(pgdir, m->start, 0);
+  for (int i=0; i<m->numPages; i++){
+    if (!(*pte & PTE_P)){
+      continue;
+    }
+    *pte = 0;
+    pte++;
+  }
+}
+
 //PAGEBREAK!
 // Blank page.
 //PAGEBREAK!
 // Blank page.
 //PAGEBREAK!
 // Blank page.
-
diff --git a/.gitignore b/.gitignore
index 3e2c9de..97de4c9 100644
--- a/.gitignore
+++ b/.gitignore
@@ -14,3 +14,5 @@ kernel
 kernelmemfs
 mkfs
 .gdbinit
+check.c
+.vscode
diff --git a/Makefile b/Makefile
index 09d790c..7269d3a 100644
--- a/Makefile
+++ b/Makefile
@@ -181,9 +181,10 @@ UPROGS=\
 	_usertests\
 	_wc\
 	_zombie\
+	_mman_test\
 
-fs.img: mkfs README $(UPROGS)
-	./mkfs fs.img README $(UPROGS)
+fs.img: mkfs README TEST $(UPROGS)
+	./mkfs fs.img README TEST $(UPROGS)
 
 -include *.d
 
@@ -196,7 +197,7 @@ clean:
 
 # make a printout
 FILES = $(shell grep -v '^\#' runoff.list)
-PRINT = runoff.list runoff.spec README toc.hdr toc.ftr $(FILES)
+PRINT = runoff.list runoff.spec README TEST toc.hdr toc.ftr $(FILES)
 
 xv6.pdf: $(PRINT)
 	./runoff
@@ -251,7 +252,7 @@ EXTRA=\
 	mkfs.c ulib.c user.h cat.c echo.c forktest.c grep.c kill.c\
 	ln.c ls.c mkdir.c rm.c stressfs.c usertests.c wc.c zombie.c\
 	printf.c umalloc.c\
-	README dot-bochsrc *.pl toc.* runoff runoff1 runoff.list\
+	README TEST dot-bochsrc *.pl toc.* runoff runoff1 runoff.list\
 	.gdbinit.tmpl gdbutil\
 
 dist:
diff --git a/NOTES b/NOTES
new file mode 100644
index 0000000..d8cc019
--- /dev/null
+++ b/NOTES
@@ -0,0 +1,2 @@
+- Linux creates two different mmap for the same parameters
+    - So same file contents are already present in the process address space, but they aren't looked at. A new mapping is created everytime
diff --git a/README b/README
index 923e0a4..eaf292b 100644
--- a/README
+++ b/README
@@ -1,4 +1,4 @@
-NOTE: we have stopped maintaining the x86 version of xv6, and switched
+xONE: we have stopped maintaining the x86 version of xv6, and switched
 our efforts to the RISC-V version
 (https://github.com/mit-pdos/xv6-riscv.git)
 
@@ -48,4 +48,162 @@ To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
 will need to install a cross-compiler gcc suite capable of producing
 x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
 Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
-simulator and run "make qemu".
\ No newline at end of file
+simulator and run "make qemu".
+
+NNNE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, Bnd Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
+
+####################################################################
+
+xONE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, and Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
+
+NNNE: we have stopped maintaining the x86 version of xv6, and switched
+our efforts to the RISC-V version
+(https://github.com/mit-pdos/xv6-riscv.git)
+
+xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
+Version 6 (v6).  xv6 loosely follows the structure and style of v6,
+but is implemented for a modern x86-based multiprocessor using ANSI C.
+
+ACKNOWLEDGMENTS
+
+xv6 is inspired by John Lions's Commentary on UNIX 6th Edition (Peer
+to Peer Communications; ISBN: 1-57398-013-7; 1st edition (June 14,
+2000)). See also https://pdos.csail.mit.edu/6.828/, which
+provides pointers to on-line resources for v6.
+
+xv6 borrows code from the following sources:
+    JOS (asm.h, elf.h, mmu.h, bootasm.S, ide.c, console.c, and others)
+    Plan 9 (entryother.S, mp.h, mp.c, lapic.c)
+    FreeBSD (ioapic.c)
+    NetBSD (console.c)
+
+The following people have made contributions: Russ Cox (context switching,
+locking), Cliff Frey (MP), Xiao Yu (MP), Nickolai Zeldovich, and Austin
+Clements.
+
+We are also grateful for the bug reports and patches contributed by Silas
+Boyd-Wickizer, Anton Burtsev, Cody Cutler, Mike CAT, Tej Chajed, eyalz800,
+Nelson Elhage, Saar Ettinger, Alice Ferrazzi, Nathaniel Filardo, Peter
+Froehlich, Yakir Goaron,Shivam Handa, Bryan Henry, Jim Huang, Alexander
+Kapshuk, Anders Kaseorg, kehao95, Wolfgang Keller, Eddie Kohler, Austin
+Liew, Imbar Marinescu, Yandong Mao, Matan Shabtay, Hitoshi Mitake, Carmi
+Merimovich, Mark Morrissey, mtasm, Joel Nider, Greg Price, Ayan Shafqat,
+Eldar Sehayek, Yongming Shen, Cam Tenny, tyfkda, Rafael Ubal, Warren
+Toomey, Stephen Tu, Pablo Ventura, Xi Wang, Keiichi Watanabe, Nicolas
+Wolovick, wxdao, Grant Wu, Jindong Zhang, Icenowy Zheng, and Zou Chang Wei.
+
+The code in the files that constitute xv6 is
+Copyright 2006-2018 Frans Kaashoek, Robert Morris, Bnd Russ Cox.
+
+ERROR REPORTS
+
+We don't process error reports (see note on top of this file).
+
+BUILDING AND RUNNING XV6
+
+To build xv6 on an x86 ELF machine (like Linux or FreeBSD), run
+"make". On non-x86 or non-ELF machines (like OS X, even on x86), you
+will need to install a cross-compiler gcc suite capable of producing
+x86 ELF binaries (see https://pdos.csail.mit.edu/6.828/).
+Then run "make TOOLPREFIX=i386-jos-elf-". Now install the QEMU PC
+simulator and run "make qemu".
diff --git a/TEST b/TEST
new file mode 100644
index 0000000..b6fc4c6
--- /dev/null
+++ b/TEST
@@ -0,0 +1 @@
+hello
\ No newline at end of file
diff --git a/buf.h b/buf.h
index 3266495..e7b863e 100644
--- a/buf.h
+++ b/buf.h
@@ -7,6 +7,7 @@ struct buf {
   struct buf *prev; // LRU cache list
   struct buf *next;
   struct buf *qnext; // disk queue
+  // You will have 512 bytes but nothing else in the buffer, so why don't you use that space to store information about files
   uchar data[BSIZE];
 };
 #define B_VALID 0x2  // buffer has been read from disk
diff --git a/caveats b/caveats
new file mode 100644
index 0000000..cd82e6e
--- /dev/null
+++ b/caveats
@@ -0,0 +1,10 @@
+- length in mmap parameter is used as an explicit understanding of number of bytes of the last page to be written back to the file
+- I had 2 choices in deciding what to do with maps across fork
+    - page fault and accordingly get the code in each child and fork
+    - If page fault occurs before fork and in parent, then it is directly accessible in child process (does not involve a page fault)
+
+    - I chose 1st because that seems to be more space conservative and fits naturally into the flow of the code
+- Daemons won't work well with MAP_PRIVATE
+    - As soon as parent is gone, page is gone
+    - There is no reference count as well
+    - We will have to copyVMA instead
diff --git a/defs.h b/defs.h
index 82fb982..d2c977f 100644
--- a/defs.h
+++ b/defs.h
@@ -171,20 +171,21 @@ void            uartintr(void);
 void            uartputc(int);
 
 // vm.c
-void            seginit(void);
-void            kvmalloc(void);
-pde_t*          setupkvm(void);
-char*           uva2ka(pde_t*, char*);
-int             allocuvm(pde_t*, uint, uint);
-int             deallocuvm(pde_t*, uint, uint);
-void            freevm(pde_t*);
-void            inituvm(pde_t*, char*, uint);
-int             loaduvm(pde_t*, char*, struct inode*, uint, uint);
-pde_t*          copyuvm(pde_t*, uint);
-void            switchuvm(struct proc*);
-void            switchkvm(void);
-int             copyout(pde_t*, uint, void*, uint);
-void            clearpteu(pde_t *pgdir, char *uva);
+void                seginit(void);
+void                kvmalloc(void);
+pde_t*              setupkvm(void);
+char*               uva2ka(pde_t*, char*);
+int                 allocuvm(pde_t*, uint, uint);
+int                 deallocuvm(pde_t*, uint, uint);
+void                freevm(pde_t*);
+void                inituvm(pde_t*, char*, uint);
+int                 loaduvm(pde_t*, char*, struct inode*, uint, uint);
+pde_t*              copyuvm(pde_t*, uint);
+void                switchuvm(struct proc*);
+void                switchkvm(void);
+int                 copyout(pde_t*, uint, void*, uint);
+void                clearpteu(pde_t *pgdir, char *uva);
+struct mmapInfo*    mmapdup(struct mmapInfo*);
 
 // number of elements in fixed-size array
 #define NELEM(x) (sizeof(x)/sizeof((x)[0]))
diff --git a/file.c b/file.c
index 24b32c2..f3c2af3 100644
--- a/file.c
+++ b/file.c
@@ -9,6 +9,10 @@
 #include "spinlock.h"
 #include "sleeplock.h"
 #include "file.h"
+#include "mmu.h"
+#include "mman.h"
+#include "stat.h"
+#include "proc.h"
 
 struct devsw devsw[NDEV];
 struct {
@@ -96,17 +100,27 @@ filestat(struct file *f, struct stat *st)
 int
 fileread(struct file *f, char *addr, int n)
 {
-  int r;
+  int r = 0;
 
   if(f->readable == 0)
     return -1;
   if(f->type == FD_PIPE)
     return piperead(f->pipe, addr, n);
   if(f->type == FD_INODE){
-    ilock(f->ip);
-    if((r = readi(f->ip, addr, f->off, n)) > 0)
+    if (f->ip!=(struct inode *) 0x80112a24){
+      struct legend2 *map = 0;
+      map = findInCachePage(f, f->off, n, 0);
+      if (!map){
+        return 0;
+      }
+      r = readFromPageCache(map, addr, f->off, n);
       f->off += r;
-    iunlock(f->ip);
+    } else{
+      ilock(f->ip);
+      if((r = readi(f->ip, addr, f->off, n)) > 0)
+        f->off += r;
+      iunlock(f->ip);
+    }
     return r;
   }
   panic("fileread");
@@ -137,12 +151,31 @@ filewrite(struct file *f, char *addr, int n)
       if(n1 > max)
         n1 = max;
 
-      begin_op();
-      ilock(f->ip);
-      if ((r = writei(f->ip, addr + i, f->off, n1)) > 0)
+      if (f->ip != (struct inode *) 0x80112a24){
+        // If not found in cache, readIntoPageCache and write to page cache
+        // readIntoPageCache basically makes sure that the page will be in the cache
+        // writeToPageCache makes sure that only the page cache is written to and nothing else
+        // cprintf("Writing %d bytes from %d\n", n1, f->off);
+        struct legend2 *map = findInCachePage(f, f->off, n1, 1);
+        if (!map){
+          break;
+        }
+        // You should have gotten the appropriate pages into your page cache by now
+        // cprintf("%x\n", map);
+        r = writeToPageCache(map, addr, f->off, n1);
+        // cprintf("%d r: %d\n", f->off, r);
+        if (f->off + n > map->f->ip->size){
+          map->f->ip->size = f->off + n;
         f->off += r;
-      iunlock(f->ip);
-      end_op();
+        }
+      } else{
+        begin_op();
+        ilock(f->ip);
+        if ((r = writei(f->ip, addr + i, f->off, n1)) > 0)
+          f->off += r;
+        iunlock(f->ip);
+        end_op();
+      }
 
       if(r < 0)
         break;
diff --git a/fs.c b/fs.c
index f77275f..d357cd1 100644
--- a/fs.c
+++ b/fs.c
@@ -465,7 +465,8 @@ readi(struct inode *ip, char *dst, uint off, uint n)
     return -1;
   if(off + n > ip->size)
     n = ip->size - off;
-
+  
+  // Buffer should no longer contain data but a pointer to page
   for(tot=0; tot<n; tot+=m, off+=m, dst+=m){
     bp = bread(ip->dev, bmap(ip, off/BSIZE));
     m = min(n - tot, BSIZE - off%BSIZE);
diff --git a/mman.h b/mman.h
new file mode 100644
index 0000000..da55a9d
--- /dev/null
+++ b/mman.h
@@ -0,0 +1,17 @@
+// Return 0xffffffff when mapping fails
+#define MAP_FAILED ((void *)-1)
+
+// Argument values for prot parameter
+#define PROT_READ       0x1
+#define PROT_WRITE      0x2
+#define PROT_EXEC       0x4
+#define PROT_NONE       0x0
+
+// Argument values for flags parameter
+#define MAP_SHARED      0x01
+#define MAP_PRIVATE     0x02
+#define MAP_FIXED       0x10
+#define MAP_ANONYMOUS   0x20
+
+extern void *mmap(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+extern int munmap(void *addr, unsigned int length);
diff --git a/mman_test.c b/mman_test.c
new file mode 100644
index 0000000..e231278
--- /dev/null
+++ b/mman_test.c
@@ -0,0 +1,1143 @@
+#include "types.h"
+#include "stat.h"
+#include "user.h"
+#include "fs.h"
+#include "fcntl.h"
+#include "mman.h"
+
+// Single process, MAP_SHARED - READ_ONLY
+void smsro(){
+    int fd = open("README", 0);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "19 Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "Single process, MAP_SHARED, READ_ONLY ok\n");
+}
+
+void smswo(){
+    int fd = open("README", O_RDWR);
+
+    char *ret = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 4096);
+
+     if (ret != (char *) 0xffffffff){
+        ret[0] = 'r';
+        if (ret[0]=='r'){
+        } else{
+            printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "Single process, MAP_SHARED, READ_ONLY ok\n");
+}
+
+int smsno(){
+    // No access to the mapped page
+    // PROT_NONE and MAP_SHARED doesn't make sense. You allocate the page in pte, but don't load anything. There is no region of memory. It's just inaccessible
+    int fd = open("README", O_RDWR);
+
+    char *ret = mmap(0, 4096, PROT_READ, MAP_SHARED, fd, 0);
+    char *ret2 = mmap(0, 4096, PROT_NONE, MAP_SHARED, fd, 4096);
+    char *ret3 = mmap(0, 4096, PROT_READ, MAP_SHARED, fd, 8192);
+
+     if (ret != MAP_FAILED && ret2 != MAP_FAILED && ret3 !=MAP_FAILED){
+        // Should pagefault
+        printf(1, "0th char: %c | 8192th char: %c\n", ret[0], ret3[0]);
+        printf(1, "This should page fault and never return\n");
+        printf(1, "%c\n", ret2[0]);
+    } else{
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1 && munmap(ret2, 4096) == -1 && munmap(ret3, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    printf(1, "PROT_NONE check fail\n");
+    return -1;
+}
+
+void leftVMAtest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+     if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[4096]);
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "--------------------\n");
+    printf(1, "|    leftVMA ok    |\n");
+    printf(1, "--------------------\n");
+}
+
+void rightVMAtest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "1 Single process, MAP_SHARED, READ_ONLY fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "2 Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "3 Single process, MAP_SHARED, READ_ONLY fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[0]);
+    printf(1, "----------------------\n");
+    printf(1, "|    rightVMA ok     |\n");
+    printf(1, "----------------------\n");
+}
+
+void sandwichTest(){
+    int fd = open("README", O_RDONLY);
+
+    char *ret = mmap(0, 4096 * 3, PROT_READ, MAP_SHARED, fd, 0);
+    printf(1, "%c\n", ret[8194]);
+    printf(1, "%c\n", ret[0]);
+
+    if (ret != (char *) 0xffffffff){
+        if (ret[0] == 'x'){
+        } else{
+            printf(1, "Sandwich test fail\n");
+            exit();
+        }
+    } else{
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+
+    if (munmap(ret+4096, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    printf(1, "%c\n", ret[0]);
+    printf(1, "---\n");
+    printf(1, "%c\n", ret[8194]);
+    if (munmap(ret, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    if (munmap(ret+8192, 4096) == -1){
+        printf(1, "Sandwich test fail\n");
+        exit();
+    }
+    printf(1, "--------------------------------\n");
+    printf(1, "|       Sandwich test ok       |\n");
+    printf(1, "--------------------------------\n");
+}
+
+void sanity_check(){
+    int fd = open("README", 0);
+
+    char c[512];
+    for (int i=0; i<3; i++){
+        for (int j=0; j<8; j++){
+            read(fd, c, 512);
+            if (j==0){
+                printf(1, "%c\n", c[0]);
+            }
+        }
+    }
+    // read(fd, buf, 4096);
+    // read(fd, buf, 4096);
+    // printf(1, "%c\n", buf[0]);
+}
+
+void smp(char *status){
+    // Single process MAP_PRIVATE testing
+    // Read test
+    // Write test
+    // None test
+    printf(1, "smp\n");
+    int fd = open("README", O_RDWR);
+    char *read_map = mmap(0, 8192, PROT_READ, MAP_PRIVATE, fd, 0);
+    char *write_map = mmap(0, 4096, PROT_WRITE, MAP_PRIVATE, fd, 4096);
+    char *none_map = mmap(0, 4096, PROT_NONE, MAP_PRIVATE, fd, 8192);
+
+    if (read_map==MAP_FAILED || write_map==MAP_FAILED || none_map==MAP_FAILED){
+        printf(1, "mmap fail %x %x %x\n", read_map, write_map, none_map);
+        return;
+    }
+
+    if (read_map[0]=='x'){
+    } else{
+        printf(1, "MAP_PRIVATE PROT_READ error\n");
+    }
+
+    char before = write_map[0];
+    // This should trigger a copy-on-write => Another pagefault
+    write_map[0] = 'x';
+    if (write_map[0]=='x'){
+    } else{
+        printf(1, "MAP_PRIVATE PROT_WRITE error\n");
+    }
+    char c[512];
+    for (int i=0; i<1; i++){
+        for (int j=0; j<8; j++){
+            read(fd, c, 512);
+        }
+    }
+    read(fd, c, 512);
+    if (c[0] != before){
+        printf(1, "MAP_PRIVATE copy-on-write error\n");
+    }
+    printf(1, "Been there, Done that\n");
+
+    if (fork() == 0){
+        // This should page fault and not return
+        printf(1, "In child\n");
+        memmove(status, "okay", 4);
+        if (none_map[0]){
+            memmove(status, "fail", 4);
+        }
+        exit();
+    } else{
+        sleep(10);
+        wait();
+        char c[5];
+        c[4] = '\0';
+        memmove(c, status, 4);
+        if (strcmp(c, "okay")){
+            printf(1, "MAP_PRIVATE PROT_NONE fail\n");
+            exit();
+        }
+        if (munmap(read_map, 4096) == -1 || munmap(write_map, 4096) == -1 || munmap(none_map, 4096) == -1 ){
+            printf(1, "Unmapping fail\n");
+            return;
+        }
+        printf(1, "----------------------------\n");
+        printf(1, "|      MAP_PRIVATE ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+}
+
+// MAP_SHARED tests with fork
+// Producer-consumer kind of code
+// 1st process writes to the file
+// 2nd process reads from the file
+// Check if both are same
+void msf(){
+    int fd = open("README", O_RDWR);
+    if (fork()==0){
+        char *child_map = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 0);
+        char c[12] = "child writes";
+        memmove(child_map, c, 12);
+        sleep(5);
+        memmove(c, child_map, 12);
+        if (!strcmp(c, "child writes")){
+        } else{
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        memmove(c, &child_map[12], 12);
+        if (!strcmp(c, "paren writes")){
+        } else {
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        printf(1, "Child exiting...\n");
+        exit();
+    } else{
+        char p[13];
+        char *parent_map;
+        
+        parent_map = mmap(0, 4096, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 0);
+        sleep(2);
+        
+        memmove(p, parent_map, 12);
+        p[12] = '\0';
+        if (!strcmp(p, "child writes")){
+        } else{
+            printf(1, "MAP_SHARED fail\n");
+            return;
+        }
+        strcpy(p, "paren writes");
+        memmove(&parent_map[12], p, 12);
+        sleep(10);
+        printf(1, "--------------------------\n");
+        printf(1, "|     MAP_SHARED ok      |\n");
+        printf(1, "--------------------------\n");
+        if (munmap(parent_map, 4096) == -1){
+            printf(1, "munmap fail\n");
+            exit();
+        }
+    }
+}
+
+// MAP_PRIVATE test with fork
+void mpf(){
+    int fd = open("TEST", O_RDWR);
+    if (fork() == 0){
+        char c[512];
+        for (int i=0; i<512; i++){
+            c[i] = 'c';
+        }
+        char *child_map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+        if (child_map == MAP_FAILED){
+            printf(1, "mmap failed\n");
+            return;
+        }
+        sleep(4);
+        printf(1, "char: %c\n", child_map[0]);
+        memmove(child_map, c, 512);
+
+        int count = 0;
+        for (int i=0; i<512; i++){
+            if (child_map[i]=='c'){
+                count++;
+            }
+        }
+        if (count!=512){
+            printf(1, "MAP_PRIVATE fail\n");
+        }
+        exit();
+    } else{
+        char c[512];
+        for (int i=0; i<512; i++){
+            c[i] = 'p';
+        }
+        char *parent_map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+        if (parent_map == MAP_FAILED){
+            printf(1, "mmap failed\n");
+            return;
+        }
+        for (int i=0; i<8; i++){
+            memmove(parent_map + i*512, c, 512);
+        }
+        sleep(10);
+        memmove(c, parent_map, 512);
+        int count = 0;
+        for (int i=0; i<512; i++){
+            if (c[i]=='p'){
+                count++;
+            }
+        }
+        if (count!=512){
+            printf(1, "MAP_PRIVATE fail\n");
+            return;
+        }
+        if (munmap(parent_map, 4096) == -1){
+            printf(1, "MAP_PRIVATE munmap fail\n");
+            exit();
+        }
+        printf(1, "----------------------------\n");
+        printf(1, "|      MAP_PRIVATE ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+}
+
+// MAP ANONYMOUS test
+
+// Concurrency test
+void concurrency(){
+    unlink("NEW");
+    int fd = open("NEW", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+    if (map == MAP_FAILED){
+        printf(1, "mmap failed\n");
+        exit();
+    }
+
+    if (fork() == 0){
+        // a
+        if (fork() == 0){
+            // b
+            for (int i=0; i < 20; i++){
+                if (i%3 == 0){
+                    memmove(&map[i], "a", 1);
+                }
+            }
+            printf(1, "\n");
+            exit();
+        } else{
+            printf(1, "In child %c %c\n", map[0], map[1]);
+            for (int i=0; i < 20; i++){
+                if (i%3==1){
+                    memmove(&map[i], "b", 1);
+                }
+            }
+
+            printf(1, "Child exited\n");
+            exit();
+        }
+    } else{
+        // c
+        printf(1, "In parent %c\n", map[1]);
+        for (int i=0; i<20; i++){
+            if (i%3 == 2){
+                memmove(&map[i], "c", 1);
+            }
+        }
+    }
+
+    while (wait() != -1){
+    }
+    while (wait() != -1){
+    }
+    int countA = 0, countB = 0, countC = 0, weird = 0;
+    for (int i=0; i < 20; i++){
+        switch(map[i]){
+            case 'a': countA++; break;
+            case 'b': countB++; break;
+            case 'c': countC++; break;
+            default: weird++; break;
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    if (countA==7 && countB == 7 && countC == 6){
+        printf(1, "----------------------------\n");
+        printf(1, "|      concurrency ok      |\n");
+        printf(1, "----------------------------\n");
+    }
+    unlink("NEW");
+}
+
+// Do the maps get correctly carried across fork?
+void forkTestMapShared(){
+    // MAP_SHARED
+    unlink("TEST1");
+    int fd = open("TEST1", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        return;
+    }
+
+    printf(1, "Initially: %c\n", map[0]);
+
+    if (fork() == 0){
+        printf(1, "In child, initially: %c\n", map[0]);
+        map[0] = 'c';
+        map[1] = 'd';
+        exit();
+    } else{
+        sleep(2);
+        printf(1, "In parent: %c\n", map[0]);
+        if (map[0]=='c'){
+            printf(1, "char: %c\n", map[1]);
+        } else{
+            printf(1, "fork test fail\n");
+            exit();
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "forkTestMapShared munmap fail\n");
+        exit();
+    }
+    unlink("TEST1");
+    printf(1, "--------------------------------------\n");
+    printf(1, "|        fork test shared ok         |\n");
+    printf(1, "--------------------------------------\n");
+}
+
+void forkTestMapPrivate(){
+    unlink("TEST2");
+    int fd = open("TEST2", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // pagefault 1
+    printf(1, "Initially: %c\n", map[0]);
+    // Parent has done changes before fork. This is mapped privately. But child will see the change
+    // pagefault 2: copy-on-write
+    map[0] = 'p';
+
+    if (fork() == 0){
+        // pagefault 3
+        printf(1, "In child, initially: %c\n", map[0]);
+        // pagefault 4: copy-on-write
+        map[0] = 'c';
+        map[1] = 'd';
+        exit();
+    } else{
+        sleep(2);
+        printf(1, "In parent: %c\n", map[0]);
+        if (map[0]=='p'){
+            printf(1, "char: %c\n", map[1]);
+        } else{
+            printf(1, "fork test fail\n");
+            exit();
+        }
+    }
+
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    unlink("TEST2");
+    printf(1, "----------------------------------------\n");
+    printf(1, "|         fork test private ok         |\n");
+    printf(1, "----------------------------------------\n");
+}
+
+void mapPrivateCorrectness(){
+    unlink("NEW2");
+    int fd = open("NEW2", O_CREATE | O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+    // Initial
+    map[0] = 'p';
+
+    if (fork() == 0){
+        if (map[0] == 'p'){
+        } else{
+            printf(1, "MAP_PRIVATE incorrect\n");
+            exit();
+        }
+        map[0] = 'c';
+        exit();
+    } else{
+        while (wait() != -1){
+        }
+        if (map[0] =='p'){
+            printf(1, "----------------------------------------------------\n");
+            printf(1, "|            MAP_PRIVATE correctness ok            |\n");
+            printf(1, "----------------------------------------------------\n");
+        } else{
+            printf(1, "MAP_PRIVATE correctness fail\n");
+            exit();
+        }
+    }
+    if (munmap(map, 4096) == -1){
+        printf(1, "MAP_PRIVATE munmap fail\n");
+        exit();
+    }
+    unlink("NEW2");
+}
+
+// MAP_ANONYMOUS
+void sma(){
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    char *map2 = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_ANONYMOUS | MAP_PRIVATE, 0, 0);
+    if (map == MAP_FAILED || map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    memmove(map2, "pppp", 4);
+
+    if (fork() == 0){
+        for (int i=0; i < 20; i++){
+            if (i % 2 == 0){
+                memmove(&map[i], "c", 1);
+            }
+        }
+        printf(1, "char child: %c\n", map[0]);
+        printf(1, "private map: %s\n", map2);
+        exit();
+    } else {
+        for (int i=0; i < 20; i++){
+            if (i % 2 == 1){
+                memmove(&map[i], "p", 1);
+            }
+        }
+        printf(1, "char parent: %c\n", map[1]);
+        wait();
+    }
+    int countC = 0, countP = 0;
+    for (int i=0; i < 20; i++){
+        switch(map[i]){
+            case 'c': countC++; break;
+            case 'p': countP++; break;
+            default: break;
+        }
+    }
+    if (munmap(map, 4096) == -1 || munmap(map2, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    if ((countC == countP) && countC == 10){
+        printf(1, "------------------------------\n");
+        printf(1, "|      MAP_ANONYMOUS ok      |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "------------------------------\n");
+        printf(1, "|     MAP_ANONYMOUS fail     |\n");
+        printf(1, "------------------------------\n");
+    }
+}
+
+// Read-Write consistency
+// mmap write
+// file read
+// file write
+// mmap read
+void readWriteTest(){
+    int fd = open("README", O_RDWR);
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);
+    char c[5], buf[5];
+    int pid;
+
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    // Initial content
+    memmove(c, map, 4);
+    c[4] = '\0';
+    printf(1, "Initial: %s\n", c);
+
+    if ((pid = fork()) == 0){
+        // mmap write
+        memmove(&map[0], "mmap", 4);
+
+        sleep(10);
+        // mmap read
+        memmove(c, &map[4], 4);
+
+        if (!strcmp(c, "file")){
+            printf(1, "--------------------------------------------------\n");
+            printf(1, "|           File write consistency ok            |\n");
+            printf(1, "--------------------------------------------------\n");
+        } else{
+            printf(1, "------------------------------------------------------------------\n");
+            printf(1, "|               File write consistency check fail                |\n");
+            printf(1, "------------------------------------------------------------------\n");
+        }
+        exit();
+    } else{
+        // fileread
+        sleep(2);
+        read(fd, buf, 4);
+        if (!strcmp(buf, "mmap")){
+            printf(1, "------------------------------------------------\n");
+            printf(1, "|           File read consistency ok           |\n");
+            printf(1, "------------------------------------------------\n");
+        } else{
+            kill(pid);
+            wait();
+            printf(1, "----------------------------------------------------------------\n");
+            printf(1, "|               File read consistency check fail               |\n");
+            printf(1, "----------------------------------------------------------------\n");
+            exit();
+        }
+        
+        // File write
+        memmove(buf, "file", 4);
+        write(fd, buf, 4);
+
+        int pid = wait();
+        printf(1, "pid: %d\n", pid);
+    }
+}
+
+void fourfiles(void) {
+    char buf[512];
+  int fd, pid, i, j, n, total, pi;
+  char *names[] = { "f0", "f1", "f2", "f3" };
+  char *fname;
+  int factor = 1;
+
+  printf(1, "fourfiles test\n");
+
+  for(pi = 0; pi < 4; pi++){
+    fname = names[pi];
+    unlink(fname);
+
+    pid = fork();
+    if(pid < 0){
+      printf(1, "fork failed\n");
+      exit();
+    }
+
+    if(pid == 0){
+      fd = open(fname, O_CREATE | O_RDWR);
+      if(fd < 0){
+        printf(1, "create failed\n");
+        exit();
+      }
+
+      memset(buf, '0'+pi, 512);
+      for(i = 0; i < factor; i++){
+        if((n = write(fd, buf, 512)) != 512){
+          printf(1, "write failed %d\n", n);
+          exit();
+        }
+      }
+      exit();
+    }
+  }
+
+  for(pi = 0; pi < 4; pi++){
+    wait();
+  }
+
+  for(i = 0; i < 2; i++){
+    fname = names[i];
+    fd = open(fname, 0);
+    total = 0;
+    while((n = read(fd, buf, sizeof(buf))) > 0 && total < 512 * factor){
+      for(j = 0; j < n; j++){
+        if(buf[j] != '0'+i){
+          printf(1, "wrong char %d %d %d\n", total, j, n);
+          exit();
+        }
+      }
+      total += n;
+    }
+    close(fd);
+    if(total != factor*512){
+      printf(1, "wrong length %d\n", total);
+      exit();
+    }
+    unlink(fname);
+  }
+
+  printf(1, "------------------------\n");
+  printf(1, "|     fourfiles ok     |\n");
+  printf(1, "------------------------\n");
+}
+
+void sharedfd(void){
+  int fd, pid, i, n, nc, np;
+  char buf[10];
+  int factor = 400;
+
+  printf(1, "sharedfd test\n");
+
+  unlink("sharedfd");
+  fd = open("sharedfd", O_CREATE|O_RDWR);
+  if(fd < 0){
+    printf(1, "fstests: cannot open sharedfd for writing");
+    return;
+  }
+  pid = fork();
+  memset(buf, pid==0?'c':'p', sizeof(buf));
+  for(i = 0; i < factor; i++){
+    if(write(fd, buf, sizeof(buf)) != sizeof(buf)){
+      printf(1, "fstests: write sharedfd failed\n");
+      break;
+    }
+  }
+  if(pid == 0)
+    exit();
+  else
+    wait();
+  close(fd);
+  fd = open("sharedfd", 0);
+  if(fd < 0){
+    printf(1, "fstests: cannot open sharedfd for reading\n");
+    return;
+  }
+  nc = np = 0;
+  while((n = read(fd, buf, sizeof(buf))) > 0){
+    for(i = 0; i < sizeof(buf); i++){
+      if(buf[i] == 'c')
+        nc++;
+      if(buf[i] == 'p')
+        np++;
+    }
+  }
+  close(fd);
+//   unlink("sharedfd");
+  printf(1, "%d %d\n", nc, np);
+  if(nc == 10*factor && np == 10*factor){
+    printf(1, "----------------------\n");
+    printf(1, "|    sharedfd ok     |\n");
+    printf(1, "----------------------\n");
+  } else {
+    printf(1, "--------------------------------------\n");
+    printf(1, "|        sharedfd oops %d %d         |\n");
+    printf(1, "--------------------------------------\n");
+    exit();
+  }
+}
+
+void sms(char *status){
+    smsro();
+    smswo();
+    if (fork() == 0){
+        memmove(status, "okay", 4);
+        int stat = smsno();
+        if (stat == -1){
+            memmove(status, "fail", 4);
+        }
+        exit();
+    } else{
+        wait();
+        char c[5];
+        c[4] = '\0';
+        memmove(c, status, 4);
+        printf(1, "%s\n", c);
+        if (strcmp(c, "okay")){
+            printf(1, "----------------------------------------\n");
+            printf(1, "|             MAP_SHARED fail          |\n");
+            printf(1, "----------------------------------------\n");
+        } else{
+            printf(1, "-------------------------------------\n");
+            printf(1, "|          MAP_SHARED  ok           |\n");
+            printf(1, "-------------------------------------\n");
+        }
+    }
+}
+
+// Everything, Everywhere (Wrong) All At Once
+void EveryThingEverywhereAllAtOnce(char *status){
+    // Input checking
+    // Incorrect open access intent and map prot
+    int fd = open("README", O_RDONLY);
+
+    char *map = mmap(0, 4096, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "------------------------------------------------------------------------------------------\n");
+        printf(1, "|                     File access and Prot check should have failed                      |\n");
+        printf(1, "------------------------------------------------------------------------------------------\n");
+        exit();
+    }
+
+    // Unmapping a map that doesn't exist
+    if (munmap(map, 4096) == -1){
+    } else{
+        printf(1, "Unmapping unmapped region\n");
+        exit();
+    }
+
+    // Incorrect flags
+    map = mmap(0, 1, PROT_READ, MAP_SHARED | MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Mapping Shared as well as Private map not allowed\n");
+        exit();
+    }
+
+    // Anonymous without Private or Shared
+    map = mmap(0, 1, PROT_READ, MAP_ANONYMOUS, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Anonymous mapping without Shared or Private flag\n");
+        exit();
+    }
+
+    // Incorrect length
+    map = mmap(0, -1, PROT_READ, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Incorrect length\n");
+        exit();
+    }
+
+    // Offset not page-aligned
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, fd, 1);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Offset not page-aligned\n");
+        exit();
+    }
+
+    // Trying to map stdout
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, 1, 1);
+    if (map == MAP_FAILED){
+    } else{
+        printf(1, "Mapped standard output: fail\n");
+        exit();
+    }
+
+    // A successful map
+    map = mmap(0, 1, PROT_READ, MAP_PRIVATE, fd, 0);
+    if (map == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    } else{
+        // Trying to write to read-only map
+        if (fork() == 0){
+            memmove(status, "okay", 4);
+            map[0] = 'a';
+            memmove(status, "fail", 4);
+            exit();
+        } else{
+            wait();
+            char c[5];
+            c[4] = '\0';
+            memmove(c, status, 4);
+            if (strcmp(c, "okay")){
+                printf(1, "Read-only write fail\n");
+                exit();
+            }
+        }
+    }
+
+    // Unmapping already unmapped map
+    if (munmap(map, 4096) == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    /*
+        It is not an error if the indicated range does not contain any mapped pages
+    */
+    if (munmap(map, 4096) == 0){
+    } else{
+        printf(1, "munmap fail\n");
+        exit();
+    }
+    printf(1, "------------------------------------------------\n");
+    printf(1, "|           Everything Everywhere ok           |\n");
+    printf(1, "------------------------------------------------\n");
+}
+
+void maxVMATest(){
+    // Maximum VMA that can be allotted are 10
+    char *map1 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map1 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map2 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map3 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 1, 0);
+    if (map3 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map4 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map4 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map5 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map5 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map6 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map6 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map7 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map7 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map8 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map8 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map9 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map9 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map10 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map10 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // This should fail
+    char *map11 = mmap(0, 4096, PROT_READ, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    if (map11 == MAP_FAILED){
+        int res = munmap(map1, 4096) | munmap(map2, 4096) | munmap(map3, 4096) | munmap(map4, 4096) | munmap(map5, 4096) | munmap(map6, 4096) | munmap(map7, 4096) | munmap(map8, 4096) | munmap(map9, 4096) | munmap(map10, 4096);
+        if (res == -1){
+            printf(1, "munmap fail\n");
+            exit();
+        }
+        printf(1, "------------------------------\n");
+        printf(1, "|      Max VMA test ok       |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "Max VMA test fail\n");
+        exit();
+    }
+}
+
+void maxVMAMunmapTest(){
+    int fd = open("README", O_RDONLY);
+    char *map1 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map1 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map2 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map2 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map3 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map3 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map4 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map4 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map5 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map5 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map6 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map6 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map7 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map7 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map8 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map8 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map9 = mmap(0, 8192, PROT_READ, MAP_SHARED, fd, 0);
+    if (map9 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+    char *map10 = mmap(0, 4096*3, PROT_READ, MAP_SHARED, fd, 0);
+    if (map10 == MAP_FAILED){
+        printf(1, "mmap fail\n");
+        exit();
+    }
+
+    // All these should be successful
+    int res = munmap(map1, 4096) | munmap(map2, 4096) | munmap(map3, 4096) | munmap(map4, 4096) | munmap(map5, 4096) | munmap(map6, 4096) | munmap(map7, 4096) | munmap(map8, 4096) | munmap(map9, 4096);
+
+    if (res == -1){
+        printf(1, "munmap fail\n");
+        exit();
+    }
+
+    // Unmapping of map10 should fail => Not enough VMAs
+    if (munmap(map10+4096, 4096) == -1){
+        printf(1, "------------------------------\n");
+        printf(1, "|      maxVMAMunmap ok       |\n");
+        printf(1, "------------------------------\n");
+    } else{
+        printf(1, "munmap fail\n");
+        exit();
+    }
+}
+
+int main(){
+    // Run Test Set -> make clean -> Run Next Test
+
+    /*----------------------------------------------------- Test Set 1 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------------------------------------------\n");
+    // printf(1, "|   Testing: MAP_ANONYMOUS, MAP_SHARED, MAP_PRIVATE, Somethings that can go wrong   |\n");
+    // printf(1, "-------------------------------------------------------------------------------------\n");
+
+    // sma();
+    // char *status = mmap(0, 4, PROT_WRITE, MAP_ANONYMOUS | MAP_SHARED, 0, 0);
+    // if (status == MAP_FAILED){
+    //     printf(1, "mmap fail\n");
+    //     exit();
+    // }
+    // sms(status);
+    // smp(status);
+    // EveryThingEverywhereAllAtOnce(status);
+    // if (munmap(status, 4096) == -1){
+    //     printf(1, "munmap fail\n");
+    //     exit();
+    // }
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 2 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------------------\n");
+    // printf(1, "|   Testing: Unmapping, MAP_SHARED fork, MAP_PRIVATE fork   |\n");
+    // printf(1, "-------------------------------------------------------------\n");
+    // leftVMAtest();
+    // rightVMAtest();
+    // sandwichTest();
+    // msf();
+    // mpf();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 3.1 --------------------------------------------------*/
+    // printf(1, "----------------------------------\n");
+    // printf(1, "|   Testing: VMA mapping limit   |\n");
+    // printf(1, "----------------------------------\n");
+    // maxVMATest();
+    /*----------------------------------------------------- Test Set 3.2 --------------------------------------------------*/
+    // printf(1, "------------------------------------\n");
+    // printf(1, "|   Testing: VMA unmapping limit   |\n");
+    // printf(1, "------------------------------------\n");
+    // maxVMAMunmapTest();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 4 --------------------------------------------------*/
+    // printf(1, "-------------------------------------------------\n");
+    // printf(1, "|   Testing: correctness of fork, concurrency   |\n");
+    // printf(1, "-------------------------------------------------\n");
+    // forkTestMapShared();
+    // concurrency();
+    //---------------------------------------------------------------------------------------------------------------------
+
+    /*----------------------------------------------------- Test Set 5 --------------------------------------------------*/
+    // printf(1, "------------------------------------------------------\n");
+    // printf(1, "|   Testing: correctness of map private, file read write, map private fork, fourfiles, sharedfd   |\n");
+    // printf(1, "------------------------------------------------------\n");
+    // mapPrivateCorrectness();
+    // readWriteTest();
+    // forkTestMapPrivate();
+    // fourfiles();
+    // sharedfd();
+    //---------------------------------------------------------------------------------------------------------------------
+    exit();
+}
diff --git a/mmu.h b/mmu.h
index a82d8e2..90a4430 100644
--- a/mmu.h
+++ b/mmu.h
@@ -83,6 +83,7 @@ struct segdesc {
 #define NPDENTRIES      1024    // # directory entries per page directory
 #define NPTENTRIES      1024    // # PTEs per page table
 #define PGSIZE          4096    // bytes mapped by a page
+#define MAX_PAGES       18      // Max file size of xv6 / 4096
 
 #define PTXSHIFT        12      // offset of PTX in a linear address
 #define PDXSHIFT        22      // offset of PDX in a linear address
@@ -95,6 +96,13 @@ struct segdesc {
 #define PTE_W           0x002   // Writeable
 #define PTE_U           0x004   // User
 #define PTE_PS          0x080   // Page Size
+#define PTE_AVL         0x0a00  // AVL bits for use in copyuvm
+#define PTE_SKIP        0x0600  // Skip the page present check for current process
+#define PTE_PRIVATE     0x0400  // PRIVATE page handling
+#define PTE_ANON        0x0400  // Mark the page as ANON
+#define PTE_DIRTY       0x0040  // Dirty bit
+
+#define PTE_META(pte)        ((((uint)(pte) >> 8) & 0x0f))
 
 // Address in page table or page directory entry
 #define PTE_ADDR(pte)   ((uint)(pte) & ~0xFFF)
@@ -103,6 +111,76 @@ struct segdesc {
 #ifndef __ASSEMBLER__
 typedef uint pte_t;
 
+struct legend{
+  int numPages; // Can use unsigned int. Do you really need to store length if you're storing start and end? Will save me bytes
+  void *start;
+  void *end;
+  struct file *f;
+  int prot;
+  char valid;
+  // Do I need to keep track of processes allowed to access this file?
+  int ref;
+  int mmapFlags;
+  int offset;
+  uint pages[MAX_PAGES];
+};
+
+struct legend2{
+  struct file *f;
+  char *physicalPages[MAX_PAGES];
+  int ref[MAX_PAGES];
+  int mapRef;
+};
+
+struct anon{
+  char *physicalPages[3];
+  int ref;
+};
+
+struct mmapInfo{
+  char *start;
+  char *end;
+  int firstPageIndex;
+  int numPages;
+  int prot;
+  int flags;
+  struct legend2 *pages;
+  struct anon *anonMaps;
+  char fileOp;
+  int ref;
+  int actualFlags;
+};
+
+void freeVMA(struct mmapInfo *vma);
+
+void *mmap_helper(void *addr, int length, int prot, int flags, int fd, int offset);
+
+int munmap_helper(void *addr, unsigned int length);
+
+void clear(pde_t *pgdir, struct mmapInfo *m);
+
+void clearMap(struct legend2 *m);
+
+void clearAnon(struct anon *am);
+
+struct mmapInfo *readIntoPageCache(void *addr, unsigned int length, int prot, int flags, struct file *f, int offset);
+
+int readFromPageCache(struct legend2 *m, char *addr, int offset, int length);
+
+int writeToPageCache(struct legend2 *map, char *addr, int offset, int length);
+
+void unfoldMaps();
+
+void handleMapFault(char *addr);
+
+void cleanUpVMA(struct mmapInfo *vma);
+
+void printVMAStatistics(struct mmapInfo *vma);
+
+struct legend2 *findInCachePage(struct file *f, int offset, int length, int op);
+
+struct legend2 *findInCache(struct file *f);
+
 // Task state segment format
 struct taskstate {
   uint link;         // Old ts selector
diff --git a/param.h b/param.h
index a7e90ef..4b22e85 100644
--- a/param.h
+++ b/param.h
@@ -11,4 +11,5 @@
 #define LOGSIZE      (MAXOPBLOCKS*3)  // max data blocks in on-disk log
 #define NBUF         (MAXOPBLOCKS*3)  // size of disk block cache
 #define FSSIZE       1000  // size of file system in blocks
-
+#define NMAPS        100 // mmaps per system
+#define NOMAPS       10  // mmaps per file
diff --git a/proc.c b/proc.c
index 806b1b1..96df8c7 100644
--- a/proc.c
+++ b/proc.c
@@ -6,6 +6,9 @@
 #include "x86.h"
 #include "proc.h"
 #include "spinlock.h"
+#include "sleeplock.h"
+#include "fs.h"
+#include "file.h"
 
 struct {
   struct spinlock lock;
@@ -189,6 +192,9 @@ fork(void)
     return -1;
   }
 
+  // Before copyuvm, there is no kvm: Would that affect us somehow?
+  // So, here's the thing, you reduce the process size as necessary. But can it be that something that the memory is like mmap | sbrk | mmap. Then we can't just reduce the process size. So do the necessary changes in copyuvm
+
   // Copy process state from proc.
   if((np->pgdir = copyuvm(curproc->pgdir, curproc->sz)) == 0){
     kfree(np->kstack);
@@ -203,9 +209,18 @@ fork(void)
   // Clear %eax so that fork returns 0 in the child.
   np->tf->eax = 0;
 
+  for(i = 0; i < NOMAPS; i++){
+    if(curproc->maps[i] && curproc->maps[i]->ref){
+      if (curproc->maps[i]->anonMaps){
+      }
+      np->maps[i] = mmapdup(curproc->maps[i]);
+    }
+  }
+
   for(i = 0; i < NOFILE; i++)
     if(curproc->ofile[i])
       np->ofile[i] = filedup(curproc->ofile[i]);
+
   np->cwd = idup(curproc->cwd);
 
   safestrcpy(np->name, curproc->name, sizeof(curproc->name));
@@ -233,6 +248,13 @@ exit(void)
 
   if(curproc == initproc)
     panic("init exiting");
+  
+  for (int md = 0; md<NOMAPS; md++){
+    if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
+      cleanUpVMA(curproc->maps[md]);
+      curproc->maps[md] = 0;
+    }
+  }
 
   // Close all open files.
   for(fd = 0; fd < NOFILE; fd++){
@@ -242,6 +264,7 @@ exit(void)
     }
   }
 
+
   begin_op();
   iput(curproc->cwd);
   end_op();
@@ -344,6 +367,7 @@ scheduler(void)
       p->state = RUNNING;
 
       swtch(&(c->scheduler), p->context);
+      // cprintf("ncli oioioi: %d\n", mycpu()->ncli);
       switchkvm();
 
       // Process is done running for now.
@@ -370,8 +394,10 @@ sched(void)
 
   if(!holding(&ptable.lock))
     panic("sched ptable.lock");
-  if(mycpu()->ncli != 1)
+  // cprintf("ncli: %d\n", mycpu()->ncli);
+  if(mycpu()->ncli != 1){
     panic("sched locks");
+  }
   if(p->state == RUNNING)
     panic("sched running");
   if(readeflags()&FL_IF)
diff --git a/proc.h b/proc.h
index 1647114..363aaad 100644
--- a/proc.h
+++ b/proc.h
@@ -49,6 +49,7 @@ struct proc {
   struct file *ofile[NOFILE];  // Open files
   struct inode *cwd;           // Current directory
   char name[16];               // Process name (debugging)
+  struct mmapInfo *maps[NOMAPS];   // Mapped files or region
 };
 
 // Process memory is laid out contiguously, low addresses first:
diff --git a/sh.c b/sh.c
index 054bab9..d1420ce 100644
--- a/sh.c
+++ b/sh.c
@@ -57,6 +57,7 @@ struct cmd *parsecmd(char*);
 void
 runcmd(struct cmd *cmd)
 {
+  printf(1, "Trying to run\n");
   int p[2];
   struct backcmd *bcmd;
   struct execcmd *ecmd;
@@ -164,9 +165,11 @@ main(void)
         printf(2, "cannot cd %s\n", buf+3);
       continue;
     }
-    if(fork1() == 0)
+    if(fork1() == 0){
       runcmd(parsecmd(buf));
+    }
     wait();
+    printf(1, "Came back\n");
   }
   exit();
 }
diff --git a/syscall.c b/syscall.c
index ee85261..491d303 100644
--- a/syscall.c
+++ b/syscall.c
@@ -55,15 +55,22 @@ argint(int n, int *ip)
 // Fetch the nth word-sized system call argument as a pointer
 // to a block of memory of size bytes.  Check that the pointer
 // lies within the process address space.
+// QUESTION: Why is the size signed int? Can I not make it uint directly?
+// ANSWERED: Anyways they're checking for size < 0. So I think it will be safe to convert to an unsigned int directly
+// COMMENT: Skipping check for size < 0 to get full range of unsigned int. Added a check for addition overflow
 int
 argptr(int n, char **pp, int size)
 {
   int i;
+  uint size_corr = (uint) size;
   struct proc *curproc = myproc();
  
+ // From what I understand, the address is treated as an unsigned int
   if(argint(n, &i) < 0)
     return -1;
-  if(size < 0 || (uint)i >= curproc->sz || (uint)i+size > curproc->sz)
+  // QUESTION: Shouldn't I also have a check for (uint)i + size > i?
+  // QUESTION: Do I need more checks here?
+  if(size_corr < 0 || (uint)i >= curproc->sz || (uint)i+size_corr > curproc->sz || (uint)i+size_corr < i)
     return -1;
   *pp = (char*)i;
   return 0;
@@ -103,6 +110,8 @@ extern int sys_unlink(void);
 extern int sys_wait(void);
 extern int sys_write(void);
 extern int sys_uptime(void);
+extern int sys_mmap(void);
+extern int sys_munmap(void);
 
 static int (*syscalls[])(void) = {
 [SYS_fork]    sys_fork,
@@ -126,6 +135,8 @@ static int (*syscalls[])(void) = {
 [SYS_link]    sys_link,
 [SYS_mkdir]   sys_mkdir,
 [SYS_close]   sys_close,
+[SYS_mmap]    sys_mmap,
+[SYS_munmap]  sys_munmap
 };
 
 void
diff --git a/syscall.h b/syscall.h
index bc5f356..e7b18d6 100644
--- a/syscall.h
+++ b/syscall.h
@@ -20,3 +20,5 @@
 #define SYS_link   19
 #define SYS_mkdir  20
 #define SYS_close  21
+#define SYS_mmap   22
+#define SYS_munmap 23
diff --git a/sysfile.c b/sysfile.c
index bfe61b7..f6a288e 100644
--- a/sysfile.c
+++ b/sysfile.c
@@ -442,3 +442,31 @@ sys_pipe(void)
   fd[1] = fd1;
   return 0;
 }
+
+int sys_mmap(void){
+	// Parse the arguments
+	char *addr = 0;
+	int length;
+	int prot, flags, fd, offset;
+	struct file *fp;
+
+	if (argint(1, &length) < 0){
+		return -1;
+	}
+	if (argint(2,&prot) < 0 || argint(3,&flags) < 0 || argfd(4,&fd,&fp) < 0 || argint(5,&offset) < 0){
+		return -1;
+	}
+
+  return (int) mmap_helper(addr, length, prot, flags, fd, offset);
+}
+
+int sys_munmap(void){
+	// Parse arguments
+	char *addr;
+	int length;
+
+	if (argint(1, &length) < 0 || argptr(0, &addr, length) < 0){
+    return -1;
+  }
+  return munmap_helper(addr, length);
+}
diff --git a/tmp.txt b/tmp.txt
new file mode 100644
index 0000000..c6ca469
--- /dev/null
+++ b/tmp.txt
@@ -0,0 +1,60050 @@
+diff --git a/.vscode/settings.json b/.vscode/settings.json
+index 780f7b5..dcfca56 100644
+--- a/.vscode/settings.json
++++ b/.vscode/settings.json
+@@ -14,6 +14,7 @@
+         "fs.h": "c",
+         "spinlock.h": "c",
+         "sleeplock.h": "c",
+-        "file.h": "c"
++        "file.h": "c",
++        "limits": "c"
+     }
+ }
+\ No newline at end of file
+diff --git a/cscope.in.out b/cscope.in.out
+deleted file mode 100644
+index 50ee798..0000000
+Binary files a/cscope.in.out and /dev/null differ
+diff --git a/cscope.out b/cscope.out
+deleted file mode 100644
+index 48c91f4..0000000
+--- a/cscope.out
++++ /dev/null
+@@ -1,59836 +0,0 @@
+-cscope 15 $HOME/Desktop/TY_Sem_2/OS/Labs/Project/xv6-gitlab/xv6 -q 0000002791 0000280594
+-	@asm.h
+-
+-5 
+-	#SEG_NULLASM
+- \
+-
+-6 .
+-wd
+- 0, 0; \
+-
+-7 .
+-by
+- 0, 0, 0, 0
+-
+-	)
+-
+-11 
+-	#SEG_ASM
+-(
+-ty
+-,
+-ba
+-,
+-lim
+-) \
+-
+-12 .
+-	`wd
+- (((
+-lim
+->> 12& 0xffff), ((
+-ba
+-) & 0xffff); \
+-
+-13 .
+-	`by
+- (((
+-ba
+->> 16& 0xff), (0x90 | (
+-ty
+-)), \
+-
+-14 (0xC0 | (((
+-lim
+->> 28& 0xf)), (((
+-ba
+->> 24& 0xff)
+-
+-	)
+-
+-16 
+-	#STA_X
+- 0x8
+-
+-17 
+-	#STA_W
+- 0x2
+-
+-18 
+-	#STA_R
+- 0x2
+-
+-	@bio.c
+-
+-21 
+-	~"tys.h
+-"
+-
+-22 
+-	~"defs.h
+-"
+-
+-23 
+-	~"m.h
+-"
+-
+-24 
+-	~"lock.h
+-"
+-
+-25 
+-	~"ock.h
+-"
+-
+-26 
+-	~"fs.h
+-"
+-
+-27 
+-	~"buf.h
+-"
+-
+-30 
+-lock
+- 
+-	mlock
+-;
+-
+-31 
+-buf
+- 
+-	mbuf
+-[
+-NBUF
+-];
+-
+-35 
+-buf
+- 
+-	mhd
+-;
+-
+-36 } 
+-	gbche
+-;
+-
+-39 
+-	$b
+-()
+-
+-41 
+-buf
+- *
+-b
+-;
+-
+-43 
+-	`lock
+-(&
+-bche
+-.
+-lock
+-, "bcache");
+-
+-47 
+-bche
+-.
+-hd
+-.
+-ev
+- = &bcache.head;
+-
+-48 
+-bche
+-.
+-hd
+-.
+-xt
+- = &bcache.head;
+-
+-49 
+-b
+- = 
+-bche
+-.
+-buf
+-; b < bche.buf+
+-NBUF
+-; b++){
+-
+-50 
+-b
+-->
+-xt
+- = 
+-bche
+-.
+-hd
+-.next;
+-
+-51 
+-b
+-->
+-ev
+- = &
+-bche
+-.
+-hd
+-;
+-
+-52 
+-	`ock
+-(&
+-b
+-->
+-lock
+-, "buffer");
+-
+-53 
+-bche
+-.
+-hd
+-.
+-xt
+-->
+-ev
+- = 
+-b
+-;
+-
+-54 
+-bche
+-.
+-hd
+-.
+-xt
+- = 
+-b
+-;
+-
+-56 
+-	}
+-}
+-
+-61 
+-buf
+-*
+-
+-62 
+-	$bg
+-(
+-ut
+- 
+-dev
+-, u
+-blockno
+-)
+-
+-64 
+-buf
+- *
+-b
+-;
+-
+-66 
+-	`acque
+-(&
+-bche
+-.
+-lock
+-);
+-
+-69 
+-b
+- = 
+-bche
+-.
+-hd
+-.
+-xt
+-; b != &bcache.head; b = b->next){
+-
+-70 if(
+-b
+-->
+-dev
+- =dev && b->
+-blockno
+- == blockno){
+-
+-71 
+-b
+-->
+-ft
+-++;
+-
+-72 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-73 
+-	`acquep
+-(&
+-b
+-->
+-lock
+-);
+-
+-74  
+-b
+-;
+-
+-81 
+-b
+- = 
+-bche
+-.
+-hd
+-.
+-ev
+-; b != &bcache.head; b = b->prev){
+-
+-82 if(
+-b
+-->
+-ft
+- =0 && (b->
+-ags
+- & 
+-B_DIRTY
+-) == 0) {
+-
+-83 
+-b
+-->
+-dev
+- = dev;
+-
+-84 
+-b
+-->
+-blockno
+- = blockno;
+-
+-85 
+-b
+-->
+-ags
+- = 0;
+-
+-86 
+-b
+-->
+-ft
+- = 1;
+-
+-87 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-88 
+-	`acquep
+-(&
+-b
+-->
+-lock
+-);
+-
+-89  
+-b
+-;
+-
+-92 
+-	`nic
+-("bget:o buffers");
+-
+-93 
+-	}
+-}
+-
+-96 
+-buf
+-*
+-
+-97 
+-	$bad
+-(
+-ut
+- 
+-dev
+-, u
+-blockno
+-)
+-
+-99 
+-buf
+- *
+-b
+-;
+-
+-101 
+-b
+- = 
+-	`bg
+-(
+-dev
+-, 
+-blockno
+-);
+-
+-102 if((
+-b
+-->
+-ags
+- & 
+-B_VALID
+-) == 0) {
+-
+-103 
+-	`idw
+-(
+-b
+-);
+-
+-105  
+-b
+-;
+-
+-106 
+-	}
+-}
+-
+-110 
+-	$bwre
+-(
+-buf
+- *
+-b
+-)
+-
+-112 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-113 
+-	`nic
+-("bwrite");
+-
+-114 
+-b
+-->
+-ags
+- |
+-B_DIRTY
+-;
+-
+-115 
+-	`idw
+-(
+-b
+-);
+-
+-116 
+-	}
+-}
+-
+-121 
+-	$bl
+-(
+-buf
+- *
+-b
+-)
+-
+-123 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-124 
+-	`nic
+-("brelse");
+-
+-126 
+-	`ap
+-(&
+-b
+-->
+-lock
+-);
+-
+-128 
+-	`acque
+-(&
+-bche
+-.
+-lock
+-);
+-
+-129 
+-b
+-->
+-ft
+---;
+-
+-130 i(
+-b
+-->
+-ft
+- == 0) {
+-
+-132 
+-b
+-->
+-xt
+-->
+-ev
+- = b->prev;
+-
+-133 
+-b
+-->
+-ev
+-->
+-xt
+- = b->next;
+-
+-134 
+-b
+-->
+-xt
+- = 
+-bche
+-.
+-hd
+-.next;
+-
+-135 
+-b
+-->
+-ev
+- = &
+-bche
+-.
+-hd
+-;
+-
+-136 
+-bche
+-.
+-hd
+-.
+-xt
+-->
+-ev
+- = 
+-b
+-;
+-
+-137 
+-bche
+-.
+-hd
+-.
+-xt
+- = 
+-b
+-;
+-
+-140 
+-	`a
+-(&
+-bche
+-.
+-lock
+-);
+-
+-141 
+-	}
+-}
+-
+-	@bootasm.S
+-
+-1 
+-	~"asm.h
+-"
+-
+-2 
+-	~"memyout.h
+-"
+-
+-3 
+-	~"mmu.h
+-"
+-
+-5 #S 
+-the
+- 
+-f
+- 
+-CPU
+-: 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+-, 
+-jump
+- 
+-to
+- 
+-C
+-.
+-
+-6 #Th
+-BIOS
+- 
+-lds
+- 
+-this
+- 
+-code
+- 
+-om
+- 
+-the
+- 
+-f
+- 
+-
+- 
+-of
+-h
+-hd
+- 
+-disk
+- 
+-to
+-
+-
+-7 #memy 
+-
+- 
+-physil
+- 
+-addss
+- 0x7c00 
+-d
+- 
+-ts
+- 
+-executg
+- 
+-
+- 
+-
+- 
+-mode
+-
+-
+-8 #wh %
+-cs
+-=0 %
+-
+-=7c00.
+-
+-10 .
+-	gcode16
+- #Asmb 16-
+-b
+- 
+-	gmode
+-
+-
+-11 .
+-globl
+- 
+-t
+-
+-
+-12 
+-	gt
+-:
+-
+-13 
+-i
+- #BIOS 
+-abd
+- 
+-us
+-; 
+-	gdib
+-
+-
+-15 #Z
+-da
+- 
+-gmt
+- 
+-gis
+- 
+-DS
+-, 
+-ES
+-, 
+-d
+- 
+-SS
+-.
+-
+-16 
+-	gxw
+- %
+-	gax
+-,%ax #S %
+-ax
+- 
+-to
+- 
+-zo
+-
+-
+-17 
+-	gmovw
+- %
+-	gax
+-,%
+-	gds
+- #-> 
+-Da
+- 
+-Segmt
+-
+-
+-18 
+-	gmovw
+- %
+-	gax
+-,%
+-	ges
+- #-> 
+-Exa
+- 
+-Segmt
+-
+-
+-19 
+-	gmovw
+- %
+-	gax
+-,%
+-	gss
+- #-> 
+-Sck
+- 
+-	gSegmt
+-
+-
+-21 #Physi
+-addss
+- 
+-le
+- 
+-A20
+- 
+-is
+- 
+-td
+- 
+-to
+- 
+-zo
+- 
+-so
+- 
+-th
+- 
+-the
+- 
+-f
+- 
+-PCs
+-
+-
+-22 #wh 2 
+-MB
+- 
+-would
+- 
+-run
+- 
+-sowe
+- 
+-th
+- 
+-assumed
+- 1 MB. 
+-Undo
+-hat.
+-
+-23 
+-	g20
+-.1:
+-
+-24 
+-b
+- 
+-$0x64
+-,%
+-	g
+- #Wa 
+-n
+- 
+-busy
+-
+-
+-25 
+-b
+- 
+-	g$0x2
+-,%
+-
+-
+-
+-26 
+-jnz
+- 
+-	g20
+-.1
+-
+-28 
+-movb
+- 
+-	g$0xd1
+-,%
+-	g
+- #0
+-	gxd1
+- -> 
+-	gpt
+- 0x64
+-
+-29 
+-	goutb
+- %
+-	g
+-,
+-$0x64
+-
+-
+-31 
+-	g20
+-.2:
+-
+-32 
+-b
+- 
+-$0x64
+-,%
+-	g
+- #Wa 
+-n
+- 
+-busy
+-
+-
+-33 
+-b
+- 
+-	g$0x2
+-,%
+-
+-
+-
+-34 
+-jnz
+- 
+-	g20
+-.2
+-
+-36 
+-movb
+- 
+-	g$0xdf
+-,%
+-	g
+- #0
+-	gxdf
+- -> 
+-	gpt
+- 0x60
+-
+-37 
+-	goutb
+- %
+-	g
+-,
+-	g$0x60
+-
+-
+-39 #Swch 
+-om
+- 
+-
+- 
+-to
+- 
+-eed
+- 
+-mode
+-. 
+-U
+- 
+-a
+- 
+-bop
+- 
+-GDT
+- 
+-th
+- 
+-makes
+-
+-
+-40 #vtu 
+-addss
+- 
+-m
+- 
+-dely
+- 
+-to
+- 
+-physil
+-dds
+-so
+- 
+-th
+- 
+-the
+-
+-
+-41 #efiv
+-memy
+- 
+-m
+- 
+-d
+-'t change duringheransition.
+-
+-42 
+-lgdt
+- 
+-gdtdesc
+-
+-
+-43 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-44 
+-l
+- 
+-	g$CR0_PE
+-, %
+-x
+-
+-
+-45 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-48 #Com
+-the
+- 
+-si
+- 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+- 
+-by
+- 
+-usg
+- 
+-a
+- 
+-jmp
+-
+-
+-49 #t
+-ld
+- %
+-cs
+- 
+-d
+- %
+-e
+-. 
+-The
+- 
+-gmt
+- 
+-dests
+- 
+-e
+- 
+-t
+- 
+-up
+- 
+-wh
+- 
+-no
+-
+-
+-50 #i, 
+-so
+- 
+-th
+- 
+-the
+- 
+-mpg
+- 
+-is
+- 
+-l
+-h
+-idty
+- mapping.
+-
+-51 
+-ljmp
+- 
+-$
+-(
+-SEG_KCODE
+-<<3), 
+-	g$t32
+-
+-
+-53 .
+-	gcode32
+- #T
+-asmbr
+- 
+-to
+- 
+-	gge
+- 32-
+-b
+- 
+-code
+- 
+-	gnow
+-.
+-
+-54 
+-	gt32
+-:
+-
+-55 #S 
+-up
+- 
+-the
+- 
+-eed
+--
+-mode
+- 
+-da
+- 
+-gmt
+- 
+-gis
+-
+-
+-56 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-	gax
+- #Ou
+-da
+- 
+-gmt
+- 
+-
+-
+-
+-57 
+-	gmovw
+- %
+-	gax
+-, %
+-	gds
+- #-> 
+-	gDS
+-: 
+-Da
+- 
+-Segmt
+-
+-
+-58 
+-movw
+- %
+-ax
+-, %
+-	ges
+- #-> 
+-	gES
+-: 
+-Exa
+- 
+-Segmt
+-
+-
+-59 
+-movw
+- %
+-ax
+-, %
+-	gss
+- #-> 
+-	gSS
+-: 
+-Sck
+- 
+-Segmt
+-
+-
+-60 
+-movw
+- 
+-$0
+-, %
+-	gax
+- #Z
+-gmts
+- 
+-n
+- 
+-ady
+- 
+-u
+-
+-
+-61 
+-	gmovw
+- %
+-	gax
+-, %
+-	gfs
+- #-> 
+-FS
+-
+-
+-62 
+-	gmovw
+- %
+-	gax
+-, %
+-	ggs
+- #-> 
+-	gGS
+-
+-
+-64 #S 
+-up
+- 
+-the
+- 
+-ack
+- 
+-por
+- 
+-d
+- 
+-
+- 
+-to
+- 
+-C
+-.
+-
+-65 
+-movl
+- 
+-	g$t
+-, %
+-e
+-
+-
+-66 
+-
+- 
+-	gboma
+-
+-
+-68 #I
+-boma
+- 
+-tus
+- (
+-
+- 
+-shouldn
+-'t),rigger Bochs
+-
+-69 #bakpo
+-rug
+- 
+-und
+- 
+-Bochs
+-, 
+-th
+- 
+-lo
+-.
+-
+-70 
+-movw
+- 
+-$0x8a00
+-, %
+-ax
+- #0
+-x8a00
+- -> 
+-pt
+- 0x8a00
+-
+-71 
+-movw
+- %
+-ax
+-, %
+-dx
+-
+-
+-72 
+-outw
+- %
+-ax
+-, %
+-dx
+-
+-
+-73 
+-movw
+- 
+-$0x80
+-, %
+-ax
+- #0
+-x80
+- -> 
+-pt
+- 0x8a00
+-
+-74 
+-outw
+- %
+-ax
+-, %
+-dx
+-
+-
+-75 
+-
+-:
+-
+-76 
+-jmp
+- 
+-
+-
+-
+-78 #Bo
+-GDT
+-
+-
+-79 .
+-p2ign
+- 2 #f 4 
+-by
+- 
+-ignmt
+-
+-
+-80 
+-gdt
+-:
+-
+-81 
+-SEG_NULLASM
+- #nu 
+-g
+-
+-
+-82 
+-SEG_ASM
+-(
+-STA_X
+-|
+-STA_R
+-, 0x0, 0xffffffff#cod
+-g
+-
+-
+-83 
+-	$SEG_ASM
+-(
+-STA_W
+-, 0x0, 0xffffffff#d
+-g
+-
+-
+-85 
+-gdtdesc
+-:
+-
+-86 .
+-	`wd
+- (
+-gdtdesc
+- - 
+-gdt
+- - 1) #sizeof(gdt) - 1
+-
+-87 .
+-gdt
+- #address gdt
+-
+-	@bootmain.c
+-
+-8 
+-	~"tys.h
+-"
+-
+-9 
+-	~"f.h
+-"
+-
+-10 
+-	~"x86.h
+-"
+-
+-11 
+-	~"memyout.h
+-"
+-
+-13 
+-	#SECTSIZE
+- 512
+-
+-	)
+-
+-15 
+-adg
+-(
+-uch
+-*, 
+-ut
+-, uint);
+-
+-18 
+-	$boma
+-()
+-
+-20 
+-fhdr
+- *
+-f
+-;
+-
+-21 
+-oghdr
+- *
+-ph
+-, *
+-h
+-;
+-
+-22 (*
+-y
+-)();
+-
+-23 
+-uch
+-* 
+-
+-;
+-
+-25 
+-f
+- = (
+-fhdr
+-*)0x10000;
+-
+-28 
+-	`adg
+-((
+-uch
+-*)
+-f
+-, 4096, 0);
+-
+-31 if(
+-f
+-->
+-magic
+- !
+-ELF_MAGIC
+-)
+-
+-35 
+-ph
+- = (
+-oghdr
+-*)((
+-uch
+-*)
+-f
+- +lf->
+-phoff
+-);
+-
+-36 
+-h
+- = 
+-ph
+- + 
+-f
+-->
+-phnum
+-;
+-
+-37 ; 
+-ph
+- < 
+-h
+-;h++){
+-
+-38 
+-
+- = (
+-uch
+-*)
+-ph
+-->
+-ddr
+-;
+-
+-39 
+-	`adg
+-(
+-
+-, 
+-ph
+-->
+-fesz
+-,h->
+-off
+-);
+-
+-40 if(
+-ph
+-->
+-memsz
+- >h->
+-fesz
+-)
+-
+-41 
+-	`osb
+-(
+-
+- + 
+-ph
+-->
+-fesz
+-, 0,h->
+-memsz
+- -h->filesz);
+-
+-46 
+-y
+- = ((*)())(
+-f
+-->entry);
+-
+-47 
+-	`y
+-();
+-
+-48 
+-	}
+-}
+-
+-51 
+-	$wadisk
+-()
+-
+-54 (
+-	`b
+-(0x1F7) & 0xC0) != 0x40)
+-
+-56 
+-	}
+-}
+-
+-60 
+-	$ad
+-(*
+-d
+-, 
+-ut
+- 
+-offt
+-)
+-
+-63 
+-	`wadisk
+-();
+-
+-64 
+-	`outb
+-(0x1F2, 1);
+-
+-65 
+-	`outb
+-(0x1F3, 
+-offt
+-);
+-
+-66 
+-	`outb
+-(0x1F4, 
+-offt
+- >> 8);
+-
+-67 
+-	`outb
+-(0x1F5, 
+-offt
+- >> 16);
+-
+-68 
+-	`outb
+-(0x1F6, (
+-offt
+- >> 24) | 0xE0);
+-
+-69 
+-	`outb
+-(0x1F7, 0x20);
+-
+-72 
+-	`wadisk
+-();
+-
+-73 
+-	`
+-(0x1F0, 
+-d
+-, 
+-SECTSIZE
+-/4);
+-
+-74 
+-	}
+-}
+-
+-79 
+-	$adg
+-(
+-uch
+-* 
+-
+-, 
+-ut
+- 
+-cou
+-, u
+-offt
+-)
+-
+-81 
+-uch
+-* 
+-a
+-;
+-
+-83 
+-a
+- = 
+-
+- + 
+-cou
+-;
+-
+-86 
+-
+- -
+-offt
+- % 
+-SECTSIZE
+-;
+-
+-89 
+-offt
+- = (off/ 
+-SECTSIZE
+-) + 1;
+-
+-94 ; 
+-
+- < 
+-a
+-;+
+-SECTSIZE
+-, 
+-offt
+-++)
+-
+-95 
+-	`ad
+-(
+-
+-, 
+-offt
+-);
+-
+-96 
+-	}
+-}
+-
+-	@buf.h
+-
+-1 
+-	sbuf
+- {
+-
+-2 
+-	mags
+-;
+-
+-3 
+-ut
+- 
+-	mdev
+-;
+-
+-4 
+-ut
+- 
+-	mblockno
+-;
+-
+-5 
+-ock
+- 
+-	mlock
+-;
+-
+-6 
+-ut
+- 
+-	mft
+-;
+-
+-7 
+-buf
+- *
+-	mev
+-;
+-
+-8 
+-buf
+- *
+-	mxt
+-;
+-
+-9 
+-buf
+- *
+-	mqxt
+-;
+-
+-10 
+-uch
+- 
+-	mda
+-[
+-BSIZE
+-];
+-
+-12 
+-	#B_VALID
+- 0x2
+-
+-13 
+-	#B_DIRTY
+- 0x4
+-
+-14 
+-
+-	)
+-
+-	@cat.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-5 
+-	gbuf
+-[512];
+-
+-8 
+-	$t
+-(
+-fd
+-)
+-
+-10 
+-n
+-;
+-
+-12 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0) {
+-
+-13 i(
+-	`wre
+-(1, 
+-buf
+-, 
+-n
+-) !=) {
+-
+-14 
+-	`tf
+-(1, "cat: writerror\n");
+-
+-15 
+-	`ex
+-();
+-
+-18 if(
+-n
+- < 0){
+-
+-19 
+-	`tf
+-(1, "cat:eadrror\n");
+-
+-20 
+-	`ex
+-();
+-
+-22 
+-	}
+-}
+-
+-25 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-27 
+-fd
+-, 
+-i
+-;
+-
+-29 if(
+-gc
+- <= 1){
+-
+-30 
+-	`t
+-(0);
+-
+-31 
+-	`ex
+-();
+-
+-34 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-35 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-36 
+-	`tf
+-(1, "t: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-37 
+-	`ex
+-();
+-
+-39 
+-	`t
+-(
+-fd
+-);
+-
+-40 
+-	`o
+-(
+-fd
+-);
+-
+-42 
+-	`ex
+-();
+-
+-43 
+-	}
+-}
+-
+-	@console.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-10 
+-	~"ock.h
+-"
+-
+-11 
+-	~"fs.h
+-"
+-
+-12 
+-	~"fe.h
+-"
+-
+-13 
+-	~"memyout.h
+-"
+-
+-14 
+-	~"mmu.h
+-"
+-
+-15 
+-	~"oc.h
+-"
+-
+-16 
+-	~"x86.h
+-"
+-
+-18 
+-cutc
+-();
+-
+-20 
+-	gnicked
+- = 0;
+-
+-23 
+-lock
+- 
+-	mlock
+-;
+-
+-24 
+-	mlockg
+-;
+-
+-25 } 
+-	gcs
+-;
+-
+-28 
+-	$tt
+-(
+-xx
+-, 
+-ba
+-, 
+-sign
+-)
+-
+-30 
+-digs
+-[] = "0123456789abcdef";
+-
+-31 
+-buf
+-[16];
+-
+-32 
+-i
+-;
+-
+-33 
+-ut
+- 
+-x
+-;
+-
+-35 if(
+-sign
+- && (sig
+-xx
+- < 0))
+-
+-36 
+-x
+- = -
+-xx
+-;
+-
+-38 
+-x
+- = 
+-xx
+-;
+-
+-40 
+-i
+- = 0;
+-
+-42 
+-buf
+-[
+-i
+-++] = 
+-digs
+-[
+-x
+- % 
+-ba
+-];
+-
+-43 }(
+-x
+- /
+-ba
+-) != 0);
+-
+-45 if(
+-sign
+-)
+-
+-46 
+-buf
+-[
+-i
+-++] = '-';
+-
+-48 --
+-i
+- >= 0)
+-
+-49 
+-	`cutc
+-(
+-buf
+-[
+-i
+-]);
+-
+-50 
+-	}
+-}
+-
+-55 
+-	$rtf
+-(*
+-fmt
+-, ...)
+-
+-57 
+-i
+-, 
+-c
+-, 
+-lockg
+-;
+-
+-58 
+-ut
+- *
+-gp
+-;
+-
+-59 *
+-s
+-;
+-
+-61 
+-lockg
+- = 
+-cs
+-.locking;
+-
+-62 if(
+-lockg
+-)
+-
+-63 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-65 i(
+-fmt
+- == 0)
+-
+-66 
+-	`nic
+-("null fmt");
+-
+-68 
+-gp
+- = (
+-ut
+-*)(*)(&
+-fmt
+- + 1);
+-
+-69 
+-i
+- = 0; (
+-c
+- = 
+-fmt
+-[i] & 0xff) != 0; i++){
+-
+-70 if(
+-c
+- != '%'){
+-
+-71 
+-	`cutc
+-(
+-c
+-);
+-
+-74 
+-c
+- = 
+-fmt
+-[++
+-i
+-] & 0xff;
+-
+-75 if(
+-c
+- == 0)
+-
+-77 
+-c
+-){
+-
+-79 
+-	`tt
+-(*
+-gp
+-++, 10, 1);
+-
+-83 
+-	`tt
+-(*
+-gp
+-++, 16, 0);
+-
+-86 if((
+-s
+- = (*)*
+-gp
+-++) == 0)
+-
+-87 
+-s
+- = "(null)";
+-
+-88 ; *
+-s
+-; s++)
+-
+-89 
+-	`cutc
+-(*
+-s
+-);
+-
+-92 
+-	`cutc
+-('%');
+-
+-96 
+-	`cutc
+-('%');
+-
+-97 
+-	`cutc
+-(
+-c
+-);
+-
+-102 if(
+-lockg
+-)
+-
+-103 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-104 
+-	}
+-}
+-
+-107 
+-	$nic
+-(*
+-s
+-)
+-
+-109 
+-i
+-;
+-
+-110 
+-ut
+- 
+-pcs
+-[10];
+-
+-112 
+-	`i
+-();
+-
+-113 
+-cs
+-.
+-lockg
+- = 0;
+-
+-115 
+-	`rtf
+-("picid %d:ic: ", 
+-	`picid
+-());
+-
+-116 
+-	`rtf
+-(
+-s
+-);
+-
+-117 
+-	`rtf
+-("\n");
+-
+-118 
+-	`gpcs
+-(&
+-s
+-, 
+-pcs
+-);
+-
+-119 
+-i
+-=0; i<10; i++)
+-
+-120 
+-	`rtf
+-(" %p", 
+-pcs
+-[
+-i
+-]);
+-
+-121 
+-nicked
+- = 1;
+-
+-124 
+-	}
+-}
+-
+-127 
+-	#BACKSPACE
+- 0x100
+-
+-	)
+-
+-128 
+-	#CRTPORT
+- 0x3d4
+-
+-	)
+-
+-129 
+-usht
+- *
+-	gt
+- = (usht*)
+-P2V
+-(0xb8000);
+-
+-132 
+-	$cgutc
+-(
+-c
+-)
+-
+-134 
+-pos
+-;
+-
+-137 
+-	`outb
+-(
+-CRTPORT
+-, 14);
+-
+-138 
+-pos
+- = 
+-	`b
+-(
+-CRTPORT
+-+1) << 8;
+-
+-139 
+-	`outb
+-(
+-CRTPORT
+-, 15);
+-
+-140 
+-pos
+- |
+-	`b
+-(
+-CRTPORT
+-+1);
+-
+-142 if(
+-c
+- == '\n')
+-
+-143 
+-pos
+- += 80 -os%80;
+-
+-144 if(
+-c
+- =
+-BACKSPACE
+-){
+-
+-145 if(
+-pos
+- > 0) --pos;
+-
+-147 
+-t
+-[
+-pos
+-++] = (
+-c
+-&0xff) | 0x0700;
+-
+-149 if(
+-pos
+- < 0 ||os > 25*80)
+-
+-150 
+-	`nic
+-("pos under/overflow");
+-
+-152 if((
+-pos
+-/80) >= 24){
+-
+-153 
+-	`memmove
+-(
+-t
+-, crt+80, (crt[0])*23*80);
+-
+-154 
+-pos
+- -= 80;
+-
+-155 
+-	`memt
+-(
+-t
+-+
+-pos
+-, 0, (crt[0])*(24*80 -os));
+-
+-158 
+-	`outb
+-(
+-CRTPORT
+-, 14);
+-
+-159 
+-	`outb
+-(
+-CRTPORT
+-+1, 
+-pos
+->>8);
+-
+-160 
+-	`outb
+-(
+-CRTPORT
+-, 15);
+-
+-161 
+-	`outb
+-(
+-CRTPORT
+-+1, 
+-pos
+-);
+-
+-162 
+-t
+-[
+-pos
+-] = ' ' | 0x0700;
+-
+-163 
+-	}
+-}
+-
+-166 
+-	$cutc
+-(
+-c
+-)
+-
+-168 if(
+-nicked
+-){
+-
+-169 
+-	`i
+-();
+-
+-174 if(
+-c
+- =
+-BACKSPACE
+-){
+-
+-175 
+-	`uutc
+-('\b'); uartputc(' '); uartputc('\b');
+-
+-177 
+-	`uutc
+-(
+-c
+-);
+-
+-178 
+-	`cgutc
+-(
+-c
+-);
+-
+-179 
+-	}
+-}
+-
+-181 
+-	#INPUT_BUF
+- 128
+-
+-	)
+-
+-183 
+-	mbuf
+-[
+-INPUT_BUF
+-];
+-
+-184 
+-ut
+- 
+-	mr
+-;
+-
+-185 
+-ut
+- 
+-	mw
+-;
+-
+-186 
+-ut
+- 
+-	me
+-;
+-
+-187 } 
+-	gput
+-;
+-
+-189 
+-	#C
+-(
+-x
+-) ((x)-'@')
+-
+-190 
+-
+-	)
+-
+-192 
+-	$cse
+-((*
+-gc
+-)())
+-
+-194 
+-c
+-, 
+-drocdump
+- = 0;
+-
+-196 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-197 (
+-c
+- = 
+-	`gc
+-()) >= 0){
+-
+-198 
+-c
+-){
+-
+-199 
+-	`C
+-('P'):
+-
+-201 
+-drocdump
+- = 1;
+-
+-203 
+-	`C
+-('U'):
+-
+-204 
+-put
+-.
+-e
+- !put.
+-w
+- &&
+-
+-205 
+-put
+-.
+-buf
+-[(put.
+-e
+--1% 
+-INPUT_BUF
+-] != '\n'){
+-
+-206 
+-put
+-.
+-e
+---;
+-
+-207 
+-	`cutc
+-(
+-BACKSPACE
+-);
+-
+-210 
+-	`C
+-('H'): '\x7f':
+-
+-211 if(
+-put
+-.
+-e
+- !put.
+-w
+-){
+-
+-212 
+-put
+-.
+-e
+---;
+-
+-213 
+-	`cutc
+-(
+-BACKSPACE
+-);
+-
+-217 if(
+-c
+- !0 && 
+-put
+-.
+-e
+--put.
+-r
+- < 
+-INPUT_BUF
+-){
+-
+-218 
+-c
+- = (c == '\r') ? '\n' : c;
+-
+-219 
+-put
+-.
+-buf
+-[put.
+-e
+-++ % 
+-INPUT_BUF
+-] = 
+-c
+-;
+-
+-220 
+-	`cutc
+-(
+-c
+-);
+-
+-221 if(
+-c
+- ='\n' || c =
+-	`C
+-('D'|| 
+-put
+-.
+-e
+- =put.
+-r
+-+
+-INPUT_BUF
+-){
+-
+-222 
+-put
+-.
+-w
+- = iut.
+-e
+-;
+-
+-223 
+-	`wakeup
+-(&
+-put
+-.
+-r
+-);
+-
+-229 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-230 if(
+-drocdump
+-) {
+-
+-231 
+-	`ocdump
+-();
+-
+-233 
+-	}
+-}
+-
+-236 
+-	$csd
+-(
+-ode
+- *
+-
+-, *
+-d
+-, 
+-n
+-)
+-
+-238 
+-ut
+- 
+-rg
+-;
+-
+-239 
+-c
+-;
+-
+-241 
+-	`iuock
+-(
+-
+-);
+-
+-242 
+-rg
+- = 
+-n
+-;
+-
+-243 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-244 
+-n
+- > 0){
+-
+-245 
+-put
+-.
+-r
+- =put.
+-w
+-){
+-
+-246 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-247 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-248 
+-	`ock
+-(
+-
+-);
+-
+-251 
+-	`p
+-(&
+-put
+-.
+-r
+-, &
+-cs
+-.
+-lock
+-);
+-
+-253 
+-c
+- = 
+-put
+-.
+-buf
+-[put.
+-r
+-++ % 
+-INPUT_BUF
+-];
+-
+-254 if(
+-c
+- =
+-	`C
+-('D')){
+-
+-255 if(
+-n
+- < 
+-rg
+-){
+-
+-258 
+-put
+-.
+-r
+---;
+-
+-262 *
+-d
+-++ = 
+-c
+-;
+-
+-263 --
+-n
+-;
+-
+-264 if(
+-c
+- == '\n')
+-
+-267 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-268 
+-	`ock
+-(
+-
+-);
+-
+-270  
+-rg
+- - 
+-n
+-;
+-
+-271 
+-	}
+-}
+-
+-274 
+-	$csewre
+-(
+-ode
+- *
+-
+-, *
+-buf
+-, 
+-n
+-)
+-
+-276 
+-i
+-;
+-
+-278 
+-	`iuock
+-(
+-
+-);
+-
+-279 
+-	`acque
+-(&
+-cs
+-.
+-lock
+-);
+-
+-280 
+-i
+- = 0; i < 
+-n
+-; i++)
+-
+-281 
+-	`cutc
+-(
+-buf
+-[
+-i
+-] & 0xff);
+-
+-282 
+-	`a
+-(&
+-cs
+-.
+-lock
+-);
+-
+-283 
+-	`ock
+-(
+-
+-);
+-
+-285  
+-n
+-;
+-
+-286 
+-	}
+-}
+-
+-289 
+-	$cse
+-()
+-
+-291 
+-	`lock
+-(&
+-cs
+-.
+-lock
+-, "console");
+-
+-293 
+-devsw
+-[
+-CONSOLE
+-].
+-wre
+- = 
+-csewre
+-;
+-
+-294 
+-devsw
+-[
+-CONSOLE
+-].
+-ad
+- = 
+-csd
+-;
+-
+-295 
+-cs
+-.
+-lockg
+- = 1;
+-
+-297 
+-	`ipib
+-(
+-IRQ_KBD
+-, 0);
+-
+-298 
+-	}
+-}
+-
+-	@date.h
+-
+-1 
+-	scde
+- {
+-
+-2 
+-ut
+- 
+-	mcd
+-;
+-
+-3 
+-ut
+- 
+-	mmu
+-;
+-
+-4 
+-ut
+- 
+-	mhour
+-;
+-
+-5 
+-ut
+- 
+-	mday
+-;
+-
+-6 
+-ut
+- 
+-	mmth
+-;
+-
+-7 
+-ut
+- 
+-	myr
+-;
+-
+-	@defs.h
+-
+-1 
+-	gbuf
+-;
+-
+-2 
+-	gcxt
+-;
+-
+-3 
+-	gfe
+-;
+-
+-4 
+-	gode
+-;
+-
+-5 
+-	gpe
+-;
+-
+-6 
+-	goc
+-;
+-
+-7 
+-	gcde
+-;
+-
+-8 
+-	glock
+-;
+-
+-9 
+-	gock
+-;
+-
+-10 
+-	g
+-;
+-
+-11 
+-	gsurblock
+-;
+-
+-14 
+-b
+-();
+-
+-15 
+-buf
+-* 
+-bad
+-(
+-ut
+-, uint);
+-
+-16 
+-bl
+-(
+-buf
+-*);
+-
+-17 
+-bwre
+-(
+-buf
+-*);
+-
+-20 
+-cse
+-();
+-
+-21 
+-rtf
+-(*, ...);
+-
+-22 
+-cse
+-((*)());
+-
+-23 
+-	$nic
+-(*
+-	`__ibu__
+-((
+-nu
+-));
+-
+-26 
+-	`exec
+-(*, **);
+-
+-29 
+-fe
+-* 
+-	`foc
+-();
+-
+-30 
+-	`feo
+-(
+-fe
+-*);
+-
+-31 
+-fe
+-* 
+-	`fedup
+-(file*);
+-
+-32 
+-	`fe
+-();
+-
+-33 
+-	`fd
+-(
+-fe
+-*, *, 
+-n
+-);
+-
+-34 
+-	`fe
+-(
+-fe
+-*, 
+-
+-*);
+-
+-35 
+-	`fewre
+-(
+-fe
+-*, *, 
+-n
+-);
+-
+-38 
+-	`adsb
+-(
+-dev
+-, 
+-surblock
+- *
+-sb
+-);
+-
+-39 
+-	`dlk
+-(
+-ode
+-*, *, 
+-ut
+-);
+-
+-40 
+-ode
+-* 
+-	`dlookup
+-(ode*, *, 
+-ut
+-*);
+-
+-41 
+-ode
+-* 
+-	`oc
+-(
+-ut
+-, );
+-
+-42 
+-ode
+-* 
+-	`idup
+-(inode*);
+-
+-43 
+-	`i
+-(
+-dev
+-);
+-
+-44 
+-	`ock
+-(
+-ode
+-*);
+-
+-45 
+-	`ut
+-(
+-ode
+-*);
+-
+-46 
+-	`iuock
+-(
+-ode
+-*);
+-
+-47 
+-	`iuockput
+-(
+-ode
+-*);
+-
+-48 
+-	`iupde
+-(
+-ode
+-*);
+-
+-49 
+-	`mecmp
+-(const *, const *);
+-
+-50 
+-ode
+-* 
+-	`mei
+-(*);
+-
+-51 
+-ode
+-* 
+-	`met
+-(*, *);
+-
+-52 
+-	`adi
+-(
+-ode
+-*, *, 
+-ut
+-, uint);
+-
+-53 
+-	`i
+-(
+-ode
+-*, 
+-
+-*);
+-
+-54 
+-	`wrei
+-(
+-ode
+-*, *, 
+-ut
+-, uint);
+-
+-57 
+-	`ide
+-();
+-
+-58 
+-	`ide
+-();
+-
+-59 
+-	`idw
+-(
+-buf
+-*);
+-
+-62 
+-	`ipib
+-(
+-q
+-, 
+-u
+-);
+-
+-63 
+-uch
+- 
+-ipicid
+-;
+-
+-64 
+-	`ipic
+-();
+-
+-67 * 
+-	`kloc
+-();
+-
+-68 
+-	`k
+-(*);
+-
+-69 
+-	`k1
+-(*, *);
+-
+-70 
+-	`k2
+-(*, *);
+-
+-73 
+-	`kbd
+-();
+-
+-76 
+-	`cmoime
+-(
+-cde
+- *
+-r
+-);
+-
+-77 
+-	`picid
+-();
+-
+-78 
v
+-ut
+-* 
+-pic
+-;
+-
+-79 
+-	`pioi
+-();
+-
+-80 
+-	`pic
+-();
+-
+-81 
+-	`picp
+-(
+-uch
+-, 
+-ut
+-);
+-
+-82 
+-	`mioday
+-();
+-
+-85 
+-	`log
+-(
+-dev
+-);
+-
+-86 
+-	`log_wre
+-(
+-buf
+-*);
+-
+-87 
+-	`beg_
+-();
+-
+-88 
+-	`d_
+-();
+-
+-91 

+-ismp
+-;
+-
+-92 
+-	`mp
+-();
+-
+-95 
+-	`pib
+-();
+-
+-96 
+-	`pic
+-();
+-
+-99 
+-	`poc
+-(
+-fe
+-**, file**);
+-
+-100 
+-	`peo
+-(
+-pe
+-*, );
+-
+-101 
+-	`pd
+-(
+-pe
+-*, *, );
+-
+-102 
+-	`pewre
+-(
+-pe
+-*, *, );
+-
+-106 
+-	`uid
+-();
+-
+-107 
+-	`ex
+-();
+-
+-108 
+-	`fk
+-();
+-
+-109 
+-	`growoc
+-();
+-
+-110 
+-	`kl
+-();
+-
+-111 
+-u
+-* 
+-	`myu
+-();
+-
+-112 
+-oc
+-* 
+-	`myoc
+-();
+-
+-113 
+-	`p
+-();
+-
+-114 
+-	`ocdump
+-();
+-
+-115 
+-	$schedur
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-116 
+-	`sched
+-();
+-
+-117 
+-	`roc
+-(
+-oc
+-*);
+-
+-118 
+-	`p
+-(*, 
+-lock
+-*);
+-
+-119 
+-	`ur
+-();
+-
+-120 
+-	`wa
+-();
+-
+-121 
+-	`wakeup
+-(*);
+-
+-122 
+-	`yld
+-();
+-
+-125 
+-	`swtch
+-(
+-cxt
+-**, context*);
+-
+-128 
+-	`acque
+-(
+-lock
+-*);
+-
+-129 
+-	`gpcs
+-(*, 
+-ut
+-*);
+-
+-130 
+-	`hdg
+-(
+-lock
+-*);
+-
+-131 
+-	`lock
+-(
+-lock
+-*, *);
+-
+-132 
+-	`a
+-(
+-lock
+-*);
+-
+-133 
+-	`pushi
+-();
+-
+-134 
+-	`pi
+-();
+-
+-137 
+-	`acquep
+-(
+-ock
+-*);
+-
+-138 
+-	`ap
+-(
+-ock
+-*);
+-
+-139 
+-	`hdgp
+-(
+-ock
+-*);
+-
+-140 
+-	`ock
+-(
+-ock
+-*, *);
+-
+-143 
+-	`memcmp
+-(c *, c *, 
+-ut
+-);
+-
+-144 * 
+-	`memmove
+-(*, c *, 
+-ut
+-);
+-
+-145 * 
+-	`memt
+-(*, , 
+-ut
+-);
+-
+-146 * 
+-	`ry
+-(*, const *, );
+-
+-147 
+-	`
+-(const *);
+-
+-148 
+-	`cmp
+-(c *, c *, 
+-ut
+-);
+-
+-149 * 
+-	`y
+-(*, const *, );
+-
+-152 
+-	`gt
+-(, *);
+-
+-153 
+-	`gr
+-(, **, );
+-
+-154 
+-	`gr
+-(, **);
+-
+-155 
+-	`tcht
+-(
+-ut
+-, *);
+-
+-156 
+-	`tchr
+-(
+-ut
+-, **);
+-
+-157 
+-	`sys
+-();
+-
+-160 
+-	`tim
+-();
+-
+-163 
+-	`idt
+-();
+-
+-164 
+-ut
+- 
+-ticks
+-;
+-
+-165 
+-	`tv
+-();
+-
+-166 

+-lock
+- 
+-tickock
+-;
+-
+-169 
+-	`ut
+-();
+-
+-170 
+-	`ut
+-();
+-
+-171 
+-	`uutc
+-();
+-
+-174 
+-	`g
+-();
+-
+-175 
+-	`kvmloc
+-();
+-
+-176 
+-pde_t
+-* 
+-	`tupkvm
+-();
+-
+-177 * 
+-	`uva2ka
+-(
+-pde_t
+-*, *);
+-
+-178 
+-	`locuvm
+-(
+-pde_t
+-*, 
+-ut
+-, uint);
+-
+-179 
+-	`docuvm
+-(
+-pde_t
+-*, 
+-ut
+-, uint);
+-
+-180 
+-	`vm
+-(
+-pde_t
+-*);
+-
+-181 
+-	`uvm
+-(
+-pde_t
+-*, *, 
+-ut
+-);
+-
+-182 
+-	`lduvm
+-(
+-pde_t
+-*, *, 
+-ode
+-*, 
+-ut
+-, uint);
+-
+-183 
+-pde_t
+-* 
+-	`cyuvm
+-de_t*, 
+-ut
+-);
+-
+-184 
+-	`swchuvm
+-(
+-oc
+-*);
+-
+-185 
+-	`swchkvm
+-();
+-
+-186 
+-	`cyout
+-(
+-pde_t
+-*, 
+-ut
+-, *, uint);
+-
+-187 
+-	`u
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-);
+-
+-190 
+-	#NELEM
+-(
+-x
+-((x)/((x)[0]))
+-
+-	)
+-
+-	@echo.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 
+-i
+- = 1; i < 
+-gc
+-; i++)
+-
+-11 
+-	`tf
+-(1, "%s%s", 
+-gv
+-[
+-i
+-], i+1 < 
+-gc
+- ? " " : "\n");
+-
+-12 
+-	`ex
+-();
+-
+-13 
+-	}
+-}
+-
+-	@elf.h
+-
+-3 
+-	#ELF_MAGIC
+- 0x464C457FU
+-
+-4 
+-
+-	)
+-
+-6 
+-	sfhdr
+- {
+-
+-7 
+-ut
+- 
+-	mmagic
+-;
+-
+-8 
+-uch
+- 
+-	mf
+-[12];
+-
+-9 
+-usht
+- 
+-	mty
+-;
+-
+-10 
+-usht
+- 
+-	mmache
+-;
+-
+-11 
+-ut
+- 
+-	mvsi
+-;
+-
+-12 
+-ut
+- 
+-	my
+-;
+-
+-13 
+-ut
+- 
+-	mphoff
+-;
+-
+-14 
+-ut
+- 
+-	mshoff
+-;
+-
+-15 
+-ut
+- 
+-	mags
+-;
+-
+-16 
+-usht
+- 
+-	mehsize
+-;
+-
+-17 
+-usht
+- 
+-	mphtsize
+-;
+-
+-18 
+-usht
+- 
+-	mphnum
+-;
+-
+-19 
+-usht
+- 
+-	mshtsize
+-;
+-
+-20 
+-usht
+- 
+-	mshnum
+-;
+-
+-21 
+-usht
+- 
+-	mshdx
+-;
+-
+-25 
+-	soghdr
+- {
+-
+-26 
+-ut
+- 
+-	mty
+-;
+-
+-27 
+-ut
+- 
+-	moff
+-;
+-
+-28 
+-ut
+- 
+-	mvaddr
+-;
+-
+-29 
+-ut
+- 
+-	mddr
+-;
+-
+-30 
+-ut
+- 
+-	mfesz
+-;
+-
+-31 
+-ut
+- 
+-	mmemsz
+-;
+-
+-32 
+-ut
+- 
+-	mags
+-;
+-
+-33 
+-ut
+- 
+-	mign
+-;
+-
+-37 
+-	#ELF_PROG_LOAD
+- 1
+-
+-	)
+-
+-40 
+-	#ELF_PROG_FLAG_EXEC
+- 1
+-
+-	)
+-
+-41 
+-	#ELF_PROG_FLAG_WRITE
+- 2
+-
+-	)
+-
+-42 
+-	#ELF_PROG_FLAG_READ
+- 4
+-
+-	)
+-
+-	@entry.S
+-
+-1 #Th
+-xv6
+- 
+-kl
+- 
+-ts
+- 
+-executg
+- 
+-
+- 
+-this
+- 
+-fe
+-. 
+-This
+- f
+-is
+- 
+-lked
+- 
+-wh
+-
+-
+-2 #th
+-kl
+- 
+-C
+- 
+-code
+-, 
+-so
+- 
+-
+- 
+-n
+- 
+-r
+- 
+-to
+- k
+-symbs
+- 
+-such
+- 
+-as
+- 
+-ma
+-().
+-
+-3 #Th
+-bo
+- 
+-block
+- (
+-boasm
+-.
+-S
+- 
+-d
+- 
+-boma
+-.
+-c
+-
+-jumps
+- 
+-to
+- 
+-y
+- 
+-bow
+-.
+-
+-5 #Muibo 
+-hd
+-, 
+-muibo
+- 
+-bo
+- 
+-lds
+- 
+-like
+- 
+-GNU
+- 
+-Grub
+-.
+-
+-7 #
+-#Usg 
+-GRUB
+- 2, 
+-you
+- 
+-n
+- 
+-bo
+- 
+-xv6
+- 
+-om
+- 
+-a
+- 
+-fe
+- 
+-ed
+- 
+-
+-
+-
+-9 #Lux 
+-fe
+- 
+-syem
+- 
+-by
+- 
+-cyg
+- 
+-kl
+- 
+-
+- 
+-klmemfs
+- 
+-to
+- /
+-bo
+-
+-
+-10 #d 
+-th
+- 
+-addg
+- 
+-this
+- 
+-mu
+- 
+-y
+-:
+-
+-13 #smod 
+-ext2
+-
+-
+-14 #
+-ro
+-='(hd0,msdos1)'
+-
+-15 #
+-kl
+-='/boot/kernel'
+-
+-17 #muibo 
+-$
+-{
+-kl
+-} ${kernel}
+-
+-21 
+-	~"asm.h
+-"
+-
+-22 
+-	~"memyout.h
+-"
+-
+-23 
+-	~"mmu.h
+-"
+-
+-24 
+-	~"m.h
+-"
+-
+-26 #Muibo 
+-hd
+-. 
+-Da
+- 
+-to
+- 
+-de
+- 
+-muibo
+- 
+-ld
+-.
+-
+-27 .
+-	gp2ign
+- 2
+-
+-28 .
+-	gxt
+-
+-
+-29 .
+-globl
+- 
+-muibo_hd
+-
+-
+-30 
+-	gmuibo_hd
+-:
+-
+-31 
+-	#magic
+- 0x1badb002
+-
+-	)
+-
+-32 
+-	#ags
+- 0
+-
+-	)
+-
+-33 .
+-magic
+-
+-
+-34 .
+-ags
+-
+-
+-35 .(-
+-magic
+--
+-ags
+-)
+-
+-37 #By 
+-cvti
+-, 
+-the
+- 
+-_t
+- 
+-symb
+- 
+-ecifs
+-h
+-ELF
+- 
+-y
+- 
+-pot
+-.
+-
+-38 #S 
+-we
+- 
+-hav
+-'t set up virtual memory yet, ourntryoint is
+-
+-39 #th
+-physil
+- 
+-addss
+- 
+-of
+- 'entry'.
+-
+-40 .
+-globl
+- 
+-_t
+-
+-
+-41 
+-	g_t
+- = 
+-V2P_WO
+-(
+-y
+-)
+-
+-43 #Eg 
+-xv6
+- 
+-
+- 
+-bo
+- 
+-oss
+-, 
+-wh
+- 
+-gg
+- 
+-off
+-.
+-
+-44 .
+-globl
+- 
+-y
+-
+-
+-45 
+-	gy
+-:
+-
+-46 #Tu 
+-
+- 
+-ge
+- 
+-size
+- 
+-exnsi
+- 4
+-Mby
+- 
+-ges
+-
+-
+-47 
+-movl
+- %
+-4
+-, %
+-x
+-
+-
+-48 
+-l
+- 
+-$
+-(
+-CR4_PSE
+-), %
+-x
+-
+-
+-49 
+-	gmovl
+- %
+-	gx
+-, %
+-	g4
+-
+-
+-50 #S 
+-ge
+- 
+-dey
+-
+-
+-51 
+-movl
+- 
+-$
+-(
+-V2P_WO
+-(
+-ypgd
+-)), %
+-x
+-
+-
+-52 
+-	gmovl
+- %
+-	gx
+-, %
+-	g3
+-
+-
+-53 #Tu 
+-
+- 
+-gg
+-.
+-
+-54 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-55 
+-l
+- 
+-$
+-(
+-CR0_PG
+-|
+-CR0_WP
+-), %
+-x
+-
+-
+-56 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-58 #S 
+-up
+- 
+-the
+- 
+-ack
+- 
+-por
+-.
+-
+-59 
+-movl
+- 
+-$
+-(
+-ack
+- + 
+-KSTACKSIZE
+-), %
+-	ge
+-
+-
+-61 #Jum
+-to
+- 
+-ma
+-(), 
+-d
+- t
+-executg
+- 
+-
+-
+-
+-62 #high 
+-addss
+-. 
+-The
+- 
+-de
+- 
+-
+- 
+-is
+- 
+-eded
+- 
+-beu
+-
+-
+-63 #th
+-asmbr
+- 
+-odus
+- 
+-a
+- 
+-PC
+--
+-tive
+- 
+-rui
+-
+-
+-64 #f 
+-a
+- 
+-de
+- 
+-jump
+-.
+-
+-65 
+-mov
+- 
+-	g$ma
+-, %
+-x
+-
+-
+-66 
+-	gjmp
+- *%
+-	gx
+-
+-
+-68 .
+-comm
+- 
+-	gack
+-, 
+-	gKSTACKSIZE
+-
+-
+-	@entryother.S
+-
+-1 
+-	~"asm.h
+-"
+-
+-2 
+-	~"memyout.h
+-"
+-
+-3 
+-	~"mmu.h
+-"
+-
+-5 #Each 
+-n
+--
+-bo
+- 
+-CPU
+- ("AP"
+-is
+- 
+-d
+- 
+-up
+- 
+-
+- 
+-
+- 
+-to
+- 
+-a
+- 
+-STARTUP
+-
+-
+-6 #IPI 
+-om
+- 
+-the
+- 
+-bo
+- 
+-CPU
+-. 
+-Sei
+- 
+-B
+-.4.2 
+-of
+-h
+-Mui
+--
+-Pross
+-
+-
+-7 #Scifiti 
+-ys
+- 
+-th
+- 
+-the
+- 
+-AP
+- 
+-wl
+- 
+-t
+- 
+-
+- 
+-
+- 
+-mode
+- 
+-wh
+- 
+-CS
+-:
+-IP
+-
+-
+-8 #
+-to
+- 
+-XY00
+-:0000, 
+-whe
+- 
+-XY
+- 
+-is
+- 
+-
+- 8-
+-b
+- 
+-vue
+- 
+-
+- 
+-wh
+- 
+-the
+-
+-
+-9 #STARTUP. 
+-Thus
+- 
+-this
+- 
+-code
+- 
+-mu
+- 
+-t
+- 
+-
+- 
+-a
+- 4096-
+-by
+- 
+-boundy
+-.
+-
+-10 #
+-#Beu 
+-this
+- 
+-code
+- 
+-ts
+- 
+-DS
+- 
+-to
+- 
+-zo
+-, 
+-
+- 
+-mu
+- 
+-s
+-
+-
+-12 # 
+-
+- 
+-addss
+- 
+-
+- 
+-the
+- 
+-low
+- 2^16 
+-bys
+-.
+-
+-13 #
+-#Sh(
+-
+- 
+-ma
+-.
+-c
+-
+-nds
+- 
+-the
+- 
+-STARTUPs
+- 
+-e
+- 
+-
+- 
+-a
+- 
+-time
+-.
+-
+-15 #I
+-cs
+- 
+-this
+- 
+-code
+- (
+-t
+-
+-
+- 0x7000. 
+-It
+- 
+-puts
+- 
+-the
+- 
+-addss
+- 
+-of
+-
+-
+-16 #
+-wly
+- 
+-lod
+- 
+-r
+--
+-ce
+- 
+-ack
+- 
+-
+- 
+-t
+--4,
+-the
+- 
+-addss
+- 
+-of
+-he
+-
+-17 #a 
+-to
+- 
+-jump
+-(
+-m
+-
+-
+- 
+-t
+--8, 
+-d
+- 
+-the
+- 
+-physil
+- 
+-addss
+-
+-
+-18 #o
+-ypgd
+- 
+-
+- 
+-t
+--12.
+-
+-19 #
+-#Thi
+-code
+- 
+-combes
+- 
+-emts
+- 
+-of
+- 
+-boasm
+-.
+-S
+- 
+-d
+- 
+-y
+-.S.
+-
+-22 .
+-	gcode16
+-
+-
+-23 .
+-globl
+- 
+-t
+-
+-
+-24 
+-	gt
+-:
+-
+-25 
+-i
+-
+-
+-27 #Z
+-da
+- 
+-gmt
+- 
+-gis
+- 
+-DS
+-, 
+-ES
+-, 
+-d
+- 
+-SS
+-.
+-
+-28 
+-	gxw
+- %
+-	gax
+-,%
+-ax
+-
+-
+-29 
+-	gmovw
+- %
+-	gax
+-,%
+-ds
+-
+-
+-30 
+-	gmovw
+- %
+-	gax
+-,%
+-es
+-
+-
+-31 
+-	gmovw
+- %
+-	gax
+-,%
+-	gss
+-
+-
+-33 #Swch 
+-om
+- 
+-
+- 
+-to
+- 
+-eed
+- 
+-mode
+-. 
+-U
+- 
+-a
+- 
+-bop
+- 
+-GDT
+- 
+-th
+- 
+-makes
+-
+-
+-34 #vtu 
+-addss
+- 
+-m
+- 
+-dely
+- 
+-to
+- 
+-physil
+-dds
+-so
+- 
+-th
+- 
+-the
+-
+-
+-35 #efiv
+-memy
+- 
+-m
+- 
+-d
+-'t change duringheransition.
+-
+-36 
+-lgdt
+- 
+-gdtdesc
+-
+-
+-37 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-38 
+-l
+- 
+-	g$CR0_PE
+-, %
+-x
+-
+-
+-39 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-41 #Com
+-the
+- 
+-si
+- 
+-to
+- 32-
+-b
+- 
+-eed
+- 
+-mode
+- 
+-by
+- 
+-usg
+- 
+-a
+- 
+-jmp
+-
+-
+-42 #t
+-ld
+- %
+-cs
+- 
+-d
+- %
+-e
+-. 
+-The
+- 
+-gmt
+- 
+-dests
+- 
+-e
+- 
+-t
+- 
+-up
+- 
+-wh
+- 
+-no
+-
+-
+-43 #i, 
+-so
+- 
+-th
+- 
+-the
+- 
+-mpg
+- 
+-is
+- 
+-l
+-h
+-idty
+- mapping.
+-
+-44 
+-ljm
+- 
+-$
+-(
+-SEG_KCODE
+-<<3), $(
+-t32
+-)
+-
+-47 .
+-	gcode32
+- #T
+-asmbr
+- 
+-to
+- 
+-	gge
+- 32-
+-b
+- 
+-code
+- 
+-	gnow
+-.
+-
+-48 
+-	gt32
+-:
+-
+-49 #S 
+-up
+- 
+-the
+- 
+-eed
+--
+-mode
+- 
+-da
+- 
+-gmt
+- 
+-gis
+-
+-
+-50 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-	gax
+- #Ou
+-da
+- 
+-gmt
+- 
+-
+-
+-
+-51 
+-	gmovw
+- %
+-	gax
+-, %
+-	gds
+- #-> 
+-	gDS
+-: 
+-Da
+- 
+-Segmt
+-
+-
+-52 
+-movw
+- %
+-ax
+-, %
+-	ges
+- #-> 
+-	gES
+-: 
+-Exa
+- 
+-Segmt
+-
+-
+-53 
+-movw
+- %
+-ax
+-, %
+-	gss
+- #-> 
+-	gSS
+-: 
+-Sck
+- 
+-Segmt
+-
+-
+-54 
+-movw
+- 
+-$0
+-, %
+-	gax
+- #Z
+-gmts
+- 
+-n
+- 
+-ady
+- 
+-u
+-
+-
+-55 
+-	gmovw
+- %
+-	gax
+-, %
+-	gfs
+- #-> 
+-FS
+-
+-
+-56 
+-	gmovw
+- %
+-	gax
+-, %
+-	ggs
+- #-> 
+-	gGS
+-
+-
+-58 #Tu 
+-
+- 
+-ge
+- 
+-size
+- 
+-exnsi
+- 4
+-Mby
+- 
+-ges
+-
+-
+-59 
+-	gmovl
+- %
+-	g4
+-, %
+-x
+-
+-
+-60 
+-l
+- 
+-$
+-(
+-CR4_PSE
+-), %
+-x
+-
+-
+-61 
+-	gmovl
+- %
+-	gx
+-, %
+-	g4
+-
+-
+-62 #U 
+-ypgd
+- 
+-as
+- 
+-our
+- 
+-l
+- 
+-ge
+- 
+-b
+-
+-
+-63 
+-movl
+- (
+-t
+--12), %
+-x
+-
+-
+-64 
+-	gmovl
+- %
+-	gx
+-, %
+-	g3
+-
+-
+-65 #Tu 
+-
+- 
+-gg
+-.
+-
+-66 
+-	gmovl
+- %
+-	g0
+-, %
+-x
+-
+-
+-67 
+-l
+- 
+-$
+-(
+-CR0_PE
+-|
+-CR0_PG
+-|
+-CR0_WP
+-), %
+-x
+-
+-
+-68 
+-	gmovl
+- %
+-	gx
+-, %
+-	g0
+-
+-
+-70 #Swch 
+-to
+- 
+-the
+- 
+-ack
+- 
+-lod
+- 
+-by
+- 
+-ths
+-()
+-
+-71 
+-movl
+- (
+-t
+--4), %
+-	ge
+-
+-
+-72 #C
+-m
+-()
+-
+-73 
+-	g
+- *(
+-	gt
+--8)
+-
+-75 
+-movw
+- 
+-	g$0x8a00
+-, %
+-ax
+-
+-
+-76 
+-	gmovw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-77 
+-	goutw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-78 
+-movw
+- 
+-	g$0x80
+-, %
+-ax
+-
+-
+-79 
+-	goutw
+- %
+-	gax
+-, %
+-dx
+-
+-
+-80 
+-	g
+-:
+-
+-81 
+-jmp
+- 
+-
+-
+-
+-83 .
+-p2ign
+- 2
+-
+-84 
+-gdt
+-:
+-
+-85 
+-SEG_NULLASM
+-
+-
+-86 
+-SEG_ASM
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff)
+-
+-87 
+-	$SEG_ASM
+-(
+-STA_W
+-, 0, 0xffffffff)
+-
+-90 
+-gdtdesc
+-:
+-
+-91 .
+-	`wd
+- (
+-gdtdesc
+- - 
+-gdt
+- - 1)
+-
+-92 .
+-gdt
+-
+-
+-	@exec.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"m.h
+-"
+-
+-3 
+-	~"memyout.h
+-"
+-
+-4 
+-	~"mmu.h
+-"
+-
+-5 
+-	~"oc.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"f.h
+-"
+-
+-11 
+-	$exec
+-(*
+-th
+-, **
+-gv
+-)
+-
+-13 *
+-s
+-, *
+-
+-;
+-
+-14 
+-i
+-, 
+-off
+-;
+-
+-15 
+-ut
+- 
+-gc
+-, 
+-sz
+-, 
+-
+-, 
+-uack
+-[3+
+-MAXARG
+-+1];
+-
+-16 
+-fhdr
+- 
+-f
+-;
+-
+-17 
+-ode
+- *
+-
+-;
+-
+-18 
+-oghdr
+- 
+-ph
+-;
+-
+-19 
+-pde_t
+- *
+-pgd
+-, *
+-dpgd
+-;
+-
+-20 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-22 
+-	`beg_
+-();
+-
+-24 if((
+-
+- = 
+-	`mei
+-(
+-th
+-)) == 0){
+-
+-25 
+-	`d_
+-();
+-
+-26 
+-	`rtf
+-("exec: fail\n");
+-
+-29 
+-	`ock
+-(
+-
+-);
+-
+-30 
+-pgd
+- = 0;
+-
+-33 if(
+-	`adi
+-(
+-
+-, (*)&
+-f
+-, 0, (elf)) != (elf))
+-
+-34 
+-bad
+-;
+-
+-35 if(
+-f
+-.
+-magic
+- !
+-ELF_MAGIC
+-)
+-
+-36 
+-bad
+-;
+-
+-38 if((
+-pgd
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-39 
+-bad
+-;
+-
+-42 
+-sz
+- = 0;
+-
+-43 
+-i
+-=0, 
+-off
+-=
+-f
+-.
+-phoff
+-; i<f.
+-phnum
+-; i++, off+=(
+-ph
+-)){
+-
+-44 if(
+-	`adi
+-(
+-
+-, (*)&
+-ph
+-, 
+-off
+-, (ph)) != (ph))
+-
+-45 
+-bad
+-;
+-
+-46 if(
+-ph
+-.
+-ty
+- !
+-ELF_PROG_LOAD
+-)
+-
+-48 if(
+-ph
+-.
+-memsz
+- <h.
+-fesz
+-)
+-
+-49 
+-bad
+-;
+-
+-50 if(
+-ph
+-.
+-vaddr
+- +h.
+-memsz
+- <h.vaddr)
+-
+-51 
+-bad
+-;
+-
+-52 if((
+-sz
+- = 
+-	`locuvm
+-(
+-pgd
+-, sz, 
+-ph
+-.
+-vaddr
+- +h.
+-memsz
+-)) == 0)
+-
+-53 
+-bad
+-;
+-
+-54 if(
+-ph
+-.
+-vaddr
+- % 
+-PGSIZE
+- != 0)
+-
+-55 
+-bad
+-;
+-
+-56 if(
+-	`lduvm
+-(
+-pgd
+-, (*)
+-ph
+-.
+-vaddr
+-, 
+-
+-,h.
+-off
+-,h.
+-fesz
+-) < 0)
+-
+-57 
+-bad
+-;
+-
+-59 
+-	`iuockput
+-(
+-
+-);
+-
+-60 
+-	`d_
+-();
+-
+-61 
+-
+- = 0;
+-
+-65 
+-sz
+- = 
+-	`PGROUNDUP
+-(sz);
+-
+-66 if((
+-sz
+- = 
+-	`locuvm
+-(
+-pgd
+-, sz, sz + 2*
+-PGSIZE
+-)) == 0)
+-
+-67 
+-bad
+-;
+-
+-68 
+-	`u
+-(
+-pgd
+-, (*)(
+-sz
+- - 2*
+-PGSIZE
+-));
+-
+-69 
+-
+- = 
+-sz
+-;
+-
+-72 
+-gc
+- = 0; 
+-gv
+-[argc];rgc++) {
+-
+-73 if(
+-gc
+- >
+-MAXARG
+-)
+-
+-74 
+-bad
+-;
+-
+-75 
+-
+- = ( - (
+-	`
+-(
+-gv
+-[
+-gc
+-]) + 1)) & ~3;
+-
+-76 if(
+-	`cyout
+-(
+-pgd
+-, 
+-
+-, 
+-gv
+-[
+-gc
+-], 
+-	`
+-(argv[argc]) + 1) < 0)
+-
+-77 
+-bad
+-;
+-
+-78 
+-uack
+-[3+
+-gc
+-] = 
+-
+-;
+-
+-80 
+-uack
+-[3+
+-gc
+-] = 0;
+-
+-82 
+-uack
+-[0] = 0xffffffff;
+-
+-83 
+-uack
+-[1] = 
+-gc
+-;
+-
+-84 
+-uack
+-[2] = 
+-
+- - (
+-gc
+-+1)*4;
+-
+-86 
+-
+- -(3+
+-gc
+-+1) * 4;
+-
+-87 if(
+-	`cyout
+-(
+-pgd
+-, 
+-
+-, 
+-uack
+-, (3+
+-gc
+-+1)*4) < 0)
+-
+-88 
+-bad
+-;
+-
+-91 
+-
+-=
+-s
+-=
+-th
+-; *s; s++)
+-
+-92 if(*
+-s
+- == '/')
+-
+-93 
+-
+- = 
+-s
+-+1;
+-
+-94 
+-	`ry
+-(
+-curoc
+-->
+-me
+-, 
+-
+-, (curproc->name));
+-
+-97 
+-dpgd
+- = 
+-curoc
+-->
+-pgd
+-;
+-
+-98 
+-curoc
+-->
+-pgd
+- =gdir;
+-
+-99 
+-curoc
+-->
+-sz
+- = sz;
+-
+-100 
+-curoc
+-->
+-tf
+-->
+-e
+- = 
+-f
+-.
+-y
+-;
+-
+-101 
+-curoc
+-->
+-tf
+-->
+-e
+- = 
+-
+-;
+-
+-102 
+-	`swchuvm
+-(
+-curoc
+-);
+-
+-103 
+-	`vm
+-(
+-dpgd
+-);
+-
+-106 
+-bad
+-:
+-
+-107 if(
+-pgd
+-)
+-
+-108 
+-	`vm
+-(
+-pgd
+-);
+-
+-109 if(
+-
+-){
+-
+-110 
+-	`iuockput
+-(
+-
+-);
+-
+-111 
+-	`d_
+-();
+-
+-114 
+-	}
+-}
+-
+-	@fcntl.h
+-
+-1 
+-	#O_RDONLY
+- 0x000
+-
+-	)
+-
+-2 
+-	#O_WRONLY
+- 0x001
+-
+-	)
+-
+-3 
+-	#O_RDWR
+- 0x002
+-
+-	)
+-
+-4 
+-	#O_CREATE
+- 0x200
+-
+-	)
+-
+-	@file.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"fs.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-10 
+-	~"ock.h
+-"
+-
+-11 
+-	~"fe.h
+-"
+-
+-13 
+-devsw
+- 
+-	gdevsw
+-[
+-NDEV
+-];
+-
+-15 
+-lock
+- 
+-	mlock
+-;
+-
+-16 
+-fe
+- 
+-	mfe
+-[
+-NFILE
+-];
+-
+-17 } 
+-	gab
+-;
+-
+-20 
+-	$fe
+-()
+-
+-22 
+-	`lock
+-(&
+-ab
+-.
+-lock
+-, "ftable");
+-
+-23 
+-	}
+-}
+-
+-26 
+-fe
+-*
+-
+-27 
+-	$foc
+-()
+-
+-29 
+-fe
+- *
+-f
+-;
+-
+-31 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-32 
+-f
+- = 
+-ab
+-.
+-fe
+-; f < fb.f+ 
+-NFILE
+-; f++){
+-
+-33 if(
+-f
+-->
+-f
+- == 0){
+-
+-34 
+-f
+-->
+-f
+- = 1;
+-
+-35 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-36  
+-f
+-;
+-
+-39 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-41 
+-	}
+-}
+-
+-44 
+-fe
+-*
+-
+-45 
+-	$fedup
+-(
+-fe
+- *
+-f
+-)
+-
+-47 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-48 if(
+-f
+-->
+-f
+- < 1)
+-
+-49 
+-	`nic
+-("filedup");
+-
+-50 
+-f
+-->
+-f
+-++;
+-
+-51 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-52  
+-f
+-;
+-
+-53 
+-	}
+-}
+-
+-57 
+-	$feo
+-(
+-fe
+- *
+-f
+-)
+-
+-59 
+-fe
+- 
+-ff
+-;
+-
+-61 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-62 if(
+-f
+-->
+-f
+- < 1)
+-
+-63 
+-	`nic
+-("fileclose");
+-
+-64 if(--
+-f
+-->
+-f
+- > 0){
+-
+-65 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-68 
+-ff
+- = *
+-f
+-;
+-
+-69 
+-f
+-->
+-f
+- = 0;
+-
+-70 
+-f
+-->
+-ty
+- = 
+-FD_NONE
+-;
+-
+-71 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-73 if(
+-ff
+-.
+-ty
+- =
+-FD_PIPE
+-)
+-
+-74 
+-	`peo
+-(
+-ff
+-.
+-pe
+-, ff.
+-wrab
+-);
+-
+-75 if(
+-ff
+-.
+-ty
+- =
+-FD_INODE
+-){
+-
+-76 
+-	`beg_
+-();
+-
+-77 
+-	`ut
+-(
+-ff
+-.
+-
+-);
+-
+-78 
+-	`d_
+-();
+-
+-80 
+-	}
+-}
+-
+-84 
+-	$fe
+-(
+-fe
+- *
+-f
+-, 
+-
+- *
+-
+-)
+-
+-86 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-87 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-88 
+-	`i
+-(
+-f
+-->
+-
+-, 
+-
+-);
+-
+-89 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-93 
+-	}
+-}
+-
+-97 
+-	$fd
+-(
+-fe
+- *
+-f
+-, *
+-addr
+-, 
+-n
+-)
+-
+-99 
+-r
+-;
+-
+-101 if(
+-f
+-->
+-adab
+- == 0)
+-
+-103 if(
+-f
+-->
+-ty
+- =
+-FD_PIPE
+-)
+-
+-104  
+-	`pd
+-(
+-f
+-->
+-pe
+-, 
+-addr
+-, 
+-n
+-);
+-
+-105 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-106 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-107 if((
+-r
+- = 
+-	`adi
+-(
+-f
+-->
+-
+-, 
+-addr
+-, f->
+-off
+-, 
+-n
+-)) > 0)
+-
+-108 
+-f
+-->
+-off
+- +
+-r
+-;
+-
+-109 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-110  
+-r
+-;
+-
+-112 
+-	`nic
+-("fileread");
+-
+-113 
+-	}
+-}
+-
+-118 
+-	$fewre
+-(
+-fe
+- *
+-f
+-, *
+-addr
+-, 
+-n
+-)
+-
+-120 
+-r
+-;
+-
+-122 if(
+-f
+-->
+-wrab
+- == 0)
+-
+-124 if(
+-f
+-->
+-ty
+- =
+-FD_PIPE
+-)
+-
+-125  
+-	`pewre
+-(
+-f
+-->
+-pe
+-, 
+-addr
+-, 
+-n
+-);
+-
+-126 if(
+-f
+-->
+-ty
+- =
+-FD_INODE
+-){
+-
+-133 
+-max
+- = ((
+-MAXOPBLOCKS
+--1-1-2) / 2) * 512;
+-
+-134 
+-i
+- = 0;
+-
+-135 
+-i
+- < 
+-n
+-){
+-
+-136 
+-n1
+- = 
+-n
+- - 
+-i
+-;
+-
+-137 if(
+-n1
+- > 
+-max
+-)
+-
+-138 
+-n1
+- = 
+-max
+-;
+-
+-140 
+-	`beg_
+-();
+-
+-141 
+-	`ock
+-(
+-f
+-->
+-
+-);
+-
+-142 i((
+-r
+- = 
+-	`wrei
+-(
+-f
+-->
+-
+-, 
+-addr
+- + 
+-i
+-, f->
+-off
+-, 
+-n1
+-)) > 0)
+-
+-143 
+-f
+-->
+-off
+- +
+-r
+-;
+-
+-144 
+-	`iuock
+-(
+-f
+-->
+-
+-);
+-
+-145 
+-	`d_
+-();
+-
+-147 if(
+-r
+- < 0)
+-
+-149 if(
+-r
+- !
+-n1
+-)
+-
+-150 
+-	`nic
+-("short filewrite");
+-
+-151 
+-i
+- +
+-r
+-;
+-
+-153  
+-i
+- =
+-n
+- ? : -1;
+-
+-155 
+-	`nic
+-("filewrite");
+-
+-156 
+-	}
+-}
+-
+-	@file.h
+-
+-1 
+-	sfe
+- {
+-
+-2 um { 
+-	mFD_NONE
+-, 
+-	mFD_PIPE
+-, 
+-	mFD_INODE
+- } 
+-	mty
+-;
+-
+-3 
+-	mf
+-;
+-
+-4 
+-	madab
+-;
+-
+-5 
+-	mwrab
+-;
+-
+-6 
+-pe
+- *
+-	mpe
+-;
+-
+-7 
+-ode
+- *
+-	m
+-;
+-
+-8 
+-ut
+- 
+-	moff
+-;
+-
+-13 
+-	sode
+- {
+-
+-14 
+-ut
+- 
+-	mdev
+-;
+-
+-15 
+-ut
+- 
+-	mum
+-;
+-
+-16 
+-	mf
+-;
+-
+-17 
+-ock
+- 
+-	mlock
+-;
+-
+-18 
+-	mvid
+-;
+-
+-20 
+-	mty
+-;
+-
+-21 
+-	mmaj
+-;
+-
+-22 
+-	mm
+-;
+-
+-23 
+-	mk
+-;
+-
+-24 
+-ut
+- 
+-	msize
+-;
+-
+-25 
+-ut
+- 
+-	maddrs
+-[
+-NDIRECT
+-+1];
+-
+-30 
+-	sdevsw
+- {
+-
+-31 (*
+-	mad
+-)(
+-	mode
+-*, *, );
+-
+-32 (*
+-	mwre
+-)(
+-	mode
+-*, *, );
+-
+-35 

+-devsw
+- devsw[];
+-
+-37 
+-	#CONSOLE
+- 1
+-
+-	)
+-
+-	@forktest.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~".h
+-"
+-
+-6 
+-	~"ur.h
+-"
+-
+-8 
+-	#N
+- 1000
+-
+-	)
+-
+-11 
+-	$tf
+-(
+-fd
+-, c *
+-s
+-, ...)
+-
+-13 
+-	`wre
+-(
+-fd
+-, 
+-s
+-, 
+-	`
+-(s));
+-
+-14 
+-	}
+-}
+-
+-17 
+-	$fk
+-()
+-
+-19 
+-n
+-, 
+-pid
+-;
+-
+-21 
+-	`tf
+-(1, "forkest\n");
+-
+-23 
+-n
+-=0;<
+-N
+-;++){
+-
+-24 
+-pid
+- = 
+-	`fk
+-();
+-
+-25 if(
+-pid
+- < 0)
+-
+-27 if(
+-pid
+- == 0)
+-
+-28 
+-	`ex
+-();
+-
+-31 if(
+-n
+- =
+-N
+-){
+-
+-32 
+-	`tf
+-(1, "fk cimedwk Nimes!\n", 
+-N
+-);
+-
+-33 
+-	`ex
+-();
+-
+-36 ; 
+-n
+- > 0;--){
+-
+-37 if(
+-	`wa
+-() < 0){
+-
+-38 
+-	`tf
+-(1, "wait stoppedarly\n");
+-
+-39 
+-	`ex
+-();
+-
+-43 if(
+-	`wa
+-() != -1){
+-
+-44 
+-	`tf
+-(1, "wait gotoo many\n");
+-
+-45 
+-	`ex
+-();
+-
+-48 
+-	`tf
+-(1, "forkest OK\n");
+-
+-49 
+-	}
+-}
+-
+-52 
+-	$ma
+-()
+-
+-54 
+-	`fk
+-();
+-
+-55 
+-	`ex
+-();
+-
+-56 
+-	}
+-}
+-
+-	@fs.c
+-
+-12 
+-	~"tys.h
+-"
+-
+-13 
+-	~"defs.h
+-"
+-
+-14 
+-	~"m.h
+-"
+-
+-15 
+-	~".h
+-"
+-
+-16 
+-	~"mmu.h
+-"
+-
+-17 
+-	~"oc.h
+-"
+-
+-18 
+-	~"lock.h
+-"
+-
+-19 
+-	~"ock.h
+-"
+-
+-20 
+-	~"fs.h
+-"
+-
+-21 
+-	~"buf.h
+-"
+-
+-22 
+-	~"fe.h
+-"
+-
+-24 
+-	#m
+-(
+-a
+-, 
+-b
+-(< (b? (a: (b))
+-
+-	)
+-
+-25 
+-runc
+-(
+-ode
+-*);
+-
+-28 
+-surblock
+- 
+-	gsb
+-;
+-
+-32 
+-	$adsb
+-(
+-dev
+-, 
+-surblock
+- *
+-sb
+-)
+-
+-34 
+-buf
+- *
+-bp
+-;
+-
+-36 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 1);
+-
+-37 
+-	`memmove
+-(
+-sb
+-, 
+-bp
+-->
+-da
+-, (*sb));
+-
+-38 
+-	`bl
+-(
+-bp
+-);
+-
+-39 
+-	}
+-}
+-
+-43 
+-	$bzo
+-(
+-dev
+-, 
+-bno
+-)
+-
+-45 
+-buf
+- *
+-bp
+-;
+-
+-47 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-bno
+-);
+-
+-48 
+-	`memt
+-(
+-bp
+-->
+-da
+-, 0, 
+-BSIZE
+-);
+-
+-49 
+-	`log_wre
+-(
+-bp
+-);
+-
+-50 
+-	`bl
+-(
+-bp
+-);
+-
+-51 
+-	}
+-}
+-
+-56 
+-ut
+-
+-
+-57 
+-	$bloc
+-(
+-ut
+- 
+-dev
+-)
+-
+-59 
+-b
+-, 
+-bi
+-, 
+-m
+-;
+-
+-60 
+-buf
+- *
+-bp
+-;
+-
+-62 
+-bp
+- = 0;
+-
+-63 
+-b
+- = 0; b < 
+-sb
+-.
+-size
+-; b +
+-BPB
+-){
+-
+-64 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`BBLOCK
+-(
+-b
+-, 
+-sb
+-));
+-
+-65 
+-bi
+- = 0; b< 
+-BPB
+- && 
+-b
+- + b< 
+-sb
+-.
+-size
+-; bi++){
+-
+-66 
+-m
+- = 1 << (
+-bi
+- % 8);
+-
+-67 if((
+-bp
+-->
+-da
+-[
+-bi
+-/8] & 
+-m
+-) == 0){
+-
+-68 
+-bp
+-->
+-da
+-[
+-bi
+-/8] |
+-m
+-;
+-
+-69 
+-	`log_wre
+-(
+-bp
+-);
+-
+-70 
+-	`bl
+-(
+-bp
+-);
+-
+-71 
+-	`bzo
+-(
+-dev
+-, 
+-b
+- + 
+-bi
+-);
+-
+-72  
+-b
+- + 
+-bi
+-;
+-
+-75 
+-	`bl
+-(
+-bp
+-);
+-
+-77 
+-	`nic
+-("balloc: out of blocks");
+-
+-78 
+-	}
+-}
+-
+-82 
+-	$b
+-(
+-dev
+-, 
+-ut
+- 
+-b
+-)
+-
+-84 
+-buf
+- *
+-bp
+-;
+-
+-85 
+-bi
+-, 
+-m
+-;
+-
+-87 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`BBLOCK
+-(
+-b
+-, 
+-sb
+-));
+-
+-88 
+-bi
+- = 
+-b
+- % 
+-BPB
+-;
+-
+-89 
+-m
+- = 1 << (
+-bi
+- % 8);
+-
+-90 if((
+-bp
+-->
+-da
+-[
+-bi
+-/8] & 
+-m
+-) == 0)
+-
+-91 
+-	`nic
+-("freeing free block");
+-
+-92 
+-bp
+-->
+-da
+-[
+-bi
+-/8] &~
+-m
+-;
+-
+-93 
+-	`log_wre
+-(
+-bp
+-);
+-
+-94 
+-	`bl
+-(
+-bp
+-);
+-
+-95 
+-	}
+-}
+-
+-167 
+-lock
+- 
+-	mlock
+-;
+-
+-168 
+-ode
+- 
+-	mode
+-[
+-NINODE
+-];
+-
+-169 } 
+-	giche
+-;
+-
+-172 
+-	$i
+-(
+-dev
+-)
+-
+-174 
+-i
+- = 0;
+-
+-176 
+-	`lock
+-(&
+-iche
+-.
+-lock
+-, "icache");
+-
+-177 
+-i
+- = 0; i < 
+-NINODE
+-; i++) {
+-
+-178 
+-	`ock
+-(&
+-iche
+-.
+-ode
+-[
+-i
+-].
+-lock
+-, "inode");
+-
+-181 
+-	`adsb
+-(
+-dev
+-, &
+-sb
+-);
+-
+-182 
+-	`rtf
+-("sb: siz%dblock%dode%dlog %dog%d\
+- %d bm s %d\n", 
+-sb
+-.
+-size
+-, sb.
+-nblocks
+-,
+-
+-184 
+-sb
+-.
+-nodes
+-, sb.
+-og
+-, sb.
+-logt
+-, sb.
+-odet
+-,
+-
+-185 
+-sb
+-.
+-bmt
+-);
+-
+-186 
+-	}
+-}
+-
+-188 
+-ode
+-* 
+-ig
+-(
+-ut
+- 
+-dev
+-, u
+-um
+-);
+-
+-194 
+-ode
+-*
+-
+-195 
+-	$oc
+-(
+-ut
+- 
+-dev
+-, 
+-ty
+-)
+-
+-197 
+-um
+-;
+-
+-198 
+-buf
+- *
+-bp
+-;
+-
+-199 
+-dode
+- *
+-d
+-;
+-
+-201 
+-um
+- = 1; inum < 
+-sb
+-.
+-nodes
+-; inum++){
+-
+-202 
+-bp
+- = 
+-	`bad
+-(
+-dev
+-, 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-));
+-
+-203 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-um
+-%
+-IPB
+-;
+-
+-204 if(
+-d
+-->
+-ty
+- == 0){
+-
+-205 
+-	`memt
+-(
+-d
+-, 0, (*dip));
+-
+-206 
+-d
+-->
+-ty
+- =ype;
+-
+-207 
+-	`log_wre
+-(
+-bp
+-);
+-
+-208 
+-	`bl
+-(
+-bp
+-);
+-
+-209  
+-	`ig
+-(
+-dev
+-, 
+-um
+-);
+-
+-211 
+-	`bl
+-(
+-bp
+-);
+-
+-213 
+-	`nic
+-("ialloc:o inodes");
+-
+-214 
+-	}
+-}
+-
+-221 
+-	$iupde
+-(
+-ode
+- *
+-
+-)
+-
+-223 
+-buf
+- *
+-bp
+-;
+-
+-224 
+-dode
+- *
+-d
+-;
+-
+-226 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`IBLOCK
+-(->
+-um
+-, 
+-sb
+-));
+-
+-227 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-
+-->
+-um
+-%
+-IPB
+-;
+-
+-228 
+-d
+-->
+-ty
+- = 
+-
+-->type;
+-
+-229 
+-d
+-->
+-maj
+- = 
+-
+-->major;
+-
+-230 
+-d
+-->
+-m
+- = 
+-
+-->minor;
+-
+-231 
+-d
+-->
+-k
+- = 
+-
+-->nlink;
+-
+-232 
+-d
+-->
+-size
+- = 
+-
+-->size;
+-
+-233 
+-	`memmove
+-(
+-d
+-->
+-addrs
+-, 
+-
+-->addrs, (ip->addrs));
+-
+-234 
+-	`log_wre
+-(
+-bp
+-);
+-
+-235 
+-	`bl
+-(
+-bp
+-);
+-
+-236 
+-	}
+-}
+-
+-241 
+-ode
+-*
+-
+-242 
+-	$ig
+-(
+-ut
+- 
+-dev
+-, u
+-um
+-)
+-
+-244 
+-ode
+- *
+-
+-, *
+-emy
+-;
+-
+-246 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-249 
+-emy
+- = 0;
+-
+-250 
+-
+- = &
+-iche
+-.
+-ode
+-[0]; i< &iche.ode[
+-NINODE
+-]; ip++){
+-
+-251 if(
+-
+-->
+-f
+- > 0 && ip->
+-dev
+- =dev && ip->
+-um
+- == inum){
+-
+-252 
+-
+-->
+-f
+-++;
+-
+-253 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-254  
+-
+-;
+-
+-256 if(
+-emy
+- =0 && 
+-
+-->
+-f
+- == 0)
+-
+-257 
+-emy
+- = 
+-
+-;
+-
+-261 if(
+-emy
+- == 0)
+-
+-262 
+-	`nic
+-("iget:o inodes");
+-
+-264 
+-
+- = 
+-emy
+-;
+-
+-265 
+-
+-->
+-dev
+- = dev;
+-
+-266 
+-
+-->
+-um
+- = inum;
+-
+-267 
+-
+-->
+-f
+- = 1;
+-
+-268 
+-
+-->
+-vid
+- = 0;
+-
+-269 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-271  
+-
+-;
+-
+-272 
+-	}
+-}
+-
+-276 
+-ode
+-*
+-
+-277 
+-	$idup
+-(
+-ode
+- *
+-
+-)
+-
+-279 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-280 
+-
+-->
+-f
+-++;
+-
+-281 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-282  
+-
+-;
+-
+-283 
+-	}
+-}
+-
+-288 
+-	$ock
+-(
+-ode
+- *
+-
+-)
+-
+-290 
+-buf
+- *
+-bp
+-;
+-
+-291 
+-dode
+- *
+-d
+-;
+-
+-293 if(
+-
+- =0 || ip->
+-f
+- < 1)
+-
+-294 
+-	`nic
+-("ilock");
+-
+-296 
+-	`acquep
+-(&
+-
+-->
+-lock
+-);
+-
+-298 if(
+-
+-->
+-vid
+- == 0){
+-
+-299 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`IBLOCK
+-(->
+-um
+-, 
+-sb
+-));
+-
+-300 
+-d
+- = (
+-dode
+-*)
+-bp
+-->
+-da
+- + 
+-
+-->
+-um
+-%
+-IPB
+-;
+-
+-301 
+-
+-->
+-ty
+- = 
+-d
+-->type;
+-
+-302 
+-
+-->
+-maj
+- = 
+-d
+-->major;
+-
+-303 
+-
+-->
+-m
+- = 
+-d
+-->minor;
+-
+-304 
+-
+-->
+-k
+- = 
+-d
+-->nlink;
+-
+-305 
+-
+-->
+-size
+- = 
+-d
+-->size;
+-
+-306 
+-	`memmove
+-(
+-
+-->
+-addrs
+-, 
+-d
+-->addrs, (ip->addrs));
+-
+-307 
+-	`bl
+-(
+-bp
+-);
+-
+-308 
+-
+-->
+-vid
+- = 1;
+-
+-309 if(
+-
+-->
+-ty
+- == 0)
+-
+-310 
+-	`nic
+-("ilock:oype");
+-
+-312 
+-	}
+-}
+-
+-316 
+-	$iuock
+-(
+-ode
+- *
+-
+-)
+-
+-318 if(
+-
+- =0 || !
+-	`hdgp
+-(&->
+-lock
+-|| ip->
+-f
+- < 1)
+-
+-319 
+-	`nic
+-("iunlock");
+-
+-321 
+-	`ap
+-(&
+-
+-->
+-lock
+-);
+-
+-322 
+-	}
+-}
+-
+-332 
+-	$ut
+-(
+-ode
+- *
+-
+-)
+-
+-334 
+-	`acquep
+-(&
+-
+-->
+-lock
+-);
+-
+-335 if(
+-
+-->
+-vid
+- && ip->
+-k
+- == 0){
+-
+-336 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-337 
+-r
+- = 
+-
+-->
+-f
+-;
+-
+-338 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-339 if(
+-r
+- == 1){
+-
+-341 
+-	`runc
+-(
+-
+-);
+-
+-342 
+-
+-->
+-ty
+- = 0;
+-
+-343 
+-	`iupde
+-(
+-
+-);
+-
+-344 
+-
+-->
+-vid
+- = 0;
+-
+-347 
+-	`ap
+-(&
+-
+-->
+-lock
+-);
+-
+-349 
+-	`acque
+-(&
+-iche
+-.
+-lock
+-);
+-
+-350 
+-
+-->
+-f
+---;
+-
+-351 
+-	`a
+-(&
+-iche
+-.
+-lock
+-);
+-
+-352 
+-	}
+-}
+-
+-356 
+-	$iuockput
+-(
+-ode
+- *
+-
+-)
+-
+-358 
+-	`iuock
+-(
+-
+-);
+-
+-359 
+-	`ut
+-(
+-
+-);
+-
+-360 
+-	}
+-}
+-
+-372 
+-ut
+-
+-
+-373 
+-	$bm
+-(
+-ode
+- *
+-
+-, 
+-ut
+- 
+-bn
+-)
+-
+-375 
+-ut
+- 
+-addr
+-, *
+-a
+-;
+-
+-376 
+-buf
+- *
+-bp
+-;
+-
+-378 if(
+-bn
+- < 
+-NDIRECT
+-){
+-
+-379 if((
+-addr
+- = 
+-
+-->
+-addrs
+-[
+-bn
+-]) == 0)
+-
+-380 
+-
+-->
+-addrs
+-[
+-bn
+-] = 
+-addr
+- = 
+-	`bloc
+-(->
+-dev
+-);
+-
+-381  
+-addr
+-;
+-
+-383 
+-bn
+- -
+-NDIRECT
+-;
+-
+-385 if(
+-bn
+- < 
+-NINDIRECT
+-){
+-
+-387 if((
+-addr
+- = 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-]) == 0)
+-
+-388 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-] = 
+-addr
+- = 
+-	`bloc
+-(->
+-dev
+-);
+-
+-389 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-addr
+-);
+-
+-390 
+-a
+- = (
+-ut
+-*)
+-bp
+-->
+-da
+-;
+-
+-391 if((
+-addr
+- = 
+-a
+-[
+-bn
+-]) == 0){
+-
+-392 
+-a
+-[
+-bn
+-] = 
+-addr
+- = 
+-	`bloc
+-(
+-
+-->
+-dev
+-);
+-
+-393 
+-	`log_wre
+-(
+-bp
+-);
+-
+-395 
+-	`bl
+-(
+-bp
+-);
+-
+-396  
+-addr
+-;
+-
+-399 
+-	`nic
+-("bmap: out ofange");
+-
+-400 
+-	}
+-}
+-
+-408 
+-	$runc
+-(
+-ode
+- *
+-
+-)
+-
+-410 
+-i
+-, 
+-j
+-;
+-
+-411 
+-buf
+- *
+-bp
+-;
+-
+-412 
+-ut
+- *
+-a
+-;
+-
+-414 
+-i
+- = 0; i < 
+-NDIRECT
+-; i++){
+-
+-415 if(
+-
+-->
+-addrs
+-[
+-i
+-]){
+-
+-416 
+-	`b
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-i
+-]);
+-
+-417 
+-
+-->
+-addrs
+-[
+-i
+-] = 0;
+-
+-421 if(
+-
+-->
+-addrs
+-[
+-NDIRECT
+-]){
+-
+-422 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-NDIRECT
+-]);
+-
+-423 
+-a
+- = (
+-ut
+-*)
+-bp
+-->
+-da
+-;
+-
+-424 
+-j
+- = 0; j < 
+-NINDIRECT
+-; j++){
+-
+-425 if(
+-a
+-[
+-j
+-])
+-
+-426 
+-	`b
+-(
+-
+-->
+-dev
+-, 
+-a
+-[
+-j
+-]);
+-
+-428 
+-	`bl
+-(
+-bp
+-);
+-
+-429 
+-	`b
+-(
+-
+-->
+-dev
+-, ip->
+-addrs
+-[
+-NDIRECT
+-]);
+-
+-430 
+-
+-->
+-addrs
+-[
+-NDIRECT
+-] = 0;
+-
+-433 
+-
+-->
+-size
+- = 0;
+-
+-434 
+-	`iupde
+-(
+-
+-);
+-
+-435 
+-	}
+-}
+-
+-440 
+-	$i
+-(
+-ode
+- *
+-
+-, 
+-
+- *
+-
+-)
+-
+-442 
+-
+-->
+-dev
+- = 
+-
+-->dev;
+-
+-443 
+-
+-->
+-o
+- = 
+-
+-->
+-um
+-;
+-
+-444 
+-
+-->
+-ty
+- = 
+-
+-->type;
+-
+-445 
+-
+-->
+-k
+- = 
+-
+-->nlink;
+-
+-446 
+-
+-->
+-size
+- = 
+-
+-->size;
+-
+-447 
+-	}
+-}
+-
+-453 
+-	$adi
+-(
+-ode
+- *
+-
+-, *
+-d
+-, 
+-ut
+- 
+-off
+-, u
+-n
+-)
+-
+-455 
+-ut
+- 
+-t
+-, 
+-m
+-;
+-
+-456 
+-buf
+- *
+-bp
+-;
+-
+-458 if(
+-
+-->
+-ty
+- =
+-T_DEV
+-){
+-
+-459 if(
+-
+-->
+-maj
+- < 0 || ip->maj >
+-NDEV
+- || !
+-devsw
+-[->maj].
+-ad
+-)
+-
+-461  
+-devsw
+-[
+-
+-->
+-maj
+-].
+-	`ad
+-(, 
+-d
+-, 
+-n
+-);
+-
+-464 if(
+-off
+- > 
+-
+-->
+-size
+- || of+ 
+-n
+- < off)
+-
+-466 if(
+-off
+- + 
+-n
+- > 
+-
+-->
+-size
+-)
+-
+-467 
+-n
+- = 
+-
+-->
+-size
+- - 
+-off
+-;
+-
+-469 
+-t
+-=0;<
+-n
+-;+=
+-m
+-, 
+-off
+-+=m, 
+-d
+-+=m){
+-
+-470 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`bm
+-(, 
+-off
+-/
+-BSIZE
+-));
+-
+-471 
+-m
+- = 
+-	`m
+-(
+-n
+- - 
+-t
+-, 
+-BSIZE
+- - 
+-off
+-%BSIZE);
+-
+-472 
+-	`memmove
+-(
+-d
+-, 
+-bp
+-->
+-da
+- + 
+-off
+-%
+-BSIZE
+-, 
+-m
+-);
+-
+-473 
+-	`bl
+-(
+-bp
+-);
+-
+-475  
+-n
+-;
+-
+-476 
+-	}
+-}
+-
+-482 
+-	$wrei
+-(
+-ode
+- *
+-
+-, *
+-c
+-, 
+-ut
+- 
+-off
+-, u
+-n
+-)
+-
+-484 
+-ut
+- 
+-t
+-, 
+-m
+-;
+-
+-485 
+-buf
+- *
+-bp
+-;
+-
+-487 if(
+-
+-->
+-ty
+- =
+-T_DEV
+-){
+-
+-488 if(
+-
+-->
+-maj
+- < 0 || ip->maj >
+-NDEV
+- || !
+-devsw
+-[->maj].
+-wre
+-)
+-
+-490  
+-devsw
+-[
+-
+-->
+-maj
+-].
+-	`wre
+-(, 
+-c
+-, 
+-n
+-);
+-
+-493 if(
+-off
+- > 
+-
+-->
+-size
+- || of+ 
+-n
+- < off)
+-
+-495 if(
+-off
+- + 
+-n
+- > 
+-MAXFILE
+-*
+-BSIZE
+-)
+-
+-498 
+-t
+-=0;<
+-n
+-;+=
+-m
+-, 
+-off
+-+=m, 
+-c
+-+=m){
+-
+-499 
+-bp
+- = 
+-	`bad
+-(
+-
+-->
+-dev
+-, 
+-	`bm
+-(, 
+-off
+-/
+-BSIZE
+-));
+-
+-500 
+-m
+- = 
+-	`m
+-(
+-n
+- - 
+-t
+-, 
+-BSIZE
+- - 
+-off
+-%BSIZE);
+-
+-501 
+-	`memmove
+-(
+-bp
+-->
+-da
+- + 
+-off
+-%
+-BSIZE
+-, 
+-c
+-, 
+-m
+-);
+-
+-502 
+-	`log_wre
+-(
+-bp
+-);
+-
+-503 
+-	`bl
+-(
+-bp
+-);
+-
+-506 if(
+-n
+- > 0 && 
+-off
+- > 
+-
+-->
+-size
+-){
+-
+-507 
+-
+-->
+-size
+- = 
+-off
+-;
+-
+-508 
+-	`iupde
+-(
+-
+-);
+-
+-510  
+-n
+-;
+-
+-511 
+-	}
+-}
+-
+-517 
+-	$mecmp
+-(c *
+-s
+-, c *
+-t
+-)
+-
+-519  
+-	`cmp
+-(
+-s
+-, 
+-t
+-, 
+-DIRSIZ
+-);
+-
+-520 
+-	}
+-}
+-
+-524 
+-ode
+-*
+-
+-525 
+-	$dlookup
+-(
+-ode
+- *
+-dp
+-, *
+-me
+-, 
+-ut
+- *
+-poff
+-)
+-
+-527 
+-ut
+- 
+-off
+-, 
+-um
+-;
+-
+-528 
+-dt
+- 
+-de
+-;
+-
+-530 if(
+-dp
+-->
+-ty
+- !
+-T_DIR
+-)
+-
+-531 
+-	`nic
+-("dirlookupot DIR");
+-
+-533 
+-off
+- = 0; of< 
+-dp
+-->
+-size
+-; of+(
+-de
+-)){
+-
+-534 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-535 
+-	`nic
+-("dirlookupead");
+-
+-536 if(
+-de
+-.
+-um
+- == 0)
+-
+-538 if(
+-	`mecmp
+-(
+-me
+-, 
+-de
+-.name) == 0){
+-
+-540 if(
+-poff
+-)
+-
+-541 *
+-poff
+- = 
+-off
+-;
+-
+-542 
+-um
+- = 
+-de
+-.inum;
+-
+-543  
+-	`ig
+-(
+-dp
+-->
+-dev
+-, 
+-um
+-);
+-
+-548 
+-	}
+-}
+-
+-552 
+-	$dlk
+-(
+-ode
+- *
+-dp
+-, *
+-me
+-, 
+-ut
+- 
+-um
+-)
+-
+-554 
+-off
+-;
+-
+-555 
+-dt
+- 
+-de
+-;
+-
+-556 
+-ode
+- *
+-
+-;
+-
+-559 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, 0)) != 0){
+-
+-560 
+-	`ut
+-(
+-
+-);
+-
+-565 
+-off
+- = 0; of< 
+-dp
+-->
+-size
+-; of+(
+-de
+-)){
+-
+-566 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-567 
+-	`nic
+-("dirlinkead");
+-
+-568 if(
+-de
+-.
+-um
+- == 0)
+-
+-572 
+-	`y
+-(
+-de
+-.
+-me
+-,ame, 
+-DIRSIZ
+-);
+-
+-573 
+-de
+-.
+-um
+- = inum;
+-
+-574 if(
+-	`wrei
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-575 
+-	`nic
+-("dirlink");
+-
+-578 
+-	}
+-}
+-
+-596 
+-	$skem
+-(*
+-th
+-, *
+-me
+-)
+-
+-598 *
+-s
+-;
+-
+-599 
+-n
+-;
+-
+-601 *
+-th
+- == '/')
+-
+-602 
+-th
+-++;
+-
+-603 if(*
+-th
+- == 0)
+-
+-605 
+-s
+- = 
+-th
+-;
+-
+-606 *
+-th
+- != '/' && *path != 0)
+-
+-607 
+-th
+-++;
+-
+-608 
+-n
+- = 
+-th
+- - 
+-s
+-;
+-
+-609 if(
+-n
+- >
+-DIRSIZ
+-)
+-
+-610 
+-	`memmove
+-(
+-me
+-, 
+-s
+-, 
+-DIRSIZ
+-);
+-
+-612 
+-	`memmove
+-(
+-me
+-, 
+-s
+-, 
+-n
+-);
+-
+-613 
+-me
+-[
+-n
+-] = 0;
+-
+-615 *
+-th
+- == '/')
+-
+-616 
+-th
+-++;
+-
+-617  
+-th
+-;
+-
+-618 
+-	}
+-}
+-
+-624 
+-ode
+-*
+-
+-625 
+-	$mex
+-(*
+-th
+-, 
+-met
+-, *
+-me
+-)
+-
+-627 
+-ode
+- *
+-
+-, *
+-xt
+-;
+-
+-629 if(*
+-th
+- == '/')
+-
+-630 
+-
+- = 
+-	`ig
+-(
+-ROOTDEV
+-, 
+-ROOTINO
+-);
+-
+-632 
+-
+- = 
+-	`idup
+-(
+-	`myoc
+-()->
+-cwd
+-);
+-
+-634 (
+-th
+- = 
+-	`skem
+-h, 
+-me
+-)) != 0){
+-
+-635 
+-	`ock
+-(
+-
+-);
+-
+-636 if(
+-
+-->
+-ty
+- !
+-T_DIR
+-){
+-
+-637 
+-	`iuockput
+-(
+-
+-);
+-
+-640 if(
+-met
+- && *
+-th
+- == '\0'){
+-
+-642 
+-	`iuock
+-(
+-
+-);
+-
+-643  
+-
+-;
+-
+-645 if((
+-xt
+- = 
+-	`dlookup
+-(
+-
+-, 
+-me
+-, 0)) == 0){
+-
+-646 
+-	`iuockput
+-(
+-
+-);
+-
+-649 
+-	`iuockput
+-(
+-
+-);
+-
+-650 
+-
+- = 
+-xt
+-;
+-
+-652 if(
+-met
+-){
+-
+-653 
+-	`ut
+-(
+-
+-);
+-
+-656  
+-
+-;
+-
+-657 
+-	}
+-}
+-
+-659 
+-ode
+-*
+-
+-660 
+-	$mei
+-(*
+-th
+-)
+-
+-662 
+-me
+-[
+-DIRSIZ
+-];
+-
+-663  
+-	`mex
+-(
+-th
+-, 0, 
+-me
+-);
+-
+-664 
+-	}
+-}
+-
+-666 
+-ode
+-*
+-
+-667 
+-	$met
+-(*
+-th
+-, *
+-me
+-)
+-
+-669  
+-	`mex
+-(
+-th
+-, 1, 
+-me
+-);
+-
+-670 
+-	}
+-}
+-
+-	@fs.h
+-
+-5 
+-	#ROOTINO
+- 1
+-
+-6 
+-	#BSIZE
+- 512
+-
+-7 
+-
+-	)
+-
+-14 
+-	ssurblock
+- {
+-
+-15 
+-ut
+- 
+-	msize
+-;
+-
+-16 
+-ut
+- 
+-	mnblocks
+-;
+-
+-17 
+-ut
+- 
+-	mnodes
+-;
+-
+-18 
+-ut
+- 
+-	mog
+-;
+-
+-19 
+-ut
+- 
+-	mlogt
+-;
+-
+-20 
+-ut
+- 
+-	modet
+-;
+-
+-21 
+-ut
+- 
+-	mbmt
+-;
+-
+-24 
+-	#NDIRECT
+- 12
+-
+-	)
+-
+-25 
+-	#NINDIRECT
+- (
+-BSIZE
+- / (
+-ut
+-))
+-
+-	)
+-
+-26 
+-	#MAXFILE
+- (
+-NDIRECT
+- + 
+-NINDIRECT
+-)
+-
+-	)
+-
+-29 
+-	sdode
+- {
+-
+-30 
+-	mty
+-;
+-
+-31 
+-	mmaj
+-;
+-
+-32 
+-	mm
+-;
+-
+-33 
+-	mk
+-;
+-
+-34 
+-ut
+- 
+-	msize
+-;
+-
+-35 
+-ut
+- 
+-	maddrs
+-[
+-NDIRECT
+-+1];
+-
+-39 
+-	#IPB
+- (
+-BSIZE
+- / (
+-dode
+-))
+-
+-	)
+-
+-42 
+-	#IBLOCK
+-(
+-i
+-, 
+-sb
+-((i/ 
+-IPB
+- + sb.
+-odet
+-)
+-
+-	)
+-
+-45 
+-	#BPB
+- (
+-BSIZE
+-*8)
+-
+-	)
+-
+-48 
+-	#BBLOCK
+-(
+-b
+-, 
+-sb
+-(b/
+-BPB
+- + sb.
+-bmt
+-)
+-
+-	)
+-
+-51 
+-	#DIRSIZ
+- 14
+-
+-	)
+-
+-53 
+-	sdt
+- {
+-
+-54 
+-usht
+- 
+-	mum
+-;
+-
+-55 
+-	mme
+-[
+-DIRSIZ
+-];
+-
+-	@grep.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~".h
+-"
+-
+-5 
+-	~"ur.h
+-"
+-
+-7 
+-	gbuf
+-[1024];
+-
+-8 
+-mch
+-(*, *);
+-
+-11 
+-	$gp
+-(*
+-n
+-, 
+-fd
+-)
+-
+-13 
+-n
+-, 
+-m
+-;
+-
+-14 *
+-p
+-, *
+-q
+-;
+-
+-16 
+-m
+- = 0;
+-
+-17 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-+
+-m
+-, (buf)-m-1)) > 0){
+-
+-18 
+-m
+- +
+-n
+-;
+-
+-19 
+-buf
+-[
+-m
+-] = '\0';
+-
+-20 
+-p
+- = 
+-buf
+-;
+-
+-21 (
+-q
+- = 
+-	`rchr
+-(
+-p
+-, '\n')) != 0){
+-
+-22 *
+-q
+- = 0;
+-
+-23 if(
+-	`mch
+-(
+-n
+-, 
+-p
+-)){
+-
+-24 *
+-q
+- = '\n';
+-
+-25 
+-	`wre
+-(1, 
+-p
+-, 
+-q
+-+1 -);
+-
+-27 
+-p
+- = 
+-q
+-+1;
+-
+-29 if(
+-p
+- =
+-buf
+-)
+-
+-30 
+-m
+- = 0;
+-
+-31 if(
+-m
+- > 0){
+-
+-32 
+-m
+- -
+-p
+- - 
+-buf
+-;
+-
+-33 
+-	`memmove
+-(
+-buf
+-, 
+-p
+-, 
+-m
+-);
+-
+-36 
+-	}
+-}
+-
+-39 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-41 
+-fd
+-, 
+-i
+-;
+-
+-42 *
+-n
+-;
+-
+-44 if(
+-gc
+- <= 1){
+-
+-45 
+-	`tf
+-(2, "usage: grepattern [file ...]\n");
+-
+-46 
+-	`ex
+-();
+-
+-48 
+-n
+- = 
+-gv
+-[1];
+-
+-50 if(
+-gc
+- <= 2){
+-
+-51 
+-	`gp
+-(
+-n
+-, 0);
+-
+-52 
+-	`ex
+-();
+-
+-55 
+-i
+- = 2; i < 
+-gc
+-; i++){
+-
+-56 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-57 
+-	`tf
+-(1, "gp: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-58 
+-	`ex
+-();
+-
+-60 
+-	`gp
+-(
+-n
+-, 
+-fd
+-);
+-
+-61 
+-	`o
+-(
+-fd
+-);
+-
+-63 
+-	`ex
+-();
+-
+-64 
+-	}
+-}
+-
+-69 
+-mchhe
+-(*, *);
+-
+-70 
+-mch
+-(, *, *);
+-
+-73 
+-	$mch
+-(*
+-
+-, *
+-xt
+-)
+-
+-75 if(
+-
+-[0] == '^')
+-
+-76  
+-	`mchhe
+-(
+-
+-+1, 
+-xt
+-);
+-
+-78 if(
+-	`mchhe
+-(
+-
+-, 
+-xt
+-))
+-
+-80 }*
+-xt
+-++ != '\0');
+-
+-82 
+-	}
+-}
+-
+-85 
+-	$mchhe
+-(*
+-
+-, *
+-xt
+-)
+-
+-87 if(
+-
+-[0] == '\0')
+-
+-89 if(
+-
+-[1] == '*')
+-
+-90  
+-	`mch
+-(
+-
+-[0],e+2, 
+-xt
+-);
+-
+-91 if(
+-
+-[0] == '$' &&e[1] == '\0')
+-
+-92  *
+-xt
+- == '\0';
+-
+-93 if(*
+-xt
+-!='\0' && (
+-
+-[0]=='.' ||e[0]==*text))
+-
+-94  
+-	`mchhe
+-(
+-
+-+1, 
+-xt
+-+1);
+-
+-96 
+-	}
+-}
+-
+-99 
+-	$mch
+-(
+-c
+-, *
+-
+-, *
+-xt
+-)
+-
+-102 if(
+-	`mchhe
+-(
+-
+-, 
+-xt
+-))
+-
+-104 }*
+-xt
+-!='\0' && (*xt++==
+-c
+- || c=='.'));
+-
+-106 
+-	}
+-}
+-
+-	@ide.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"memyout.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-9 
+-	~"x86.h
+-"
+-
+-10 
+-	~"s.h
+-"
+-
+-11 
+-	~"lock.h
+-"
+-
+-12 
+-	~"ock.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"buf.h
+-"
+-
+-16 
+-	#SECTOR_SIZE
+- 512
+-
+-	)
+-
+-17 
+-	#IDE_BSY
+- 0x80
+-
+-	)
+-
+-18 
+-	#IDE_DRDY
+- 0x40
+-
+-	)
+-
+-19 
+-	#IDE_DF
+- 0x20
+-
+-	)
+-
+-20 
+-	#IDE_ERR
+- 0x01
+-
+-	)
+-
+-22 
+-	#IDE_CMD_READ
+- 0x20
+-
+-	)
+-
+-23 
+-	#IDE_CMD_WRITE
+- 0x30
+-
+-	)
+-
+-24 
+-	#IDE_CMD_RDMUL
+- 0xc4
+-
+-	)
+-
+-25 
+-	#IDE_CMD_WRMUL
+- 0xc5
+-
+-	)
+-
+-31 
+-lock
+- 
+-	gidock
+-;
+-
+-32 
+-buf
+- *
+-	gidequeue
+-;
+-
+-34 
+-	ghavedisk1
+-;
+-
+-35 
+-idet
+-(
+-buf
+-*);
+-
+-39 
+-	$idewa
+-(
+-checkr
+-)
+-
+-41 
+-r
+-;
+-
+-43 ((
+-r
+- = 
+-	`b
+-(0x1f7)& (
+-IDE_BSY
+-|
+-IDE_DRDY
+-)) != IDE_DRDY)
+-
+-45 if(
+-checkr
+- && (
+-r
+- & (
+-IDE_DF
+-|
+-IDE_ERR
+-)) != 0)
+-
+-48 
+-	}
+-}
+-
+-51 
+-	$ide
+-()
+-
+-53 
+-i
+-;
+-
+-55 
+-	`lock
+-(&
+-idock
+-, "ide");
+-
+-56 
+-	`ipib
+-(
+-IRQ_IDE
+-, 
+-nu
+- - 1);
+-
+-57 
+-	`idewa
+-(0);
+-
+-60 
+-	`outb
+-(0x1f6, 0xe0 | (1<<4));
+-
+-61 
+-i
+-=0; i<1000; i++){
+-
+-62 if(
+-	`b
+-(0x1f7) != 0){
+-
+-63 
+-havedisk1
+- = 1;
+-
+-69 
+-	`outb
+-(0x1f6, 0xe0 | (0<<4));
+-
+-70 
+-	}
+-}
+-
+-74 
+-	$idet
+-(
+-buf
+- *
+-b
+-)
+-
+-76 if(
+-b
+- == 0)
+-
+-77 
+-	`nic
+-("idestart");
+-
+-78 if(
+-b
+-->
+-blockno
+- >
+-FSSIZE
+-)
+-
+-79 
+-	`nic
+-("incorrect blockno");
+-
+-80 
+-_r_block
+- = 
+-BSIZE
+-/
+-SECTOR_SIZE
+-;
+-
+-81 
+-
+- = 
+-b
+-->
+-blockno
+- * 
+-_r_block
+-;
+-
+-82 
+-ad_cmd
+- = (
+-_r_block
+- =1? 
+-IDE_CMD_READ
+- : 
+-IDE_CMD_RDMUL
+-;
+-
+-83 
+-wre_cmd
+- = (
+-_r_block
+- =1? 
+-IDE_CMD_WRITE
+- : 
+-IDE_CMD_WRMUL
+-;
+-
+-85 i(
+-_r_block
+- > 7
+-	`nic
+-("idestart");
+-
+-87 
+-	`idewa
+-(0);
+-
+-88 
+-	`outb
+-(0x3f6, 0);
+-
+-89 
+-	`outb
+-(0x1f2, 
+-_r_block
+-);
+-
+-90 
+-	`outb
+-(0x1f3, 
+-
+- & 0xff);
+-
+-91 
+-	`outb
+-(0x1f4, (
+-
+- >> 8) & 0xff);
+-
+-92 
+-	`outb
+-(0x1f5, (
+-
+- >> 16) & 0xff);
+-
+-93 
+-	`outb
+-(0x1f6, 0xe0 | ((
+-b
+-->
+-dev
+-&1)<<4| ((
+-
+->>24)&0x0f));
+-
+-94 if(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-){
+-
+-95 
+-	`outb
+-(0x1f7, 
+-wre_cmd
+-);
+-
+-96 
+-	`out
+-(0x1f0, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-/4);
+-
+-98 
+-	`outb
+-(0x1f7, 
+-ad_cmd
+-);
+-
+-100 
+-	}
+-}
+-
+-104 
+-	$ide
+-()
+-
+-106 
+-buf
+- *
+-b
+-;
+-
+-109 
+-	`acque
+-(&
+-idock
+-);
+-
+-111 if((
+-b
+- = 
+-idequeue
+-) == 0){
+-
+-112 
+-	`a
+-(&
+-idock
+-);
+-
+-115 
+-idequeue
+- = 
+-b
+-->
+-qxt
+-;
+-
+-118 if(!(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-&& 
+-	`idewa
+-(1) >= 0)
+-
+-119 
+-	`
+-(0x1f0, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-/4);
+-
+-122 
+-b
+-->
+-ags
+- |
+-B_VALID
+-;
+-
+-123 
+-b
+-->
+-ags
+- &~
+-B_DIRTY
+-;
+-
+-124 
+-	`wakeup
+-(
+-b
+-);
+-
+-127 if(
+-idequeue
+- != 0)
+-
+-128 
+-	`idet
+-(
+-idequeue
+-);
+-
+-130 
+-	`a
+-(&
+-idock
+-);
+-
+-131 
+-	}
+-}
+-
+-138 
+-	$idw
+-(
+-buf
+- *
+-b
+-)
+-
+-140 
+-buf
+- **
+-
+-;
+-
+-142 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-143 
+-	`nic
+-("iderw: bufotocked");
+-
+-144 if((
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) == B_VALID)
+-
+-145 
+-	`nic
+-("iderw:othingo do");
+-
+-146 if(
+-b
+-->
+-dev
+- !0 && !
+-havedisk1
+-)
+-
+-147 
+-	`nic
+-("iderw: ide disk 1otresent");
+-
+-149 
+-	`acque
+-(&
+-idock
+-);
+-
+-152 
+-b
+-->
+-qxt
+- = 0;
+-
+-153 
+-
+-=&
+-idequeue
+-; *;p=&(*)->
+-qxt
+-)
+-
+-155 *
+-
+- = 
+-b
+-;
+-
+-158 if(
+-idequeue
+- =
+-b
+-)
+-
+-159 
+-	`idet
+-(
+-b
+-);
+-
+-162 (
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) != B_VALID){
+-
+-163 
+-	`p
+-(
+-b
+-, &
+-idock
+-);
+-
+-167 
+-	`a
+-(&
+-idock
+-);
+-
+-168 
+-	}
+-}
+-
+-	@init.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~".h
+-"
+-
+-5 
+-	~"ur.h
+-"
+-
+-6 
+-	~"f.h
+-"
+-
+-8 *
+-	ggv
+-[] = { "sh", 0 };
+-
+-11 
+-	$ma
+-()
+-
+-13 
+-pid
+-, 
+-wpid
+-;
+-
+-15 if(
+-	`
+-("cse", 
+-O_RDWR
+-) < 0){
+-
+-16 
+-	`mknod
+-("console", 1, 1);
+-
+-17 
+-	`
+-("cse", 
+-O_RDWR
+-);
+-
+-19 
+-	`dup
+-(0);
+-
+-20 
+-	`dup
+-(0);
+-
+-23 
+-	`tf
+-(1, "init: starting sh\n");
+-
+-24 
+-pid
+- = 
+-	`fk
+-();
+-
+-25 if(
+-pid
+- < 0){
+-
+-26 
+-	`tf
+-(1, "init: fork failed\n");
+-
+-27 
+-	`ex
+-();
+-
+-29 if(
+-pid
+- == 0){
+-
+-30 
+-	`exec
+-("sh", 
+-gv
+-);
+-
+-31 
+-	`tf
+-(1, "init:xec sh failed\n");
+-
+-32 
+-	`ex
+-();
+-
+-34 (
+-wpid
+-=
+-	`wa
+-()>0 && wpid !
+-pid
+-)
+-
+-35 
+-	`tf
+-(1, "zombie!\n");
+-
+-37 
+-	}
+-}
+-
+-	@initcode.S
+-
+-1 #In
+-oss
+- 
+-execs
+- /
+-
+-.
+-
+-2 #Thi
+-code
+- 
+-runs
+- 
+-
+- 
+-ur
+- 
+-a
+-.
+-
+-4 
+-	~"sys.h
+-"
+-
+-5 
+-	~"s.h
+-"
+-
+-8 #exec(
+-
+-, 
+-gv
+-)
+-
+-9 .
+-globl
+- 
+-t
+-
+-
+-10 
+-	gt
+-:
+-
+-11 
+-pushl
+- 
+-$gv
+-
+-
+-12 
+-pushl
+- 
+-$
+-
+-
+-13 
+-pushl
+- 
+-$0
+-
+-
+-14 
+-movl
+- 
+-$SYS_exec
+-, %
+-x
+-
+-
+-15 
+-	g$T_SYSCALL
+-
+-
+-17 #f(;;
+-ex
+-();
+-
+-18 
+-	gex
+-:
+-
+-19 
+-movl
+- 
+-$SYS_ex
+-, %
+-x
+-
+-
+-20 
+-$T_SYSCALL
+-
+-
+-21 
+-jmp
+- 
+-	gex
+-
+-
+-23 #ch 
+-
+-[] = "/init\0";
+-
+-24 
+-	g
+-:
+-
+-25 .
+-rg
+- "/init\0"
+-
+-27 #ch *
+-gv
+-[] = { 
+-
+-, 0 };
+-
+-28 .
+-	gp2ign
+- 2
+-
+-29 
+-	ggv
+-:
+-
+-30 .
+-
+-
+-
+-	@ioapic.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"s.h
+-"
+-
+-9 
+-	#IOAPIC
+- 0xFEC00000
+-
+-10 
+-
+-	)
+-
+-11 
+-	#REG_ID
+- 0x00
+-
+-12 
+-	#REG_VER
+- 0x01
+-
+-13 
+-	#REG_TABLE
+- 0x10
+-
+-14 
+-
+-	)
+-
+-20 
+-	#INT_DISABLED
+- 0x00010000
+-
+-21 
+-	#INT_LEVEL
+- 0x00008000
+-
+-22 
+-	#INT_ACTIVELOW
+- 0x00002000
+-
+-23 
+-	#INT_LOGICAL
+- 0x00000800
+-
+-24 
+-
+-	)
+-
+-25 v
+-ipic
+- *
+-	gipic
+-;
+-
+-28 
+-	sipic
+- {
+-
+-29 
+-ut
+- 
+-	mg
+-;
+-
+-30 
+-ut
+- 
+-	md
+-[3];
+-
+-31 
+-ut
+- 
+-	mda
+-;
+-
+-34 
+-ut
+-
+-
+-35 
+-	$ipid
+-(
+-g
+-)
+-
+-37 
+-ipic
+-->
+-g
+- =eg;
+-
+-38  
+-ipic
+-->
+-da
+-;
+-
+-39 
+-	}
+-}
+-
+-42 
+-	$ipicwre
+-(
+-g
+-, 
+-ut
+- 
+-da
+-)
+-
+-44 
+-ipic
+-->
+-g
+- =eg;
+-
+-45 
+-ipic
+-->
+-da
+- = data;
+-
+-46 
+-	}
+-}
+-
+-49 
+-	$ipic
+-()
+-
+-51 
+-i
+-, 
+-id
+-, 
+-max
+-;
+-
+-53 
+-ipic
+- = (vipic*)
+-IOAPIC
+-;
+-
+-54 
+-max
+- = (
+-	`ipid
+-(
+-REG_VER
+-) >> 16) & 0xFF;
+-
+-55 
+-id
+- = 
+-	`ipid
+-(
+-REG_ID
+-) >> 24;
+-
+-56 if(
+-id
+- !
+-ipicid
+-)
+-
+-57 
+-	`rtf
+-("ioapicinit: id isn'tqualo ioapicid;ot MP\n");
+-
+-61 
+-i
+- = 0; i <
+-max
+-; i++){
+-
+-62 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-i
+-, 
+-INT_DISABLED
+- | (
+-T_IRQ0
+- + i));
+-
+-63 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-i
+-+1, 0);
+-
+-65 
+-	}
+-}
+-
+-68 
+-	$ipib
+-(
+-q
+-, 
+-unum
+-)
+-
+-73 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-q
+-, 
+-T_IRQ0
+- + irq);
+-
+-74 
+-	`ipicwre
+-(
+-REG_TABLE
+-+2*
+-q
+-+1, 
+-unum
+- << 24);
+-
+-75 
+-	}
+-}
+-
+-	@kalloc.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"mmu.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-12 
+-nge
+-(*
+-vt
+-, *
+-vd
+-);
+-
+-13 

+-d
+-[];
+-
+-16 
+-	srun
+- {
+-
+-17 
+-run
+- *
+-	mxt
+-;
+-
+-21 
+-lock
+- 
+-	mlock
+-;
+-
+-22 
+-	mu_lock
+-;
+-
+-23 
+-run
+- *
+-	mli
+-;
+-
+-24 } 
+-	gkmem
+-;
+-
+-32 
+-	$k1
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-34 
+-	`lock
+-(&
+-kmem
+-.
+-lock
+-, "kmem");
+-
+-35 
+-kmem
+-.
+-u_lock
+- = 0;
+-
+-36 
+-	`nge
+-(
+-vt
+-, 
+-vd
+-);
+-
+-37 
+-	}
+-}
+-
+-40 
+-	$k2
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-42 
+-	`nge
+-(
+-vt
+-, 
+-vd
+-);
+-
+-43 
+-kmem
+-.
+-u_lock
+- = 1;
+-
+-44 
+-	}
+-}
+-
+-47 
+-	$nge
+-(*
+-vt
+-, *
+-vd
+-)
+-
+-49 *
+-p
+-;
+-
+-50 
+-p
+- = (*)
+-	`PGROUNDUP
+-((
+-ut
+-)
+-vt
+-);
+-
+-51 ; 
+-p
+- + 
+-PGSIZE
+- <(*)
+-vd
+-; += PGSIZE)
+-
+-52 
+-	`k
+-(
+-p
+-);
+-
+-53 
+-	}
+-}
+-
+-60 
+-	$k
+-(*
+-v
+-)
+-
+-62 
+-run
+- *
+-r
+-;
+-
+-64 if((
+-ut
+-)
+-v
+- % 
+-PGSIZE
+- || v < 
+-d
+- || 
+-	`V2P
+-(v>
+-PHYSTOP
+-)
+-
+-65 
+-	`nic
+-("kfree");
+-
+-68 
+-	`memt
+-(
+-v
+-, 1, 
+-PGSIZE
+-);
+-
+-70 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-71 
+-	`acque
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-72 
+-r
+- = (
+-run
+-*)
+-v
+-;
+-
+-73 
+-r
+-->
+-xt
+- = 
+-kmem
+-.
+-li
+-;
+-
+-74 
+-kmem
+-.
+-li
+- = 
+-r
+-;
+-
+-75 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-76 
+-	`a
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-77 
+-	}
+-}
+-
+-83 
+-	$kloc
+-()
+-
+-85 
+-run
+- *
+-r
+-;
+-
+-87 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-88 
+-	`acque
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-89 
+-r
+- = 
+-kmem
+-.
+-li
+-;
+-
+-90 if(
+-r
+-)
+-
+-91 
+-kmem
+-.
+-li
+- = 
+-r
+-->
+-xt
+-;
+-
+-92 if(
+-kmem
+-.
+-u_lock
+-)
+-
+-93 
+-	`a
+-(&
+-kmem
+-.
+-lock
+-);
+-
+-94  (*)
+-r
+-;
+-
+-95 
+-	}
+-}
+-
+-	@kbd.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"kbd.h
+-"
+-
+-7 
+-	$kbdgc
+-()
+-
+-9 
+-ut
+- 
+-shi
+-;
+-
+-10 
+-uch
+- *
+-chcode
+-[4] = {
+-
+-11 
+-nmm
+-, 
+-shim
+-, 
+-lm
+-, ctlmap
+-
+-13 
+-ut
+- 
+-
+-, 
+-da
+-, 
+-c
+-;
+-
+-15 
+-
+- = 
+-	`b
+-(
+-KBSTATP
+-);
+-
+-16 if((
+-
+- & 
+-KBS_DIB
+-) == 0)
+-
+-18 
+-da
+- = 
+-	`b
+-(
+-KBDATAP
+-);
+-
+-20 if(
+-da
+- == 0xE0){
+-
+-21 
+-shi
+- |
+-E0ESC
+-;
+-
+-23 } if(
+-da
+- & 0x80){
+-
+-25 
+-da
+- = (
+-shi
+- & 
+-E0ESC
+- ? data : data & 0x7F);
+-
+-26 
+-shi
+- &~(
+-shicode
+-[
+-da
+-] | 
+-E0ESC
+-);
+-
+-28 } if(
+-shi
+- & 
+-E0ESC
+-){
+-
+-30 
+-da
+- |= 0x80;
+-
+-31 
+-shi
+- &~
+-E0ESC
+-;
+-
+-34 
+-shi
+- |
+-shicode
+-[
+-da
+-];
+-
+-35 
+-shi
+- ^
+-toggcode
+-[
+-da
+-];
+-
+-36 
+-c
+- = 
+-chcode
+-[
+-shi
+- & (
+-CTL
+- | 
+-SHIFT
+-)][
+-da
+-];
+-
+-37 if(
+-shi
+- & 
+-CAPSLOCK
+-){
+-
+-38 if('a' <
+-c
+- && c <= 'z')
+-
+-39 
+-c
+- += 'A' - 'a';
+-
+-40 if('A' <
+-c
+- && c <= 'Z')
+-
+-41 
+-c
+- += 'a' - 'A';
+-
+-43  
+-c
+-;
+-
+-44 
+-	}
+-}
+-
+-47 
+-	$kbd
+-()
+-
+-49 
+-	`cse
+-(
+-kbdgc
+-);
+-
+-50 
+-	}
+-}
+-
+-	@kbd.h
+-
+-3 
+-	#KBSTATP
+- 0x64
+-
+-4 
+-	#KBS_DIB
+- 0x01
+-
+-5 
+-	#KBDATAP
+- 0x60
+-
+-6 
+-
+-	)
+-
+-7 
+-	#NO
+- 0
+-
+-	)
+-
+-9 
+-	#SHIFT
+- (1<<0)
+-
+-	)
+-
+-10 
+-	#CTL
+- (1<<1)
+-
+-	)
+-
+-11 
+-	#ALT
+- (1<<2)
+-
+-	)
+-
+-13 
+-	#CAPSLOCK
+- (1<<3)
+-
+-	)
+-
+-14 
+-	#NUMLOCK
+- (1<<4)
+-
+-	)
+-
+-15 
+-	#SCROLLLOCK
+- (1<<5)
+-
+-	)
+-
+-17 
+-	#E0ESC
+- (1<<6)
+-
+-	)
+-
+-20 
+-	#KEY_HOME
+- 0xE0
+-
+-	)
+-
+-21 
+-	#KEY_END
+- 0xE1
+-
+-	)
+-
+-22 
+-	#KEY_UP
+- 0xE2
+-
+-	)
+-
+-23 
+-	#KEY_DN
+- 0xE3
+-
+-	)
+-
+-24 
+-	#KEY_LF
+- 0xE4
+-
+-	)
+-
+-25 
+-	#KEY_RT
+- 0xE5
+-
+-	)
+-
+-26 
+-	#KEY_PGUP
+- 0xE6
+-
+-	)
+-
+-27 
+-	#KEY_PGDN
+- 0xE7
+-
+-	)
+-
+-28 
+-	#KEY_INS
+- 0xE8
+-
+-	)
+-
+-29 
+-	#KEY_DEL
+- 0xE9
+-
+-	)
+-
+-32 
+-	#C
+-(
+-x
+-(x - '@')
+-
+-	)
+-
+-34 
+-uch
+- 
+-	gshicode
+-[256] =
+-
+-36 [0x1D] 
+-CTL
+-,
+-
+-37 [0x2A] 
+-SHIFT
+-,
+-
+-38 [0x36] 
+-SHIFT
+-,
+-
+-39 [0x38] 
+-ALT
+-,
+-
+-40 [0x9D] 
+-CTL
+-,
+-
+-41 [0xB8] 
+-ALT
+-
+-
+-44 
+-uch
+- 
+-	gtoggcode
+-[256] =
+-
+-46 [0x3A] 
+-CAPSLOCK
+-,
+-
+-47 [0x45] 
+-NUMLOCK
+-,
+-
+-48 [0x46] 
+-SCROLLLOCK
+-
+-
+-51 
+-uch
+- 
+-	gnmm
+-[256] =
+-
+-53 
+-NO
+-, 0x1B, '1', '2', '3', '4', '5', '6',
+-
+-56 'o', 'p', '[', ']', '\n', 
+-NO
+-, 'a', 's',
+-
+-58 '\'', '`', 
+-NO
+-, '\\', 'z', 'x', 'c', 'v',
+-
+-59 'b', 'n', 'm', ',', '.', '/', 
+-NO
+-, '*',
+-
+-60 
+-NO
+-, ' ', NO, NO, NO, NO, NO, NO,
+-
+-61 
+-NO
+-, NO, NO, NO, NO, NO, NO, '7',
+-
+-63 '2', '3', '0', '.', 
+-NO
+-, NO, NO, NO,
+-
+-66 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-67 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-68 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-69 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-70 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-73 
+-uch
+- 
+-	gshim
+-[256] =
+-
+-75 
+-NO
+-, 033, '!', '@', '#', '$', '%', '^',
+-
+-78 'O', 'P', '{', '}', '\n', 
+-NO
+-, 'A', 'S',
+-
+-80 '"', '~', 
+-NO
+-, '|', 'Z', 'X', 'C', 'V',
+-
+-81 'B', 'N', 'M', '<', '>', '?', 
+-NO
+-, '*',
+-
+-82 
+-NO
+-, ' ', NO, NO, NO, NO, NO, NO,
+-
+-83 
+-NO
+-, NO, NO, NO, NO, NO, NO, '7',
+-
+-85 '2', '3', '0', '.', 
+-NO
+-, NO, NO, NO,
+-
+-88 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-89 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-90 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-91 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-92 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-95 
+-uch
+- 
+-	glm
+-[256] =
+-
+-97 
+-NO
+-, NO, NO, NO, NO, NO, NO, NO,
+-
+-98 
+-NO
+-, NO, NO, NO, NO, NO, NO, NO,
+-
+-99 
+-C
+-('Q'), C('W'), C('E'), C('R'), C('T'), C('Y'), C('U'), C('I'),
+-
+-100 
+-C
+-('O'), C('P'), 
+-NO
+-, NO, '\r', NO, C('A'), C('S'),
+-
+-101 
+-C
+-('D'), C('F'), C('G'), C('H'), C('J'), C('K'), C('L'), 
+-NO
+-,
+-
+-102 
+-NO
+-, NO, NO, 
+-C
+-('\\'), C('Z'), C('X'), C('C'), C('V'),
+-
+-103 
+-C
+-('B'), C('N'), C('M'), 
+-NO
+-, NO, C('/'), NO, NO,
+-
+-105 [0xB5] 
+-C
+-('/'),
+-
+-106 [0xC8] 
+-KEY_UP
+-, [0xD0] 
+-KEY_DN
+-,
+-
+-107 [0xC9] 
+-KEY_PGUP
+-, [0xD1] 
+-KEY_PGDN
+-,
+-
+-108 [0xCB] 
+-KEY_LF
+-, [0xCD] 
+-KEY_RT
+-,
+-
+-109 [0x97] 
+-KEY_HOME
+-, [0xCF] 
+-KEY_END
+-,
+-
+-110 [0xD2] 
+-KEY_INS
+-, [0xD3] 
+-KEY_DEL
+-
+-
+-	@kill.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, **
+-gv
+-)
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "usage: killid...\n");
+-
+-12 
+-	`ex
+-();
+-
+-14 
+-i
+-=1; i<
+-gc
+-; i++)
+-
+-15 
+-	`kl
+-(
+-	`oi
+-(
+-gv
+-[
+-i
+-]));
+-
+-16 
+-	`ex
+-();
+-
+-17 
+-	}
+-}
+-
+-	@lapic.c
+-
+-4 
+-	~"m.h
+-"
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"de.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"s.h
+-"
+-
+-10 
+-	~"mmu.h
+-"
+-
+-11 
+-	~"x86.h
+-"
+-
+-14 
+-	#ID
+- (0x0020/4)
+-
+-15 
+-	#VER
+- (0x0030/4)
+-
+-16 
+-	#TPR
+- (0x0080/4)
+-
+-17 
+-	#EOI
+- (0x00B0/4)
+-
+-18 
+-	#SVR
+- (0x00F0/4)
+-
+-19 
+-	#ENABLE
+- 0x00000100
+-
+-20 
+-	#ESR
+- (0x0280/4)
+-
+-21 
+-	#ICRLO
+- (0x0300/4)
+-
+-22 
+-	#INIT
+- 0x00000500
+-
+-23 
+-	#STARTUP
+- 0x00000600
+-
+-24 
+-	#DELIVS
+- 0x00001000
+-
+-25 
+-	#ASSERT
+- 0x00004000
+-
+-26 
+-	#DEASSERT
+- 0x00000000
+-
+-	)
+-
+-27 
+-	#LEVEL
+- 0x00008000
+-
+-28 
+-	#BCAST
+- 0x00080000
+-
+-29 
+-	#BUSY
+- 0x00001000
+-
+-	)
+-
+-30 
+-	#FIXED
+- 0x00000000
+-
+-	)
+-
+-31 
+-	#ICRHI
+- (0x0310/4)
+-
+-32 
+-	#TIMER
+- (0x0320/4)
+-
+-33 
+-	#X1
+- 0x0000000B
+-
+-34 
+-	#PERIODIC
+- 0x00020000
+-
+-35 
+-	#PCINT
+- (0x0340/4)
+-
+-36 
+-	#LINT0
+- (0x0350/4)
+-
+-37 
+-	#LINT1
+- (0x0360/4)
+-
+-38 
+-	#ERROR
+- (0x0370/4)
+-
+-39 
+-	#MASKED
+- 0x00010000
+-
+-40 
+-	#TICR
+- (0x0380/4)
+-
+-41 
+-	#TCCR
+- (0x0390/4)
+-
+-42 
+-	#TDCR
+- (0x03E0/4)
+-
+-43 
+-
+-	)
+-
+-44 v
+-ut
+- *
+-	gpic
+-;
+-
+-48 
+-	$picw
+-(
+-dex
+-, 
+-vue
+-)
+-
+-50 
+-pic
+-[
+-dex
+-] = 
+-vue
+-;
+-
+-51 
+-pic
+-[
+-ID
+-];
+-
+-52 
+-	}
+-}
+-
+-55 
+-	$pic
+-()
+-
+-57 if(!
+-pic
+-)
+-
+-61 
+-	`picw
+-(
+-SVR
+-, 
+-ENABLE
+- | (
+-T_IRQ0
+- + 
+-IRQ_SPURIOUS
+-));
+-
+-67 
+-	`picw
+-(
+-TDCR
+-, 
+-X1
+-);
+-
+-68 
+-	`picw
+-(
+-TIMER
+-, 
+-PERIODIC
+- | (
+-T_IRQ0
+- + 
+-IRQ_TIMER
+-));
+-
+-69 
+-	`picw
+-(
+-TICR
+-, 10000000);
+-
+-72 
+-	`picw
+-(
+-LINT0
+-, 
+-MASKED
+-);
+-
+-73 
+-	`picw
+-(
+-LINT1
+-, 
+-MASKED
+-);
+-
+-77 if(((
+-pic
+-[
+-VER
+-]>>16) & 0xFF) >= 4)
+-
+-78 
+-	`picw
+-(
+-PCINT
+-, 
+-MASKED
+-);
+-
+-81 
+-	`picw
+-(
+-ERROR
+-, 
+-T_IRQ0
+- + 
+-IRQ_ERROR
+-);
+-
+-84 
+-	`picw
+-(
+-ESR
+-, 0);
+-
+-85 
+-	`picw
+-(
+-ESR
+-, 0);
+-
+-88 
+-	`picw
+-(
+-EOI
+-, 0);
+-
+-91 
+-	`picw
+-(
+-ICRHI
+-, 0);
+-
+-92 
+-	`picw
+-(
+-ICRLO
+-, 
+-BCAST
+- | 
+-INIT
+- | 
+-LEVEL
+-);
+-
+-93 
+-pic
+-[
+-ICRLO
+-] & 
+-DELIVS
+-)
+-
+-97 
+-	`picw
+-(
+-TPR
+-, 0);
+-
+-98 
+-	}
+-}
+-
+-101 
+-	$picid
+-()
+-
+-103 i(!
+-pic
+-)
+-
+-105  
+-pic
+-[
+-ID
+-] >> 24;
+-
+-106 
+-	}
+-}
+-
+-110 
+-	$pioi
+-()
+-
+-112 if(
+-pic
+-)
+-
+-113 
+-	`picw
+-(
+-EOI
+-, 0);
+-
+-114 
+-	}
+-}
+-
+-119 
+-	$mioday
+-(
+-us
+-)
+-
+-121 
+-	}
+-}
+-
+-123 
+-	#CMOS_PORT
+- 0x70
+-
+-	)
+-
+-124 
+-	#CMOS_RETURN
+- 0x71
+-
+-	)
+-
+-129 
+-	$picp
+-(
+-uch
+- 
+-icid
+-, 
+-ut
+- 
+-addr
+-)
+-
+-131 
+-i
+-;
+-
+-132 
+-usht
+- *
+-wrv
+-;
+-
+-137 
+-	`outb
+-(
+-CMOS_PORT
+-, 0xF);
+-
+-138 
+-	`outb
+-(
+-CMOS_PORT
+-+1, 0x0A);
+-
+-139 
+-wrv
+- = (
+-usht
+-*)
+-	`P2V
+-((0x40<<4 | 0x67));
+-
+-140 
+-wrv
+-[0] = 0;
+-
+-141 
+-wrv
+-[1] = 
+-addr
+- >> 4;
+-
+-145 
+-	`picw
+-(
+-ICRHI
+-, 
+-icid
+-<<24);
+-
+-146 
+-	`picw
+-(
+-ICRLO
+-, 
+-INIT
+- | 
+-LEVEL
+- | 
+-ASSERT
+-);
+-
+-147 
+-	`mioday
+-(200);
+-
+-148 
+-	`picw
+-(
+-ICRLO
+-, 
+-INIT
+- | 
+-LEVEL
+-);
+-
+-149 
+-	`mioday
+-(100);
+-
+-156 
+-i
+- = 0; i < 2; i++){
+-
+-157 
+-	`picw
+-(
+-ICRHI
+-, 
+-icid
+-<<24);
+-
+-158 
+-	`picw
+-(
+-ICRLO
+-, 
+-STARTUP
+- | (
+-addr
+->>12));
+-
+-159 
+-	`mioday
+-(200);
+-
+-161 
+-	}
+-}
+-
+-163 
+-	#CMOS_STATA
+- 0x0a
+-
+-	)
+-
+-164 
+-	#CMOS_STATB
+- 0x0b
+-
+-	)
+-
+-165 
+-	#CMOS_UIP
+- (1 << 7)
+-
+-166 
+-
+-	)
+-
+-167 
+-	#SECS
+- 0x00
+-
+-	)
+-
+-168 
+-	#MINS
+- 0x02
+-
+-	)
+-
+-169 
+-	#HOURS
+- 0x04
+-
+-	)
+-
+-170 
+-	#DAY
+- 0x07
+-
+-	)
+-
+-171 
+-	#MONTH
+- 0x08
+-
+-	)
+-
+-172 
+-	#YEAR
+- 0x09
+-
+-	)
+-
+-174 
+-ut
+-
+-
+-175 
+-	$cmos_ad
+-(
+-ut
+- 
+-g
+-)
+-
+-177 
+-	`outb
+-(
+-CMOS_PORT
+-, 
+-g
+-);
+-
+-178 
+-	`mioday
+-(200);
+-
+-180  
+-	`b
+-(
+-CMOS_RETURN
+-);
+-
+-181 
+-	}
+-}
+-
+-184 
+-	$fl_cde
+-(
+-cde
+- *
+-r
+-)
+-
+-186 
+-r
+-->
+-cd
+- = 
+-	`cmos_ad
+-(
+-SECS
+-);
+-
+-187 
+-r
+-->
+-mu
+- = 
+-	`cmos_ad
+-(
+-MINS
+-);
+-
+-188 
+-r
+-->
+-hour
+- = 
+-	`cmos_ad
+-(
+-HOURS
+-);
+-
+-189 
+-r
+-->
+-day
+- = 
+-	`cmos_ad
+-(
+-DAY
+-);
+-
+-190 
+-r
+-->
+-mth
+- = 
+-	`cmos_ad
+-(
+-MONTH
+-);
+-
+-191 
+-r
+-->
+-yr
+- = 
+-	`cmos_ad
+-(
+-YEAR
+-);
+-
+-192 
+-	}
+-}
+-
+-196 
+-	$cmoime
+-(
+-cde
+- *
+-r
+-)
+-
+-198 
+-cde
+- 
+-t1
+-, 
+-t2
+-;
+-
+-199 
+-sb
+-, 
+-bcd
+-;
+-
+-201 
+-sb
+- = 
+-	`cmos_ad
+-(
+-CMOS_STATB
+-);
+-
+-203 
+-bcd
+- = (
+-sb
+- & (1 << 2)) == 0;
+-
+-207 
+-	`fl_cde
+-(&
+-t1
+-);
+-
+-208 if(
+-	`cmos_ad
+-(
+-CMOS_STATA
+-& 
+-CMOS_UIP
+-)
+-
+-210 
+-	`fl_cde
+-(&
+-t2
+-);
+-
+-211 if(
+-	`memcmp
+-(&
+-t1
+-, &
+-t2
+-, (t1)) == 0)
+-
+-216 if(
+-bcd
+-) {
+-
+-217 
+-	#CONV
+-(
+-x
+-(
+-t1
+-.x = (1.x >> 4* 10+ (t1.x & 0xf))
+-
+-	)
+-
+-218 
+-	`CONV
+-(
+-cd
+-);
+-
+-219 
+-	`CONV
+-(
+-mu
+-);
+-
+-220 
+-	`CONV
+-(
+-hour
+- );
+-
+-221 
+-	`CONV
+-(
+-day
+- );
+-
+-222 
+-	`CONV
+-(
+-mth
+- );
+-
+-223 
+-	`CONV
+-(
+-yr
+- );
+-
+-224 #unde
+-CONV
+-
+-
+-227 *
+-r
+- = 
+-t1
+-;
+-
+-228 
+-r
+-->
+-yr
+- += 2000;
+-
+-229 
+-	}
+-}
+-
+-	@ln.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 if(
+-gc
+- != 3){
+-
+-9 
+-	`tf
+-(2, "Usage:n oldew\n");
+-
+-10 
+-	`ex
+-();
+-
+-12 if(
+-	`lk
+-(
+-gv
+-[1],rgv[2]) < 0)
+-
+-13 
+-	`tf
+-(2, "lk %%s: faed\n", 
+-gv
+-[1],rgv[2]);
+-
+-14 
+-	`ex
+-();
+-
+-15 
+-	}
+-}
+-
+-	@log.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"lock.h
+-"
+-
+-5 
+-	~"ock.h
+-"
+-
+-6 
+-	~"fs.h
+-"
+-
+-7 
+-	~"buf.h
+-"
+-
+-34 
+-	sloghd
+- {
+-
+-35 
+-	mn
+-;
+-
+-36 
+-	mblock
+-[
+-LOGSIZE
+-];
+-
+-39 
+-	slog
+- {
+-
+-40 
+-lock
+- 
+-	mlock
+-;
+-
+-41 
+-	mt
+-;
+-
+-42 
+-	msize
+-;
+-
+-43 
+-	moutdg
+-;
+-
+-44 
+-	mcommtg
+-;
+-
+-45 
+-	mdev
+-;
+-
+-46 
+-loghd
+- 
+-	mlh
+-;
+-
+-48 
+-log
+- 
+-	glog
+-;
+-
+-50 
+-cov_om_log
+-();
+-
+-51 
+-comm
+-();
+-
+-54 
+-	$log
+-(
+-dev
+-)
+-
+-56 i((
+-loghd
+->
+-BSIZE
+-)
+-
+-57 
+-	`nic
+-("initlog:oo bigogheader");
+-
+-59 
+-surblock
+- 
+-sb
+-;
+-
+-60 
+-	`lock
+-(&
+-log
+-.
+-lock
+-, "log");
+-
+-61 
+-	`adsb
+-(
+-dev
+-, &
+-sb
+-);
+-
+-62 
+-log
+-.
+-t
+- = 
+-sb
+-.
+-logt
+-;
+-
+-63 
+-log
+-.
+-size
+- = 
+-sb
+-.
+-og
+-;
+-
+-64 
+-log
+-.
+-dev
+- = dev;
+-
+-65 
+-	`cov_om_log
+-();
+-
+-66 
+-	}
+-}
+-
+-70 
+-	$l_s
+-()
+-
+-72 
+-
+-;
+-
+-74 
+-
+- = 0;a < 
+-log
+-.
+-lh
+-.
+-n
+-;ail++) {
+-
+-75 
+-buf
+- *
+-lbuf
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-+
+-
+-+1);
+-
+-76 
+-buf
+- *
+-dbuf
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-lh
+-.
+-block
+-[
+-
+-]);
+-
+-77 
+-	`memmove
+-(
+-dbuf
+-->
+-da
+-, 
+-lbuf
+-->da, 
+-BSIZE
+-);
+-
+-78 
+-	`bwre
+-(
+-dbuf
+-);
+-
+-79 
+-	`bl
+-(
+-lbuf
+-);
+-
+-80 
+-	`bl
+-(
+-dbuf
+-);
+-
+-82 
+-	}
+-}
+-
+-86 
+-	$ad_hd
+-()
+-
+-88 
+-buf
+- *bu
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-);
+-
+-89 
+-loghd
+- *
+-lh
+- = (loghd *(
+-buf
+-->
+-da
+-);
+-
+-90 
+-i
+-;
+-
+-91 
+-log
+-.
+-lh
+-.
+-n
+- =h->n;
+-
+-92 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-93 
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] =h->block[i];
+-
+-95 
+-	`bl
+-(
+-buf
+-);
+-
+-96 
+-	}
+-}
+-
+-102 
+-	$wre_hd
+-()
+-
+-104 
+-buf
+- *bu
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-);
+-
+-105 
+-loghd
+- *
+-hb
+- = (loghd *(
+-buf
+-->
+-da
+-);
+-
+-106 
+-i
+-;
+-
+-107 
+-hb
+-->
+-n
+- = 
+-log
+-.
+-lh
+-.n;
+-
+-108 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-109 
+-hb
+-->
+-block
+-[
+-i
+-] = 
+-log
+-.
+-lh
+-.block[i];
+-
+-111 
+-	`bwre
+-(
+-buf
+-);
+-
+-112 
+-	`bl
+-(
+-buf
+-);
+-
+-113 
+-	}
+-}
+-
+-116 
+-	$cov_om_log
+-()
+-
+-118 
+-	`ad_hd
+-();
+-
+-119 
+-	`l_s
+-();
+-
+-120 
+-log
+-.
+-lh
+-.
+-n
+- = 0;
+-
+-121 
+-	`wre_hd
+-();
+-
+-122 
+-	}
+-}
+-
+-126 
+-	$beg_
+-()
+-
+-128 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-130 if(
+-log
+-.
+-commtg
+-){
+-
+-131 
+-	`p
+-(&
+-log
+-, &log.
+-lock
+-);
+-
+-132 } if(
+-log
+-.
+-lh
+-.
+-n
+- + (log.
+-outdg
+-+1)*
+-MAXOPBLOCKS
+- > 
+-LOGSIZE
+-){
+-
+-134 
+-	`p
+-(&
+-log
+-, &log.
+-lock
+-);
+-
+-136 
+-log
+-.
+-outdg
+- += 1;
+-
+-137 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-141 
+-	}
+-}
+-
+-146 
+-	$d_
+-()
+-
+-148 
+-do_comm
+- = 0;
+-
+-150 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-151 
+-log
+-.
+-outdg
+- -= 1;
+-
+-152 if(
+-log
+-.
+-commtg
+-)
+-
+-153 
+-	`nic
+-("log.committing");
+-
+-154 if(
+-log
+-.
+-outdg
+- == 0){
+-
+-155 
+-do_comm
+- = 1;
+-
+-156 
+-log
+-.
+-commtg
+- = 1;
+-
+-161 
+-	`wakeup
+-(&
+-log
+-);
+-
+-163 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-165 if(
+-do_comm
+-){
+-
+-168 
+-	`comm
+-();
+-
+-169 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-170 
+-log
+-.
+-commtg
+- = 0;
+-
+-171 
+-	`wakeup
+-(&
+-log
+-);
+-
+-172 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-174 
+-	}
+-}
+-
+-178 
+-	$wre_log
+-()
+-
+-180 
+-
+-;
+-
+-182 
+-
+- = 0;a < 
+-log
+-.
+-lh
+-.
+-n
+-;ail++) {
+-
+-183 
+-buf
+- *
+-to
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-t
+-+
+-
+-+1);
+-
+-184 
+-buf
+- *
+-om
+- = 
+-	`bad
+-(
+-log
+-.
+-dev
+-,og.
+-lh
+-.
+-block
+-[
+-
+-]);
+-
+-185 
+-	`memmove
+-(
+-to
+-->
+-da
+-, 
+-om
+-->da, 
+-BSIZE
+-);
+-
+-186 
+-	`bwre
+-(
+-to
+-);
+-
+-187 
+-	`bl
+-(
+-om
+-);
+-
+-188 
+-	`bl
+-(
+-to
+-);
+-
+-190 
+-	}
+-}
+-
+-193 
+-	$comm
+-()
+-
+-195 i(
+-log
+-.
+-lh
+-.
+-n
+- > 0) {
+-
+-196 
+-	`wre_log
+-();
+-
+-197 
+-	`wre_hd
+-();
+-
+-198 
+-	`l_s
+-();
+-
+-199 
+-log
+-.
+-lh
+-.
+-n
+- = 0;
+-
+-200 
+-	`wre_hd
+-();
+-
+-202 
+-	}
+-}
+-
+-214 
+-	$log_wre
+-(
+-buf
+- *
+-b
+-)
+-
+-216 
+-i
+-;
+-
+-218 i(
+-log
+-.
+-lh
+-.
+-n
+- >
+-LOGSIZE
+- ||og.lh.>log.
+-size
+- - 1)
+-
+-219 
+-	`nic
+-("too bigransaction");
+-
+-220 i(
+-log
+-.
+-outdg
+- < 1)
+-
+-221 
+-	`nic
+-("log_write outside ofrans");
+-
+-223 
+-	`acque
+-(&
+-log
+-.
+-lock
+-);
+-
+-224 
+-i
+- = 0; i < 
+-log
+-.
+-lh
+-.
+-n
+-; i++) {
+-
+-225 i(
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] =
+-b
+-->
+-blockno
+-)
+-
+-228 
+-log
+-.
+-lh
+-.
+-block
+-[
+-i
+-] = 
+-b
+-->
+-blockno
+-;
+-
+-229 i(
+-i
+- =
+-log
+-.
+-lh
+-.
+-n
+-)
+-
+-230 
+-log
+-.
+-lh
+-.
+-n
+-++;
+-
+-231 
+-b
+-->
+-ags
+- |
+-B_DIRTY
+-;
+-
+-232 
+-	`a
+-(&
+-log
+-.
+-lock
+-);
+-
+-233 
+-	}
+-}
+-
+-	@ls.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"fs.h
+-"
+-
+-7 
+-	$fmame
+-(*
+-th
+-)
+-
+-9 
+-buf
+-[
+-DIRSIZ
+-+1];
+-
+-10 *
+-p
+-;
+-
+-13 
+-p
+-=
+-th
+-+
+-	`
+-(path); >=ath && *p != '/';--)
+-
+-15 
+-p
+-++;
+-
+-18 if(
+-	`
+-(
+-p
+->
+-DIRSIZ
+-)
+-
+-19  
+-p
+-;
+-
+-20 
+-	`memmove
+-(
+-buf
+-, 
+-p
+-, 
+-	`
+-(p));
+-
+-21 
+-	`memt
+-(
+-buf
+-+
+-	`
+-(
+-p
+-), ' ', 
+-DIRSIZ
+--strlen(p));
+-
+-22  
+-buf
+-;
+-
+-23 
+-	}
+-}
+-
+-26 
+-	$ls
+-(*
+-th
+-)
+-
+-28 
+-buf
+-[512], *
+-p
+-;
+-
+-29 
+-fd
+-;
+-
+-30 
+-dt
+- 
+-de
+-;
+-
+-31 
+-
+- 
+-
+-;
+-
+-33 if((
+-fd
+- = 
+-	`
+-(
+-th
+-, 0)) < 0){
+-
+-34 
+-	`tf
+-(2, "ls: cn o%s\n", 
+-th
+-);
+-
+-38 if(
+-	`f
+-(
+-fd
+-, &
+-
+-) < 0){
+-
+-39 
+-	`tf
+-(2, "ls: cn s%s\n", 
+-th
+-);
+-
+-40 
+-	`o
+-(
+-fd
+-);
+-
+-44 
+-
+-.
+-ty
+-){
+-
+-45 
+-T_FILE
+-:
+-
+-46 
+-	`tf
+-(1, "%%d %d %d\n", 
+-	`fmame
+-(
+-th
+-), 
+-
+-.
+-ty
+-, st.
+-o
+-, st.
+-size
+-);
+-
+-49 
+-T_DIR
+-:
+-
+-50 if(
+-	`
+-(
+-th
+-+ 1 + 
+-DIRSIZ
+- + 1 >  
+-buf
+-){
+-
+-51 
+-	`tf
+-(1, "ls:athooong\n");
+-
+-54 
+-	`ry
+-(
+-buf
+-, 
+-th
+-);
+-
+-55 
+-p
+- = 
+-buf
+-+
+-	`
+-(buf);
+-
+-56 *
+-p
+-++ = '/';
+-
+-57 
+-	`ad
+-(
+-fd
+-, &
+-de
+-, (de)) == (de)){
+-
+-58 if(
+-de
+-.
+-um
+- == 0)
+-
+-60 
+-	`memmove
+-(
+-p
+-, 
+-de
+-.
+-me
+-, 
+-DIRSIZ
+-);
+-
+-61 
+-p
+-[
+-DIRSIZ
+-] = 0;
+-
+-62 if(
+-	`
+-(
+-buf
+-, &
+-
+-) < 0){
+-
+-63 
+-	`tf
+-(1, "ls: cn s%s\n", 
+-buf
+-);
+-
+-66 
+-	`tf
+-(1, "%%d %d %d\n", 
+-	`fmame
+-(
+-buf
+-), 
+-
+-.
+-ty
+-, st.
+-o
+-, st.
+-size
+-);
+-
+-70 
+-	`o
+-(
+-fd
+-);
+-
+-71 
+-	}
+-}
+-
+-74 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-76 
+-i
+-;
+-
+-78 if(
+-gc
+- < 2){
+-
+-79 
+-	`ls
+-(".");
+-
+-80 
+-	`ex
+-();
+-
+-82 
+-i
+-=1; i<
+-gc
+-; i++)
+-
+-83 
+-	`ls
+-(
+-gv
+-[
+-i
+-]);
+-
+-84 
+-	`ex
+-();
+-
+-85 
+-	}
+-}
+-
+-	@main.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-9 
+-ths
+-();
+-
+-10 
+-	$mpma
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-11 
+-pde_t
+- *
+-kpgd
+-;
+-
+-12 

+-d
+-[];
+-
+-18 
+-	$ma
+-()
+-
+-20 
+-	`k1
+-(
+-d
+-, 
+-	`P2V
+-(4*1024*1024));
+-
+-21 
+-	`kvmloc
+-();
+-
+-22 
+-	`mp
+-();
+-
+-23 
+-	`pic
+-();
+-
+-24 
+-	`g
+-();
+-
+-25 
+-	`pic
+-();
+-
+-26 
+-	`ipic
+-();
+-
+-27 
+-	`cse
+-();
+-
+-28 
+-	`ut
+-();
+-
+-29 
+-	`p
+-();
+-
+-30 
+-	`tv
+-();
+-
+-31 
+-	`b
+-();
+-
+-32 
+-	`fe
+-();
+-
+-33 
+-	`ide
+-();
+-
+-34 
+-	`ths
+-();
+-
+-35 
+-	`k2
+-(
+-	`P2V
+-(4*1024*1024), P2V(
+-PHYSTOP
+-));
+-
+-36 
+-	`ur
+-();
+-
+-37 
+-	`mpma
+-();
+-
+-38 
+-	}
+-}
+-
+-42 
+-	$m
+-()
+-
+-44 
+-	`swchkvm
+-();
+-
+-45 
+-	`g
+-();
+-
+-46 
+-	`pic
+-();
+-
+-47 
+-	`mpma
+-();
+-
+-48 
+-	}
+-}
+-
+-52 
+-	$mpma
+-()
+-
+-54 
+-	`rtf
+-("u%d: sg %d\n", 
+-	`uid
+-(), cpuid());
+-
+-55 
+-	`idt
+-();
+-
+-56 
+-	`xchg
+-(&(
+-	`myu
+-()->
+-d
+-), 1);
+-
+-57 
+-	`schedur
+-();
+-
+-58 
+-	}
+-}
+-
+-60 
+-pde_t
+- 
+-	gypgd
+-[];
+-
+-64 
+-	$ths
+-()
+-
+-66 
+-uch
+- 
+-_by_yh_t
+-[], 
+-_by_yh_size
+-[];
+-
+-67 
+-uch
+- *
+-code
+-;
+-
+-68 
+-u
+- *
+-c
+-;
+-
+-69 *
+-ack
+-;
+-
+-74 
+-code
+- = 
+-	`P2V
+-(0x7000);
+-
+-75 
+-	`memmove
+-(
+-code
+-, 
+-_by_yh_t
+-, (
+-ut
+-)
+-_by_yh_size
+-);
+-
+-77 
+-c
+- = 
+-us
+-; c < cpus+
+-nu
+-; c++){
+-
+-78 if(
+-c
+- =
+-	`myu
+-())
+-
+-84 
+-ack
+- = 
+-	`kloc
+-();
+-
+-85 *(**)(
+-code
+--4
+-ack
+- + 
+-KSTACKSIZE
+-;
+-
+-86 *((**)())(
+-code
+--8
+-m
+-;
+-
+-87 *(**)(
+-code
+--12(*
+-	`V2P
+-(
+-ypgd
+-);
+-
+-89 
+-	`picp
+-(
+-c
+-->
+-icid
+-, 
+-	`V2P
+-(
+-code
+-));
+-
+-92 
+-c
+-->
+-d
+- == 0)
+-
+-95 
+-	}
+-}
+-
+-102 
+-__ibu__
+-((
+-	$__igd__
+-(
+-PGSIZE
+-)))
+-
+-103 
+-pde_t
+- 
+-ypgd
+-[
+-NPDENTRIES
+-] = {
+-
+-105 [0] = (0| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_PS
+-,
+-
+-107 [
+-KERNBASE
+->>
+-PDXSHIFT
+-] = (0| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_PS
+-,
+-
+-108 
+-	}
+-};
+-
+-	@memide.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~"defs.h
+-"
+-
+-6 
+-	~"m.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-9 
+-	~"x86.h
+-"
+-
+-10 
+-	~"s.h
+-"
+-
+-11 
+-	~"lock.h
+-"
+-
+-12 
+-	~"ock.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"buf.h
+-"
+-
+-16 
+-uch
+- 
+-_by_fs_img_t
+-[], 
+-_by_fs_img_size
+-[];
+-
+-18 
+-	gdisksize
+-;
+-
+-19 
+-uch
+- *
+-	gmemdisk
+-;
+-
+-22 
+-	$ide
+-()
+-
+-24 
+-memdisk
+- = 
+-_by_fs_img_t
+-;
+-
+-25 
+-disksize
+- = (
+-ut
+-)
+-_by_fs_img_size
+-/
+-BSIZE
+-;
+-
+-26 
+-	}
+-}
+-
+-30 
+-	$ide
+-()
+-
+-33 
+-	}
+-}
+-
+-39 
+-	$idw
+-(
+-buf
+- *
+-b
+-)
+-
+-41 
+-uch
+- *
+-p
+-;
+-
+-43 if(!
+-	`hdgp
+-(&
+-b
+-->
+-lock
+-))
+-
+-44 
+-	`nic
+-("iderw: bufotocked");
+-
+-45 if((
+-b
+-->
+-ags
+- & (
+-B_VALID
+-|
+-B_DIRTY
+-)) == B_VALID)
+-
+-46 
+-	`nic
+-("iderw:othingo do");
+-
+-47 if(
+-b
+-->
+-dev
+- != 1)
+-
+-48 
+-	`nic
+-("iderw:equestot for disk 1");
+-
+-49 if(
+-b
+-->
+-blockno
+- >
+-disksize
+-)
+-
+-50 
+-	`nic
+-("iderw: block out ofange");
+-
+-52 
+-p
+- = 
+-memdisk
+- + 
+-b
+-->
+-blockno
+-*
+-BSIZE
+-;
+-
+-54 if(
+-b
+-->
+-ags
+- & 
+-B_DIRTY
+-){
+-
+-55 
+-b
+-->
+-ags
+- &~
+-B_DIRTY
+-;
+-
+-56 
+-	`memmove
+-(
+-p
+-, 
+-b
+-->
+-da
+-, 
+-BSIZE
+-);
+-
+-58 
+-	`memmove
+-(
+-b
+-->
+-da
+-, 
+-p
+-, 
+-BSIZE
+-);
+-
+-59 
+-b
+-->
+-ags
+- |
+-B_VALID
+-;
+-
+-60 
+-	}
+-}
+-
+-	@memlayout.h
+-
+-3 
+-	#EXTMEM
+- 0x100000
+-
+-4 
+-	#PHYSTOP
+- 0xE000000
+-
+-5 
+-	#DEVSPACE
+- 0xFE000000
+-
+-6 
+-
+-	)
+-
+-8 
+-	#KERNBASE
+- 0x80000000
+-
+-9 
+-	#KERNLINK
+- (
+-KERNBASE
+-+
+-EXTMEM
+-)
+-
+-10 
+-
+-	)
+-
+-11 
+-	#V2P
+-(
+-a
+-(((
+-ut
+-)- 
+-KERNBASE
+-)
+-
+-	)
+-
+-12 
+-	#P2V
+-(
+-a
+-((*)(((*)+ 
+-KERNBASE
+-))
+-
+-	)
+-
+-14 
+-	#V2P_WO
+-(
+-x
+-((x- 
+-KERNBASE
+-)
+-
+-15 
+-	#P2V_WO
+-(
+-x
+-((x+ 
+-KERNBASE
+-)
+-
+-	@mkdir.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "Usage: mkdir files...\n");
+-
+-12 
+-	`ex
+-();
+-
+-15 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-16 if(
+-	`mkd
+-(
+-gv
+-[
+-i
+-]) < 0){
+-
+-17 
+-	`tf
+-(2, "mkd: %ed\n", 
+-gv
+-[
+-i
+-]);
+-
+-22 
+-	`ex
+-();
+-
+-23 
+-	}
+-}
+-
+-	@mkfs.c
+-
+-1 
+-	~<dio.h
+->
+-
+-2 
+-	~<unid.h
+->
+-
+-3 
+-	~<dlib.h
+->
+-
+-4 
+-	~<rg.h
+->
+-
+-5 
+-	~<f.h
+->
+-
+-6 
+-	~<as.h
+->
+-
+-8 
+-	#
+- 
+-xv6_
+-
+-
+-9 
+-	~"tys.h
+-"
+-
+-	)
+-
+-10 
+-	~"fs.h
+-"
+-
+-11 
+-	~".h
+-"
+-
+-12 
+-	~"m.h
+-"
+-
+-14 #ide
+-ic_as
+-
+-
+-15 
+-	#ic_as
+-(
+-a
+-, 
+-b
+-d{ 00: ): ; } 0)
+-
+-	)
+-
+-18 
+-	#NINODES
+- 200
+-
+-	)
+-
+-23 
+-	gnbm
+- = 
+-FSSIZE
+-/(
+-BSIZE
+-*8) + 1;
+-
+-24 
+-	gnodeblocks
+- = 
+-NINODES
+- / 
+-IPB
+- + 1;
+-
+-25 
+-	gog
+- = 
+-LOGSIZE
+-;
+-
+-26 
+-	gnma
+-;
+-
+-27 
+-	gnblocks
+-;
+-
+-29 
+-	gfsfd
+-;
+-
+-30 
+-surblock
+- 
+-	gsb
+-;
+-
+-31 
+-	gzs
+-[
+-BSIZE
+-];
+-
+-32 
+-ut
+- 
+-	gode
+- = 1;
+-
+-33 
+-ut
+- 
+-	gblock
+-;
+-
+-36 
+-bloc
+-();
+-
+-37 
+-w
+-(
+-ut
+-, *);
+-
+-38 
+-wode
+-(
+-ut
+-, 
+-dode
+-*);
+-
+-39 
+-rode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-);
+-
+-40 
+-r
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-);
+-
+-41 
+-ut
+- 
+-oc
+-(
+-usht
+- 
+-ty
+-);
+-
+-42 
+-d
+-(
+-ut
+- 
+-um
+-, *
+-p
+-, 
+-n
+-);
+-
+-45 
+-usht
+-
+-
+-46 
+-	$xsht
+-(
+-usht
+- 
+-x
+-)
+-
+-48 
+-usht
+- 
+-y
+-;
+-
+-49 
+-uch
+- *
+-a
+- = (uch*)&
+-y
+-;
+-
+-50 
+-a
+-[0] = 
+-x
+-;
+-
+-51 
+-a
+-[1] = 
+-x
+- >> 8;
+-
+-52  
+-y
+-;
+-
+-53 
+-	}
+-}
+-
+-55 
+-ut
+-
+-
+-56 
+-	$xt
+-(
+-ut
+- 
+-x
+-)
+-
+-58 
+-ut
+- 
+-y
+-;
+-
+-59 
+-uch
+- *
+-a
+- = (uch*)&
+-y
+-;
+-
+-60 
+-a
+-[0] = 
+-x
+-;
+-
+-61 
+-a
+-[1] = 
+-x
+- >> 8;
+-
+-62 
+-a
+-[2] = 
+-x
+- >> 16;
+-
+-63 
+-a
+-[3] = 
+-x
+- >> 24;
+-
+-64  
+-y
+-;
+-
+-65 
+-	}
+-}
+-
+-68 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-70 
+-i
+-, 
+-cc
+-, 
+-fd
+-;
+-
+-71 
+-ut
+- 
+-roo
+-, 
+-um
+-, 
+-off
+-;
+-
+-72 
+-dt
+- 
+-de
+-;
+-
+-73 
+-buf
+-[
+-BSIZE
+-];
+-
+-74 
+-dode
+- 
+-d
+-;
+-
+-77 
+-	`ic_as
+-(() == 4, "Integers must be 4 bytes!");
+-
+-79 if(
+-gc
+- < 2){
+-
+-80 
+-	`rtf
+-(
+-dr
+-, "Usage: mkfs fs.img files...\n");
+-
+-81 
+-	`ex
+-(1);
+-
+-84 
+-	`as
+-((
+-BSIZE
+- % (
+-dode
+-)) == 0);
+-
+-85 
+-	`as
+-((
+-BSIZE
+- % (
+-dt
+-)) == 0);
+-
+-87 
+-fsfd
+- = 
+-	`
+-(
+-gv
+-[1], 
+-O_RDWR
+-|
+-O_CREAT
+-|
+-O_TRUNC
+-, 0666);
+-
+-88 if(
+-fsfd
+- < 0){
+-
+-89 
+-	`
+-(
+-gv
+-[1]);
+-
+-90 
+-	`ex
+-(1);
+-
+-94 
+-nma
+- = 2 + 
+-og
+- + 
+-nodeblocks
+- + 
+-nbm
+-;
+-
+-95 
+-nblocks
+- = 
+-FSSIZE
+- - 
+-nma
+-;
+-
+-97 
+-sb
+-.
+-size
+- = 
+-	`xt
+-(
+-FSSIZE
+-);
+-
+-98 
+-sb
+-.
+-nblocks
+- = 
+-	`xt
+-(nblocks);
+-
+-99 
+-sb
+-.
+-nodes
+- = 
+-	`xt
+-(
+-NINODES
+-);
+-
+-100 
+-sb
+-.
+-og
+- = 
+-	`xt
+-(nlog);
+-
+-101 
+-sb
+-.
+-logt
+- = 
+-	`xt
+-(2);
+-
+-102 
+-sb
+-.
+-odet
+- = 
+-	`xt
+-(2+
+-og
+-);
+-
+-103 
+-sb
+-.
+-bmt
+- = 
+-	`xt
+-(2+
+-og
+-+
+-nodeblocks
+-);
+-
+-105 
+-	`tf
+-("nmeta %d (boot, super,og blocks %u inode blocks %u, bitmap blocks %u) blocks %dotal %d\n",
+-
+-106 
+-nma
+-, 
+-og
+-, 
+-nodeblocks
+-, 
+-nbm
+-, 
+-nblocks
+-, 
+-FSSIZE
+-);
+-
+-108 
+-block
+- = 
+-nma
+-;
+-
+-110 
+-i
+- = 0; i < 
+-FSSIZE
+-; i++)
+-
+-111 
+-	`w
+-(
+-i
+-, 
+-zs
+-);
+-
+-113 
+-	`memt
+-(
+-buf
+-, 0, (buf));
+-
+-114 
+-	`memmove
+-(
+-buf
+-, &
+-sb
+-, (sb));
+-
+-115 
+-	`w
+-(1, 
+-buf
+-);
+-
+-117 
+-roo
+- = 
+-	`oc
+-(
+-T_DIR
+-);
+-
+-118 
+-	`as
+-(
+-roo
+- =
+-ROOTINO
+-);
+-
+-120 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-121 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(
+-roo
+-);
+-
+-122 
+-	`ry
+-(
+-de
+-.
+-me
+-, ".");
+-
+-123 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-125 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-126 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(
+-roo
+-);
+-
+-127 
+-	`ry
+-(
+-de
+-.
+-me
+-, "..");
+-
+-128 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-130 
+-i
+- = 2; i < 
+-gc
+-; i++){
+-
+-131 
+-	`as
+-(
+-	`dex
+-(
+-gv
+-[
+-i
+-], '/') == 0);
+-
+-133 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-134 
+-	`
+-(
+-gv
+-[
+-i
+-]);
+-
+-135 
+-	`ex
+-(1);
+-
+-142 if(
+-gv
+-[
+-i
+-][0] == '_')
+-
+-143 ++
+-gv
+-[
+-i
+-];
+-
+-145 
+-um
+- = 
+-	`oc
+-(
+-T_FILE
+-);
+-
+-147 
+-	`bzo
+-(&
+-de
+-, (de));
+-
+-148 
+-de
+-.
+-um
+- = 
+-	`xsht
+-(inum);
+-
+-149 
+-	`y
+-(
+-de
+-.
+-me
+-, 
+-gv
+-[
+-i
+-], 
+-DIRSIZ
+-);
+-
+-150 
+-	`d
+-(
+-roo
+-, &
+-de
+-, (de));
+-
+-152 (
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0)
+-
+-153 
+-	`d
+-(
+-um
+-, 
+-buf
+-, 
+-cc
+-);
+-
+-155 
+-	`o
+-(
+-fd
+-);
+-
+-159 
+-	`rode
+-(
+-roo
+-, &
+-d
+-);
+-
+-160 
+-off
+- = 
+-	`xt
+-(
+-d
+-.
+-size
+-);
+-
+-161 
+-off
+- = ((off/
+-BSIZE
+-) + 1) * BSIZE;
+-
+-162 
+-d
+-.
+-size
+- = 
+-	`xt
+-(
+-off
+-);
+-
+-163 
+-	`wode
+-(
+-roo
+-, &
+-d
+-);
+-
+-165 
+-	`bloc
+-(
+-block
+-);
+-
+-167 
+-	`ex
+-(0);
+-
+-168 
+-	}
+-}
+-
+-171 
+-	$w
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-)
+-
+-173 if(
+-	`lek
+-(
+-fsfd
+-, 
+-c
+- * 
+-BSIZE
+-, 0) != sec * BSIZE){
+-
+-174 
+-	`
+-("lseek");
+-
+-175 
+-	`ex
+-(1);
+-
+-177 if(
+-	`wre
+-(
+-fsfd
+-, 
+-buf
+-, 
+-BSIZE
+-) != BSIZE){
+-
+-178 
+-	`
+-("write");
+-
+-179 
+-	`ex
+-(1);
+-
+-181 
+-	}
+-}
+-
+-184 
+-	$wode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-)
+-
+-186 
+-buf
+-[
+-BSIZE
+-];
+-
+-187 
+-ut
+- 
+-bn
+-;
+-
+-188 
+-dode
+- *
+-d
+-;
+-
+-190 
+-bn
+- = 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-);
+-
+-191 
+-	`r
+-(
+-bn
+-, 
+-buf
+-);
+-
+-192 
+-d
+- = ((
+-dode
+-*)
+-buf
+-+ (
+-um
+- % 
+-IPB
+-);
+-
+-193 *
+-d
+- = *
+-
+-;
+-
+-194 
+-	`w
+-(
+-bn
+-, 
+-buf
+-);
+-
+-195 
+-	}
+-}
+-
+-198 
+-	$rode
+-(
+-ut
+- 
+-um
+-, 
+-dode
+- *
+-
+-)
+-
+-200 
+-buf
+-[
+-BSIZE
+-];
+-
+-201 
+-ut
+- 
+-bn
+-;
+-
+-202 
+-dode
+- *
+-d
+-;
+-
+-204 
+-bn
+- = 
+-	`IBLOCK
+-(
+-um
+-, 
+-sb
+-);
+-
+-205 
+-	`r
+-(
+-bn
+-, 
+-buf
+-);
+-
+-206 
+-d
+- = ((
+-dode
+-*)
+-buf
+-+ (
+-um
+- % 
+-IPB
+-);
+-
+-207 *
+-
+- = *
+-d
+-;
+-
+-208 
+-	}
+-}
+-
+-211 
+-	$r
+-(
+-ut
+- 
+-c
+-, *
+-buf
+-)
+-
+-213 if(
+-	`lek
+-(
+-fsfd
+-, 
+-c
+- * 
+-BSIZE
+-, 0) != sec * BSIZE){
+-
+-214 
+-	`
+-("lseek");
+-
+-215 
+-	`ex
+-(1);
+-
+-217 if(
+-	`ad
+-(
+-fsfd
+-, 
+-buf
+-, 
+-BSIZE
+-) != BSIZE){
+-
+-218 
+-	`
+-("read");
+-
+-219 
+-	`ex
+-(1);
+-
+-221 
+-	}
+-}
+-
+-223 
+-ut
+-
+-
+-224 
+-	$oc
+-(
+-usht
+- 
+-ty
+-)
+-
+-226 
+-ut
+- 
+-um
+- = 
+-ode
+-++;
+-
+-227 
+-dode
+- 
+-d
+-;
+-
+-229 
+-	`bzo
+-(&
+-d
+-, (din));
+-
+-230 
+-d
+-.
+-ty
+- = 
+-	`xsht
+-(type);
+-
+-231 
+-d
+-.
+-k
+- = 
+-	`xsht
+-(1);
+-
+-232 
+-d
+-.
+-size
+- = 
+-	`xt
+-(0);
+-
+-233 
+-	`wode
+-(
+-um
+-, &
+-d
+-);
+-
+-234  
+-um
+-;
+-
+-235 
+-	}
+-}
+-
+-238 
+-	$bloc
+-(
+-ud
+-)
+-
+-240 
+-uch
+- 
+-buf
+-[
+-BSIZE
+-];
+-
+-241 
+-i
+-;
+-
+-243 
+-	`tf
+-("bloc: f %d blockhavblod\n", 
+-ud
+-);
+-
+-244 
+-	`as
+-(
+-ud
+- < 
+-BSIZE
+-*8);
+-
+-245 
+-	`bzo
+-(
+-buf
+-, 
+-BSIZE
+-);
+-
+-246 
+-i
+- = 0; i < 
+-ud
+-; i++){
+-
+-247 
+-buf
+-[
+-i
+-/8] = buf[i/8] | (0x1 << (i%8));
+-
+-249 
+-	`tf
+-("bloc: wrbm block %d\n", 
+-sb
+-.
+-bmt
+-);
+-
+-250 
+-	`w
+-(
+-sb
+-.
+-bmt
+-, 
+-buf
+-);
+-
+-251 
+-	}
+-}
+-
+-253 
+-	#m
+-(
+-a
+-, 
+-b
+-(< (b? (a: (b))
+-
+-	)
+-
+-256 
+-	$d
+-(
+-ut
+- 
+-um
+-, *
+-xp
+-, 
+-n
+-)
+-
+-258 *
+-p
+- = (*)
+-xp
+-;
+-
+-259 
+-ut
+- 
+-fbn
+-, 
+-off
+-, 
+-n1
+-;
+-
+-260 
+-dode
+- 
+-d
+-;
+-
+-261 
+-buf
+-[
+-BSIZE
+-];
+-
+-262 
+-ut
+- 
+-de
+-[
+-NINDIRECT
+-];
+-
+-263 
+-ut
+- 
+-x
+-;
+-
+-265 
+-	`rode
+-(
+-um
+-, &
+-d
+-);
+-
+-266 
+-off
+- = 
+-	`xt
+-(
+-d
+-.
+-size
+-);
+-
+-268 
+-n
+- > 0){
+-
+-269 
+-fbn
+- = 
+-off
+- / 
+-BSIZE
+-;
+-
+-270 
+-	`as
+-(
+-fbn
+- < 
+-MAXFILE
+-);
+-
+-271 if(
+-fbn
+- < 
+-NDIRECT
+-){
+-
+-272 if(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-fbn
+-]) == 0){
+-
+-273 
+-d
+-.
+-addrs
+-[
+-fbn
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-275 
+-x
+- = 
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-fbn
+-]);
+-
+-277 if(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]) == 0){
+-
+-278 
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-280 
+-	`r
+-(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]), (*)
+-de
+-);
+-
+-281 if(
+-de
+-[
+-fbn
+- - 
+-NDIRECT
+-] == 0){
+-
+-282 
+-de
+-[
+-fbn
+- - 
+-NDIRECT
+-] = 
+-	`xt
+-(
+-block
+-++);
+-
+-283 
+-	`w
+-(
+-	`xt
+-(
+-d
+-.
+-addrs
+-[
+-NDIRECT
+-]), (*)
+-de
+-);
+-
+-285 
+-x
+- = 
+-	`xt
+-(
+-de
+-[
+-fbn
+--
+-NDIRECT
+-]);
+-
+-287 
+-n1
+- = 
+-	`m
+-(
+-n
+-, (
+-fbn
+- + 1* 
+-BSIZE
+- - 
+-off
+-);
+-
+-288 
+-	`r
+-(
+-x
+-, 
+-buf
+-);
+-
+-289 
+-	`bcy
+-(
+-p
+-, 
+-buf
+- + 
+-off
+- - (
+-fbn
+- * 
+-BSIZE
+-), 
+-n1
+-);
+-
+-290 
+-	`w
+-(
+-x
+-, 
+-buf
+-);
+-
+-291 
+-n
+- -
+-n1
+-;
+-
+-292 
+-off
+- +
+-n1
+-;
+-
+-293 
+-p
+- +
+-n1
+-;
+-
+-295 
+-d
+-.
+-size
+- = 
+-	`xt
+-(
+-off
+-);
+-
+-296 
+-	`wode
+-(
+-um
+-, &
+-d
+-);
+-
+-297 
+-	}
+-}
+-
+-	@mman.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"fs.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[]){
+-
+-8 *
+-addr
+- = (*) 24000;
+-
+-9 
+-ngth
+- = 21;
+-
+-10 
+-
+-=0, 
+-ags
+-=0, 
+-fd
+-=21, 
+-offt
+-=24;
+-
+-12 
+-t
+- = 
+-	`mm
+-(
+-addr
+-, 
+-ngth
+-, 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-13 i(
+-t
+-==0){
+-
+-14 
+-	`tf
+-(1, "callo mmap succeeded\n");
+-
+-16 
+-
+- = 
+-	`munm
+-(
+-addr
+-, 
+-ngth
+-);
+-
+-17 i(
+-
+-==0){
+-
+-18 
+-	`tf
+-(1, "callo munmap succeeded\n");
+-
+-20 
+-	`ex
+-();
+-
+-21 
+-	}
+-}
+-
+-	@mmu.h
+-
+-5 
+-	#FL_IF
+- 0x00000200
+-
+-6 
+-
+-	)
+-
+-8 
+-	#CR0_PE
+- 0x00000001
+-
+-9 
+-	#CR0_WP
+- 0x00010000
+-
+-10 
+-	#CR0_PG
+- 0x80000000
+-
+-11 
+-
+-	)
+-
+-12 
+-	#CR4_PSE
+- 0x00000010
+-
+-13 
+-
+-	)
+-
+-15 
+-	#SEG_KCODE
+- 1
+-
+-16 
+-	#SEG_KDATA
+- 2
+-
+-17 
+-	#SEG_UCODE
+- 3
+-
+-18 
+-	#SEG_UDATA
+- 4
+-
+-19 
+-	#SEG_TSS
+- 5
+-
+-20 
+-
+-	)
+-
+-22 
+-	#NSEGS
+- 6
+-
+-	)
+-
+-24 #ide
+-__ASSEMBLER__
+-
+-
+-26 
+-	sgdesc
+- {
+-
+-27 
+-ut
+- 
+-	mlim_15_0
+- : 16;
+-
+-28 
+-ut
+- 
+-	mba_15_0
+- : 16;
+-
+-29 
+-ut
+- 
+-	mba_23_16
+- : 8;
+-
+-30 
+-ut
+- 
+-	mty
+- : 4;
+-
+-31 
+-ut
+- 
+-	ms
+- : 1;
+-
+-32 
+-ut
+- 
+-	md
+- : 2;
+-
+-33 
+-ut
+- 
+-	mp
+- : 1;
+-
+-34 
+-ut
+- 
+-	mlim_19_16
+- : 4;
+-
+-35 
+-ut
+- 
+-	mavl
+- : 1;
+-
+-36 
+-ut
+- 
+-	mrsv1
+- : 1;
+-
+-37 
+-ut
+- 
+-	mdb
+- : 1;
+-
+-38 
+-ut
+- 
+-	mg
+- : 1;
+-
+-39 
+-ut
+- 
+-	mba_31_24
+- : 8;
+-
+-43 
+-	#SEG
+-(
+-ty
+-, 
+-ba
+-, 
+-lim
+-, 
+-d
+-(
+-gdesc
+-) \
+-
+-44 { ((
+-lim
+->> 12& 0xffff, (
+-ut
+-)(
+-ba
+-) & 0xffff, \
+-
+-45 ((
+-ut
+-)(
+-ba
+->> 16& 0xff, 
+-ty
+-, 1, 
+-d
+-, 1, \
+-
+-46 (
+-ut
+-)(
+-lim
+->> 28, 0, 0, 1, 1, (ut)(
+-ba
+->> 24 }
+-
+-	)
+-
+-47 
+-	#SEG16
+-(
+-ty
+-, 
+-ba
+-, 
+-lim
+-, 
+-d
+-(
+-gdesc
+-) \
+-
+-48 { (
+-lim
+-& 0xffff, (
+-ut
+-)(
+-ba
+-) & 0xffff, \
+-
+-49 ((
+-ut
+-)(
+-ba
+->> 16& 0xff, 
+-ty
+-, 1, 
+-d
+-, 1, \
+-
+-50 (
+-ut
+-)(
+-lim
+->> 16, 0, 0, 1, 0, (ut)(
+-ba
+->> 24 }
+-
+-	)
+-
+-53 
+-	#DPL_USER
+- 0x3
+-
+-54 
+-
+-	)
+-
+-56 
+-	#STA_X
+- 0x8
+-
+-57 
+-	#STA_W
+- 0x2
+-
+-58 
+-	#STA_R
+- 0x2
+-
+-59 
+-
+-	)
+-
+-61 
+-	#STS_T32A
+- 0x9
+-
+-62 
+-	#STS_IG32
+- 0xE
+-
+-63 
+-	#STS_TG32
+- 0xF
+-
+-64 
+-
+-	)
+-
+-74 
+-	#PDX
+-(
+-va
+-(((
+-ut
+-)(va>> 
+-PDXSHIFT
+-& 0x3FF)
+-
+-	)
+-
+-77 
+-	#PTX
+-(
+-va
+-(((
+-ut
+-)(va>> 
+-PTXSHIFT
+-& 0x3FF)
+-
+-	)
+-
+-80 
+-	#PGADDR
+-(
+-d
+-, 
+-t
+-, 
+-o
+-((
+-ut
+-)((d<< 
+-PDXSHIFT
+- | (t<< 
+-PTXSHIFT
+- | (o)))
+-
+-	)
+-
+-83 
+-	#NPDENTRIES
+- 1024
+-
+-84 
+-	#NPTENTRIES
+- 1024
+-
+-85 
+-	#PGSIZE
+- 4096
+-
+-86 
+-
+-	)
+-
+-87 
+-	#PTXSHIFT
+- 12
+-
+-88 
+-	#PDXSHIFT
+- 22
+-
+-89 
+-
+-	)
+-
+-90 
+-	#PGROUNDUP
+-(
+-sz
+-(((sz)+
+-PGSIZE
+--1& ~(PGSIZE-1))
+-
+-	)
+-
+-91 
+-	#PGROUNDDOWN
+-(
+-a
+-(()& ~(
+-PGSIZE
+--1))
+-
+-	)
+-
+-94 
+-	#PTE_P
+- 0x001
+-
+-95 
+-	#PTE_W
+- 0x002
+-
+-96 
+-	#PTE_U
+- 0x004
+-
+-97 
+-	#PTE_PS
+- 0x080
+-
+-98 
+-
+-	)
+-
+-100 
+-	#PTE_ADDR
+-(
+-e
+-((
+-ut
+-)& ~0xFFF)
+-
+-	)
+-
+-101 
+-	#PTE_FLAGS
+-(
+-e
+-((
+-ut
+-)& 0xFFF)
+-
+-	)
+-
+-103 #ide
+-__ASSEMBLER__
+-
+-
+-104 
+-ut
+- 
+-	te_t
+-;
+-
+-107 
+-	sske
+- {
+-
+-108 
+-ut
+- 
+-	mlk
+-;
+-
+-109 
+-ut
+- 
+-	me0
+-;
+-
+-110 
+-usht
+- 
+-	mss0
+-;
+-
+-111 
+-usht
+- 
+-	mddg1
+-;
+-
+-112 
+-ut
+- *
+-	me1
+-;
+-
+-113 
+-usht
+- 
+-	mss1
+-;
+-
+-114 
+-usht
+- 
+-	mddg2
+-;
+-
+-115 
+-ut
+- *
+-	me2
+-;
+-
+-116 
+-usht
+- 
+-	mss2
+-;
+-
+-117 
+-usht
+- 
+-	mddg3
+-;
+-
+-118 *
+-	m3
+-;
+-
+-119 
+-ut
+- *
+-	me
+-;
+-
+-120 
+-ut
+- 
+-	meags
+-;
+-
+-121 
+-ut
+- 
+-	mx
+-;
+-
+-122 
+-ut
+- 
+-	mecx
+-;
+-
+-123 
+-ut
+- 
+-	medx
+-;
+-
+-124 
+-ut
+- 
+-	mebx
+-;
+-
+-125 
+-ut
+- *
+-	me
+-;
+-
+-126 
+-ut
+- *
+-	mebp
+-;
+-
+-127 
+-ut
+- 
+-	mesi
+-;
+-
+-128 
+-ut
+- 
+-	medi
+-;
+-
+-129 
+-usht
+- 
+-	mes
+-;
+-
+-130 
+-usht
+- 
+-	mddg4
+-;
+-
+-131 
+-usht
+- 
+-	mcs
+-;
+-
+-132 
+-usht
+- 
+-	mddg5
+-;
+-
+-133 
+-usht
+- 
+-	mss
+-;
+-
+-134 
+-usht
+- 
+-	mddg6
+-;
+-
+-135 
+-usht
+- 
+-	mds
+-;
+-
+-136 
+-usht
+- 
+-	mddg7
+-;
+-
+-137 
+-usht
+- 
+-	mfs
+-;
+-
+-138 
+-usht
+- 
+-	mddg8
+-;
+-
+-139 
+-usht
+- 
+-	mgs
+-;
+-
+-140 
+-usht
+- 
+-	mddg9
+-;
+-
+-141 
+-usht
+- 
+-	mldt
+-;
+-
+-142 
+-usht
+- 
+-	mddg10
+-;
+-
+-143 
+-usht
+- 
+-	mt
+-;
+-
+-144 
+-usht
+- 
+-	miomb
+-;
+-
+-148 
+-	sgedesc
+- {
+-
+-149 
+-ut
+- 
+-	moff_15_0
+- : 16;
+-
+-150 
+-ut
+- 
+-	mcs
+- : 16;
+-
+-151 
+-ut
+- 
+-	mgs
+- : 5;
+-
+-152 
+-ut
+- 
+-	mrsv1
+- : 3;
+-
+-153 
+-ut
+- 
+-	mty
+- : 4;
+-
+-154 
+-ut
+- 
+-	ms
+- : 1;
+-
+-155 
+-ut
+- 
+-	md
+- : 2;
+-
+-156 
+-ut
+- 
+-	mp
+- : 1;
+-
+-157 
+-ut
+- 
+-	moff_31_16
+- : 16;
+-
+-168 
+-	#SETGATE
+-(
+-ge
+-, 
+-ip
+-, 
+-l
+-, 
+-off
+-, 
+-d
+-) \
+-
+-170 (
+-ge
+-).
+-off_15_0
+- = (
+-ut
+-)(
+-off
+-) & 0xffff; \
+-
+-171 (
+-ge
+-).
+-cs
+- = (
+-l
+-); \
+-
+-172 (
+-ge
+-).
+-gs
+- = 0; \
+-
+-173 (
+-ge
+-).
+-rsv1
+- = 0; \
+-
+-174 (
+-ge
+-).
+-ty
+- = (
+-ip
+-? 
+-STS_TG32
+- : 
+-STS_IG32
+-; \
+-
+-175 (
+-ge
+-).
+-s
+- = 0; \
+-
+-176 (
+-ge
+-).
+-d
+- = (
+-d
+-); \
+-
+-177 (
+-ge
+-).
+-p
+- = 1; \
+-
+-178 (
+-ge
+-).
+-off_31_16
+- = (
+-ut
+-)(
+-off
+-) >> 16; \
+-
+-179 }
+-
+-	)
+-
+-	@mp.c
+-
+-5 
+-	~"tys.h
+-"
+-
+-6 
+-	~"defs.h
+-"
+-
+-7 
+-	~"m.h
+-"
+-
+-8 
+-	~"memyout.h
+-"
+-
+-9 
+-	~"mp.h
+-"
+-
+-10 
+-	~"x86.h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-14 
+-u
+- 
+-	gus
+-[
+-NCPU
+-];
+-
+-15 
+-	gnu
+-;
+-
+-16 
+-uch
+- 
+-	gipicid
+-;
+-
+-18 
+-uch
+-
+-
+-19 
+-	$sum
+-(
+-uch
+- *
+-addr
+-, 
+-n
+-)
+-
+-21 
+-i
+-, 
+-sum
+-;
+-
+-23 
+-sum
+- = 0;
+-
+-24 
+-i
+-=0; i<
+-n
+-; i++)
+-
+-25 
+-sum
+- +
+-addr
+-[
+-i
+-];
+-
+-26  
+-sum
+-;
+-
+-27 
+-	}
+-}
+-
+-30 
+-mp
+-*
+-
+-31 
+-	$mpch1
+-(
+-ut
+- 
+-a
+-, 
+-n
+-)
+-
+-33 
+-uch
+- *
+-e
+-, *
+-p
+-, *
+-addr
+-;
+-
+-35 
+-addr
+- = 
+-	`P2V
+-(
+-a
+-);
+-
+-36 
+-e
+- = 
+-addr
+-+
+-n
+-;
+-
+-37 
+-p
+- = 
+-addr
+-; < 
+-e
+-; +(
+-mp
+-))
+-
+-38 if(
+-	`memcmp
+-(
+-p
+-, "_MP_", 4=0 && 
+-	`sum
+-, (
+-mp
+-)) == 0)
+-
+-39  (
+-mp
+-*)
+-p
+-;
+-
+-41 
+-	}
+-}
+-
+-48 
+-mp
+-*
+-
+-49 
+-	$mpch
+-()
+-
+-51 
+-uch
+- *
+-bda
+-;
+-
+-52 
+-ut
+- 
+-p
+-;
+-
+-53 
+-mp
+- *mp;
+-
+-55 
+-bda
+- = (
+-uch
+- *
+-	`P2V
+-(0x400);
+-
+-56 if((
+-p
+- = ((
+-bda
+-[0x0F]<<8)| bda[0x0E]) << 4)){
+-
+-57 if((
+-mp
+- = 
+-	`mpch1
+-(
+-p
+-, 1024)))
+-
+-58  
+-mp
+-;
+-
+-60 
+-p
+- = ((
+-bda
+-[0x14]<<8)|bda[0x13])*1024;
+-
+-61 if((
+-mp
+- = 
+-	`mpch1
+-(
+-p
+--1024, 1024)))
+-
+-62  
+-mp
+-;
+-
+-64  
+-	`mpch1
+-(0xF0000, 0x10000);
+-
+-65 
+-	}
+-}
+-
+-72 
+-mpcf
+-*
+-
+-73 
+-	$mpcfig
+-(
+-mp
+- **
+-pmp
+-)
+-
+-75 
+-mpcf
+- *
+-cf
+-;
+-
+-76 
+-mp
+- *mp;
+-
+-78 if((
+-mp
+- = 
+-	`mpch
+-()=0 || mp->
+-phyddr
+- == 0)
+-
+-80 
+-cf
+- = (
+-mpcf
+-*
+-	`P2V
+-((
+-ut
+-
+-mp
+-->
+-phyddr
+-);
+-
+-81 if(
+-	`memcmp
+-(
+-cf
+-, "PCMP", 4) != 0)
+-
+-83 if(
+-cf
+-->
+-vsi
+- != 1 && conf->version != 4)
+-
+-85 if(
+-	`sum
+-((
+-uch
+-*)
+-cf
+-, cf->
+-ngth
+-) != 0)
+-
+-87 *
+-pmp
+- = 
+-mp
+-;
+-
+-88  
+-cf
+-;
+-
+-89 
+-	}
+-}
+-
+-92 
+-	$mp
+-()
+-
+-94 
+-uch
+- *
+-p
+-, *
+-e
+-;
+-
+-95 
+-ismp
+-;
+-
+-96 
+-mp
+- *mp;
+-
+-97 
+-mpcf
+- *
+-cf
+-;
+-
+-98 
+-mroc
+- *
+-oc
+-;
+-
+-99 
+-mpipic
+- *
+-ipic
+-;
+-
+-101 if((
+-cf
+- = 
+-	`mpcfig
+-(&
+-mp
+-)) == 0)
+-
+-102 
+-	`nic
+-("Expectoun onn SMP");
+-
+-103 
+-ismp
+- = 1;
+-
+-104 
+-pic
+- = (
+-ut
+-*)
+-cf
+-->
+-piddr
+-;
+-
+-105 
+-p
+-=(
+-uch
+-*)(
+-cf
+-+1), 
+-e
+-=(uch*)cf+cf->
+-ngth
+-;<e; ){
+-
+-106 *
+-p
+-){
+-
+-107 
+-MPPROC
+-:
+-
+-108 
+-oc
+- = (
+-mroc
+-*)
+-p
+-;
+-
+-109 if(
+-nu
+- < 
+-NCPU
+-) {
+-
+-110 
+-us
+-[
+-nu
+-].
+-icid
+- = 
+-oc
+-->apicid;
+-
+-111 
+-nu
+-++;
+-
+-113 
+-p
+- +(
+-mroc
+-);
+-
+-115 
+-MPIOAPIC
+-:
+-
+-116 
+-ipic
+- = (
+-mpipic
+-*)
+-p
+-;
+-
+-117 
+-ipicid
+- = 
+-ipic
+-->
+-io
+-;
+-
+-118 
+-p
+- +(
+-mpipic
+-);
+-
+-120 
+-MPBUS
+-:
+-
+-121 
+-MPIOINTR
+-:
+-
+-122 
+-MPLINTR
+-:
+-
+-123 
+-p
+- += 8;
+-
+-126 
+-ismp
+- = 0;
+-
+-130 if(!
+-ismp
+-)
+-
+-131 
+-	`nic
+-("Didn't find suitable machine");
+-
+-133 if(
+-mp
+-->
+-imp
+-){
+-
+-136 
+-	`outb
+-(0x22, 0x70);
+-
+-137 
+-	`outb
+-(0x23, 
+-	`b
+-(0x23) | 1);
+-
+-139 
+-	}
+-}
+-
+-	@mp.h
+-
+-3 
+-	smp
+- {
+-
+-4 
+-uch
+- 
+-	msigtu
+-[4];
+-
+-5 *
+-	mphyddr
+-;
+-
+-6 
+-uch
+- 
+-	mngth
+-;
+-
+-7 
+-uch
+- 
+-	meev
+-;
+-
+-8 
+-uch
+- 
+-	mchecksum
+-;
+-
+-9 
+-uch
+- 
+-	mty
+-;
+-
+-10 
+-uch
+- 
+-	mimp
+-;
+-
+-11 
+-uch
+- 
+-	mrved
+-[3];
+-
+-14 
+-	smpcf
+- {
+-
+-15 
+-uch
+- 
+-	msigtu
+-[4];
+-
+-16 
+-usht
+- 
+-	mngth
+-;
+-
+-17 
+-uch
+- 
+-	mvsi
+-;
+-
+-18 
+-uch
+- 
+-	mchecksum
+-;
+-
+-19 
+-uch
+- 
+-	modu
+-[20];
+-
+-20 
+-ut
+- *
+-	mmb
+-;
+-
+-21 
+-usht
+- 
+-	mmngth
+-;
+-
+-22 
+-usht
+- 
+-	my
+-;
+-
+-23 
+-ut
+- *
+-	mpiddr
+-;
+-
+-24 
+-usht
+- 
+-	mxngth
+-;
+-
+-25 
+-uch
+- 
+-	mxchecksum
+-;
+-
+-26 
+-uch
+- 
+-	mrved
+-;
+-
+-29 
+-	smroc
+- {
+-
+-30 
+-uch
+- 
+-	mty
+-;
+-
+-31 
+-uch
+- 
+-	micid
+-;
+-
+-32 
+-uch
+- 
+-	mvsi
+-;
+-
+-33 
+-uch
+- 
+-	mags
+-;
+-
+-34 
+-	#MPBOOT
+- 0x02
+-
+-35 
+-uch
+- 
+-sigtu
+-[4];
+-
+-36 
+-ut
+- 
+-u
+-;
+-
+-37 
+-uch
+- 
+-rved
+-[8];
+-
+-	)
+-
+-40 
+-	smpipic
+- {
+-
+-41 
+-uch
+- 
+-	mty
+-;
+-
+-42 
+-uch
+- 
+-	mio
+-;
+-
+-43 
+-uch
+- 
+-	mvsi
+-;
+-
+-44 
+-uch
+- 
+-	mags
+-;
+-
+-45 
+-ut
+- *
+-	maddr
+-;
+-
+-49 
+-	#MPPROC
+- 0x00
+-
+-50 
+-	#MPBUS
+- 0x01
+-
+-51 
+-	#MPIOAPIC
+- 0x02
+-
+-52 
+-	#MPIOINTR
+- 0x03
+-
+-53 
+-	#MPLINTR
+- 0x04
+-
+-54 
+-
+-	)
+-
+-	@param.h
+-
+-1 
+-	#NPROC
+- 64
+-
+-2 
+-	#KSTACKSIZE
+- 4096
+-
+-3 
+-	#NCPU
+- 8
+-
+-4 
+-	#NOFILE
+- 16
+-
+-5 
+-	#NFILE
+- 100
+-
+-6 
+-	#NINODE
+- 50
+-
+-7 
+-	#NDEV
+- 10
+-
+-8 
+-	#ROOTDEV
+- 1
+-
+-9 
+-	#MAXARG
+- 32
+-
+-10 
+-	#MAXOPBLOCKS
+- 10
+-
+-11 
+-	#LOGSIZE
+- (
+-MAXOPBLOCKS
+-*3)
+-
+-12 
+-	#NBUF
+- (
+-MAXOPBLOCKS
+-*3)
+-
+-13 
+-	#FSSIZE
+- 1000
+-
+-14 
+-
+-	)
+-
+-	@picirq.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"s.h
+-"
+-
+-6 
+-	#IO_PIC1
+- 0x20
+-
+-7 
+-	#IO_PIC2
+- 0xA0
+-
+-8 
+-
+-	)
+-
+-11 
+-	$pic
+-()
+-
+-14 
+-	`outb
+-(
+-IO_PIC1
+-+1, 0xFF);
+-
+-15 
+-	`outb
+-(
+-IO_PIC2
+-+1, 0xFF);
+-
+-16 
+-	}
+-}
+-
+-	@pipe.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"mmu.h
+-"
+-
+-5 
+-	~"oc.h
+-"
+-
+-6 
+-	~"fs.h
+-"
+-
+-7 
+-	~"lock.h
+-"
+-
+-8 
+-	~"ock.h
+-"
+-
+-9 
+-	~"fe.h
+-"
+-
+-11 
+-	#PIPESIZE
+- 512
+-
+-	)
+-
+-13 
+-	spe
+- {
+-
+-14 
+-lock
+- 
+-	mlock
+-;
+-
+-15 
+-	mda
+-[
+-PIPESIZE
+-];
+-
+-16 
+-ut
+- 
+-	md
+-;
+-
+-17 
+-ut
+- 
+-	mnwre
+-;
+-
+-18 
+-	mad
+-;
+-
+-19 
+-	mwre
+-;
+-
+-23 
+-	$poc
+-(
+-fe
+- **
+-f0
+-, f**
+-f1
+-)
+-
+-25 
+-pe
+- *
+-p
+-;
+-
+-27 
+-p
+- = 0;
+-
+-28 *
+-f0
+- = *
+-f1
+- = 0;
+-
+-29 if((*
+-f0
+- = 
+-	`foc
+-()=0 || (*
+-f1
+- = filealloc()) == 0)
+-
+-30 
+-bad
+-;
+-
+-31 if((
+-p
+- = (
+-pe
+-*)
+-	`kloc
+-()) == 0)
+-
+-32 
+-bad
+-;
+-
+-33 
+-p
+-->
+-ad
+- = 1;
+-
+-34 
+-p
+-->
+-wre
+- = 1;
+-
+-35 
+-p
+-->
+-nwre
+- = 0;
+-
+-36 
+-p
+-->
+-d
+- = 0;
+-
+-37 
+-	`lock
+-(&
+-p
+-->
+-lock
+-, "pipe");
+-
+-38 (*
+-f0
+-)->
+-ty
+- = 
+-FD_PIPE
+-;
+-
+-39 (*
+-f0
+-)->
+-adab
+- = 1;
+-
+-40 (*
+-f0
+-)->
+-wrab
+- = 0;
+-
+-41 (*
+-f0
+-)->
+-pe
+- = 
+-p
+-;
+-
+-42 (*
+-f1
+-)->
+-ty
+- = 
+-FD_PIPE
+-;
+-
+-43 (*
+-f1
+-)->
+-adab
+- = 0;
+-
+-44 (*
+-f1
+-)->
+-wrab
+- = 1;
+-
+-45 (*
+-f1
+-)->
+-pe
+- = 
+-p
+-;
+-
+-49 
+-bad
+-:
+-
+-50 if(
+-p
+-)
+-
+-51 
+-	`k
+-((*)
+-p
+-);
+-
+-52 if(*
+-f0
+-)
+-
+-53 
+-	`feo
+-(*
+-f0
+-);
+-
+-54 if(*
+-f1
+-)
+-
+-55 
+-	`feo
+-(*
+-f1
+-);
+-
+-57 
+-	}
+-}
+-
+-60 
+-	$peo
+-(
+-pe
+- *
+-p
+-, 
+-wrab
+-)
+-
+-62 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-63 if(
+-wrab
+-){
+-
+-64 
+-p
+-->
+-wre
+- = 0;
+-
+-65 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-67 
+-p
+-->
+-ad
+- = 0;
+-
+-68 
+-	`wakeup
+-(&
+-p
+-->
+-nwre
+-);
+-
+-70 if(
+-p
+-->
+-ad
+- =0 &&->
+-wre
+- == 0){
+-
+-71 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-72 
+-	`k
+-((*)
+-p
+-);
+-
+-74 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-75 
+-	}
+-}
+-
+-79 
+-	$pewre
+-(
+-pe
+- *
+-p
+-, *
+-addr
+-, 
+-n
+-)
+-
+-81 
+-i
+-;
+-
+-83 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-84 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-85 
+-p
+-->
+-nwre
+- =p->
+-d
+- + 
+-PIPESIZE
+-){
+-
+-86 if(
+-p
+-->
+-ad
+- =0 || 
+-	`myoc
+-()->
+-kd
+-){
+-
+-87 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-90 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-91 
+-	`p
+-(&
+-p
+-->
+-nwre
+-, &p->
+-lock
+-);
+-
+-93 
+-p
+-->
+-da
+-[p->
+-nwre
+-++ % 
+-PIPESIZE
+-] = 
+-addr
+-[
+-i
+-];
+-
+-95 
+-	`wakeup
+-(&
+-p
+-->
+-d
+-);
+-
+-96 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-97  
+-n
+-;
+-
+-98 
+-	}
+-}
+-
+-101 
+-	$pd
+-(
+-pe
+- *
+-p
+-, *
+-addr
+-, 
+-n
+-)
+-
+-103 
+-i
+-;
+-
+-105 
+-	`acque
+-(&
+-p
+-->
+-lock
+-);
+-
+-106 
+-p
+-->
+-d
+- =p->
+-nwre
+- &&->
+-wre
+-){
+-
+-107 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-108 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-111 
+-	`p
+-(&
+-p
+-->
+-d
+-, &p->
+-lock
+-);
+-
+-113 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-114 if(
+-p
+-->
+-d
+- =p->
+-nwre
+-)
+-
+-116 
+-addr
+-[
+-i
+-] = 
+-p
+-->
+-da
+-[p->
+-d
+-++ % 
+-PIPESIZE
+-];
+-
+-118 
+-	`wakeup
+-(&
+-p
+-->
+-nwre
+-);
+-
+-119 
+-	`a
+-(&
+-p
+-->
+-lock
+-);
+-
+-120  
+-i
+-;
+-
+-121 
+-	}
+-}
+-
+-	@printf.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$putc
+-(
+-fd
+-, 
+-c
+-)
+-
+-8 
+-	`wre
+-(
+-fd
+-, &
+-c
+-, 1);
+-
+-9 
+-	}
+-}
+-
+-12 
+-	$tt
+-(
+-fd
+-, 
+-xx
+-, 
+-ba
+-, 
+-sgn
+-)
+-
+-14 
+-digs
+-[] = "0123456789ABCDEF";
+-
+-15 
+-buf
+-[16];
+-
+-16 
+-i
+-, 
+-g
+-;
+-
+-17 
+-ut
+- 
+-x
+-;
+-
+-19 
+-g
+- = 0;
+-
+-20 if(
+-sgn
+- && 
+-xx
+- < 0){
+-
+-21 
+-g
+- = 1;
+-
+-22 
+-x
+- = -
+-xx
+-;
+-
+-24 
+-x
+- = 
+-xx
+-;
+-
+-27 
+-i
+- = 0;
+-
+-29 
+-buf
+-[
+-i
+-++] = 
+-digs
+-[
+-x
+- % 
+-ba
+-];
+-
+-30 }(
+-x
+- /
+-ba
+-) != 0);
+-
+-31 if(
+-g
+-)
+-
+-32 
+-buf
+-[
+-i
+-++] = '-';
+-
+-34 --
+-i
+- >= 0)
+-
+-35 
+-	`putc
+-(
+-fd
+-, 
+-buf
+-[
+-i
+-]);
+-
+-36 
+-	}
+-}
+-
+-40 
+-	$tf
+-(
+-fd
+-, c *
+-fmt
+-, ...)
+-
+-42 *
+-s
+-;
+-
+-43 
+-c
+-, 
+-i
+-, 
+-e
+-;
+-
+-44 
+-ut
+- *
+-
+-;
+-
+-46 
+-e
+- = 0;
+-
+-47 
+-
+- = (
+-ut
+-*)(*)&
+-fmt
+- + 1;
+-
+-48 
+-i
+- = 0; 
+-fmt
+-[i]; i++){
+-
+-49 
+-c
+- = 
+-fmt
+-[
+-i
+-] & 0xff;
+-
+-50 if(
+-e
+- == 0){
+-
+-51 if(
+-c
+- == '%'){
+-
+-52 
+-e
+- = '%';
+-
+-54 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-56 } if(
+-e
+- == '%'){
+-
+-57 if(
+-c
+- == 'd'){
+-
+-58 
+-	`tt
+-(
+-fd
+-, *
+-
+-, 10, 1);
+-
+-59 
+-
+-++;
+-
+-60 } if(
+-c
+- == 'x' || c == 'p'){
+-
+-61 
+-	`tt
+-(
+-fd
+-, *
+-
+-, 16, 0);
+-
+-62 
+-
+-++;
+-
+-63 } if(
+-c
+- == 's'){
+-
+-64 
+-s
+- = (*)*
+-
+-;
+-
+-65 
+-
+-++;
+-
+-66 if(
+-s
+- == 0)
+-
+-67 
+-s
+- = "(null)";
+-
+-68 *
+-s
+- != 0){
+-
+-69 
+-	`putc
+-(
+-fd
+-, *
+-s
+-);
+-
+-70 
+-s
+-++;
+-
+-72 } if(
+-c
+- == 'c'){
+-
+-73 
+-	`putc
+-(
+-fd
+-, *
+-
+-);
+-
+-74 
+-
+-++;
+-
+-75 } if(
+-c
+- == '%'){
+-
+-76 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-79 
+-	`putc
+-(
+-fd
+-, '%');
+-
+-80 
+-	`putc
+-(
+-fd
+-, 
+-c
+-);
+-
+-82 
+-e
+- = 0;
+-
+-85 
+-	}
+-}
+-
+-	@proc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"oc.h
+-"
+-
+-8 
+-	~"lock.h
+-"
+-
+-11 
+-lock
+- 
+-	mlock
+-;
+-
+-12 
+-oc
+- 
+-	moc
+-[
+-NPROC
+-];
+-
+-13 } 
+-	gab
+-;
+-
+-15 
+-oc
+- *
+-	goc
+-;
+-
+-17 
+-	gxid
+- = 1;
+-
+-18 

+-fkt
+-();
+-
+-19 

+-t
+-();
+-
+-21 
+-wakeup1
+-(*
+-ch
+-);
+-
+-24 
+-	$p
+-()
+-
+-26 
+-	`lock
+-(&
+-ab
+-.
+-lock
+-, "ptable");
+-
+-27 
+-	}
+-}
+-
+-31 
+-	$uid
+-() {
+-
+-32  
+-	`myu
+-()-
+-us
+-;
+-
+-33 
+-	}
+-}
+-
+-37 
+-u
+-*
+-
+-38 
+-	$myu
+-()
+-
+-40 
+-icid
+-, 
+-i
+-;
+-
+-42 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-43 
+-	`nic
+-("mycpu called with interruptsnabled\n");
+-
+-45 
+-icid
+- = 
+-	`picid
+-();
+-
+-48 
+-i
+- = 0; i < 
+-nu
+-; ++i) {
+-
+-49 i(
+-us
+-[
+-i
+-].
+-icid
+- ==picid)
+-
+-50  &
+-us
+-[
+-i
+-];
+-
+-52 
+-	`nic
+-("unknownpicid\n");
+-
+-53 
+-	}
+-}
+-
+-57 
+-oc
+-*
+-
+-58 
+-	$myoc
+-() {
+-
+-59 
+-u
+- *
+-c
+-;
+-
+-60 
+-oc
+- *
+-p
+-;
+-
+-61 
+-	`pushi
+-();
+-
+-62 
+-c
+- = 
+-	`myu
+-();
+-
+-63 
+-p
+- = 
+-c
+-->
+-oc
+-;
+-
+-64 
+-	`pi
+-();
+-
+-65  
+-p
+-;
+-
+-66 
+-	}
+-}
+-
+-73 
+-oc
+-*
+-
+-74 
+-	$loroc
+-()
+-
+-76 
+-oc
+- *
+-p
+-;
+-
+-77 *
+-
+-;
+-
+-79 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-81 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++)
+-
+-82 if(
+-p
+-->
+-e
+- =
+-UNUSED
+-)
+-
+-83 
+-found
+-;
+-
+-85 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-88 
+-found
+-:
+-
+-89 
+-p
+-->
+-e
+- = 
+-EMBRYO
+-;
+-
+-90 
+-p
+-->
+-pid
+- = 
+-xid
+-++;
+-
+-92 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-95 if((
+-p
+-->
+-kack
+- = 
+-	`kloc
+-()) == 0){
+-
+-96 
+-p
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-99 
+-
+- = 
+-p
+-->
+-kack
+- + 
+-KSTACKSIZE
+-;
+-
+-102 
+-
+- - *
+-p
+-->
+-tf
+-;
+-
+-103 
+-p
+-->
+-tf
+- = (
+-ame
+-*)
+-
+-;
+-
+-107 
+-
+- -= 4;
+-
+-108 *(
+-ut
+-*)
+-
+- = (ut)
+-t
+-;
+-
+-110 
+-
+- - *
+-p
+-->
+-cxt
+-;
+-
+-111 
+-p
+-->
+-cxt
+- = (cxt*)
+-
+-;
+-
+-112 
+-	`memt
+-(
+-p
+-->
+-cxt
+-, 0,  *p->context);
+-
+-113 
+-p
+-->
+-cxt
+-->
+-e
+- = (
+-ut
+-)
+-fkt
+-;
+-
+-115  
+-p
+-;
+-
+-116 
+-	}
+-}
+-
+-121 
+-	$ur
+-()
+-
+-123 
+-oc
+- *
+-p
+-;
+-
+-124 

+-_by_code_t
+-[], 
+-_by_code_size
+-[];
+-
+-126 
+-p
+- = 
+-	`loroc
+-();
+-
+-128 
+-oc
+- = 
+-p
+-;
+-
+-129 if((
+-p
+-->
+-pgd
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-130 
+-	`nic
+-("userinit: out of memory?");
+-
+-131 
+-	`uvm
+-(
+-p
+-->
+-pgd
+-, 
+-_by_code_t
+-, ()
+-_by_code_size
+-);
+-
+-132 
+-p
+-->
+-sz
+- = 
+-PGSIZE
+-;
+-
+-133 
+-	`memt
+-(
+-p
+-->
+-tf
+-, 0, (*p->tf));
+-
+-134 
+-p
+-->
+-tf
+-->
+-cs
+- = (
+-SEG_UCODE
+- << 3| 
+-DPL_USER
+-;
+-
+-135 
+-p
+-->
+-tf
+-->
+-ds
+- = (
+-SEG_UDATA
+- << 3| 
+-DPL_USER
+-;
+-
+-136 
+-p
+-->
+-tf
+-->
+-es
+- =->tf->
+-ds
+-;
+-
+-137 
+-p
+-->
+-tf
+-->
+-ss
+- =->tf->
+-ds
+-;
+-
+-138 
+-p
+-->
+-tf
+-->
+-eags
+- = 
+-FL_IF
+-;
+-
+-139 
+-p
+-->
+-tf
+-->
+-e
+- = 
+-PGSIZE
+-;
+-
+-140 
+-p
+-->
+-tf
+-->
+-e
+- = 0;
+-
+-142 
+-	`ry
+-(
+-p
+-->
+-me
+-, "initcode", (p->name));
+-
+-143 
+-p
+-->
+-cwd
+- = 
+-	`mei
+-("/");
+-
+-149 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-151 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-153 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-154 
+-	}
+-}
+-
+-159 
+-	$growoc
+-(
+-n
+-)
+-
+-161 
+-ut
+- 
+-sz
+-;
+-
+-162 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-164 
+-sz
+- = 
+-curoc
+-->sz;
+-
+-165 if(
+-n
+- > 0){
+-
+-166 if((
+-sz
+- = 
+-	`locuvm
+-(
+-curoc
+-->
+-pgd
+-, sz, sz + 
+-n
+-)) == 0)
+-
+-168 } if(
+-n
+- < 0){
+-
+-169 if((
+-sz
+- = 
+-	`docuvm
+-(
+-curoc
+-->
+-pgd
+-, sz, sz + 
+-n
+-)) == 0)
+-
+-172 
+-curoc
+-->
+-sz
+- = sz;
+-
+-173 
+-	`swchuvm
+-(
+-curoc
+-);
+-
+-175 
+-	}
+-}
+-
+-181 
+-	$fk
+-()
+-
+-183 
+-i
+-, 
+-pid
+-;
+-
+-184 
+-oc
+- *
+-
+-;
+-
+-185 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-188 if((
+-
+- = 
+-	`loroc
+-()) == 0){
+-
+-193 if((
+-
+-->
+-pgd
+- = 
+-	`cyuvm
+-(
+-curoc
+-->pgd, curoc->
+-sz
+-)) == 0){
+-
+-194 
+-	`k
+-(
+-
+-->
+-kack
+-);
+-
+-195 
+-
+-->
+-kack
+- = 0;
+-
+-196 
+-
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-199 
+-
+-->
+-sz
+- = 
+-curoc
+-->sz;
+-
+-200 
+-
+-->
+-
+- = 
+-curoc
+-;
+-
+-201 *
+-
+-->
+-tf
+- = *
+-curoc
+-->tf;
+-
+-204 
+-
+-->
+-tf
+-->
+-x
+- = 0;
+-
+-206 
+-i
+- = 0; i < 
+-NOFILE
+-; i++)
+-
+-207 if(
+-curoc
+-->
+-ofe
+-[
+-i
+-])
+-
+-208 
+-
+-->
+-ofe
+-[
+-i
+-] = 
+-	`fedup
+-(
+-curoc
+-->ofile[i]);
+-
+-209 
+-
+-->
+-cwd
+- = 
+-	`idup
+-(
+-curoc
+-->cwd);
+-
+-211 
+-	`ry
+-(
+-
+-->
+-me
+-, 
+-curoc
+-->name, (curproc->name));
+-
+-213 
+-pid
+- = 
+-
+-->pid;
+-
+-215 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-217 
+-
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-219 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-221  
+-pid
+-;
+-
+-222 
+-	}
+-}
+-
+-228 
+-	$ex
+-()
+-
+-230 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-231 
+-oc
+- *
+-p
+-;
+-
+-232 
+-fd
+-;
+-
+-234 if(
+-curoc
+- =
+-oc
+-)
+-
+-235 
+-	`nic
+-("initxiting");
+-
+-238 
+-fd
+- = 0; fd < 
+-NOFILE
+-; fd++){
+-
+-239 if(
+-curoc
+-->
+-ofe
+-[
+-fd
+-]){
+-
+-240 
+-	`feo
+-(
+-curoc
+-->
+-ofe
+-[
+-fd
+-]);
+-
+-241 
+-curoc
+-->
+-ofe
+-[
+-fd
+-] = 0;
+-
+-245 
+-	`beg_
+-();
+-
+-246 
+-	`ut
+-(
+-curoc
+-->
+-cwd
+-);
+-
+-247 
+-	`d_
+-();
+-
+-248 
+-curoc
+-->
+-cwd
+- = 0;
+-
+-250 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-253 
+-	`wakeup1
+-(
+-curoc
+-->
+-
+-);
+-
+-256 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-257 if(
+-p
+-->
+-
+- =
+-curoc
+-){
+-
+-258 
+-p
+-->
+-
+- = 
+-oc
+-;
+-
+-259 if(
+-p
+-->
+-e
+- =
+-ZOMBIE
+-)
+-
+-260 
+-	`wakeup1
+-(
+-oc
+-);
+-
+-265 
+-curoc
+-->
+-e
+- = 
+-ZOMBIE
+-;
+-
+-266 
+-	`sched
+-();
+-
+-267 
+-	`nic
+-("zombiexit");
+-
+-268 
+-	}
+-}
+-
+-273 
+-	$wa
+-()
+-
+-275 
+-oc
+- *
+-p
+-;
+-
+-276 
+-havekids
+-, 
+-pid
+-;
+-
+-277 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-279 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-282 
+-havekids
+- = 0;
+-
+-283 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-284 if(
+-p
+-->
+-
+- !
+-curoc
+-)
+-
+-286 
+-havekids
+- = 1;
+-
+-287 if(
+-p
+-->
+-e
+- =
+-ZOMBIE
+-){
+-
+-289 
+-pid
+- = 
+-p
+-->pid;
+-
+-290 
+-	`k
+-(
+-p
+-->
+-kack
+-);
+-
+-291 
+-p
+-->
+-kack
+- = 0;
+-
+-292 
+-	`vm
+-(
+-p
+-->
+-pgd
+-);
+-
+-293 
+-p
+-->
+-pid
+- = 0;
+-
+-294 
+-p
+-->
+-
+- = 0;
+-
+-295 
+-p
+-->
+-me
+-[0] = 0;
+-
+-296 
+-p
+-->
+-kd
+- = 0;
+-
+-297 
+-p
+-->
+-e
+- = 
+-UNUSED
+-;
+-
+-298 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-299  
+-pid
+-;
+-
+-304 if(!
+-havekids
+- || 
+-curoc
+-->
+-kd
+-){
+-
+-305 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-310 
+-	`p
+-(
+-curoc
+-, &
+-ab
+-.
+-lock
+-);
+-
+-312 
+-	}
+-}
+-
+-323 
+-	$schedur
+-()
+-
+-325 
+-oc
+- *
+-p
+-;
+-
+-326 
+-u
+- *
+-c
+- = 
+-	`myu
+-();
+-
+-327 
+-c
+-->
+-oc
+- = 0;
+-
+-331 
+-	`i
+-();
+-
+-334 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-335 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-336 if(
+-p
+-->
+-e
+- !
+-RUNNABLE
+-)
+-
+-342 
+-c
+-->
+-oc
+- = 
+-p
+-;
+-
+-343 
+-	`swchuvm
+-(
+-p
+-);
+-
+-344 
+-p
+-->
+-e
+- = 
+-RUNNING
+-;
+-
+-346 
+-	`swtch
+-(&(
+-c
+-->
+-schedur
+-), 
+-p
+-->
+-cxt
+-);
+-
+-347 
+-	`swchkvm
+-();
+-
+-351 
+-c
+-->
+-oc
+- = 0;
+-
+-353 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-356 
+-	}
+-}
+-
+-366 
+-	$sched
+-()
+-
+-368 
+-
+-;
+-
+-369 
+-oc
+- *
+-p
+- = 
+-	`myoc
+-();
+-
+-371 if(!
+-	`hdg
+-(&
+-ab
+-.
+-lock
+-))
+-
+-372 
+-	`nic
+-("schedtable.lock");
+-
+-373 if(
+-	`myu
+-()->
+-ni
+- != 1)
+-
+-374 
+-	`nic
+-("schedocks");
+-
+-375 if(
+-p
+-->
+-e
+- =
+-RUNNING
+-)
+-
+-376 
+-	`nic
+-("schedunning");
+-
+-377 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-378 
+-	`nic
+-("sched interruptible");
+-
+-379 
+-
+- = 
+-	`myu
+-()->intena;
+-
+-380 
+-	`swtch
+-(&
+-p
+-->
+-cxt
+-, 
+-	`myu
+-()->
+-schedur
+-);
+-
+-381 
+-	`myu
+-()->
+-
+- = intena;
+-
+-382 
+-	}
+-}
+-
+-386 
+-	$yld
+-()
+-
+-388 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-389 
+-	`myoc
+-()->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-390 
+-	`sched
+-();
+-
+-391 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-392 
+-	}
+-}
+-
+-397 
+-	$fkt
+-()
+-
+-399 
+-f
+- = 1;
+-
+-401 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-403 i(
+-f
+-) {
+-
+-407 
+-f
+- = 0;
+-
+-408 
+-	`i
+-(
+-ROOTDEV
+-);
+-
+-409 
+-	`log
+-(
+-ROOTDEV
+-);
+-
+-413 
+-	}
+-}
+-
+-418 
+-	$p
+-(*
+-ch
+-, 
+-lock
+- *
+-lk
+-)
+-
+-420 
+-oc
+- *
+-p
+- = 
+-	`myoc
+-();
+-
+-422 if(
+-p
+- == 0)
+-
+-423 
+-	`nic
+-("sleep");
+-
+-425 if(
+-lk
+- == 0)
+-
+-426 
+-	`nic
+-("sleep withoutk");
+-
+-434 if(
+-lk
+- !&
+-ab
+-.
+-lock
+-){
+-
+-435 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-436 
+-	`a
+-(
+-lk
+-);
+-
+-439 
+-p
+-->
+-ch
+- = chan;
+-
+-440 
+-p
+-->
+-e
+- = 
+-SLEEPING
+-;
+-
+-442 
+-	`sched
+-();
+-
+-445 
+-p
+-->
+-ch
+- = 0;
+-
+-448 if(
+-lk
+- !&
+-ab
+-.
+-lock
+-){
+-
+-449 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-450 
+-	`acque
+-(
+-lk
+-);
+-
+-452 
+-	}
+-}
+-
+-458 
+-	$wakeup1
+-(*
+-ch
+-)
+-
+-460 
+-oc
+- *
+-p
+-;
+-
+-462 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++)
+-
+-463 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+- &&->
+-ch
+- == chan)
+-
+-464 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-465 
+-	}
+-}
+-
+-469 
+-	$wakeup
+-(*
+-ch
+-)
+-
+-471 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-472 
+-	`wakeup1
+-(
+-ch
+-);
+-
+-473 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-474 
+-	}
+-}
+-
+-480 
+-	$kl
+-(
+-pid
+-)
+-
+-482 
+-oc
+- *
+-p
+-;
+-
+-484 
+-	`acque
+-(&
+-ab
+-.
+-lock
+-);
+-
+-485 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-486 if(
+-p
+-->
+-pid
+- ==id){
+-
+-487 
+-p
+-->
+-kd
+- = 1;
+-
+-489 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+-)
+-
+-490 
+-p
+-->
+-e
+- = 
+-RUNNABLE
+-;
+-
+-491 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-495 
+-	`a
+-(&
+-ab
+-.
+-lock
+-);
+-
+-497 
+-	}
+-}
+-
+-504 
+-	$ocdump
+-()
+-
+-506 *
+-es
+-[] = {
+-
+-507 [
+-UNUSED
+-] "unused",
+-
+-508 [
+-EMBRYO
+-] "embryo",
+-
+-509 [
+-SLEEPING
+-] "sleep ",
+-
+-510 [
+-RUNNABLE
+-] "runble",
+-
+-511 [
+-RUNNING
+-] "run ",
+-
+-512 [
+-ZOMBIE
+-] "zombie"
+-
+-514 
+-i
+-;
+-
+-515 
+-oc
+- *
+-p
+-;
+-
+-516 *
+-e
+-;
+-
+-517 
+-ut
+- 
+-pc
+-[10];
+-
+-519 
+-p
+- = 
+-ab
+-.
+-oc
+-; < &ab.oc[
+-NPROC
+-];++){
+-
+-520 if(
+-p
+-->
+-e
+- =
+-UNUSED
+-)
+-
+-522 if(
+-p
+-->
+-e
+- >0 &&->< 
+-	`NELEM
+-(
+-es
+-) && states[p->state])
+-
+-523 
+-e
+- = 
+-es
+-[
+-p
+-->state];
+-
+-525 
+-e
+- = "???";
+-
+-526 
+-	`rtf
+-("%d %%s", 
+-p
+-->
+-pid
+-, 
+-e
+-,->
+-me
+-);
+-
+-527 if(
+-p
+-->
+-e
+- =
+-SLEEPING
+-){
+-
+-528 
+-	`gpcs
+-((
+-ut
+-*)
+-p
+-->
+-cxt
+-->
+-ebp
+-+2, 
+-pc
+-);
+-
+-529 
+-i
+-=0; i<10 && 
+-pc
+-[i] != 0; i++)
+-
+-530 
+-	`rtf
+-(" %p", 
+-pc
+-[
+-i
+-]);
+-
+-532 
+-	`rtf
+-("\n");
+-
+-534 
+-	}
+-}
+-
+-	@proc.h
+-
+-2 
+-	su
+- {
+-
+-3 
+-uch
+- 
+-	micid
+-;
+-
+-4 
+-cxt
+- *
+-	mschedur
+-;
+-
+-5 
+-ske
+- 
+-	mts
+-;
+-
+-6 
+-gdesc
+- 
+-	mgdt
+-[
+-NSEGS
+-];
+-
+-7 v
+-ut
+- 
+-	md
+-;
+-
+-8 
+-	mni
+-;
+-
+-9 
+-	m
+-;
+-
+-10 
+-oc
+- *
+-	moc
+-;
+-
+-13 

+-u
+- 
+-us
+-[
+-NCPU
+-];
+-
+-14 

+-nu
+-;
+-
+-27 
+-	scxt
+- {
+-
+-28 
+-ut
+- 
+-	medi
+-;
+-
+-29 
+-ut
+- 
+-	mesi
+-;
+-
+-30 
+-ut
+- 
+-	mebx
+-;
+-
+-31 
+-ut
+- 
+-	mebp
+-;
+-
+-32 
+-ut
+- 
+-	me
+-;
+-
+-35 
+-	eoce
+- { 
+-	mUNUSED
+-, 
+-	mEMBRYO
+-, 
+-	mSLEEPING
+-, 
+-	mRUNNABLE
+-, 
+-	mRUNNING
+-, 
+-	mZOMBIE
+- };
+-
+-38 
+-	soc
+- {
+-
+-39 
+-ut
+- 
+-	msz
+-;
+-
+-40 
+-pde_t
+-* 
+-	mpgd
+-;
+-
+-41 *
+-	mkack
+-;
+-
+-42 
+-oce
+- 
+-	me
+-;
+-
+-43 
+-	mpid
+-;
+-
+-44 
+-oc
+- *
+-	m
+-;
+-
+-45 
+-ame
+- *
+-	mtf
+-;
+-
+-46 
+-cxt
+- *
+-	mcxt
+-;
+-
+-47 *
+-	mch
+-;
+-
+-48 
+-	mkd
+-;
+-
+-49 
+-fe
+- *
+-	mofe
+-[
+-NOFILE
+-];
+-
+-50 
+-ode
+- *
+-	mcwd
+-;
+-
+-51 
+-	mme
+-[16];
+-
+-	@rm.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-6 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-8 
+-i
+-;
+-
+-10 if(
+-gc
+- < 2){
+-
+-11 
+-	`tf
+-(2, "Usage:m files...\n");
+-
+-12 
+-	`ex
+-();
+-
+-15 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-16 if(
+-	`uk
+-(
+-gv
+-[
+-i
+-]) < 0){
+-
+-17 
+-	`tf
+-(2, "rm: %edde\n", 
+-gv
+-[
+-i
+-]);
+-
+-22 
+-	`ex
+-();
+-
+-23 
+-	}
+-}
+-
+-	@sh.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"f.h
+-"
+-
+-8 
+-	#EXEC
+- 1
+-
+-	)
+-
+-9 
+-	#REDIR
+- 2
+-
+-	)
+-
+-10 
+-	#PIPE
+- 3
+-
+-	)
+-
+-11 
+-	#LIST
+- 4
+-
+-	)
+-
+-12 
+-	#BACK
+- 5
+-
+-	)
+-
+-14 
+-	#MAXARGS
+- 10
+-
+-	)
+-
+-16 
+-	scmd
+- {
+-
+-17 
+-	mty
+-;
+-
+-20 
+-	sexeccmd
+- {
+-
+-21 
+-	mty
+-;
+-
+-22 *
+-	mgv
+-[
+-MAXARGS
+-];
+-
+-23 *
+-	mrgv
+-[
+-MAXARGS
+-];
+-
+-26 
+-	sdcmd
+- {
+-
+-27 
+-	mty
+-;
+-
+-28 
+-cmd
+- *
+-	mcmd
+-;
+-
+-29 *
+-	mfe
+-;
+-
+-30 *
+-	mefe
+-;
+-
+-31 
+-	mmode
+-;
+-
+-32 
+-	mfd
+-;
+-
+-35 
+-	specmd
+- {
+-
+-36 
+-	mty
+-;
+-
+-37 
+-cmd
+- *
+-	m
+-;
+-
+-38 
+-cmd
+- *
+-	mright
+-;
+-
+-41 
+-	slicmd
+- {
+-
+-42 
+-	mty
+-;
+-
+-43 
+-cmd
+- *
+-	m
+-;
+-
+-44 
+-cmd
+- *
+-	mright
+-;
+-
+-47 
+-	sbackcmd
+- {
+-
+-48 
+-	mty
+-;
+-
+-49 
+-cmd
+- *
+-	mcmd
+-;
+-
+-52 
+-fk1
+-();
+-
+-53 
+-nic
+-(*);
+-
+-54 
+-cmd
+- *
+-rcmd
+-(*);
+-
+-58 
+-	$runcmd
+-(
+-cmd
+- *cmd)
+-
+-60 
+-p
+-[2];
+-
+-61 
+-backcmd
+- *
+-bcmd
+-;
+-
+-62 
+-execcmd
+- *
+-ecmd
+-;
+-
+-63 
+-licmd
+- *
+-lcmd
+-;
+-
+-64 
+-pecmd
+- *
+-pcmd
+-;
+-
+-65 
+-dcmd
+- *
+-rcmd
+-;
+-
+-67 if(
+-cmd
+- == 0)
+-
+-68 
+-	`ex
+-();
+-
+-70 
+-cmd
+-->
+-ty
+-){
+-
+-72 
+-	`nic
+-("runcmd");
+-
+-74 
+-EXEC
+-:
+-
+-75 
+-ecmd
+- = (
+-execcmd
+-*)
+-cmd
+-;
+-
+-76 if(
+-ecmd
+-->
+-gv
+-[0] == 0)
+-
+-77 
+-	`ex
+-();
+-
+-78 
+-	`exec
+-(
+-ecmd
+-->
+-gv
+-[0],cmd->argv);
+-
+-79 
+-	`tf
+-(2, "exe%ed\n", 
+-ecmd
+-->
+-gv
+-[0]);
+-
+-82 
+-REDIR
+-:
+-
+-83 
+-rcmd
+- = (
+-dcmd
+-*)
+-cmd
+-;
+-
+-84 
+-	`o
+-(
+-rcmd
+-->
+-fd
+-);
+-
+-85 if(
+-	`
+-(
+-rcmd
+-->
+-fe
+-,cmd->
+-mode
+-) < 0){
+-
+-86 
+-	`tf
+-(2, " %ed\n", 
+-rcmd
+-->
+-fe
+-);
+-
+-87 
+-	`ex
+-();
+-
+-89 
+-	`runcmd
+-(
+-rcmd
+-->
+-cmd
+-);
+-
+-92 
+-LIST
+-:
+-
+-93 
+-lcmd
+- = (
+-licmd
+-*)
+-cmd
+-;
+-
+-94 if(
+-	`fk1
+-() == 0)
+-
+-95 
+-	`runcmd
+-(
+-lcmd
+-->
+-
+-);
+-
+-96 
+-	`wa
+-();
+-
+-97 
+-	`runcmd
+-(
+-lcmd
+-->
+-right
+-);
+-
+-100 
+-PIPE
+-:
+-
+-101 
+-pcmd
+- = (
+-pecmd
+-*)
+-cmd
+-;
+-
+-102 if(
+-	`pe
+-(
+-p
+-) < 0)
+-
+-103 
+-	`nic
+-("pipe");
+-
+-104 if(
+-	`fk1
+-() == 0){
+-
+-105 
+-	`o
+-(1);
+-
+-106 
+-	`dup
+-(
+-p
+-[1]);
+-
+-107 
+-	`o
+-(
+-p
+-[0]);
+-
+-108 
+-	`o
+-(
+-p
+-[1]);
+-
+-109 
+-	`runcmd
+-(
+-pcmd
+-->
+-
+-);
+-
+-111 if(
+-	`fk1
+-() == 0){
+-
+-112 
+-	`o
+-(0);
+-
+-113 
+-	`dup
+-(
+-p
+-[0]);
+-
+-114 
+-	`o
+-(
+-p
+-[0]);
+-
+-115 
+-	`o
+-(
+-p
+-[1]);
+-
+-116 
+-	`runcmd
+-(
+-pcmd
+-->
+-right
+-);
+-
+-118 
+-	`o
+-(
+-p
+-[0]);
+-
+-119 
+-	`o
+-(
+-p
+-[1]);
+-
+-120 
+-	`wa
+-();
+-
+-121 
+-	`wa
+-();
+-
+-124 
+-BACK
+-:
+-
+-125 
+-bcmd
+- = (
+-backcmd
+-*)
+-cmd
+-;
+-
+-126 if(
+-	`fk1
+-() == 0)
+-
+-127 
+-	`runcmd
+-(
+-bcmd
+-->
+-cmd
+-);
+-
+-130 
+-	`ex
+-();
+-
+-131 
+-	}
+-}
+-
+-134 
+-	$gcmd
+-(*
+-buf
+-, 
+-nbuf
+-)
+-
+-136 
+-	`tf
+-(2, "$ ");
+-
+-137 
+-	`memt
+-(
+-buf
+-, 0, 
+-nbuf
+-);
+-
+-138 
+-	`gs
+-(
+-buf
+-, 
+-nbuf
+-);
+-
+-139 if(
+-buf
+-[0] == 0)
+-
+-142 
+-	}
+-}
+-
+-145 
+-	$ma
+-()
+-
+-147 
+-buf
+-[100];
+-
+-148 
+-fd
+-;
+-
+-151 (
+-fd
+- = 
+-	`
+-("cse", 
+-O_RDWR
+-)) >= 0){
+-
+-152 if(
+-fd
+- >= 3){
+-
+-153 
+-	`o
+-(
+-fd
+-);
+-
+-159 
+-	`gcmd
+-(
+-buf
+-, (buf)) >= 0){
+-
+-160 if(
+-buf
+-[0] == 'c' && buf[1] == 'd' && buf[2] == ' '){
+-
+-162 
+-buf
+-[
+-	`
+-(buf)-1] = 0;
+-
+-163 if(
+-	`chd
+-(
+-buf
+-+3) < 0)
+-
+-164 
+-	`tf
+-(2, " cd %s\n", 
+-buf
+-+3);
+-
+-167 if(
+-	`fk1
+-() == 0)
+-
+-168 
+-	`runcmd
+-(
+-	`rcmd
+-(
+-buf
+-));
+-
+-169 
+-	`wa
+-();
+-
+-171 
+-	`ex
+-();
+-
+-172 
+-	}
+-}
+-
+-175 
+-	$nic
+-(*
+-s
+-)
+-
+-177 
+-	`tf
+-(2, "%s\n", 
+-s
+-);
+-
+-178 
+-	`ex
+-();
+-
+-179 
+-	}
+-}
+-
+-182 
+-	$fk1
+-()
+-
+-184 
+-pid
+-;
+-
+-186 
+-pid
+- = 
+-	`fk
+-();
+-
+-187 if(
+-pid
+- == -1)
+-
+-188 
+-	`nic
+-("fork");
+-
+-189  
+-pid
+-;
+-
+-190 
+-	}
+-}
+-
+-195 
+-cmd
+-*
+-
+-196 
+-	$execcmd
+-()
+-
+-198 
+-execcmd
+- *
+-cmd
+-;
+-
+-200 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-201 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-202 
+-cmd
+-->
+-ty
+- = 
+-EXEC
+-;
+-
+-203  (
+-cmd
+-*)cmd;
+-
+-204 
+-	}
+-}
+-
+-206 
+-cmd
+-*
+-
+-207 
+-	$dcmd
+-(
+-cmd
+- *
+-subcmd
+-, *
+-fe
+-, *
+-efe
+-, 
+-mode
+-, 
+-fd
+-)
+-
+-209 
+-dcmd
+- *
+-cmd
+-;
+-
+-211 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-212 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-213 
+-cmd
+-->
+-ty
+- = 
+-REDIR
+-;
+-
+-214 
+-cmd
+-->cmd = 
+-subcmd
+-;
+-
+-215 
+-cmd
+-->
+-fe
+- = file;
+-
+-216 
+-cmd
+-->
+-efe
+- =file;
+-
+-217 
+-cmd
+-->
+-mode
+- = mode;
+-
+-218 
+-cmd
+-->
+-fd
+- = fd;
+-
+-219  (
+-cmd
+-*)cmd;
+-
+-220 
+-	}
+-}
+-
+-222 
+-cmd
+-*
+-
+-223 
+-	$pecmd
+-(
+-cmd
+- *
+-
+-, cmd *
+-right
+-)
+-
+-225 
+-pecmd
+- *
+-cmd
+-;
+-
+-227 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-228 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-229 
+-cmd
+-->
+-ty
+- = 
+-PIPE
+-;
+-
+-230 
+-cmd
+-->
+-
+- =eft;
+-
+-231 
+-cmd
+-->
+-right
+- =ight;
+-
+-232  (
+-cmd
+-*)cmd;
+-
+-233 
+-	}
+-}
+-
+-235 
+-cmd
+-*
+-
+-236 
+-	$licmd
+-(
+-cmd
+- *
+-
+-, cmd *
+-right
+-)
+-
+-238 
+-licmd
+- *
+-cmd
+-;
+-
+-240 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-241 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-242 
+-cmd
+-->
+-ty
+- = 
+-LIST
+-;
+-
+-243 
+-cmd
+-->
+-
+- =eft;
+-
+-244 
+-cmd
+-->
+-right
+- =ight;
+-
+-245  (
+-cmd
+-*)cmd;
+-
+-246 
+-	}
+-}
+-
+-248 
+-cmd
+-*
+-
+-249 
+-	$backcmd
+-(
+-cmd
+- *
+-subcmd
+-)
+-
+-251 
+-backcmd
+- *
+-cmd
+-;
+-
+-253 
+-cmd
+- = 
+-	`mloc
+-((*cmd));
+-
+-254 
+-	`memt
+-(
+-cmd
+-, 0, (*cmd));
+-
+-255 
+-cmd
+-->
+-ty
+- = 
+-BACK
+-;
+-
+-256 
+-cmd
+-->cmd = 
+-subcmd
+-;
+-
+-257  (
+-cmd
+-*)cmd;
+-
+-258 
+-	}
+-}
+-
+-262 
+-	gwhea
+-[] = " \t\r\n\v";
+-
+-263 
+-	gsymbs
+-[] = "<|>&;()";
+-
+-266 
+-	$gtok
+-(**
+-ps
+-, *
+-es
+-, **
+-q
+-, **
+-eq
+-)
+-
+-268 *
+-s
+-;
+-
+-269 
+-t
+-;
+-
+-271 
+-s
+- = *
+-ps
+-;
+-
+-272 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-273 
+-s
+-++;
+-
+-274 if(
+-q
+-)
+-
+-275 *
+-q
+- = 
+-s
+-;
+-
+-276 
+-t
+- = *
+-s
+-;
+-
+-277 *
+-s
+-){
+-
+-286 
+-s
+-++;
+-
+-289 
+-s
+-++;
+-
+-290 if(*
+-s
+- == '>'){
+-
+-291 
+-t
+- = '+';
+-
+-292 
+-s
+-++;
+-
+-296 
+-t
+- = 'a';
+-
+-297 
+-s
+- < 
+-es
+- && !
+-	`rchr
+-(
+-whea
+-, *s&& !rchr(
+-symbs
+-, *s))
+-
+-298 
+-s
+-++;
+-
+-301 if(
+-eq
+-)
+-
+-302 *
+-eq
+- = 
+-s
+-;
+-
+-304 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-305 
+-s
+-++;
+-
+-306 *
+-ps
+- = 
+-s
+-;
+-
+-307  
+-t
+-;
+-
+-308 
+-	}
+-}
+-
+-311 
+-	$ek
+-(**
+-ps
+-, *
+-es
+-, *
+-toks
+-)
+-
+-313 *
+-s
+-;
+-
+-315 
+-s
+- = *
+-ps
+-;
+-
+-316 
+-s
+- < 
+-es
+- && 
+-	`rchr
+-(
+-whea
+-, *s))
+-
+-317 
+-s
+-++;
+-
+-318 *
+-ps
+- = 
+-s
+-;
+-
+-319  *
+-s
+- && 
+-	`rchr
+-(
+-toks
+-, *s);
+-
+-320 
+-	}
+-}
+-
+-322 
+-cmd
+- *
+-rle
+-(**, *);
+-
+-323 
+-cmd
+- *
+-rpe
+-(**, *);
+-
+-324 
+-cmd
+- *
+-rexec
+-(**, *);
+-
+-325 
+-cmd
+- *
+-nume
+-(cmd*);
+-
+-327 
+-cmd
+-*
+-
+-328 
+-	$rcmd
+-(*
+-s
+-)
+-
+-330 *
+-es
+-;
+-
+-331 
+-cmd
+- *cmd;
+-
+-333 
+-es
+- = 
+-s
+- + 
+-	`
+-(s);
+-
+-334 
+-cmd
+- = 
+-	`rle
+-(&
+-s
+-, 
+-es
+-);
+-
+-335 
+-	`ek
+-(&
+-s
+-, 
+-es
+-, "");
+-
+-336 if(
+-s
+- !
+-es
+-){
+-
+-337 
+-	`tf
+-(2, "ovs: %s\n", 
+-s
+-);
+-
+-338 
+-	`nic
+-("syntax");
+-
+-340 
+-	`nume
+-(
+-cmd
+-);
+-
+-341  
+-cmd
+-;
+-
+-342 
+-	}
+-}
+-
+-344 
+-cmd
+-*
+-
+-345 
+-	$rle
+-(**
+-ps
+-, *
+-es
+-)
+-
+-347 
+-cmd
+- *cmd;
+-
+-349 
+-cmd
+- = 
+-	`rpe
+-(
+-ps
+-, 
+-es
+-);
+-
+-350 
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "&")){
+-
+-351 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-352 
+-cmd
+- = 
+-	`backcmd
+-(cmd);
+-
+-354 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, ";")){
+-
+-355 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-356 
+-cmd
+- = 
+-	`licmd
+-(cmd, 
+-	`rle
+-(
+-ps
+-, 
+-es
+-));
+-
+-358  
+-cmd
+-;
+-
+-359 
+-	}
+-}
+-
+-361 
+-cmd
+-*
+-
+-362 
+-	$rpe
+-(**
+-ps
+-, *
+-es
+-)
+-
+-364 
+-cmd
+- *cmd;
+-
+-366 
+-cmd
+- = 
+-	`rexec
+-(
+-ps
+-, 
+-es
+-);
+-
+-367 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "|")){
+-
+-368 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-369 
+-cmd
+- = 
+-	`pecmd
+-(cmd, 
+-	`rpe
+-(
+-ps
+-, 
+-es
+-));
+-
+-371  
+-cmd
+-;
+-
+-372 
+-	}
+-}
+-
+-374 
+-cmd
+-*
+-
+-375 
+-	$rds
+-(
+-cmd
+- *cmd, **
+-ps
+-, *
+-es
+-)
+-
+-377 
+-tok
+-;
+-
+-378 *
+-q
+-, *
+-eq
+-;
+-
+-380 
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "<>")){
+-
+-381 
+-tok
+- = 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-382 if(
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, &
+-q
+-, &
+-eq
+-) != 'a')
+-
+-383 
+-	`nic
+-("missing file foredirection");
+-
+-384 
+-tok
+-){
+-
+-386 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_RDONLY
+-, 0);
+-
+-389 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_WRONLY
+-|
+-O_CREATE
+-, 1);
+-
+-392 
+-cmd
+- = 
+-	`dcmd
+-(cmd, 
+-q
+-, 
+-eq
+-, 
+-O_WRONLY
+-|
+-O_CREATE
+-, 1);
+-
+-396  
+-cmd
+-;
+-
+-397 
+-	}
+-}
+-
+-399 
+-cmd
+-*
+-
+-400 
+-	$rblock
+-(**
+-ps
+-, *
+-es
+-)
+-
+-402 
+-cmd
+- *cmd;
+-
+-404 if(!
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "("))
+-
+-405 
+-	`nic
+-("parseblock");
+-
+-406 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-407 
+-cmd
+- = 
+-	`rle
+-(
+-ps
+-, 
+-es
+-);
+-
+-408 if(!
+-	`ek
+-(
+-ps
+-, 
+-es
+-, ")"))
+-
+-409 
+-	`nic
+-("syntax - missing )");
+-
+-410 
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, 0, 0);
+-
+-411 
+-cmd
+- = 
+-	`rds
+-(cmd, 
+-ps
+-, 
+-es
+-);
+-
+-412  
+-cmd
+-;
+-
+-413 
+-	}
+-}
+-
+-415 
+-cmd
+-*
+-
+-416 
+-	$rexec
+-(**
+-ps
+-, *
+-es
+-)
+-
+-418 *
+-q
+-, *
+-eq
+-;
+-
+-419 
+-tok
+-, 
+-gc
+-;
+-
+-420 
+-execcmd
+- *
+-cmd
+-;
+-
+-421 
+-cmd
+- *
+-t
+-;
+-
+-423 if(
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "("))
+-
+-424  
+-	`rblock
+-(
+-ps
+-, 
+-es
+-);
+-
+-426 
+-t
+- = 
+-	`execcmd
+-();
+-
+-427 
+-cmd
+- = (
+-execcmd
+-*)
+-t
+-;
+-
+-429 
+-gc
+- = 0;
+-
+-430 
+-t
+- = 
+-	`rds
+-, 
+-ps
+-, 
+-es
+-);
+-
+-431 !
+-	`ek
+-(
+-ps
+-, 
+-es
+-, "|)&;")){
+-
+-432 if((
+-tok
+-=
+-	`gtok
+-(
+-ps
+-, 
+-es
+-, &
+-q
+-, &
+-eq
+-)) == 0)
+-
+-434 if(
+-tok
+- != 'a')
+-
+-435 
+-	`nic
+-("syntax");
+-
+-436 
+-cmd
+-->
+-gv
+-[
+-gc
+-] = 
+-q
+-;
+-
+-437 
+-cmd
+-->
+-rgv
+-[
+-gc
+-] = 
+-eq
+-;
+-
+-438 
+-gc
+-++;
+-
+-439 if(
+-gc
+- >
+-MAXARGS
+-)
+-
+-440 
+-	`nic
+-("too manyrgs");
+-
+-441 
+-t
+- = 
+-	`rds
+-, 
+-ps
+-, 
+-es
+-);
+-
+-443 
+-cmd
+-->
+-gv
+-[
+-gc
+-] = 0;
+-
+-444 
+-cmd
+-->
+-rgv
+-[
+-gc
+-] = 0;
+-
+-445  
+-t
+-;
+-
+-446 
+-	}
+-}
+-
+-449 
+-cmd
+-*
+-
+-450 
+-	$nume
+-(
+-cmd
+- *cmd)
+-
+-452 
+-i
+-;
+-
+-453 
+-backcmd
+- *
+-bcmd
+-;
+-
+-454 
+-execcmd
+- *
+-ecmd
+-;
+-
+-455 
+-licmd
+- *
+-lcmd
+-;
+-
+-456 
+-pecmd
+- *
+-pcmd
+-;
+-
+-457 
+-dcmd
+- *
+-rcmd
+-;
+-
+-459 if(
+-cmd
+- == 0)
+-
+-462 
+-cmd
+-->
+-ty
+-){
+-
+-463 
+-EXEC
+-:
+-
+-464 
+-ecmd
+- = (
+-execcmd
+-*)
+-cmd
+-;
+-
+-465 
+-i
+-=0; 
+-ecmd
+-->
+-gv
+-[i]; i++)
+-
+-466 *
+-ecmd
+-->
+-rgv
+-[
+-i
+-] = 0;
+-
+-469 
+-REDIR
+-:
+-
+-470 
+-rcmd
+- = (
+-dcmd
+-*)
+-cmd
+-;
+-
+-471 
+-	`nume
+-(
+-rcmd
+-->
+-cmd
+-);
+-
+-472 *
+-rcmd
+-->
+-efe
+- = 0;
+-
+-475 
+-PIPE
+-:
+-
+-476 
+-pcmd
+- = (
+-pecmd
+-*)
+-cmd
+-;
+-
+-477 
+-	`nume
+-(
+-pcmd
+-->
+-
+-);
+-
+-478 
+-	`nume
+-(
+-pcmd
+-->
+-right
+-);
+-
+-481 
+-LIST
+-:
+-
+-482 
+-lcmd
+- = (
+-licmd
+-*)
+-cmd
+-;
+-
+-483 
+-	`nume
+-(
+-lcmd
+-->
+-
+-);
+-
+-484 
+-	`nume
+-(
+-lcmd
+-->
+-right
+-);
+-
+-487 
+-BACK
+-:
+-
+-488 
+-bcmd
+- = (
+-backcmd
+-*)
+-cmd
+-;
+-
+-489 
+-	`nume
+-(
+-bcmd
+-->
+-cmd
+-);
+-
+-492  
+-cmd
+-;
+-
+-493 
+-	}
+-}
+-
+-	@sleeplock.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"memyout.h
+-"
+-
+-8 
+-	~"mmu.h
+-"
+-
+-9 
+-	~"oc.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-11 
+-	~"ock.h
+-"
+-
+-14 
+-	$ock
+-(
+-ock
+- *
+-lk
+-, *
+-me
+-)
+-
+-16 
+-	`lock
+-(&
+-lk
+-->lk, "sleepock");
+-
+-17 
+-lk
+-->
+-me
+- =ame;
+-
+-18 
+-lk
+-->
+-locked
+- = 0;
+-
+-19 
+-lk
+-->
+-pid
+- = 0;
+-
+-20 
+-	}
+-}
+-
+-23 
+-	$acquep
+-(
+-ock
+- *
+-lk
+-)
+-
+-25 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-26 
+-lk
+-->
+-locked
+-) {
+-
+-27 
+-	`p
+-(
+-lk
+-, &lk->lk);
+-
+-29 
+-lk
+-->
+-locked
+- = 1;
+-
+-30 
+-lk
+-->
+-pid
+- = 
+-	`myoc
+-()->pid;
+-
+-31 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-32 
+-	}
+-}
+-
+-35 
+-	$ap
+-(
+-ock
+- *
+-lk
+-)
+-
+-37 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-38 
+-lk
+-->
+-locked
+- = 0;
+-
+-39 
+-lk
+-->
+-pid
+- = 0;
+-
+-40 
+-	`wakeup
+-(
+-lk
+-);
+-
+-41 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-42 
+-	}
+-}
+-
+-45 
+-	$hdgp
+-(
+-ock
+- *
+-lk
+-)
+-
+-47 
+-r
+-;
+-
+-49 
+-	`acque
+-(&
+-lk
+-->lk);
+-
+-50 
+-r
+- = 
+-lk
+-->
+-locked
+- && (lk->
+-pid
+- =
+-	`myoc
+-()->pid);
+-
+-51 
+-	`a
+-(&
+-lk
+-->lk);
+-
+-52  
+-r
+-;
+-
+-53 
+-	}
+-}
+-
+-	@sleeplock.h
+-
+-2 
+-	sock
+- {
+-
+-3 
+-ut
+- 
+-	mlocked
+-;
+-
+-4 
+-lock
+- 
+-	mlk
+-;
+-
+-7 *
+-	mme
+-;
+-
+-8 
+-	mpid
+-;
+-
+-	@spinlock.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"x86.h
+-"
+-
+-7 
+-	~"memyout.h
+-"
+-
+-8 
+-	~"mmu.h
+-"
+-
+-9 
+-	~"oc.h
+-"
+-
+-10 
+-	~"lock.h
+-"
+-
+-13 
+-	$lock
+-(
+-lock
+- *
+-lk
+-, *
+-me
+-)
+-
+-15 
+-lk
+-->
+-me
+- =ame;
+-
+-16 
+-lk
+-->
+-locked
+- = 0;
+-
+-17 
+-lk
+-->
+-u
+- = 0;
+-
+-18 
+-	}
+-}
+-
+-25 
+-	$acque
+-(
+-lock
+- *
+-lk
+-)
+-
+-27 
+-	`pushi
+-();
+-
+-28 if(
+-	`hdg
+-(
+-lk
+-))
+-
+-29 
+-	`nic
+-("acquire");
+-
+-32 
+-	`xchg
+-(&
+-lk
+-->
+-locked
+-, 1) != 0)
+-
+-38 
+-	`__sync_synchrize
+-();
+-
+-41 
+-lk
+-->
+-u
+- = 
+-	`myu
+-();
+-
+-42 
+-	`gpcs
+-(&
+-lk
+-,k->
+-pcs
+-);
+-
+-43 
+-	}
+-}
+-
+-47 
+-	$a
+-(
+-lock
+- *
+-lk
+-)
+-
+-49 if(!
+-	`hdg
+-(
+-lk
+-))
+-
+-50 
+-	`nic
+-("release");
+-
+-52 
+-lk
+-->
+-pcs
+-[0] = 0;
+-
+-53 
+-lk
+-->
+-u
+- = 0;
+-
+-60 
+-	`__sync_synchrize
+-();
+-
+-65 
+-asm
+- ve("mov$0, %0" : "+m" (
+-lk
+-->
+-locked
+-) : );
+-
+-67 
+-	`pi
+-();
+-
+-68 
+-	}
+-}
+-
+-72 
+-	$gpcs
+-(*
+-v
+-, 
+-ut
+- 
+-pcs
+-[])
+-
+-74 
+-ut
+- *
+-ebp
+-;
+-
+-75 
+-i
+-;
+-
+-77 
+-ebp
+- = (
+-ut
+-*)
+-v
+- - 2;
+-
+-78 
+-i
+- = 0; i < 10; i++){
+-
+-79 if(
+-ebp
+- =0 ||b< (
+-ut
+-*)
+-KERNBASE
+- ||bp == (uint*)0xffffffff)
+-
+-81 
+-pcs
+-[
+-i
+-] = 
+-ebp
+-[1];
+-
+-82 
+-ebp
+- = (
+-ut
+-*)ebp[0];
+-
+-84 ; 
+-i
+- < 10; i++)
+-
+-85 
+-pcs
+-[
+-i
+-] = 0;
+-
+-86 
+-	}
+-}
+-
+-90 
+-	$hdg
+-(
+-lock
+- *
+-lock
+-)
+-
+-92 
+-r
+-;
+-
+-93 
+-	`pushi
+-();
+-
+-94 
+-r
+- = 
+-lock
+-->
+-locked
+- &&ock->
+-u
+- =
+-	`myu
+-();
+-
+-95 
+-	`pi
+-();
+-
+-96  
+-r
+-;
+-
+-97 
+-	}
+-}
+-
+-105 
+-	$pushi
+-()
+-
+-107 
+-eags
+-;
+-
+-109 
+-eags
+- = 
+-	`adeags
+-();
+-
+-110 
+-	`i
+-();
+-
+-111 if(
+-	`myu
+-()->
+-ni
+- == 0)
+-
+-112 
+-	`myu
+-()->
+-
+- = 
+-eags
+- & 
+-FL_IF
+-;
+-
+-113 
+-	`myu
+-()->
+-ni
+- += 1;
+-
+-114 
+-	}
+-}
+-
+-117 
+-	$pi
+-()
+-
+-119 if(
+-	`adeags
+-()&
+-FL_IF
+-)
+-
+-120 
+-	`nic
+-("popcli - interruptible");
+-
+-121 if(--
+-	`myu
+-()->
+-ni
+- < 0)
+-
+-122 
+-	`nic
+-("popcli");
+-
+-123 if(
+-	`myu
+-()->
+-ni
+- =0 && myu()->
+-
+-)
+-
+-124 
+-	`i
+-();
+-
+-125 
+-	}
+-}
+-
+-	@spinlock.h
+-
+-2 
+-	slock
+- {
+-
+-3 
+-ut
+- 
+-	mlocked
+-;
+-
+-6 *
+-	mme
+-;
+-
+-7 
+-u
+- *
+-	mu
+-;
+-
+-8 
+-ut
+- 
+-	mpcs
+-[10];
+-
+-	@stat.h
+-
+-1 
+-	#T_DIR
+- 1
+-
+-2 
+-	#T_FILE
+- 2
+-
+-3 
+-	#T_DEV
+- 3
+-
+-4 
+-
+-	)
+-
+-5 
+-	s
+- {
+-
+-6 
+-	mty
+-;
+-
+-7 
+-	mdev
+-;
+-
+-8 
+-ut
+- 
+-	mo
+-;
+-
+-9 
+-	mk
+-;
+-
+-10 
+-ut
+- 
+-	msize
+-;
+-
+-	@stressfs.c
+-
+-10 
+-	~"tys.h
+-"
+-
+-11 
+-	~".h
+-"
+-
+-12 
+-	~"ur.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"f.h
+-"
+-
+-17 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-19 
+-fd
+-, 
+-i
+-;
+-
+-20 
+-th
+-[] = "stressfs0";
+-
+-21 
+-da
+-[512];
+-
+-23 
+-	`tf
+-(1, "stressfs starting\n");
+-
+-24 
+-	`memt
+-(
+-da
+-, 'a', (data));
+-
+-26 
+-i
+- = 0; i < 4; i++)
+-
+-27 if(
+-	`fk
+-() > 0)
+-
+-30 
+-	`tf
+-(1, "wr%d\n", 
+-i
+-);
+-
+-32 
+-th
+-[8] +
+-i
+-;
+-
+-33 
+-fd
+- = 
+-	`
+-(
+-th
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-34 
+-i
+- = 0; i < 20; i++)
+-
+-36 
+-	`wre
+-(
+-fd
+-, 
+-da
+-, (data));
+-
+-37 
+-	`o
+-(
+-fd
+-);
+-
+-39 
+-	`tf
+-(1, "read\n");
+-
+-41 
+-fd
+- = 
+-	`
+-(
+-th
+-, 
+-O_RDONLY
+-);
+-
+-42 
+-i
+- = 0; i < 20; i++)
+-
+-43 
+-	`ad
+-(
+-fd
+-, 
+-da
+-, (data));
+-
+-44 
+-	`o
+-(
+-fd
+-);
+-
+-46 
+-	`wa
+-();
+-
+-48 
+-	`ex
+-();
+-
+-49 
+-	}
+-}
+-
+-	@string.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-5 
+-	$memt
+-(*
+-d
+-, 
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-7 i(()
+-d
+-%4 =0 && 
+-n
+-%4 == 0){
+-
+-8 
+-c
+- &= 0xFF;
+-
+-9 
+-	`o
+-(
+-d
+-, (
+-c
+-<<24)|(c<<16)|(c<<8)|c, 
+-n
+-/4);
+-
+-11 
+-	`osb
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-12  
+-d
+-;
+-
+-13 
+-	}
+-}
+-
+-16 
+-	$memcmp
+-(c *
+-v1
+-, c *
+-v2
+-, 
+-ut
+- 
+-n
+-)
+-
+-18 c 
+-uch
+- *
+-s1
+-, *
+-s2
+-;
+-
+-20 
+-s1
+- = 
+-v1
+-;
+-
+-21 
+-s2
+- = 
+-v2
+-;
+-
+-22 
+-n
+--- > 0){
+-
+-23 if(*
+-s1
+- !*
+-s2
+-)
+-
+-24  *
+-s1
+- - *
+-s2
+-;
+-
+-25 
+-s1
+-++, 
+-s2
+-++;
+-
+-29 
+-	}
+-}
+-
+-32 
+-	$memmove
+-(*
+-d
+-, c *
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-34 c *
+-s
+-;
+-
+-35 *
+-d
+-;
+-
+-37 
+-s
+- = 
+-c
+-;
+-
+-38 
+-d
+- = 
+-d
+-;
+-
+-39 if(
+-s
+- < 
+-d
+- && s + 
+-n
+- > d){
+-
+-40 
+-s
+- +
+-n
+-;
+-
+-41 
+-d
+- +
+-n
+-;
+-
+-42 
+-n
+--- > 0)
+-
+-43 *--
+-d
+- = *--
+-s
+-;
+-
+-45 
+-n
+--- > 0)
+-
+-46 *
+-d
+-++ = *
+-s
+-++;
+-
+-48  
+-d
+-;
+-
+-49 
+-	}
+-}
+-
+-53 
+-	$memy
+-(*
+-d
+-, c *
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-55  
+-	`memmove
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-56 
+-	}
+-}
+-
+-59 
+-	$cmp
+-(c *
+-p
+-, c *
+-q
+-, 
+-ut
+- 
+-n
+-)
+-
+-61 
+-n
+- > 0 && *
+-p
+- && *=*
+-q
+-)
+-
+-62 
+-n
+---, 
+-p
+-++, 
+-q
+-++;
+-
+-63 if(
+-n
+- == 0)
+-
+-65  (
+-uch
+-)*
+-p
+- - (uch)*
+-q
+-;
+-
+-66 
+-	}
+-}
+-
+-69 
+-	$y
+-(*
+-s
+-, c *
+-t
+-, 
+-n
+-)
+-
+-71 *
+-os
+-;
+-
+-73 
+-os
+- = 
+-s
+-;
+-
+-74 
+-n
+--- > 0 && (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-76 
+-n
+--- > 0)
+-
+-77 *
+-s
+-++ = 0;
+-
+-78  
+-os
+-;
+-
+-79 
+-	}
+-}
+-
+-83 
+-	$ry
+-(*
+-s
+-, c *
+-t
+-, 
+-n
+-)
+-
+-85 *
+-os
+-;
+-
+-87 
+-os
+- = 
+-s
+-;
+-
+-88 if(
+-n
+- <= 0)
+-
+-89  
+-os
+-;
+-
+-90 --
+-n
+- > 0 && (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-92 *
+-s
+- = 0;
+-
+-93  
+-os
+-;
+-
+-94 
+-	}
+-}
+-
+-97 
+-	$
+-(c *
+-s
+-)
+-
+-99 
+-n
+-;
+-
+-101 
+-n
+- = 0; 
+-s
+-[n];++)
+-
+-103  
+-n
+-;
+-
+-104 
+-	}
+-}
+-
+-	@swtch.S
+-
+-2 #
+-#void 
+-swtch
+-(
+-cxt
+- **
+-d
+-, cx*
+-w
+-);
+-
+-4 #
+-#Sav
+-the
+- 
+-cut
+- 
+-gis
+- 
+-
+-h
+-ack
+-, 
+-tg
+-
+-
+-6 #
+-cxt
+-, 
+-d
+- 
+-ve
+- 
+-s
+- 
+-addss
+- 
+-
+- *
+-d
+-.
+-
+-7 #Swch 
+-acks
+- 
+-to
+- 
+-w
+- 
+-d
+- 
+-p
+- 
+-eviouy
+--
+-ved
+- 
+-gis
+-.
+-
+-9 .
+-globl
+- 
+-swtch
+-
+-
+-10 
+-	gswtch
+-:
+-
+-11 
+-movl
+- 4(%
+-e
+-), %
+-x
+-
+-
+-12 
+-	gmovl
+- 8(%
+-	ge
+-), %
+-	gedx
+-
+-
+-14 #Sav
+-d
+- 
+-
+--
+-ved
+- 
+-gis
+-
+-
+-15 
+-	gpushl
+- %
+-ebp
+-
+-
+-16 
+-	gpushl
+- %
+-ebx
+-
+-
+-17 
+-	gpushl
+- %
+-esi
+-
+-
+-18 
+-	gpushl
+- %
+-	gedi
+-
+-
+-20 #Swch 
+-acks
+-
+-
+-21 
+-	gmovl
+- %
+-	ge
+-, (%
+-	gx
+-)
+-
+-22 
+-	gmovl
+- %
+-	gedx
+-, %
+-	ge
+-
+-
+-24 #Ld 
+-w
+- 
+-
+--
+-ved
+- 
+-gis
+-
+-
+-25 
+-	gpl
+- %
+-edi
+-
+-
+-26 
+-	gpl
+- %
+-esi
+-
+-
+-27 
+-	gpl
+- %
+-ebx
+-
+-
+-28 
+-	gpl
+- %
+-ebp
+-
+-
+-29 
+-	gt
+-
+-
+-	@syscall.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"sys.h
+-"
+-
+-18 
+-	$tcht
+-(
+-ut
+- 
+-addr
+-, *
+-
+-)
+-
+-20 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-22 if(
+-addr
+- >
+-curoc
+-->
+-sz
+- ||ddr+4 > curproc->sz)
+-
+-24 *
+-
+- = *(*)(
+-addr
+-);
+-
+-26 
+-	}
+-}
+-
+-32 
+-	$tchr
+-(
+-ut
+- 
+-addr
+-, **
+-
+-)
+-
+-34 *
+-s
+-, *
+-
+-;
+-
+-35 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-37 if(
+-addr
+- >
+-curoc
+-->
+-sz
+-)
+-
+-39 *
+-
+- = (*)
+-addr
+-;
+-
+-40 
+-
+- = (*)
+-curoc
+-->
+-sz
+-;
+-
+-41 
+-s
+- = *
+-
+-; s < 
+-
+-; s++){
+-
+-42 if(*
+-s
+- == 0)
+-
+-43  
+-s
+- - *
+-
+-;
+-
+-46 
+-	}
+-}
+-
+-50 
+-	$gt
+-(
+-n
+-, *
+-
+-)
+-
+-52  
+-	`tcht
+-((
+-	`myoc
+-()->
+-tf
+-->
+-e
+-+ 4 + 4*
+-n
+-, 
+-
+-);
+-
+-53 
+-	}
+-}
+-
+-59 
+-	$gr
+-(
+-n
+-, **
+-
+-, 
+-size
+-)
+-
+-61 
+-i
+-;
+-
+-62 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-64 if(
+-	`gt
+-(
+-n
+-, &
+-i
+-) < 0)
+-
+-66 if(
+-size
+- < 0 || (
+-ut
+-)
+-i
+- >
+-curoc
+-->
+-sz
+- || (uint)i+size > curproc->sz)
+-
+-68 *
+-
+- = (*)
+-i
+-;
+-
+-70 
+-	}
+-}
+-
+-77 
+-	$gr
+-(
+-n
+-, **
+-
+-)
+-
+-79 
+-addr
+-;
+-
+-80 if(
+-	`gt
+-(
+-n
+-, &
+-addr
+-) < 0)
+-
+-82  
+-	`tchr
+-(
+-addr
+-, 
+-
+-);
+-
+-83 
+-	}
+-}
+-
+-85 

+-sys_chd
+-();
+-
+-86 

+-sys_o
+-();
+-
+-87 

+-sys_dup
+-();
+-
+-88 

+-sys_exec
+-();
+-
+-89 

+-sys_ex
+-();
+-
+-90 

+-sys_fk
+-();
+-
+-91 

+-sys_f
+-();
+-
+-92 

+-sys_gpid
+-();
+-
+-93 

+-sys_kl
+-();
+-
+-94 

+-sys_lk
+-();
+-
+-95 

+-sys_mkd
+-();
+-
+-96 

+-sys_mknod
+-();
+-
+-97 

+-sys_
+-();
+-
+-98 

+-sys_pe
+-();
+-
+-99 

+-sys_ad
+-();
+-
+-100 

+-sys_sbrk
+-();
+-
+-101 

+-sys_p
+-();
+-
+-102 

+-sys_uk
+-();
+-
+-103 

+-sys_wa
+-();
+-
+-104 

+-sys_wre
+-();
+-
+-105 

+-sys_uime
+-();
+-
+-106 

+-sys_mm
+-();
+-
+-107 

+-sys_munm
+-();
+-
+-109 (*
+-syss
+-[])() = {
+-
+-110 [
+-SYS_fk
+-] 
+-sys_fk
+-,
+-
+-111 [
+-SYS_ex
+-] 
+-sys_ex
+-,
+-
+-112 [
+-SYS_wa
+-] 
+-sys_wa
+-,
+-
+-113 [
+-SYS_pe
+-] 
+-sys_pe
+-,
+-
+-114 [
+-SYS_ad
+-] 
+-sys_ad
+-,
+-
+-115 [
+-SYS_kl
+-] 
+-sys_kl
+-,
+-
+-116 [
+-SYS_exec
+-] 
+-sys_exec
+-,
+-
+-117 [
+-SYS_f
+-] 
+-sys_f
+-,
+-
+-118 [
+-SYS_chd
+-] 
+-sys_chd
+-,
+-
+-119 [
+-SYS_dup
+-] 
+-sys_dup
+-,
+-
+-120 [
+-SYS_gpid
+-] 
+-sys_gpid
+-,
+-
+-121 [
+-SYS_sbrk
+-] 
+-sys_sbrk
+-,
+-
+-122 [
+-SYS_p
+-] 
+-sys_p
+-,
+-
+-123 [
+-SYS_uime
+-] 
+-sys_uime
+-,
+-
+-124 [
+-SYS_
+-] 
+-sys_
+-,
+-
+-125 [
+-SYS_wre
+-] 
+-sys_wre
+-,
+-
+-126 [
+-SYS_mknod
+-] 
+-sys_mknod
+-,
+-
+-127 [
+-SYS_uk
+-] 
+-sys_uk
+-,
+-
+-128 [
+-SYS_lk
+-] 
+-sys_lk
+-,
+-
+-129 [
+-SYS_mkd
+-] 
+-sys_mkd
+-,
+-
+-130 [
+-SYS_o
+-] 
+-sys_o
+-,
+-
+-131 [
+-SYS_mm
+-] 
+-sys_mm
+-,
+-
+-132 [
+-SYS_munm
+-] 
+-sys_munm
+-
+-
+-133 
+-	}
+-};
+-
+-136 
+-	$sys
+-()
+-
+-138 
+-num
+-;
+-
+-139 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-141 
+-num
+- = 
+-curoc
+-->
+-tf
+-->
+-x
+-;
+-
+-142 if(
+-num
+- > 0 &&um < 
+-	`NELEM
+-(
+-syss
+-) && syscalls[num]) {
+-
+-143 
+-curoc
+-->
+-tf
+-->
+-x
+- = 
+-syss
+-[
+-num
+-]();
+-
+-145 
+-	`rtf
+-("%d %s: unknown sys call %d\n",
+-
+-146 
+-curoc
+-->
+-pid
+-, curoc->
+-me
+-, 
+-num
+-);
+-
+-147 
+-curoc
+-->
+-tf
+-->
+-x
+- = -1;
+-
+-149 
+-	}
+-}
+-
+-	@syscall.h
+-
+-2 
+-	#SYS_fk
+- 1
+-
+-	)
+-
+-3 
+-	#SYS_ex
+- 2
+-
+-	)
+-
+-4 
+-	#SYS_wa
+- 3
+-
+-	)
+-
+-5 
+-	#SYS_pe
+- 4
+-
+-	)
+-
+-6 
+-	#SYS_ad
+- 5
+-
+-	)
+-
+-7 
+-	#SYS_kl
+- 6
+-
+-	)
+-
+-8 
+-	#SYS_exec
+- 7
+-
+-	)
+-
+-9 
+-	#SYS_f
+- 8
+-
+-	)
+-
+-10 
+-	#SYS_chd
+- 9
+-
+-	)
+-
+-11 
+-	#SYS_dup
+- 10
+-
+-	)
+-
+-12 
+-	#SYS_gpid
+- 11
+-
+-	)
+-
+-13 
+-	#SYS_sbrk
+- 12
+-
+-	)
+-
+-14 
+-	#SYS_p
+- 13
+-
+-	)
+-
+-15 
+-	#SYS_uime
+- 14
+-
+-	)
+-
+-16 
+-	#SYS_
+- 15
+-
+-	)
+-
+-17 
+-	#SYS_wre
+- 16
+-
+-	)
+-
+-18 
+-	#SYS_mknod
+- 17
+-
+-	)
+-
+-19 
+-	#SYS_uk
+- 18
+-
+-	)
+-
+-20 
+-	#SYS_lk
+- 19
+-
+-	)
+-
+-21 
+-	#SYS_mkd
+- 20
+-
+-	)
+-
+-22 
+-	#SYS_o
+- 21
+-
+-	)
+-
+-23 
+-	#SYS_mm
+- 22
+-
+-	)
+-
+-24 
+-	#SYS_munm
+- 23
+-
+-	)
+-
+-	@sysfile.c
+-
+-7 
+-	~"tys.h
+-"
+-
+-8 
+-	~"defs.h
+-"
+-
+-9 
+-	~"m.h
+-"
+-
+-10 
+-	~".h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-13 
+-	~"fs.h
+-"
+-
+-14 
+-	~"lock.h
+-"
+-
+-15 
+-	~"ock.h
+-"
+-
+-16 
+-	~"fe.h
+-"
+-
+-17 
+-	~"f.h
+-"
+-
+-22 
+-	$gfd
+-(
+-n
+-, *
+-pfd
+-, 
+-fe
+- **
+-pf
+-)
+-
+-24 
+-fd
+-;
+-
+-25 
+-fe
+- *
+-f
+-;
+-
+-27 if(
+-	`gt
+-(
+-n
+-, &
+-fd
+-) < 0)
+-
+-29 if(
+-fd
+- < 0 || fd >
+-NOFILE
+- || (
+-f
+-=
+-	`myoc
+-()->
+-ofe
+-[fd]) == 0)
+-
+-31 if(
+-pfd
+-)
+-
+-32 *
+-pfd
+- = 
+-fd
+-;
+-
+-33 if(
+-pf
+-)
+-
+-34 *
+-pf
+- = 
+-f
+-;
+-
+-36 
+-	}
+-}
+-
+-41 
+-	$fdloc
+-(
+-fe
+- *
+-f
+-)
+-
+-43 
+-fd
+-;
+-
+-44 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-46 
+-fd
+- = 0; fd < 
+-NOFILE
+-; fd++){
+-
+-47 if(
+-curoc
+-->
+-ofe
+-[
+-fd
+-] == 0){
+-
+-48 
+-curoc
+-->
+-ofe
+-[
+-fd
+-] = 
+-f
+-;
+-
+-49  
+-fd
+-;
+-
+-53 
+-	}
+-}
+-
+-56 
+-	$sys_dup
+-()
+-
+-58 
+-fe
+- *
+-f
+-;
+-
+-59 
+-fd
+-;
+-
+-61 if(
+-	`gfd
+-(0, 0, &
+-f
+-) < 0)
+-
+-63 if((
+-fd
+-=
+-	`fdloc
+-(
+-f
+-)) < 0)
+-
+-65 
+-	`fedup
+-(
+-f
+-);
+-
+-66  
+-fd
+-;
+-
+-67 
+-	}
+-}
+-
+-70 
+-	$sys_ad
+-()
+-
+-72 
+-fe
+- *
+-f
+-;
+-
+-73 
+-n
+-;
+-
+-74 *
+-p
+-;
+-
+-76 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gt
+-(2, &
+-n
+-< 0 || 
+-	`gr
+-(1, &
+-p
+-,) < 0)
+-
+-78  
+-	`fd
+-(
+-f
+-, 
+-p
+-, 
+-n
+-);
+-
+-79 
+-	}
+-}
+-
+-82 
+-	$sys_wre
+-()
+-
+-84 
+-fe
+- *
+-f
+-;
+-
+-85 
+-n
+-;
+-
+-86 *
+-p
+-;
+-
+-88 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gt
+-(2, &
+-n
+-< 0 || 
+-	`gr
+-(1, &
+-p
+-,) < 0)
+-
+-90  
+-	`fewre
+-(
+-f
+-, 
+-p
+-, 
+-n
+-);
+-
+-91 
+-	}
+-}
+-
+-94 
+-	$sys_o
+-()
+-
+-96 
+-fd
+-;
+-
+-97 
+-fe
+- *
+-f
+-;
+-
+-99 if(
+-	`gfd
+-(0, &
+-fd
+-, &
+-f
+-) < 0)
+-
+-101 
+-	`myoc
+-()->
+-ofe
+-[
+-fd
+-] = 0;
+-
+-102 
+-	`feo
+-(
+-f
+-);
+-
+-104 
+-	}
+-}
+-
+-107 
+-	$sys_f
+-()
+-
+-109 
+-fe
+- *
+-f
+-;
+-
+-110 
+-
+- *
+-
+-;
+-
+-112 if(
+-	`gfd
+-(0, 0, &
+-f
+-< 0 || 
+-	`gr
+-(1, (*)&
+-
+-, (*st)) < 0)
+-
+-114  
+-	`fe
+-(
+-f
+-, 
+-
+-);
+-
+-115 
+-	}
+-}
+-
+-119 
+-	$sys_lk
+-()
+-
+-121 
+-me
+-[
+-DIRSIZ
+-], *
+-w
+-, *
+-d
+-;
+-
+-122 
+-ode
+- *
+-dp
+-, *
+-
+-;
+-
+-124 if(
+-	`gr
+-(0, &
+-d
+-< 0 ||rgr(1, &
+-w
+-) < 0)
+-
+-127 
+-	`beg_
+-();
+-
+-128 if((
+-
+- = 
+-	`mei
+-(
+-d
+-)) == 0){
+-
+-129 
+-	`d_
+-();
+-
+-133 
+-	`ock
+-(
+-
+-);
+-
+-134 if(
+-
+-->
+-ty
+- =
+-T_DIR
+-){
+-
+-135 
+-	`iuockput
+-(
+-
+-);
+-
+-136 
+-	`d_
+-();
+-
+-140 
+-
+-->
+-k
+-++;
+-
+-141 
+-	`iupde
+-(
+-
+-);
+-
+-142 
+-	`iuock
+-(
+-
+-);
+-
+-144 if((
+-dp
+- = 
+-	`met
+-(
+-w
+-, 
+-me
+-)) == 0)
+-
+-145 
+-bad
+-;
+-
+-146 
+-	`ock
+-(
+-dp
+-);
+-
+-147 if(
+-dp
+-->
+-dev
+- !
+-
+-->dev || 
+-	`dlk
+-(dp, 
+-me
+-, ip->
+-um
+-) < 0){
+-
+-148 
+-	`iuockput
+-(
+-dp
+-);
+-
+-149 
+-bad
+-;
+-
+-151 
+-	`iuockput
+-(
+-dp
+-);
+-
+-152 
+-	`ut
+-(
+-
+-);
+-
+-154 
+-	`d_
+-();
+-
+-158 
+-bad
+-:
+-
+-159 
+-	`ock
+-(
+-
+-);
+-
+-160 
+-
+-->
+-k
+---;
+-
+-161 
+-	`iupde
+-(
+-
+-);
+-
+-162 
+-	`iuockput
+-(
+-
+-);
+-
+-163 
+-	`d_
+-();
+-
+-165 
+-	}
+-}
+-
+-169 
+-	$isdemy
+-(
+-ode
+- *
+-dp
+-)
+-
+-171 
+-off
+-;
+-
+-172 
+-dt
+- 
+-de
+-;
+-
+-174 
+-off
+-=2*(
+-de
+-); off<
+-dp
+-->
+-size
+-; off+=(de)){
+-
+-175 if(
+-	`adi
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-176 
+-	`nic
+-("isdirempty:eadi");
+-
+-177 if(
+-de
+-.
+-um
+- != 0)
+-
+-181 
+-	}
+-}
+-
+-185 
+-	$sys_uk
+-()
+-
+-187 
+-ode
+- *
+-
+-, *
+-dp
+-;
+-
+-188 
+-dt
+- 
+-de
+-;
+-
+-189 
+-me
+-[
+-DIRSIZ
+-], *
+-th
+-;
+-
+-190 
+-ut
+- 
+-off
+-;
+-
+-192 if(
+-	`gr
+-(0, &
+-th
+-) < 0)
+-
+-195 
+-	`beg_
+-();
+-
+-196 if((
+-dp
+- = 
+-	`met
+-(
+-th
+-, 
+-me
+-)) == 0){
+-
+-197 
+-	`d_
+-();
+-
+-201 
+-	`ock
+-(
+-dp
+-);
+-
+-204 if(
+-	`mecmp
+-(
+-me
+-, ".") == 0 ||amecmp(name, "..") == 0)
+-
+-205 
+-bad
+-;
+-
+-207 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, &
+-off
+-)) == 0)
+-
+-208 
+-bad
+-;
+-
+-209 
+-	`ock
+-(
+-
+-);
+-
+-211 if(
+-
+-->
+-k
+- < 1)
+-
+-212 
+-	`nic
+-("unlink:link < 1");
+-
+-213 if(
+-
+-->
+-ty
+- =
+-T_DIR
+- && !
+-	`isdemy
+-(ip)){
+-
+-214 
+-	`iuockput
+-(
+-
+-);
+-
+-215 
+-bad
+-;
+-
+-218 
+-	`memt
+-(&
+-de
+-, 0, (de));
+-
+-219 if(
+-	`wrei
+-(
+-dp
+-, (*)&
+-de
+-, 
+-off
+-, (de)) != (de))
+-
+-220 
+-	`nic
+-("unlink: writei");
+-
+-221 if(
+-
+-->
+-ty
+- =
+-T_DIR
+-){
+-
+-222 
+-dp
+-->
+-k
+---;
+-
+-223 
+-	`iupde
+-(
+-dp
+-);
+-
+-225 
+-	`iuockput
+-(
+-dp
+-);
+-
+-227 
+-
+-->
+-k
+---;
+-
+-228 
+-	`iupde
+-(
+-
+-);
+-
+-229 
+-	`iuockput
+-(
+-
+-);
+-
+-231 
+-	`d_
+-();
+-
+-235 
+-bad
+-:
+-
+-236 
+-	`iuockput
+-(
+-dp
+-);
+-
+-237 
+-	`d_
+-();
+-
+-239 
+-	}
+-}
+-
+-241 
+-ode
+-*
+-
+-242 
+-	$
+-(*
+-th
+-, 
+-ty
+-, 
+-maj
+-, 
+-m
+-)
+-
+-244 
+-ode
+- *
+-
+-, *
+-dp
+-;
+-
+-245 
+-me
+-[
+-DIRSIZ
+-];
+-
+-247 if((
+-dp
+- = 
+-	`met
+-(
+-th
+-, 
+-me
+-)) == 0)
+-
+-249 
+-	`ock
+-(
+-dp
+-);
+-
+-251 if((
+-
+- = 
+-	`dlookup
+-(
+-dp
+-, 
+-me
+-, 0)) != 0){
+-
+-252 
+-	`iuockput
+-(
+-dp
+-);
+-
+-253 
+-	`ock
+-(
+-
+-);
+-
+-254 if(
+-ty
+- =
+-T_FILE
+- && 
+-
+-->type == T_FILE)
+-
+-255  
+-
+-;
+-
+-256 
+-	`iuockput
+-(
+-
+-);
+-
+-260 if((
+-
+- = 
+-	`oc
+-(
+-dp
+-->
+-dev
+-, 
+-ty
+-)) == 0)
+-
+-261 
+-	`nic
+-("create: ialloc");
+-
+-263 
+-	`ock
+-(
+-
+-);
+-
+-264 
+-
+-->
+-maj
+- = major;
+-
+-265 
+-
+-->
+-m
+- = minor;
+-
+-266 
+-
+-->
+-k
+- = 1;
+-
+-267 
+-	`iupde
+-(
+-
+-);
+-
+-269 if(
+-ty
+- =
+-T_DIR
+-){
+-
+-270 
+-dp
+-->
+-k
+-++;
+-
+-271 
+-	`iupde
+-(
+-dp
+-);
+-
+-273 if(
+-	`dlk
+-(
+-
+-, ".", ip->
+-um
+-< 0 || dlk(, "..", 
+-dp
+-->inum) < 0)
+-
+-274 
+-	`nic
+-("create dots");
+-
+-277 if(
+-	`dlk
+-(
+-dp
+-, 
+-me
+-, 
+-
+-->
+-um
+-) < 0)
+-
+-278 
+-	`nic
+-("create: dirlink");
+-
+-280 
+-	`iuockput
+-(
+-dp
+-);
+-
+-282  
+-
+-;
+-
+-283 
+-	}
+-}
+-
+-286 
+-	$sys_
+-()
+-
+-288 *
+-th
+-;
+-
+-289 
+-fd
+-, 
+-omode
+-;
+-
+-290 
+-fe
+- *
+-f
+-;
+-
+-291 
+-ode
+- *
+-
+-;
+-
+-293 if(
+-	`gr
+-(0, &
+-th
+-< 0 || 
+-	`gt
+-(1, &
+-omode
+-) < 0)
+-
+-296 
+-	`beg_
+-();
+-
+-298 if(
+-omode
+- & 
+-O_CREATE
+-){
+-
+-299 
+-
+- = 
+-	`
+-(
+-th
+-, 
+-T_FILE
+-, 0, 0);
+-
+-300 if(
+-
+- == 0){
+-
+-301 
+-	`d_
+-();
+-
+-305 if((
+-
+- = 
+-	`mei
+-(
+-th
+-)) == 0){
+-
+-306 
+-	`d_
+-();
+-
+-309 
+-	`ock
+-(
+-
+-);
+-
+-310 if(
+-
+-->
+-ty
+- =
+-T_DIR
+- && 
+-omode
+- !
+-O_RDONLY
+-){
+-
+-311 
+-	`iuockput
+-(
+-
+-);
+-
+-312 
+-	`d_
+-();
+-
+-317 if((
+-f
+- = 
+-	`foc
+-()=0 || (
+-fd
+- = 
+-	`fdloc
+-(f)) < 0){
+-
+-318 if(
+-f
+-)
+-
+-319 
+-	`feo
+-(
+-f
+-);
+-
+-320 
+-	`iuockput
+-(
+-
+-);
+-
+-321 
+-	`d_
+-();
+-
+-324 
+-	`iuock
+-(
+-
+-);
+-
+-325 
+-	`d_
+-();
+-
+-327 
+-f
+-->
+-ty
+- = 
+-FD_INODE
+-;
+-
+-328 
+-f
+-->
+-
+- = ip;
+-
+-329 
+-f
+-->
+-off
+- = 0;
+-
+-330 
+-f
+-->
+-adab
+- = !(
+-omode
+- & 
+-O_WRONLY
+-);
+-
+-331 
+-f
+-->
+-wrab
+- = (
+-omode
+- & 
+-O_WRONLY
+-|| (omod& 
+-O_RDWR
+-);
+-
+-332  
+-fd
+-;
+-
+-333 
+-	}
+-}
+-
+-336 
+-	$sys_mkd
+-()
+-
+-338 *
+-th
+-;
+-
+-339 
+-ode
+- *
+-
+-;
+-
+-341 
+-	`beg_
+-();
+-
+-342 if(
+-	`gr
+-(0, &
+-th
+-< 0 || (
+-
+- = 
+-	`
+-h, 
+-T_DIR
+-, 0, 0)) == 0){
+-
+-343 
+-	`d_
+-();
+-
+-346 
+-	`iuockput
+-(
+-
+-);
+-
+-347 
+-	`d_
+-();
+-
+-349 
+-	}
+-}
+-
+-352 
+-	$sys_mknod
+-()
+-
+-354 
+-ode
+- *
+-
+-;
+-
+-355 *
+-th
+-;
+-
+-356 
+-maj
+-, 
+-m
+-;
+-
+-358 
+-	`beg_
+-();
+-
+-359 if((
+-	`gr
+-(0, &
+-th
+-)) < 0 ||
+-
+-360 
+-	`gt
+-(1, &
+-maj
+-) < 0 ||
+-
+-361 
+-	`gt
+-(2, &
+-m
+-) < 0 ||
+-
+-362 (
+-
+- = 
+-	`
+-(
+-th
+-, 
+-T_DEV
+-, 
+-maj
+-, 
+-m
+-)) == 0){
+-
+-363 
+-	`d_
+-();
+-
+-366 
+-	`iuockput
+-(
+-
+-);
+-
+-367 
+-	`d_
+-();
+-
+-369 
+-	}
+-}
+-
+-372 
+-	$sys_chd
+-()
+-
+-374 *
+-th
+-;
+-
+-375 
+-ode
+- *
+-
+-;
+-
+-376 
+-oc
+- *
+-curoc
+- = 
+-	`myoc
+-();
+-
+-378 
+-	`beg_
+-();
+-
+-379 if(
+-	`gr
+-(0, &
+-th
+-< 0 || (
+-
+- = 
+-	`mei
+-(path)) == 0){
+-
+-380 
+-	`d_
+-();
+-
+-383 
+-	`ock
+-(
+-
+-);
+-
+-384 if(
+-
+-->
+-ty
+- !
+-T_DIR
+-){
+-
+-385 
+-	`iuockput
+-(
+-
+-);
+-
+-386 
+-	`d_
+-();
+-
+-389 
+-	`iuock
+-(
+-
+-);
+-
+-390 
+-	`ut
+-(
+-curoc
+-->
+-cwd
+-);
+-
+-391 
+-	`d_
+-();
+-
+-392 
+-curoc
+-->
+-cwd
+- = 
+-
+-;
+-
+-394 
+-	}
+-}
+-
+-397 
+-	$sys_exec
+-()
+-
+-399 *
+-th
+-, *
+-gv
+-[
+-MAXARG
+-];
+-
+-400 
+-i
+-;
+-
+-401 
+-ut
+- 
+-ugv
+-, 
+-ug
+-;
+-
+-403 if(
+-	`gr
+-(0, &
+-th
+-< 0 || 
+-	`gt
+-(1, (*)&
+-ugv
+-) < 0){
+-
+-406 
+-	`memt
+-(
+-gv
+-, 0, (argv));
+-
+-407 
+-i
+-=0;; i++){
+-
+-408 if(
+-i
+- >
+-	`NELEM
+-(
+-gv
+-))
+-
+-410 if(
+-	`tcht
+-(
+-ugv
+-+4*
+-i
+-, (*)&
+-ug
+-) < 0)
+-
+-412 if(
+-ug
+- == 0){
+-
+-413 
+-gv
+-[
+-i
+-] = 0;
+-
+-416 if(
+-	`tchr
+-(
+-ug
+-, &
+-gv
+-[
+-i
+-]) < 0)
+-
+-419  
+-	`exec
+-(
+-th
+-, 
+-gv
+-);
+-
+-420 
+-	}
+-}
+-
+-423 
+-	$sys_pe
+-()
+-
+-425 *
+-fd
+-;
+-
+-426 
+-fe
+- *
+-rf
+-, *
+-wf
+-;
+-
+-427 
+-fd0
+-, 
+-fd1
+-;
+-
+-429 if(
+-	`gr
+-(0, (*)&
+-fd
+-, 2*(fd[0])) < 0)
+-
+-431 if(
+-	`poc
+-(&
+-rf
+-, &
+-wf
+-) < 0)
+-
+-433 
+-fd0
+- = -1;
+-
+-434 if((
+-fd0
+- = 
+-	`fdloc
+-(
+-rf
+-)< 0 || (
+-fd1
+- = fdloc(
+-wf
+-)) < 0){
+-
+-435 if(
+-fd0
+- >= 0)
+-
+-436 
+-	`myoc
+-()->
+-ofe
+-[
+-fd0
+-] = 0;
+-
+-437 
+-	`feo
+-(
+-rf
+-);
+-
+-438 
+-	`feo
+-(
+-wf
+-);
+-
+-441 
+-fd
+-[0] = 
+-fd0
+-;
+-
+-442 
+-fd
+-[1] = 
+-fd1
+-;
+-
+-444 
+-	}
+-}
+-
+-446 
+-	$sys_mm
+-(){
+-
+-450 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-;
+-
+-451 
+-fe
+- *
+-
+-;
+-
+-456 i(
+-	`gt
+-(2,&
+-
+-< 0 ||rgt(3,&
+-ags
+-< 0 || 
+-	`gfd
+-(4,&
+-fd
+-,&
+-
+-< 0 ||rgt(5,&
+-offt
+-) < 0){
+-
+-459 
+-	`rtf
+-("%d %d %d %d\n", 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-461 
+-	}
+-}
+-
+-463 
+-	$sys_munm
+-(){
+-
+-465 *
+-addr
+-;
+-
+-466 
+-ngth
+-;
+-
+-468 i(
+-	`gt
+-(1, &
+-ngth
+-< 0 || 
+-	`gr
+-(0, &
+-addr
+-,ength) < 0){
+-
+-472 
+-	}
+-}
+-
+-	@sysproc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"x86.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"de.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"memyout.h
+-"
+-
+-7 
+-	~"mmu.h
+-"
+-
+-8 
+-	~"oc.h
+-"
+-
+-11 
+-	$sys_fk
+-()
+-
+-13  
+-	`fk
+-();
+-
+-14 
+-	}
+-}
+-
+-17 
+-	$sys_ex
+-()
+-
+-19 
+-	`ex
+-();
+-
+-21 
+-	}
+-}
+-
+-24 
+-	$sys_wa
+-()
+-
+-26  
+-	`wa
+-();
+-
+-27 
+-	}
+-}
+-
+-30 
+-	$sys_kl
+-()
+-
+-32 
+-pid
+-;
+-
+-34 if(
+-	`gt
+-(0, &
+-pid
+-) < 0)
+-
+-36  
+-	`kl
+-(
+-pid
+-);
+-
+-37 
+-	}
+-}
+-
+-40 
+-	$sys_gpid
+-()
+-
+-42  
+-	`myoc
+-()->
+-pid
+-;
+-
+-43 
+-	}
+-}
+-
+-46 
+-	$sys_sbrk
+-()
+-
+-48 
+-addr
+-;
+-
+-49 
+-n
+-;
+-
+-51 if(
+-	`gt
+-(0, &
+-n
+-) < 0)
+-
+-53 
+-addr
+- = 
+-	`myoc
+-()->
+-sz
+-;
+-
+-54 if(
+-	`growoc
+-(
+-n
+-) < 0)
+-
+-56  
+-addr
+-;
+-
+-57 
+-	}
+-}
+-
+-60 
+-	$sys_p
+-()
+-
+-62 
+-n
+-;
+-
+-63 
+-ut
+- 
+-ticks0
+-;
+-
+-65 if(
+-	`gt
+-(0, &
+-n
+-) < 0)
+-
+-67 
+-	`acque
+-(&
+-tickock
+-);
+-
+-68 
+-ticks0
+- = 
+-ticks
+-;
+-
+-69 
+-ticks
+- - 
+-ticks0
+- < 
+-n
+-){
+-
+-70 if(
+-	`myoc
+-()->
+-kd
+-){
+-
+-71 
+-	`a
+-(&
+-tickock
+-);
+-
+-74 
+-	`p
+-(&
+-ticks
+-, &
+-tickock
+-);
+-
+-76 
+-	`a
+-(&
+-tickock
+-);
+-
+-78 
+-	}
+-}
+-
+-83 
+-	$sys_uime
+-()
+-
+-85 
+-ut
+- 
+-xticks
+-;
+-
+-87 
+-	`acque
+-(&
+-tickock
+-);
+-
+-88 
+-xticks
+- = 
+-ticks
+-;
+-
+-89 
+-	`a
+-(&
+-tickock
+-);
+-
+-90  
+-xticks
+-;
+-
+-91 
+-	}
+-}
+-
+-	@trap.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~"defs.h
+-"
+-
+-3 
+-	~"m.h
+-"
+-
+-4 
+-	~"memyout.h
+-"
+-
+-5 
+-	~"mmu.h
+-"
+-
+-6 
+-	~"oc.h
+-"
+-
+-7 
+-	~"x86.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"lock.h
+-"
+-
+-12 
+-gedesc
+- 
+-	gidt
+-[256];
+-
+-13 
+-ut
+- 
+-ves
+-[];
+-
+-14 
+-lock
+- 
+-	gtickock
+-;
+-
+-15 
+-ut
+- 
+-	gticks
+-;
+-
+-18 
+-	$tv
+-()
+-
+-20 
+-i
+-;
+-
+-22 
+-i
+- = 0; i < 256; i++)
+-
+-23 
+-	`SETGATE
+-(
+-idt
+-[
+-i
+-], 0, 
+-SEG_KCODE
+-<<3, 
+-ves
+-[i], 0);
+-
+-24 
+-	`SETGATE
+-(
+-idt
+-[
+-T_SYSCALL
+-], 1, 
+-SEG_KCODE
+-<<3, 
+-ves
+-[T_SYSCALL], 
+-DPL_USER
+-);
+-
+-26 
+-	`lock
+-(&
+-tickock
+-, "time");
+-
+-27 
+-	}
+-}
+-
+-30 
+-	$idt
+-()
+-
+-32 
+-	`lidt
+-(
+-idt
+-, (idt));
+-
+-33 
+-	}
+-}
+-
+-37 
+-	$
+-(
+-ame
+- *
+-tf
+-)
+-
+-39 if(
+-tf
+-->
+-no
+- =
+-T_SYSCALL
+-){
+-
+-40 if(
+-	`myoc
+-()->
+-kd
+-)
+-
+-41 
+-	`ex
+-();
+-
+-42 
+-	`myoc
+-()->
+-tf
+- =f;
+-
+-43 
+-	`sys
+-();
+-
+-44 if(
+-	`myoc
+-()->
+-kd
+-)
+-
+-45 
+-	`ex
+-();
+-
+-49 
+-tf
+-->
+-no
+-){
+-
+-50 
+-T_IRQ0
+- + 
+-IRQ_TIMER
+-:
+-
+-51 if(
+-	`uid
+-() == 0){
+-
+-52 
+-	`acque
+-(&
+-tickock
+-);
+-
+-53 
+-ticks
+-++;
+-
+-54 
+-	`wakeup
+-(&
+-ticks
+-);
+-
+-55 
+-	`a
+-(&
+-tickock
+-);
+-
+-57 
+-	`pioi
+-();
+-
+-59 
+-T_IRQ0
+- + 
+-IRQ_IDE
+-:
+-
+-60 
+-	`ide
+-();
+-
+-61 
+-	`pioi
+-();
+-
+-63 
+-T_IRQ0
+- + 
+-IRQ_IDE
+-+1:
+-
+-66 
+-T_IRQ0
+- + 
+-IRQ_KBD
+-:
+-
+-67 
+-	`kbd
+-();
+-
+-68 
+-	`pioi
+-();
+-
+-70 
+-T_IRQ0
+- + 
+-IRQ_COM1
+-:
+-
+-71 
+-	`ut
+-();
+-
+-72 
+-	`pioi
+-();
+-
+-74 
+-T_IRQ0
+- + 7:
+-
+-75 
+-T_IRQ0
+- + 
+-IRQ_SPURIOUS
+-:
+-
+-76 
+-	`rtf
+-("cpu%d: spurious interruptt %x:%x\n",
+-
+-77 
+-	`uid
+-(), 
+-tf
+-->
+-cs
+-,f->
+-e
+-);
+-
+-78 
+-	`pioi
+-();
+-
+-83 if(
+-	`myoc
+-(=0 || (
+-tf
+-->
+-cs
+-&3) == 0){
+-
+-85 
+-	`rtf
+-("unexpectedrap %d from cpu %dip %x (cr2=0x%x)\n",
+-
+-86 
+-tf
+-->
+-no
+-, 
+-	`uid
+-(),f->
+-e
+-, 
+-	`r2
+-());
+-
+-87 
+-	`nic
+-("trap");
+-
+-90 
+-	`rtf
+-("pid %d %s:rap %drr %d on cpu %d "
+-
+-92 
+-	`myoc
+-()->
+-pid
+-, myoc()->
+-me
+-, 
+-tf
+-->
+-no
+-,
+-
+-93 
+-tf
+-->
+-r
+-, 
+-	`uid
+-(),f->
+-e
+-, 
+-	`r2
+-());
+-
+-94 
+-	`myoc
+-()->
+-kd
+- = 1;
+-
+-100 if(
+-	`myoc
+-(&& myoc()->
+-kd
+- && (
+-tf
+-->
+-cs
+-&3=
+-DPL_USER
+-)
+-
+-101 
+-	`ex
+-();
+-
+-105 if(
+-	`myoc
+-(&& myoc()->
+-e
+- =
+-RUNNING
+- &&
+-
+-106 
+-tf
+-->
+-no
+- =
+-T_IRQ0
+-+
+-IRQ_TIMER
+-)
+-
+-107 
+-	`yld
+-();
+-
+-110 if(
+-	`myoc
+-(&& myoc()->
+-kd
+- && (
+-tf
+-->
+-cs
+-&3=
+-DPL_USER
+-)
+-
+-111 
+-	`ex
+-();
+-
+-112 
+-	}
+-}
+-
+-	@trapasm.S
+-
+-1 
+-	~"mmu.h
+-"
+-
+-3 #ves.
+-S
+- 
+-nds
+- 
+-l
+- 
+-s
+- 
+-he
+-.
+-
+-4 .
+-globl
+- 
+-ps
+-
+-
+-5 
+-	gps
+-:
+-
+-6 #Bud 
+-
+- 
+-ame
+-.
+-
+-7 
+-pushl
+- %
+-ds
+-
+-
+-8 
+-pushl
+- %
+-es
+-
+-
+-9 
+-pushl
+- %
+-fs
+-
+-
+-10 
+-pushl
+- %
+-gs
+-
+-
+-11 
+-push
+-
+-
+-13 #S 
+-up
+- 
+-da
+- 
+-gmts
+-.
+-
+-14 
+-movw
+- 
+-$
+-(
+-SEG_KDATA
+-<<3), %
+-ax
+-
+-
+-15 
+-	gmovw
+- %
+-	gax
+-, %
+-ds
+-
+-
+-16 
+-	gmovw
+- %
+-	gax
+-, %
+-	ges
+-
+-
+-18 #C
+-
+-(
+-tf
+-), 
+-whe
+-f=%
+-e
+-
+-
+-19 
+-	gpushl
+- %
+-e
+-
+-
+-20 
+-
+- 
+-
+-
+-
+-21 
+-addl
+- 
+-	g$4
+-, %
+-	ge
+-
+-
+-23 #Ru 
+-s
+- 
+-through
+- 
+-to
+- 
+-t
+-...
+-
+-24 .
+-globl
+- 
+-t
+-
+-
+-25 
+-	gt
+-:
+-
+-26 
+-p
+-
+-
+-27 
+-pl
+- %
+-gs
+-
+-
+-28 
+-pl
+- %
+-fs
+-
+-
+-29 
+-pl
+- %
+-es
+-
+-
+-30 
+-pl
+- %
+-ds
+-
+-
+-31 
+-addl
+- 
+-$0x8
+-, %
+-	ge
+- #n
+-d
+- 
+-rcode
+-
+-
+-32 
+-	g
+-
+-
+-	@traps.h
+-
+-4 
+-	#T_DIVIDE
+- 0
+-
+-5 
+-	#T_DEBUG
+- 1
+-
+-6 
+-	#T_NMI
+- 2
+-
+-7 
+-	#T_BRKPT
+- 3
+-
+-8 
+-	#T_OFLOW
+- 4
+-
+-9 
+-	#T_BOUND
+- 5
+-
+-10 
+-	#T_ILLOP
+- 6
+-
+-11 
+-	#T_DEVICE
+- 7
+-
+-12 
+-	#T_DBLFLT
+- 8
+-
+-14 
+-	#T_TSS
+- 10
+-
+-15 
+-	#T_SEGNP
+- 11
+-
+-16 
+-	#T_STACK
+- 12
+-
+-17 
+-	#T_GPFLT
+- 13
+-
+-18 
+-	#T_PGFLT
+- 14
+-
+-20 
+-	#T_FPERR
+- 16
+-
+-21 
+-	#T_ALIGN
+- 17
+-
+-22 
+-	#T_MCHK
+- 18
+-
+-23 
+-	#T_SIMDERR
+- 19
+-
+-24 
+-
+-	)
+-
+-27 
+-	#T_SYSCALL
+- 64
+-
+-28 
+-	#T_DEFAULT
+- 500
+-
+-29 
+-
+-	)
+-
+-30 
+-	#T_IRQ0
+- 32
+-
+-31 
+-
+-	)
+-
+-32 
+-	#IRQ_TIMER
+- 0
+-
+-	)
+-
+-33 
+-	#IRQ_KBD
+- 1
+-
+-	)
+-
+-34 
+-	#IRQ_COM1
+- 4
+-
+-	)
+-
+-35 
+-	#IRQ_IDE
+- 14
+-
+-	)
+-
+-36 
+-	#IRQ_ERROR
+- 19
+-
+-	)
+-
+-37 
+-	#IRQ_SPURIOUS
+- 31
+-
+-	)
+-
+-	@types.h
+-
+-1 
+-	tut
+-;
+-
+-2 
+-	tusht
+-;
+-
+-3 
+-	tuch
+-;
+-
+-4 
+-ut
+- 
+-	tpde_t
+-;
+-
+-	@uart.c
+-
+-3 
+-	~"tys.h
+-"
+-
+-4 
+-	~"defs.h
+-"
+-
+-5 
+-	~"m.h
+-"
+-
+-6 
+-	~"s.h
+-"
+-
+-7 
+-	~"lock.h
+-"
+-
+-8 
+-	~"ock.h
+-"
+-
+-9 
+-	~"fs.h
+-"
+-
+-10 
+-	~"fe.h
+-"
+-
+-11 
+-	~"mmu.h
+-"
+-
+-12 
+-	~"oc.h
+-"
+-
+-13 
+-	~"x86.h
+-"
+-
+-15 
+-	#COM1
+- 0x3f8
+-
+-	)
+-
+-17 
+-	gut
+-;
+-
+-20 
+-	$ut
+-()
+-
+-22 *
+-p
+-;
+-
+-25 
+-	`outb
+-(
+-COM1
+-+2, 0);
+-
+-28 
+-	`outb
+-(
+-COM1
+-+3, 0x80);
+-
+-29 
+-	`outb
+-(
+-COM1
+-+0, 115200/9600);
+-
+-30 
+-	`outb
+-(
+-COM1
+-+1, 0);
+-
+-31 
+-	`outb
+-(
+-COM1
+-+3, 0x03);
+-
+-32 
+-	`outb
+-(
+-COM1
+-+4, 0);
+-
+-33 
+-	`outb
+-(
+-COM1
+-+1, 0x01);
+-
+-36 if(
+-	`b
+-(
+-COM1
+-+5) == 0xFF)
+-
+-38 
+-ut
+- = 1;
+-
+-42 
+-	`b
+-(
+-COM1
+-+2);
+-
+-43 
+-	`b
+-(
+-COM1
+-+0);
+-
+-44 
+-	`ipib
+-(
+-IRQ_COM1
+-, 0);
+-
+-47 
+-p
+-="xv6...\n"; *p;++)
+-
+-48 
+-	`uutc
+-(*
+-p
+-);
+-
+-49 
+-	}
+-}
+-
+-52 
+-	$uutc
+-(
+-c
+-)
+-
+-54 
+-i
+-;
+-
+-56 if(!
+-ut
+-)
+-
+-58 
+-i
+- = 0; i < 128 && !(
+-	`b
+-(
+-COM1
+-+5) & 0x20); i++)
+-
+-59 
+-	`mioday
+-(10);
+-
+-60 
+-	`outb
+-(
+-COM1
+-+0, 
+-c
+-);
+-
+-61 
+-	}
+-}
+-
+-64 
+-	$utgc
+-()
+-
+-66 if(!
+-ut
+-)
+-
+-68 if(!(
+-	`b
+-(
+-COM1
+-+5) & 0x01))
+-
+-70  
+-	`b
+-(
+-COM1
+-+0);
+-
+-71 
+-	}
+-}
+-
+-74 
+-	$ut
+-()
+-
+-76 
+-	`cse
+-(
+-utgc
+-);
+-
+-77 
+-	}
+-}
+-
+-	@ulib.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"f.h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"x86.h
+-"
+-
+-8 
+-	$ry
+-(*
+-s
+-, c *
+-t
+-)
+-
+-10 *
+-os
+-;
+-
+-12 
+-os
+- = 
+-s
+-;
+-
+-13 (*
+-s
+-++ = *
+-t
+-++) != 0)
+-
+-15  
+-os
+-;
+-
+-16 
+-	}
+-}
+-
+-19 
+-	$rcmp
+-(c *
+-p
+-, c *
+-q
+-)
+-
+-21 *
+-p
+- && *=*
+-q
+-)
+-
+-22 
+-p
+-++, 
+-q
+-++;
+-
+-23  (
+-uch
+-)*
+-p
+- - (uch)*
+-q
+-;
+-
+-24 
+-	}
+-}
+-
+-26 
+-ut
+-
+-
+-27 
+-	$
+-(c *
+-s
+-)
+-
+-29 
+-n
+-;
+-
+-31 
+-n
+- = 0; 
+-s
+-[n];++)
+-
+-33  
+-n
+-;
+-
+-34 
+-	}
+-}
+-
+-37 
+-	$memt
+-(*
+-d
+-, 
+-c
+-, 
+-ut
+- 
+-n
+-)
+-
+-39 
+-	`osb
+-(
+-d
+-, 
+-c
+-, 
+-n
+-);
+-
+-40  
+-d
+-;
+-
+-41 
+-	}
+-}
+-
+-44 
+-	$rchr
+-(c *
+-s
+-, 
+-c
+-)
+-
+-46 ; *
+-s
+-; s++)
+-
+-47 if(*
+-s
+- =
+-c
+-)
+-
+-48  (*)
+-s
+-;
+-
+-50 
+-	}
+-}
+-
+-53 
+-	$gs
+-(*
+-buf
+-, 
+-max
+-)
+-
+-55 
+-i
+-, 
+-cc
+-;
+-
+-56 
+-c
+-;
+-
+-58 
+-i
+-=0; i+1 < 
+-max
+-; ){
+-
+-59 
+-cc
+- = 
+-	`ad
+-(0, &
+-c
+-, 1);
+-
+-60 if(
+-cc
+- < 1)
+-
+-62 
+-buf
+-[
+-i
+-++] = 
+-c
+-;
+-
+-63 if(
+-c
+- == '\n' || c == '\r')
+-
+-66 
+-buf
+-[
+-i
+-] = '\0';
+-
+-67  
+-buf
+-;
+-
+-68 
+-	}
+-}
+-
+-71 
+-	$
+-(c *
+-n
+-, 
+-
+- *
+-
+-)
+-
+-73 
+-fd
+-;
+-
+-74 
+-r
+-;
+-
+-76 
+-fd
+- = 
+-	`
+-(
+-n
+-, 
+-O_RDONLY
+-);
+-
+-77 if(
+-fd
+- < 0)
+-
+-79 
+-r
+- = 
+-	`f
+-(
+-fd
+-, 
+-
+-);
+-
+-80 
+-	`o
+-(
+-fd
+-);
+-
+-81  
+-r
+-;
+-
+-82 
+-	}
+-}
+-
+-85 
+-	$oi
+-(c *
+-s
+-)
+-
+-87 
+-n
+-;
+-
+-89 
+-n
+- = 0;
+-
+-90 '0' <*
+-s
+- && *s <= '9')
+-
+-91 
+-n
+- =*10 + *
+-s
+-++ - '0';
+-
+-92  
+-n
+-;
+-
+-93 
+-	}
+-}
+-
+-96 
+-	$memmove
+-(*
+-vd
+-, c *
+-vc
+-, 
+-n
+-)
+-
+-98 *
+-d
+-;
+-
+-99 c *
+-c
+-;
+-
+-101 
+-d
+- = 
+-vd
+-;
+-
+-102 
+-c
+- = 
+-vc
+-;
+-
+-103 
+-n
+--- > 0)
+-
+-104 *
+-d
+-++ = *
+-c
+-++;
+-
+-105  
+-vd
+-;
+-
+-106 
+-	}
+-}
+-
+-	@umalloc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-4 
+-	~"m.h
+-"
+-
+-9 
+-	tAlign
+-;
+-
+-11 
+-	uhd
+- {
+-
+-13 
+-hd
+- *
+-	mr
+-;
+-
+-14 
+-ut
+- 
+-	msize
+-;
+-
+-15 } 
+-	ms
+-;
+-
+-16 
+-Align
+- 
+-	mx
+-;
+-
+-19 
+-hd
+- 
+-	tHd
+-;
+-
+-21 
+-Hd
+- 
+-	gba
+-;
+-
+-22 
+-Hd
+- *
+-	gp
+-;
+-
+-25 
+-	$
+-(*
+-
+-)
+-
+-27 
+-Hd
+- *
+-bp
+-, *
+-p
+-;
+-
+-29 
+-bp
+- = (
+-Hd
+-*)
+-
+- - 1;
+-
+-30 
+-p
+- = 
+-p
+-; !(
+-bp
+- > && b<->
+-s
+-.
+-r
+-); =->s.ptr)
+-
+-31 if(
+-p
+- >p->
+-s
+-.
+-r
+- && (
+-bp
+- > || bp <->s.ptr))
+-
+-33 if(
+-bp
+- + bp->
+-s
+-.
+-size
+- =
+-p
+-->s.
+-r
+-){
+-
+-34 
+-bp
+-->
+-s
+-.
+-size
+- +
+-p
+-->s.
+-r
+-->s.size;
+-
+-35 
+-bp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr->s.ptr;
+-
+-37 
+-bp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr;
+-
+-38 if(
+-p
+- +->
+-s
+-.
+-size
+- =
+-bp
+-){
+-
+-39 
+-p
+-->
+-s
+-.
+-size
+- +
+-bp
+-->s.size;
+-
+-40 
+-p
+-->
+-s
+-.
+-r
+- = 
+-bp
+-->s.ptr;
+-
+-42 
+-p
+-->
+-s
+-.
+-r
+- = 
+-bp
+-;
+-
+-43 
+-p
+- = 
+-p
+-;
+-
+-44 
+-	}
+-}
+-
+-46 
+-Hd
+-*
+-
+-47 
+-	$mece
+-(
+-ut
+- 
+-nu
+-)
+-
+-49 *
+-p
+-;
+-
+-50 
+-Hd
+- *
+-hp
+-;
+-
+-52 if(
+-nu
+- < 4096)
+-
+-53 
+-nu
+- = 4096;
+-
+-54 
+-p
+- = 
+-	`sbrk
+-(
+-nu
+- * (
+-Hd
+-));
+-
+-55 if(
+-p
+- == (*)-1)
+-
+-57 
+-hp
+- = (
+-Hd
+-*)
+-p
+-;
+-
+-58 
+-hp
+-->
+-s
+-.
+-size
+- = 
+-nu
+-;
+-
+-59 
+-	`
+-((*)(
+-hp
+- + 1));
+-
+-60  
+-p
+-;
+-
+-61 
+-	}
+-}
+-
+-64 
+-	$mloc
+-(
+-ut
+- 
+-nbys
+-)
+-
+-66 
+-Hd
+- *
+-p
+-, *
+-evp
+-;
+-
+-67 
+-ut
+- 
+-nuns
+-;
+-
+-69 
+-nuns
+- = (
+-nbys
+- + (
+-Hd
+-) - 1)/(Header) + 1;
+-
+-70 if((
+-evp
+- = 
+-p
+-) == 0){
+-
+-71 
+-ba
+-.
+-s
+-.
+-r
+- = 
+-p
+- = 
+-evp
+- = &base;
+-
+-72 
+-ba
+-.
+-s
+-.
+-size
+- = 0;
+-
+-74 
+-p
+- = 
+-evp
+-->
+-s
+-.
+-r
+-; ;revp =, =->s.ptr){
+-
+-75 if(
+-p
+-->
+-s
+-.
+-size
+- >
+-nuns
+-){
+-
+-76 if(
+-p
+-->
+-s
+-.
+-size
+- =
+-nuns
+-)
+-
+-77 
+-evp
+-->
+-s
+-.
+-r
+- = 
+-p
+-->s.ptr;
+-
+-79 
+-p
+-->
+-s
+-.
+-size
+- -
+-nuns
+-;
+-
+-80 
+-p
+- +p->
+-s
+-.
+-size
+-;
+-
+-81 
+-p
+-->
+-s
+-.
+-size
+- = 
+-nuns
+-;
+-
+-83 
+-p
+- = 
+-evp
+-;
+-
+-84  (*)(
+-p
+- + 1);
+-
+-86 if(
+-p
+- =
+-p
+-)
+-
+-87 if((
+-p
+- = 
+-	`mece
+-(
+-nuns
+-)) == 0)
+-
+-90 
+-	}
+-}
+-
+-	@user.h
+-
+-1 
+-	g
+-;
+-
+-2 
+-	gcde
+-;
+-
+-5 
+-fk
+-();
+-
+-6 
+-	$ex
+-(
+-	`__ibu__
+-((
+-nu
+-));
+-
+-7 
+-	`wa
+-();
+-
+-8 
+-	`pe
+-(*);
+-
+-9 
+-	`wre
+-(, const *, );
+-
+-10 
+-	`ad
+-(, *, );
+-
+-11 
+-	`o
+-();
+-
+-12 
+-	`kl
+-();
+-
+-13 
+-	`exec
+-(*, **);
+-
+-14 
+-	`
+-(const *, );
+-
+-15 
+-	`mknod
+-(const *, , );
+-
+-16 
+-	`uk
+-(const *);
+-
+-17 
+-	`f
+-(
+-fd
+-, 
+-
+-*);
+-
+-18 
+-	`lk
+-(const *, const *);
+-
+-19 
+-	`mkd
+-(const *);
+-
+-20 
+-	`chd
+-(const *);
+-
+-21 
+-	`dup
+-();
+-
+-22 
+-	`gpid
+-();
+-
+-23 * 
+-	`sbrk
+-();
+-
+-24 
+-	`p
+-();
+-
+-25 
+-	`uime
+-();
+-
+-26 
+-	`mm
+-(*
+-addr
+-, 
+-ngth
+-, 
+-
+-, 
+-ags
+-, 
+-fd
+-, 
+-offt
+-);
+-
+-27 
+-	`munm
+-(*
+-addr
+-, 
+-ngth
+-);
+-
+-30 
+-	`
+-(c *, 
+-
+-*);
+-
+-31 * 
+-	`ry
+-(*, const *);
+-
+-32 *
+-	`memmove
+-(*, const *, );
+-
+-33 * 
+-	`rchr
+-(c *, 
+-c
+-);
+-
+-34 
+-	`rcmp
+-(const *, const *);
+-
+-35 
+-	`tf
+-(, const *, ...);
+-
+-36 * 
+-	`gs
+-(*, 
+-max
+-);
+-
+-37 
+-ut
+- 
+-	`
+-(const *);
+-
+-38 * 
+-	`memt
+-(*, , 
+-ut
+-);
+-
+-39 * 
+-	`mloc
+-(
+-ut
+-);
+-
+-40 
+-	`
+-(*);
+-
+-41 
+-	`oi
+-(const *);
+-
+-	@usertests.c
+-
+-1 
+-	~"m.h
+-"
+-
+-2 
+-	~"tys.h
+-"
+-
+-3 
+-	~".h
+-"
+-
+-4 
+-	~"ur.h
+-"
+-
+-5 
+-	~"fs.h
+-"
+-
+-6 
+-	~"f.h
+-"
+-
+-7 
+-	~"sys.h
+-"
+-
+-8 
+-	~"s.h
+-"
+-
+-9 
+-	~"memyout.h
+-"
+-
+-11 
+-	gbuf
+-[8192];
+-
+-12 
+-	gme
+-[3];
+-
+-13 *
+-	gechrgv
+-[] = { "echo", "ALL", "TESTS", "PASSED", 0 };
+-
+-14 
+-	gdout
+- = 1;
+-
+-18 
+-	$ue
+-()
+-
+-20 
+-	`tf
+-(
+-dout
+-, "iputest\n");
+-
+-22 if(
+-	`mkd
+-("iputdir") < 0){
+-
+-23 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-24 
+-	`ex
+-();
+-
+-26 if(
+-	`chd
+-("iputdir") < 0){
+-
+-27 
+-	`tf
+-(
+-dout
+-, "chdir iputdir failed\n");
+-
+-28 
+-	`ex
+-();
+-
+-30 if(
+-	`uk
+-("../iputdir") < 0){
+-
+-31 
+-	`tf
+-(
+-dout
+-, "unlink ../iputdir failed\n");
+-
+-32 
+-	`ex
+-();
+-
+-34 if(
+-	`chd
+-("/") < 0){
+-
+-35 
+-	`tf
+-(
+-dout
+-, "chdir / failed\n");
+-
+-36 
+-	`ex
+-();
+-
+-38 
+-	`tf
+-(
+-dout
+-, "iputest ok\n");
+-
+-39 
+-	}
+-}
+-
+-43 
+-	$exue
+-()
+-
+-45 
+-pid
+-;
+-
+-47 
+-	`tf
+-(
+-dout
+-, "exitiputest\n");
+-
+-49 
+-pid
+- = 
+-	`fk
+-();
+-
+-50 if(
+-pid
+- < 0){
+-
+-51 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-52 
+-	`ex
+-();
+-
+-54 if(
+-pid
+- == 0){
+-
+-55 if(
+-	`mkd
+-("iputdir") < 0){
+-
+-56 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-57 
+-	`ex
+-();
+-
+-59 if(
+-	`chd
+-("iputdir") < 0){
+-
+-60 
+-	`tf
+-(
+-dout
+-, "child chdir failed\n");
+-
+-61 
+-	`ex
+-();
+-
+-63 if(
+-	`uk
+-("../iputdir") < 0){
+-
+-64 
+-	`tf
+-(
+-dout
+-, "unlink ../iputdir failed\n");
+-
+-65 
+-	`ex
+-();
+-
+-67 
+-	`ex
+-();
+-
+-69 
+-	`wa
+-();
+-
+-70 
+-	`tf
+-(
+-dout
+-, "exitiputest ok\n");
+-
+-71 
+-	}
+-}
+-
+-85 
+-	$ue
+-()
+-
+-87 
+-pid
+-;
+-
+-89 
+-	`tf
+-(
+-dout
+-, "openiputest\n");
+-
+-90 if(
+-	`mkd
+-("oidir") < 0){
+-
+-91 
+-	`tf
+-(
+-dout
+-, "mkdir oidir failed\n");
+-
+-92 
+-	`ex
+-();
+-
+-94 
+-pid
+- = 
+-	`fk
+-();
+-
+-95 if(
+-pid
+- < 0){
+-
+-96 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-97 
+-	`ex
+-();
+-
+-99 if(
+-pid
+- == 0){
+-
+-100 
+-fd
+- = 
+-	`
+-("oid", 
+-O_RDWR
+-);
+-
+-101 if(
+-fd
+- >= 0){
+-
+-102 
+-	`tf
+-(
+-dout
+-, "open directory for write succeeded\n");
+-
+-103 
+-	`ex
+-();
+-
+-105 
+-	`ex
+-();
+-
+-107 
+-	`p
+-(1);
+-
+-108 if(
+-	`uk
+-("oidir") != 0){
+-
+-109 
+-	`tf
+-(
+-dout
+-, "unlink failed\n");
+-
+-110 
+-	`ex
+-();
+-
+-112 
+-	`wa
+-();
+-
+-113 
+-	`tf
+-(
+-dout
+-, "openiputest ok\n");
+-
+-114 
+-	}
+-}
+-
+-119 
+-	$
+-()
+-
+-121 
+-fd
+-;
+-
+-123 
+-	`tf
+-(
+-dout
+-, "openest\n");
+-
+-124 
+-fd
+- = 
+-	`
+-("echo", 0);
+-
+-125 if(
+-fd
+- < 0){
+-
+-126 
+-	`tf
+-(
+-dout
+-, "opencho failed!\n");
+-
+-127 
+-	`ex
+-();
+-
+-129 
+-	`o
+-(
+-fd
+-);
+-
+-130 
+-fd
+- = 
+-	`
+-("doesnotexist", 0);
+-
+-131 if(
+-fd
+- >= 0){
+-
+-132 
+-	`tf
+-(
+-dout
+-, "open doesnotexist succeeded!\n");
+-
+-133 
+-	`ex
+-();
+-
+-135 
+-	`tf
+-(
+-dout
+-, "openest ok\n");
+-
+-136 
+-	}
+-}
+-
+-139 
+-	$wre
+-()
+-
+-141 
+-fd
+-;
+-
+-142 
+-i
+-;
+-
+-144 
+-	`tf
+-(
+-dout
+-, "small fileest\n");
+-
+-145 
+-fd
+- = 
+-	`
+-("sml", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-146 if(
+-fd
+- >= 0){
+-
+-147 
+-	`tf
+-(
+-dout
+-, "creat small succeeded; ok\n");
+-
+-149 
+-	`tf
+-(
+-dout
+-, "error: creat small failed!\n");
+-
+-150 
+-	`ex
+-();
+-
+-152 
+-i
+- = 0; i < 100; i++){
+-
+-153 if(
+-	`wre
+-(
+-fd
+-, "aaaaaaaaaa", 10) != 10){
+-
+-154 
+-	`tf
+-(
+-dout
+-, "r: wr %dew fed\n", 
+-i
+-);
+-
+-155 
+-	`ex
+-();
+-
+-157 if(
+-	`wre
+-(
+-fd
+-, "bbbbbbbbbb", 10) != 10){
+-
+-158 
+-	`tf
+-(
+-dout
+-, "r: wrbb %dew fed\n", 
+-i
+-);
+-
+-159 
+-	`ex
+-();
+-
+-162 
+-	`tf
+-(
+-dout
+-, "writes ok\n");
+-
+-163 
+-	`o
+-(
+-fd
+-);
+-
+-164 
+-fd
+- = 
+-	`
+-("sml", 
+-O_RDONLY
+-);
+-
+-165 if(
+-fd
+- >= 0){
+-
+-166 
+-	`tf
+-(
+-dout
+-, "open small succeeded ok\n");
+-
+-168 
+-	`tf
+-(
+-dout
+-, "error: open small failed!\n");
+-
+-169 
+-	`ex
+-();
+-
+-171 
+-i
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 2000);
+-
+-172 if(
+-i
+- == 2000){
+-
+-173 
+-	`tf
+-(
+-dout
+-, "read succeeded ok\n");
+-
+-175 
+-	`tf
+-(
+-dout
+-, "read failed\n");
+-
+-176 
+-	`ex
+-();
+-
+-178 
+-	`o
+-(
+-fd
+-);
+-
+-180 if(
+-	`uk
+-("small") < 0){
+-
+-181 
+-	`tf
+-(
+-dout
+-, "unlink small failed\n");
+-
+-182 
+-	`ex
+-();
+-
+-184 
+-	`tf
+-(
+-dout
+-, "small fileest ok\n");
+-
+-185 
+-	}
+-}
+-
+-188 
+-	$wre1
+-()
+-
+-190 
+-i
+-, 
+-fd
+-, 
+-n
+-;
+-
+-192 
+-	`tf
+-(
+-dout
+-, "big filesest\n");
+-
+-194 
+-fd
+- = 
+-	`
+-("big", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-195 if(
+-fd
+- < 0){
+-
+-196 
+-	`tf
+-(
+-dout
+-, "error: creat big failed!\n");
+-
+-197 
+-	`ex
+-();
+-
+-200 
+-i
+- = 0; i < 
+-MAXFILE
+-; i++){
+-
+-201 ((*)
+-buf
+-)[0] = 
+-i
+-;
+-
+-202 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 512) != 512){
+-
+-203 
+-	`tf
+-(
+-dout
+-, "r: wrbig fed\n", 
+-i
+-);
+-
+-204 
+-	`ex
+-();
+-
+-208 
+-	`o
+-(
+-fd
+-);
+-
+-210 
+-fd
+- = 
+-	`
+-("big", 
+-O_RDONLY
+-);
+-
+-211 if(
+-fd
+- < 0){
+-
+-212 
+-	`tf
+-(
+-dout
+-, "error: open big failed!\n");
+-
+-213 
+-	`ex
+-();
+-
+-216 
+-n
+- = 0;
+-
+-218 
+-i
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 512);
+-
+-219 if(
+-i
+- == 0){
+-
+-220 if(
+-n
+- =
+-MAXFILE
+- - 1){
+-
+-221 
+-	`tf
+-(
+-dout
+-, "ad oy %d blockom big", 
+-n
+-);
+-
+-222 
+-	`ex
+-();
+-
+-225 } if(
+-i
+- != 512){
+-
+-226 
+-	`tf
+-(
+-dout
+-, "ad faed %d\n", 
+-i
+-);
+-
+-227 
+-	`ex
+-();
+-
+-229 if(((*)
+-buf
+-)[0] !
+-n
+-){
+-
+-230 
+-	`tf
+-(
+-dout
+-, "read content of block %d is %d\n",
+-
+-231 
+-n
+-, ((*)
+-buf
+-)[0]);
+-
+-232 
+-	`ex
+-();
+-
+-234 
+-n
+-++;
+-
+-236 
+-	`o
+-(
+-fd
+-);
+-
+-237 if(
+-	`uk
+-("big") < 0){
+-
+-238 
+-	`tf
+-(
+-dout
+-, "unlink big failed\n");
+-
+-239 
+-	`ex
+-();
+-
+-241 
+-	`tf
+-(
+-dout
+-, "big files ok\n");
+-
+-242 
+-	}
+-}
+-
+-245 
+-	$
+-()
+-
+-247 
+-i
+-, 
+-fd
+-;
+-
+-249 
+-	`tf
+-(
+-dout
+-, "many creates, followed by unlinkest\n");
+-
+-251 
+-me
+-[0] = 'a';
+-
+-252 
+-me
+-[2] = '\0';
+-
+-253 
+-i
+- = 0; i < 52; i++){
+-
+-254 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-255 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-256 
+-	`o
+-(
+-fd
+-);
+-
+-258 
+-me
+-[0] = 'a';
+-
+-259 
+-me
+-[2] = '\0';
+-
+-260 
+-i
+- = 0; i < 52; i++){
+-
+-261 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-262 
+-	`uk
+-(
+-me
+-);
+-
+-264 
+-	`tf
+-(
+-dout
+-, "many creates, followed by unlink; ok\n");
+-
+-265 
+-	}
+-}
+-
+-267 
+-	$d
+-()
+-
+-269 
+-	`tf
+-(
+-dout
+-, "mkdirest\n");
+-
+-271 if(
+-	`mkd
+-("dir0") < 0){
+-
+-272 
+-	`tf
+-(
+-dout
+-, "mkdir failed\n");
+-
+-273 
+-	`ex
+-();
+-
+-276 if(
+-	`chd
+-("dir0") < 0){
+-
+-277 
+-	`tf
+-(
+-dout
+-, "chdir dir0 failed\n");
+-
+-278 
+-	`ex
+-();
+-
+-281 if(
+-	`chd
+-("..") < 0){
+-
+-282 
+-	`tf
+-(
+-dout
+-, "chdir .. failed\n");
+-
+-283 
+-	`ex
+-();
+-
+-286 if(
+-	`uk
+-("dir0") < 0){
+-
+-287 
+-	`tf
+-(
+-dout
+-, "unlink dir0 failed\n");
+-
+-288 
+-	`ex
+-();
+-
+-290 
+-	`tf
+-(
+-dout
+-, "mkdirest ok\n");
+-
+-291 
+-	}
+-}
+-
+-294 
+-	$exee
+-()
+-
+-296 
+-	`tf
+-(
+-dout
+-, "execest\n");
+-
+-297 if(
+-	`exec
+-("echo", 
+-echrgv
+-) < 0){
+-
+-298 
+-	`tf
+-(
+-dout
+-, "execcho failed\n");
+-
+-299 
+-	`ex
+-();
+-
+-301 
+-	}
+-}
+-
+-306 
+-	$pe1
+-()
+-
+-308 
+-fds
+-[2], 
+-pid
+-;
+-
+-309 
+-q
+-, 
+-i
+-, 
+-n
+-, 
+-cc
+-, 
+-t
+-;
+-
+-311 if(
+-	`pe
+-(
+-fds
+-) != 0){
+-
+-312 
+-	`tf
+-(1, "pipe() failed\n");
+-
+-313 
+-	`ex
+-();
+-
+-315 
+-pid
+- = 
+-	`fk
+-();
+-
+-316 
+-q
+- = 0;
+-
+-317 if(
+-pid
+- == 0){
+-
+-318 
+-	`o
+-(
+-fds
+-[0]);
+-
+-319 
+-n
+- = 0; < 5;++){
+-
+-320 
+-i
+- = 0; i < 1033; i++)
+-
+-321 
+-buf
+-[
+-i
+-] = 
+-q
+-++;
+-
+-322 if(
+-	`wre
+-(
+-fds
+-[1], 
+-buf
+-, 1033) != 1033){
+-
+-323 
+-	`tf
+-(1, "pipe1 oops 1\n");
+-
+-324 
+-	`ex
+-();
+-
+-327 
+-	`ex
+-();
+-
+-328 } if(
+-pid
+- > 0){
+-
+-329 
+-	`o
+-(
+-fds
+-[1]);
+-
+-330 
+-t
+- = 0;
+-
+-331 
+-cc
+- = 1;
+-
+-332 (
+-n
+- = 
+-	`ad
+-(
+-fds
+-[0], 
+-buf
+-, 
+-cc
+-)) > 0){
+-
+-333 
+-i
+- = 0; i < 
+-n
+-; i++){
+-
+-334 if((
+-buf
+-[
+-i
+-] & 0xff!(
+-q
+-++ & 0xff)){
+-
+-335 
+-	`tf
+-(1, "pipe1 oops 2\n");
+-
+-339 
+-t
+- +
+-n
+-;
+-
+-340 
+-cc
+- = cc * 2;
+-
+-341 if(
+-cc
+- > (
+-buf
+-))
+-
+-342 
+-cc
+- = (
+-buf
+-);
+-
+-344 if(
+-t
+- != 5 * 1033){
+-
+-345 
+-	`tf
+-(1, "pe1 o3 %d\n", 
+-t
+-);
+-
+-346 
+-	`ex
+-();
+-
+-348 
+-	`o
+-(
+-fds
+-[0]);
+-
+-349 
+-	`wa
+-();
+-
+-351 
+-	`tf
+-(1, "fork() failed\n");
+-
+-352 
+-	`ex
+-();
+-
+-354 
+-	`tf
+-(1, "pipe1 ok\n");
+-
+-355 
+-	}
+-}
+-
+-359 
+-	$m
+-()
+-
+-361 
+-pid1
+-, 
+-pid2
+-, 
+-pid3
+-;
+-
+-362 
+-pfds
+-[2];
+-
+-364 
+-	`tf
+-(1, "preempt: ");
+-
+-365 
+-pid1
+- = 
+-	`fk
+-();
+-
+-366 if(
+-pid1
+- == 0)
+-
+-370 
+-pid2
+- = 
+-	`fk
+-();
+-
+-371 if(
+-pid2
+- == 0)
+-
+-375 
+-	`pe
+-(
+-pfds
+-);
+-
+-376 
+-pid3
+- = 
+-	`fk
+-();
+-
+-377 if(
+-pid3
+- == 0){
+-
+-378 
+-	`o
+-(
+-pfds
+-[0]);
+-
+-379 if(
+-	`wre
+-(
+-pfds
+-[1], "x", 1) != 1)
+-
+-380 
+-	`tf
+-(1, "preempt writerror");
+-
+-381 
+-	`o
+-(
+-pfds
+-[1]);
+-
+-386 
+-	`o
+-(
+-pfds
+-[1]);
+-
+-387 if(
+-	`ad
+-(
+-pfds
+-[0], 
+-buf
+-, (buf)) != 1){
+-
+-388 
+-	`tf
+-(1, "preempteadrror");
+-
+-391 
+-	`o
+-(
+-pfds
+-[0]);
+-
+-392 
+-	`tf
+-(1, "kill... ");
+-
+-393 
+-	`kl
+-(
+-pid1
+-);
+-
+-394 
+-	`kl
+-(
+-pid2
+-);
+-
+-395 
+-	`kl
+-(
+-pid3
+-);
+-
+-396 
+-	`tf
+-(1, "wait... ");
+-
+-397 
+-	`wa
+-();
+-
+-398 
+-	`wa
+-();
+-
+-399 
+-	`wa
+-();
+-
+-400 
+-	`tf
+-(1, "preempt ok\n");
+-
+-401 
+-	}
+-}
+-
+-405 
+-	$exwa
+-()
+-
+-407 
+-i
+-, 
+-pid
+-;
+-
+-409 
+-i
+- = 0; i < 100; i++){
+-
+-410 
+-pid
+- = 
+-	`fk
+-();
+-
+-411 if(
+-pid
+- < 0){
+-
+-412 
+-	`tf
+-(1, "fork failed\n");
+-
+-415 if(
+-pid
+-){
+-
+-416 if(
+-	`wa
+-(!
+-pid
+-){
+-
+-417 
+-	`tf
+-(1, "wait wrongid\n");
+-
+-421 
+-	`ex
+-();
+-
+-424 
+-	`tf
+-(1, "exitwait ok\n");
+-
+-425 
+-	}
+-}
+-
+-428 
+-	$mem
+-()
+-
+-430 *
+-m1
+-, *
+-m2
+-;
+-
+-431 
+-pid
+-, 
+-id
+-;
+-
+-433 
+-	`tf
+-(1, "memest\n");
+-
+-434 
+-id
+- = 
+-	`gpid
+-();
+-
+-435 if((
+-pid
+- = 
+-	`fk
+-()) == 0){
+-
+-436 
+-m1
+- = 0;
+-
+-437 (
+-m2
+- = 
+-	`mloc
+-(10001)) != 0){
+-
+-438 *(**)
+-m2
+- = 
+-m1
+-;
+-
+-439 
+-m1
+- = 
+-m2
+-;
+-
+-441 
+-m1
+-){
+-
+-442 
+-m2
+- = *(**)
+-m1
+-;
+-
+-443 
+-	`
+-(
+-m1
+-);
+-
+-444 
+-m1
+- = 
+-m2
+-;
+-
+-446 
+-m1
+- = 
+-	`mloc
+-(1024*20);
+-
+-447 if(
+-m1
+- == 0){
+-
+-448 
+-	`tf
+-(1, "couldn'tllocate mem?!!\n");
+-
+-449 
+-	`kl
+-(
+-id
+-);
+-
+-450 
+-	`ex
+-();
+-
+-452 
+-	`
+-(
+-m1
+-);
+-
+-453 
+-	`tf
+-(1, "mem ok\n");
+-
+-454 
+-	`ex
+-();
+-
+-456 
+-	`wa
+-();
+-
+-458 
+-	}
+-}
+-
+-465 
+-	$shedfd
+-()
+-
+-467 
+-fd
+-, 
+-pid
+-, 
+-i
+-, 
+-n
+-, 
+-nc
+-, 
+-
+-;
+-
+-468 
+-buf
+-[10];
+-
+-470 
+-	`tf
+-(1, "sharedfdest\n");
+-
+-472 
+-	`uk
+-("sharedfd");
+-
+-473 
+-fd
+- = 
+-	`
+-("shedfd", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-474 if(
+-fd
+- < 0){
+-
+-475 
+-	`tf
+-(1, "fstests: cannot open sharedfd for writing");
+-
+-478 
+-pid
+- = 
+-	`fk
+-();
+-
+-479 
+-	`memt
+-(
+-buf
+-, 
+-pid
+-==0?'c':'p', (buf));
+-
+-480 
+-i
+- = 0; i < 1000; i++){
+-
+-481 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, (buf)) != (buf)){
+-
+-482 
+-	`tf
+-(1, "fstests: write sharedfd failed\n");
+-
+-486 if(
+-pid
+- == 0)
+-
+-487 
+-	`ex
+-();
+-
+-489 
+-	`wa
+-();
+-
+-490 
+-	`o
+-(
+-fd
+-);
+-
+-491 
+-fd
+- = 
+-	`
+-("sharedfd", 0);
+-
+-492 if(
+-fd
+- < 0){
+-
+-493 
+-	`tf
+-(1, "fstests: cannot open sharedfd foreading\n");
+-
+-496 
+-nc
+- = 
+-
+- = 0;
+-
+-497 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-498 
+-i
+- = 0; i < (
+-buf
+-); i++){
+-
+-499 if(
+-buf
+-[
+-i
+-] == 'c')
+-
+-500 
+-nc
+-++;
+-
+-501 if(
+-buf
+-[
+-i
+-] == 'p')
+-
+-502 
+-
+-++;
+-
+-505 
+-	`o
+-(
+-fd
+-);
+-
+-506 
+-	`uk
+-("sharedfd");
+-
+-507 if(
+-nc
+- =10000 && 
+-
+- == 10000){
+-
+-508 
+-	`tf
+-(1, "sharedfd ok\n");
+-
+-510 
+-	`tf
+-(1, "shedfd o%d %d\n", 
+-nc
+-, 
+-
+-);
+-
+-511 
+-	`ex
+-();
+-
+-513 
+-	}
+-}
+-
+-518 
+-	$fourfes
+-()
+-
+-520 
+-fd
+-, 
+-pid
+-, 
+-i
+-, 
+-j
+-, 
+-n
+-, 
+-t
+-, 
+-pi
+-;
+-
+-521 *
+-mes
+-[] = { "f0", "f1", "f2", "f3" };
+-
+-522 *
+-ame
+-;
+-
+-524 
+-	`tf
+-(1, "fourfilesest\n");
+-
+-526 
+-pi
+- = 0;i < 4;i++){
+-
+-527 
+-ame
+- = 
+-mes
+-[
+-pi
+-];
+-
+-528 
+-	`uk
+-(
+-ame
+-);
+-
+-530 
+-pid
+- = 
+-	`fk
+-();
+-
+-531 if(
+-pid
+- < 0){
+-
+-532 
+-	`tf
+-(1, "fork failed\n");
+-
+-533 
+-	`ex
+-();
+-
+-536 if(
+-pid
+- == 0){
+-
+-537 
+-fd
+- = 
+-	`
+-(
+-ame
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-538 if(
+-fd
+- < 0){
+-
+-539 
+-	`tf
+-(1, "create failed\n");
+-
+-540 
+-	`ex
+-();
+-
+-543 
+-	`memt
+-(
+-buf
+-, '0'+
+-pi
+-, 512);
+-
+-544 
+-i
+- = 0; i < 12; i++){
+-
+-545 if((
+-n
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 500)) != 500){
+-
+-546 
+-	`tf
+-(1, "wred %d\n", 
+-n
+-);
+-
+-547 
+-	`ex
+-();
+-
+-550 
+-	`ex
+-();
+-
+-554 
+-pi
+- = 0;i < 4;i++){
+-
+-555 
+-	`wa
+-();
+-
+-558 
+-i
+- = 0; i < 2; i++){
+-
+-559 
+-ame
+- = 
+-mes
+-[
+-i
+-];
+-
+-560 
+-fd
+- = 
+-	`
+-(
+-ame
+-, 0);
+-
+-561 
+-t
+- = 0;
+-
+-562 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-563 
+-j
+- = 0; j < 
+-n
+-; j++){
+-
+-564 if(
+-buf
+-[
+-j
+-] !'0'+
+-i
+-){
+-
+-565 
+-	`tf
+-(1, "wrong char\n");
+-
+-566 
+-	`ex
+-();
+-
+-569 
+-t
+- +
+-n
+-;
+-
+-571 
+-	`o
+-(
+-fd
+-);
+-
+-572 if(
+-t
+- != 12*500){
+-
+-573 
+-	`tf
+-(1, "wrggth %d\n", 
+-t
+-);
+-
+-574 
+-	`ex
+-();
+-
+-576 
+-	`uk
+-(
+-ame
+-);
+-
+-579 
+-	`tf
+-(1, "fourfiles ok\n");
+-
+-580 
+-	}
+-}
+-
+-584 
+-	$de
+-()
+-
+-586 um { 
+-N
+- = 20 };
+-
+-587 
+-pid
+-, 
+-i
+-, 
+-fd
+-, 
+-pi
+-;
+-
+-588 
+-me
+-[32];
+-
+-590 
+-	`tf
+-(1, "createdeleteest\n");
+-
+-592 
+-pi
+- = 0;i < 4;i++){
+-
+-593 
+-pid
+- = 
+-	`fk
+-();
+-
+-594 if(
+-pid
+- < 0){
+-
+-595 
+-	`tf
+-(1, "fork failed\n");
+-
+-596 
+-	`ex
+-();
+-
+-599 if(
+-pid
+- == 0){
+-
+-600 
+-me
+-[0] = 'p' + 
+-pi
+-;
+-
+-601 
+-me
+-[2] = '\0';
+-
+-602 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-603 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-604 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-605 if(
+-fd
+- < 0){
+-
+-606 
+-	`tf
+-(1, "create failed\n");
+-
+-607 
+-	`ex
+-();
+-
+-609 
+-	`o
+-(
+-fd
+-);
+-
+-610 if(
+-i
+- > 0 && (i % 2 ) == 0){
+-
+-611 
+-me
+-[1] = '0' + (
+-i
+- / 2);
+-
+-612 if(
+-	`uk
+-(
+-me
+-) < 0){
+-
+-613 
+-	`tf
+-(1, "unlink failed\n");
+-
+-614 
+-	`ex
+-();
+-
+-618 
+-	`ex
+-();
+-
+-622 
+-pi
+- = 0;i < 4;i++){
+-
+-623 
+-	`wa
+-();
+-
+-626 
+-me
+-[0] =ame[1] =ame[2] = 0;
+-
+-627 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-628 
+-pi
+- = 0;i < 4;i++){
+-
+-629 
+-me
+-[0] = 'p' + 
+-pi
+-;
+-
+-630 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-631 
+-fd
+- = 
+-	`
+-(
+-me
+-, 0);
+-
+-632 if((
+-i
+- =0 || i >
+-N
+-/2&& 
+-fd
+- < 0){
+-
+-633 
+-	`tf
+-(1, "od%didn'exi\n", 
+-me
+-);
+-
+-634 
+-	`ex
+-();
+-
+-635 } if((
+-i
+- >1 && i < 
+-N
+-/2&& 
+-fd
+- >= 0){
+-
+-636 
+-	`tf
+-(1, "od%didxi\n", 
+-me
+-);
+-
+-637 
+-	`ex
+-();
+-
+-639 if(
+-fd
+- >= 0)
+-
+-640 
+-	`o
+-(
+-fd
+-);
+-
+-644 
+-i
+- = 0; i < 
+-N
+-; i++){
+-
+-645 
+-pi
+- = 0;i < 4;i++){
+-
+-646 
+-me
+-[0] = 'p' + 
+-i
+-;
+-
+-647 
+-me
+-[1] = '0' + 
+-i
+-;
+-
+-648 
+-	`uk
+-(
+-me
+-);
+-
+-652 
+-	`tf
+-(1, "createdelete ok\n");
+-
+-653 
+-	}
+-}
+-
+-657 
+-	$ukad
+-()
+-
+-659 
+-fd
+-, 
+-fd1
+-;
+-
+-661 
+-	`tf
+-(1, "unlinkreadest\n");
+-
+-662 
+-fd
+- = 
+-	`
+-("ukad", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-663 if(
+-fd
+- < 0){
+-
+-664 
+-	`tf
+-(1, "create unlinkread failed\n");
+-
+-665 
+-	`ex
+-();
+-
+-667 
+-	`wre
+-(
+-fd
+-, "hello", 5);
+-
+-668 
+-	`o
+-(
+-fd
+-);
+-
+-670 
+-fd
+- = 
+-	`
+-("ukad", 
+-O_RDWR
+-);
+-
+-671 if(
+-fd
+- < 0){
+-
+-672 
+-	`tf
+-(1, "open unlinkread failed\n");
+-
+-673 
+-	`ex
+-();
+-
+-675 if(
+-	`uk
+-("unlinkread") != 0){
+-
+-676 
+-	`tf
+-(1, "unlink unlinkread failed\n");
+-
+-677 
+-	`ex
+-();
+-
+-680 
+-fd1
+- = 
+-	`
+-("ukad", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-681 
+-	`wre
+-(
+-fd1
+-, "yyy", 3);
+-
+-682 
+-	`o
+-(
+-fd1
+-);
+-
+-684 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 5){
+-
+-685 
+-	`tf
+-(1, "unlinkreadead failed");
+-
+-686 
+-	`ex
+-();
+-
+-688 if(
+-buf
+-[0] != 'h'){
+-
+-689 
+-	`tf
+-(1, "unlinkread wrong data\n");
+-
+-690 
+-	`ex
+-();
+-
+-692 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 10) != 10){
+-
+-693 
+-	`tf
+-(1, "unlinkread write failed\n");
+-
+-694 
+-	`ex
+-();
+-
+-696 
+-	`o
+-(
+-fd
+-);
+-
+-697 
+-	`uk
+-("unlinkread");
+-
+-698 
+-	`tf
+-(1, "unlinkread ok\n");
+-
+-699 
+-	}
+-}
+-
+-702 
+-	$lk
+-()
+-
+-704 
+-fd
+-;
+-
+-706 
+-	`tf
+-(1, "linktest\n");
+-
+-708 
+-	`uk
+-("lf1");
+-
+-709 
+-	`uk
+-("lf2");
+-
+-711 
+-fd
+- = 
+-	`
+-("lf1", 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-712 if(
+-fd
+- < 0){
+-
+-713 
+-	`tf
+-(1, "createf1 failed\n");
+-
+-714 
+-	`ex
+-();
+-
+-716 if(
+-	`wre
+-(
+-fd
+-, "hello", 5) != 5){
+-
+-717 
+-	`tf
+-(1, "writef1 failed\n");
+-
+-718 
+-	`ex
+-();
+-
+-720 
+-	`o
+-(
+-fd
+-);
+-
+-722 if(
+-	`lk
+-("lf1", "lf2") < 0){
+-
+-723 
+-	`tf
+-(1, "linkf1f2 failed\n");
+-
+-724 
+-	`ex
+-();
+-
+-726 
+-	`uk
+-("lf1");
+-
+-728 if(
+-	`
+-("lf1", 0) >= 0){
+-
+-729 
+-	`tf
+-(1, "unlinkedf1 but it is stillhere!\n");
+-
+-730 
+-	`ex
+-();
+-
+-733 
+-fd
+- = 
+-	`
+-("lf2", 0);
+-
+-734 if(
+-fd
+- < 0){
+-
+-735 
+-	`tf
+-(1, "openf2 failed\n");
+-
+-736 
+-	`ex
+-();
+-
+-738 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 5){
+-
+-739 
+-	`tf
+-(1, "readf2 failed\n");
+-
+-740 
+-	`ex
+-();
+-
+-742 
+-	`o
+-(
+-fd
+-);
+-
+-744 if(
+-	`lk
+-("lf2", "lf2") >= 0){
+-
+-745 
+-	`tf
+-(1, "linkf2f2 succeeded! oops\n");
+-
+-746 
+-	`ex
+-();
+-
+-749 
+-	`uk
+-("lf2");
+-
+-750 if(
+-	`lk
+-("lf2", "lf1") >= 0){
+-
+-751 
+-	`tf
+-(1, "linkon-existant succeeded! oops\n");
+-
+-752 
+-	`ex
+-();
+-
+-755 if(
+-	`lk
+-(".", "lf1") >= 0){
+-
+-756 
+-	`tf
+-(1, "link .f1 succeeded! oops\n");
+-
+-757 
+-	`ex
+-();
+-
+-760 
+-	`tf
+-(1, "linktest ok\n");
+-
+-761 
+-	}
+-}
+-
+-765 
+-	$c
+-()
+-
+-767 
+-fe
+-[3];
+-
+-768 
+-i
+-, 
+-pid
+-, 
+-n
+-, 
+-fd
+-;
+-
+-769 
+-
+-[40];
+-
+-771 
+-usht
+- 
+-um
+-;
+-
+-772 
+-me
+-[14];
+-
+-773 } 
+-de
+-;
+-
+-775 
+-	`tf
+-(1, "concreateest\n");
+-
+-776 
+-fe
+-[0] = 'C';
+-
+-777 
+-fe
+-[2] = '\0';
+-
+-778 
+-i
+- = 0; i < 40; i++){
+-
+-779 
+-fe
+-[1] = '0' + 
+-i
+-;
+-
+-780 
+-	`uk
+-(
+-fe
+-);
+-
+-781 
+-pid
+- = 
+-	`fk
+-();
+-
+-782 if(
+-pid
+- && (
+-i
+- % 3) == 1){
+-
+-783 
+-	`lk
+-("C0", 
+-fe
+-);
+-
+-784 } if(
+-pid
+- =0 && (
+-i
+- % 5) == 1){
+-
+-785 
+-	`lk
+-("C0", 
+-fe
+-);
+-
+-787 
+-fd
+- = 
+-	`
+-(
+-fe
+-, 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-788 if(
+-fd
+- < 0){
+-
+-789 
+-	`tf
+-(1, "c c%ed\n", 
+-fe
+-);
+-
+-790 
+-	`ex
+-();
+-
+-792 
+-	`o
+-(
+-fd
+-);
+-
+-794 if(
+-pid
+- == 0)
+-
+-795 
+-	`ex
+-();
+-
+-797 
+-	`wa
+-();
+-
+-800 
+-	`memt
+-(
+-
+-, 0, (fa));
+-
+-801 
+-fd
+- = 
+-	`
+-(".", 0);
+-
+-802 
+-n
+- = 0;
+-
+-803 
+-	`ad
+-(
+-fd
+-, &
+-de
+-, (de)) > 0){
+-
+-804 if(
+-de
+-.
+-um
+- == 0)
+-
+-806 if(
+-de
+-.
+-me
+-[0] == 'C' && de.name[2] == '\0'){
+-
+-807 
+-i
+- = 
+-de
+-.
+-me
+-[1] - '0';
+-
+-808 if(
+-i
+- < 0 || i >(
+-
+-)){
+-
+-809 
+-	`tf
+-(1, "c wed f%s\n", 
+-de
+-.
+-me
+-);
+-
+-810 
+-	`ex
+-();
+-
+-812 if(
+-
+-[
+-i
+-]){
+-
+-813 
+-	`tf
+-(1, "c dui f%s\n", 
+-de
+-.
+-me
+-);
+-
+-814 
+-	`ex
+-();
+-
+-816 
+-
+-[
+-i
+-] = 1;
+-
+-817 
+-n
+-++;
+-
+-820 
+-	`o
+-(
+-fd
+-);
+-
+-822 if(
+-n
+- != 40){
+-
+-823 
+-	`tf
+-(1, "concreateotnough files in directoryisting\n");
+-
+-824 
+-	`ex
+-();
+-
+-827 
+-i
+- = 0; i < 40; i++){
+-
+-828 
+-fe
+-[1] = '0' + 
+-i
+-;
+-
+-829 
+-pid
+- = 
+-	`fk
+-();
+-
+-830 if(
+-pid
+- < 0){
+-
+-831 
+-	`tf
+-(1, "fork failed\n");
+-
+-832 
+-	`ex
+-();
+-
+-834 if(((
+-i
+- % 3=0 && 
+-pid
+- == 0) ||
+-
+-835 ((
+-i
+- % 3=1 && 
+-pid
+- != 0)){
+-
+-836 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-837 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-838 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-839 
+-	`o
+-(
+-	`
+-(
+-fe
+-, 0));
+-
+-841 
+-	`uk
+-(
+-fe
+-);
+-
+-842 
+-	`uk
+-(
+-fe
+-);
+-
+-843 
+-	`uk
+-(
+-fe
+-);
+-
+-844 
+-	`uk
+-(
+-fe
+-);
+-
+-846 if(
+-pid
+- == 0)
+-
+-847 
+-	`ex
+-();
+-
+-849 
+-	`wa
+-();
+-
+-852 
+-	`tf
+-(1, "concreate ok\n");
+-
+-853 
+-	}
+-}
+-
+-858 
+-	$lkuk
+-()
+-
+-860 
+-pid
+-, 
+-i
+-;
+-
+-862 
+-	`tf
+-(1, "linkunlinkest\n");
+-
+-864 
+-	`uk
+-("x");
+-
+-865 
+-pid
+- = 
+-	`fk
+-();
+-
+-866 if(
+-pid
+- < 0){
+-
+-867 
+-	`tf
+-(1, "fork failed\n");
+-
+-868 
+-	`ex
+-();
+-
+-871 
+-x
+- = (
+-pid
+- ? 1 : 97);
+-
+-872 
+-i
+- = 0; i < 100; i++){
+-
+-873 
+-x
+- = x * 1103515245 + 12345;
+-
+-874 if((
+-x
+- % 3) == 0){
+-
+-875 
+-	`o
+-(
+-	`
+-("x", 
+-O_RDWR
+- | 
+-O_CREATE
+-));
+-
+-876 } if((
+-x
+- % 3) == 1){
+-
+-877 
+-	`lk
+-("cat", "x");
+-
+-879 
+-	`uk
+-("x");
+-
+-883 if(
+-pid
+-)
+-
+-884 
+-	`wa
+-();
+-
+-886 
+-	`ex
+-();
+-
+-888 
+-	`tf
+-(1, "linkunlink ok\n");
+-
+-889 
+-	}
+-}
+-
+-893 
+-	$bigd
+-()
+-
+-895 
+-i
+-, 
+-fd
+-;
+-
+-896 
+-me
+-[10];
+-
+-898 
+-	`tf
+-(1, "bigdirest\n");
+-
+-899 
+-	`uk
+-("bd");
+-
+-901 
+-fd
+- = 
+-	`
+-("bd", 
+-O_CREATE
+-);
+-
+-902 if(
+-fd
+- < 0){
+-
+-903 
+-	`tf
+-(1, "bigdir create failed\n");
+-
+-904 
+-	`ex
+-();
+-
+-906 
+-	`o
+-(
+-fd
+-);
+-
+-908 
+-i
+- = 0; i < 500; i++){
+-
+-909 
+-me
+-[0] = 'x';
+-
+-910 
+-me
+-[1] = '0' + (
+-i
+- / 64);
+-
+-911 
+-me
+-[2] = '0' + (
+-i
+- % 64);
+-
+-912 
+-me
+-[3] = '\0';
+-
+-913 if(
+-	`lk
+-("bd", 
+-me
+-) != 0){
+-
+-914 
+-	`tf
+-(1, "bigdirink failed\n");
+-
+-915 
+-	`ex
+-();
+-
+-919 
+-	`uk
+-("bd");
+-
+-920 
+-i
+- = 0; i < 500; i++){
+-
+-921 
+-me
+-[0] = 'x';
+-
+-922 
+-me
+-[1] = '0' + (
+-i
+- / 64);
+-
+-923 
+-me
+-[2] = '0' + (
+-i
+- % 64);
+-
+-924 
+-me
+-[3] = '\0';
+-
+-925 if(
+-	`uk
+-(
+-me
+-) != 0){
+-
+-926 
+-	`tf
+-(1, "bigdir unlink failed");
+-
+-927 
+-	`ex
+-();
+-
+-931 
+-	`tf
+-(1, "bigdir ok\n");
+-
+-932 
+-	}
+-}
+-
+-935 
+-	$subd
+-()
+-
+-937 
+-fd
+-, 
+-cc
+-;
+-
+-939 
+-	`tf
+-(1, "subdirest\n");
+-
+-941 
+-	`uk
+-("ff");
+-
+-942 if(
+-	`mkd
+-("dd") != 0){
+-
+-943 
+-	`tf
+-(1, "subdir mkdir dd failed\n");
+-
+-944 
+-	`ex
+-();
+-
+-947 
+-fd
+- = 
+-	`
+-("dd/ff", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-948 if(
+-fd
+- < 0){
+-
+-949 
+-	`tf
+-(1, "create dd/ff failed\n");
+-
+-950 
+-	`ex
+-();
+-
+-952 
+-	`wre
+-(
+-fd
+-, "ff", 2);
+-
+-953 
+-	`o
+-(
+-fd
+-);
+-
+-955 if(
+-	`uk
+-("dd") >= 0){
+-
+-956 
+-	`tf
+-(1, "unlink dd (non-empty dir) succeeded!\n");
+-
+-957 
+-	`ex
+-();
+-
+-960 if(
+-	`mkd
+-("/dd/dd") != 0){
+-
+-961 
+-	`tf
+-(1, "subdir mkdir dd/dd failed\n");
+-
+-962 
+-	`ex
+-();
+-
+-965 
+-fd
+- = 
+-	`
+-("dd/dd/ff", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-966 if(
+-fd
+- < 0){
+-
+-967 
+-	`tf
+-(1, "create dd/dd/ff failed\n");
+-
+-968 
+-	`ex
+-();
+-
+-970 
+-	`wre
+-(
+-fd
+-, "FF", 2);
+-
+-971 
+-	`o
+-(
+-fd
+-);
+-
+-973 
+-fd
+- = 
+-	`
+-("dd/dd/../ff", 0);
+-
+-974 if(
+-fd
+- < 0){
+-
+-975 
+-	`tf
+-(1, "open dd/dd/../ff failed\n");
+-
+-976 
+-	`ex
+-();
+-
+-978 
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf));
+-
+-979 if(
+-cc
+- !2 || 
+-buf
+-[0] != 'f'){
+-
+-980 
+-	`tf
+-(1, "dd/dd/../ff wrong content\n");
+-
+-981 
+-	`ex
+-();
+-
+-983 
+-	`o
+-(
+-fd
+-);
+-
+-985 if(
+-	`lk
+-("dd/dd/ff", "dd/dd/ffff") != 0){
+-
+-986 
+-	`tf
+-(1, "link dd/dd/ff dd/dd/ffff failed\n");
+-
+-987 
+-	`ex
+-();
+-
+-990 if(
+-	`uk
+-("dd/dd/ff") != 0){
+-
+-991 
+-	`tf
+-(1, "unlink dd/dd/ff failed\n");
+-
+-992 
+-	`ex
+-();
+-
+-994 if(
+-	`
+-("dd/dd/ff", 
+-O_RDONLY
+-) >= 0){
+-
+-995 
+-	`tf
+-(1, "open (unlinked) dd/dd/ff succeeded\n");
+-
+-996 
+-	`ex
+-();
+-
+-999 if(
+-	`chd
+-("dd") != 0){
+-
+-1000 
+-	`tf
+-(1, "chdir dd failed\n");
+-
+-1001 
+-	`ex
+-();
+-
+-1003 if(
+-	`chd
+-("dd/../../dd") != 0){
+-
+-1004 
+-	`tf
+-(1, "chdir dd/../../dd failed\n");
+-
+-1005 
+-	`ex
+-();
+-
+-1007 if(
+-	`chd
+-("dd/../../../dd") != 0){
+-
+-1008 
+-	`tf
+-(1, "chdir dd/../../dd failed\n");
+-
+-1009 
+-	`ex
+-();
+-
+-1011 if(
+-	`chd
+-("./..") != 0){
+-
+-1012 
+-	`tf
+-(1, "chdir ./.. failed\n");
+-
+-1013 
+-	`ex
+-();
+-
+-1016 
+-fd
+- = 
+-	`
+-("dd/dd/ffff", 0);
+-
+-1017 if(
+-fd
+- < 0){
+-
+-1018 
+-	`tf
+-(1, "open dd/dd/ffff failed\n");
+-
+-1019 
+-	`ex
+-();
+-
+-1021 if(
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf)) != 2){
+-
+-1022 
+-	`tf
+-(1, "read dd/dd/ffff wrongen\n");
+-
+-1023 
+-	`ex
+-();
+-
+-1025 
+-	`o
+-(
+-fd
+-);
+-
+-1027 if(
+-	`
+-("dd/dd/ff", 
+-O_RDONLY
+-) >= 0){
+-
+-1028 
+-	`tf
+-(1, "open (unlinked) dd/dd/ff succeeded!\n");
+-
+-1029 
+-	`ex
+-();
+-
+-1032 if(
+-	`
+-("dd/ff/ff", 
+-O_CREATE
+-|
+-O_RDWR
+-) >= 0){
+-
+-1033 
+-	`tf
+-(1, "create dd/ff/ff succeeded!\n");
+-
+-1034 
+-	`ex
+-();
+-
+-1036 if(
+-	`
+-("dd/xx/ff", 
+-O_CREATE
+-|
+-O_RDWR
+-) >= 0){
+-
+-1037 
+-	`tf
+-(1, "create dd/xx/ff succeeded!\n");
+-
+-1038 
+-	`ex
+-();
+-
+-1040 if(
+-	`
+-("dd", 
+-O_CREATE
+-) >= 0){
+-
+-1041 
+-	`tf
+-(1, "create dd succeeded!\n");
+-
+-1042 
+-	`ex
+-();
+-
+-1044 if(
+-	`
+-("dd", 
+-O_RDWR
+-) >= 0){
+-
+-1045 
+-	`tf
+-(1, "open dddwr succeeded!\n");
+-
+-1046 
+-	`ex
+-();
+-
+-1048 if(
+-	`
+-("dd", 
+-O_WRONLY
+-) >= 0){
+-
+-1049 
+-	`tf
+-(1, "open dd wronly succeeded!\n");
+-
+-1050 
+-	`ex
+-();
+-
+-1052 if(
+-	`lk
+-("dd/ff/ff", "dd/dd/xx") == 0){
+-
+-1053 
+-	`tf
+-(1, "link dd/ff/ff dd/dd/xx succeeded!\n");
+-
+-1054 
+-	`ex
+-();
+-
+-1056 if(
+-	`lk
+-("dd/xx/ff", "dd/dd/xx") == 0){
+-
+-1057 
+-	`tf
+-(1, "link dd/xx/ff dd/dd/xx succeeded!\n");
+-
+-1058 
+-	`ex
+-();
+-
+-1060 if(
+-	`lk
+-("dd/ff", "dd/dd/ffff") == 0){
+-
+-1061 
+-	`tf
+-(1, "link dd/ff dd/dd/ffff succeeded!\n");
+-
+-1062 
+-	`ex
+-();
+-
+-1064 if(
+-	`mkd
+-("dd/ff/ff") == 0){
+-
+-1065 
+-	`tf
+-(1, "mkdir dd/ff/ff succeeded!\n");
+-
+-1066 
+-	`ex
+-();
+-
+-1068 if(
+-	`mkd
+-("dd/xx/ff") == 0){
+-
+-1069 
+-	`tf
+-(1, "mkdir dd/xx/ff succeeded!\n");
+-
+-1070 
+-	`ex
+-();
+-
+-1072 if(
+-	`mkd
+-("dd/dd/ffff") == 0){
+-
+-1073 
+-	`tf
+-(1, "mkdir dd/dd/ffff succeeded!\n");
+-
+-1074 
+-	`ex
+-();
+-
+-1076 if(
+-	`uk
+-("dd/xx/ff") == 0){
+-
+-1077 
+-	`tf
+-(1, "unlink dd/xx/ff succeeded!\n");
+-
+-1078 
+-	`ex
+-();
+-
+-1080 if(
+-	`uk
+-("dd/ff/ff") == 0){
+-
+-1081 
+-	`tf
+-(1, "unlink dd/ff/ff succeeded!\n");
+-
+-1082 
+-	`ex
+-();
+-
+-1084 if(
+-	`chd
+-("dd/ff") == 0){
+-
+-1085 
+-	`tf
+-(1, "chdir dd/ff succeeded!\n");
+-
+-1086 
+-	`ex
+-();
+-
+-1088 if(
+-	`chd
+-("dd/xx") == 0){
+-
+-1089 
+-	`tf
+-(1, "chdir dd/xx succeeded!\n");
+-
+-1090 
+-	`ex
+-();
+-
+-1093 if(
+-	`uk
+-("dd/dd/ffff") != 0){
+-
+-1094 
+-	`tf
+-(1, "unlink dd/dd/ff failed\n");
+-
+-1095 
+-	`ex
+-();
+-
+-1097 if(
+-	`uk
+-("dd/ff") != 0){
+-
+-1098 
+-	`tf
+-(1, "unlink dd/ff failed\n");
+-
+-1099 
+-	`ex
+-();
+-
+-1101 if(
+-	`uk
+-("dd") == 0){
+-
+-1102 
+-	`tf
+-(1, "unlinkon-empty dd succeeded!\n");
+-
+-1103 
+-	`ex
+-();
+-
+-1105 if(
+-	`uk
+-("dd/dd") < 0){
+-
+-1106 
+-	`tf
+-(1, "unlink dd/dd failed\n");
+-
+-1107 
+-	`ex
+-();
+-
+-1109 if(
+-	`uk
+-("dd") < 0){
+-
+-1110 
+-	`tf
+-(1, "unlink dd failed\n");
+-
+-1111 
+-	`ex
+-();
+-
+-1114 
+-	`tf
+-(1, "subdir ok\n");
+-
+-1115 
+-	}
+-}
+-
+-1119 
+-	$bigwre
+-()
+-
+-1121 
+-fd
+-, 
+-sz
+-;
+-
+-1123 
+-	`tf
+-(1, "bigwriteest\n");
+-
+-1125 
+-	`uk
+-("bigwrite");
+-
+-1126 
+-sz
+- = 499; sz < 12*512; sz += 471){
+-
+-1127 
+-fd
+- = 
+-	`
+-("bigwre", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-1128 if(
+-fd
+- < 0){
+-
+-1129 
+-	`tf
+-(1, "cannot create bigwrite\n");
+-
+-1130 
+-	`ex
+-();
+-
+-1132 
+-i
+-;
+-
+-1133 
+-i
+- = 0; i < 2; i++){
+-
+-1134 
+-cc
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 
+-sz
+-);
+-
+-1135 if(
+-cc
+- !
+-sz
+-){
+-
+-1136 
+-	`tf
+-(1, "wre(%d%d\n", 
+-sz
+-, 
+-cc
+-);
+-
+-1137 
+-	`ex
+-();
+-
+-1140 
+-	`o
+-(
+-fd
+-);
+-
+-1141 
+-	`uk
+-("bigwrite");
+-
+-1144 
+-	`tf
+-(1, "bigwrite ok\n");
+-
+-1145 
+-	}
+-}
+-
+-1148 
+-	$bigfe
+-()
+-
+-1150 
+-fd
+-, 
+-i
+-, 
+-t
+-, 
+-cc
+-;
+-
+-1152 
+-	`tf
+-(1, "bigfileest\n");
+-
+-1154 
+-	`uk
+-("bigfile");
+-
+-1155 
+-fd
+- = 
+-	`
+-("bigfe", 
+-O_CREATE
+- | 
+-O_RDWR
+-);
+-
+-1156 if(
+-fd
+- < 0){
+-
+-1157 
+-	`tf
+-(1, "cannot create bigfile");
+-
+-1158 
+-	`ex
+-();
+-
+-1160 
+-i
+- = 0; i < 20; i++){
+-
+-1161 
+-	`memt
+-(
+-buf
+-, 
+-i
+-, 600);
+-
+-1162 if(
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 600) != 600){
+-
+-1163 
+-	`tf
+-(1, "write bigfile failed\n");
+-
+-1164 
+-	`ex
+-();
+-
+-1167 
+-	`o
+-(
+-fd
+-);
+-
+-1169 
+-fd
+- = 
+-	`
+-("bigfile", 0);
+-
+-1170 if(
+-fd
+- < 0){
+-
+-1171 
+-	`tf
+-(1, "cannot open bigfile\n");
+-
+-1172 
+-	`ex
+-();
+-
+-1174 
+-t
+- = 0;
+-
+-1175 
+-i
+- = 0; ; i++){
+-
+-1176 
+-cc
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, 300);
+-
+-1177 if(
+-cc
+- < 0){
+-
+-1178 
+-	`tf
+-(1, "read bigfile failed\n");
+-
+-1179 
+-	`ex
+-();
+-
+-1181 if(
+-cc
+- == 0)
+-
+-1183 if(
+-cc
+- != 300){
+-
+-1184 
+-	`tf
+-(1, "shortead bigfile\n");
+-
+-1185 
+-	`ex
+-();
+-
+-1187 if(
+-buf
+-[0] !
+-i
+-/2 || buf[299] != i/2){
+-
+-1188 
+-	`tf
+-(1, "read bigfile wrong data\n");
+-
+-1189 
+-	`ex
+-();
+-
+-1191 
+-t
+- +
+-cc
+-;
+-
+-1193 
+-	`o
+-(
+-fd
+-);
+-
+-1194 if(
+-t
+- != 20*600){
+-
+-1195 
+-	`tf
+-(1, "read bigfile wrongotal\n");
+-
+-1196 
+-	`ex
+-();
+-
+-1198 
+-	`uk
+-("bigfile");
+-
+-1200 
+-	`tf
+-(1, "bigfileest ok\n");
+-
+-1201 
+-	}
+-}
+-
+-1204 
+-	$foun
+-()
+-
+-1206 
+-fd
+-;
+-
+-1209 
+-	`tf
+-(1, "fourteenest\n");
+-
+-1211 if(
+-	`mkd
+-("12345678901234") != 0){
+-
+-1212 
+-	`tf
+-(1, "mkdir 12345678901234 failed\n");
+-
+-1213 
+-	`ex
+-();
+-
+-1215 if(
+-	`mkd
+-("12345678901234/123456789012345") != 0){
+-
+-1216 
+-	`tf
+-(1, "mkdir 12345678901234/123456789012345 failed\n");
+-
+-1217 
+-	`ex
+-();
+-
+-1219 
+-fd
+- = 
+-	`
+-("123456789012345/123456789012345/123456789012345", 
+-O_CREATE
+-);
+-
+-1220 if(
+-fd
+- < 0){
+-
+-1221 
+-	`tf
+-(1, "create 123456789012345/123456789012345/123456789012345 failed\n");
+-
+-1222 
+-	`ex
+-();
+-
+-1224 
+-	`o
+-(
+-fd
+-);
+-
+-1225 
+-fd
+- = 
+-	`
+-("12345678901234/12345678901234/12345678901234", 0);
+-
+-1226 if(
+-fd
+- < 0){
+-
+-1227 
+-	`tf
+-(1, "open 12345678901234/12345678901234/12345678901234 failed\n");
+-
+-1228 
+-	`ex
+-();
+-
+-1230 
+-	`o
+-(
+-fd
+-);
+-
+-1232 if(
+-	`mkd
+-("12345678901234/12345678901234") == 0){
+-
+-1233 
+-	`tf
+-(1, "mkdir 12345678901234/12345678901234 succeeded!\n");
+-
+-1234 
+-	`ex
+-();
+-
+-1236 if(
+-	`mkd
+-("123456789012345/12345678901234") == 0){
+-
+-1237 
+-	`tf
+-(1, "mkdir 12345678901234/123456789012345 succeeded!\n");
+-
+-1238 
+-	`ex
+-();
+-
+-1241 
+-	`tf
+-(1, "fourteen ok\n");
+-
+-1242 
+-	}
+-}
+-
+-1245 
+-	$rmd
+-()
+-
+-1247 
+-	`tf
+-(1, "rmdotest\n");
+-
+-1248 if(
+-	`mkd
+-("dots") != 0){
+-
+-1249 
+-	`tf
+-(1, "mkdir dots failed\n");
+-
+-1250 
+-	`ex
+-();
+-
+-1252 if(
+-	`chd
+-("dots") != 0){
+-
+-1253 
+-	`tf
+-(1, "chdir dots failed\n");
+-
+-1254 
+-	`ex
+-();
+-
+-1256 if(
+-	`uk
+-(".") == 0){
+-
+-1257 
+-	`tf
+-(1, "rm . worked!\n");
+-
+-1258 
+-	`ex
+-();
+-
+-1260 if(
+-	`uk
+-("..") == 0){
+-
+-1261 
+-	`tf
+-(1, "rm .. worked!\n");
+-
+-1262 
+-	`ex
+-();
+-
+-1264 if(
+-	`chd
+-("/") != 0){
+-
+-1265 
+-	`tf
+-(1, "chdir / failed\n");
+-
+-1266 
+-	`ex
+-();
+-
+-1268 if(
+-	`uk
+-("dots/.") == 0){
+-
+-1269 
+-	`tf
+-(1, "unlink dots/. worked!\n");
+-
+-1270 
+-	`ex
+-();
+-
+-1272 if(
+-	`uk
+-("dots/..") == 0){
+-
+-1273 
+-	`tf
+-(1, "unlink dots/.. worked!\n");
+-
+-1274 
+-	`ex
+-();
+-
+-1276 if(
+-	`uk
+-("dots") != 0){
+-
+-1277 
+-	`tf
+-(1, "unlink dots failed!\n");
+-
+-1278 
+-	`ex
+-();
+-
+-1280 
+-	`tf
+-(1, "rmdot ok\n");
+-
+-1281 
+-	}
+-}
+-
+-1284 
+-	$dfe
+-()
+-
+-1286 
+-fd
+-;
+-
+-1288 
+-	`tf
+-(1, "dir vs file\n");
+-
+-1290 
+-fd
+- = 
+-	`
+-("dfe", 
+-O_CREATE
+-);
+-
+-1291 if(
+-fd
+- < 0){
+-
+-1292 
+-	`tf
+-(1, "create dirfile failed\n");
+-
+-1293 
+-	`ex
+-();
+-
+-1295 
+-	`o
+-(
+-fd
+-);
+-
+-1296 if(
+-	`chd
+-("dirfile") == 0){
+-
+-1297 
+-	`tf
+-(1, "chdir dirfile succeeded!\n");
+-
+-1298 
+-	`ex
+-();
+-
+-1300 
+-fd
+- = 
+-	`
+-("dirfile/xx", 0);
+-
+-1301 if(
+-fd
+- >= 0){
+-
+-1302 
+-	`tf
+-(1, "create dirfile/xx succeeded!\n");
+-
+-1303 
+-	`ex
+-();
+-
+-1305 
+-fd
+- = 
+-	`
+-("dfe/xx", 
+-O_CREATE
+-);
+-
+-1306 if(
+-fd
+- >= 0){
+-
+-1307 
+-	`tf
+-(1, "create dirfile/xx succeeded!\n");
+-
+-1308 
+-	`ex
+-();
+-
+-1310 if(
+-	`mkd
+-("dirfile/xx") == 0){
+-
+-1311 
+-	`tf
+-(1, "mkdir dirfile/xx succeeded!\n");
+-
+-1312 
+-	`ex
+-();
+-
+-1314 if(
+-	`uk
+-("dirfile/xx") == 0){
+-
+-1315 
+-	`tf
+-(1, "unlink dirfile/xx succeeded!\n");
+-
+-1316 
+-	`ex
+-();
+-
+-1318 if(
+-	`lk
+-("README", "dirfile/xx") == 0){
+-
+-1319 
+-	`tf
+-(1, "linko dirfile/xx succeeded!\n");
+-
+-1320 
+-	`ex
+-();
+-
+-1322 if(
+-	`uk
+-("dirfile") != 0){
+-
+-1323 
+-	`tf
+-(1, "unlink dirfile failed!\n");
+-
+-1324 
+-	`ex
+-();
+-
+-1327 
+-fd
+- = 
+-	`
+-(".", 
+-O_RDWR
+-);
+-
+-1328 if(
+-fd
+- >= 0){
+-
+-1329 
+-	`tf
+-(1, "open . for writing succeeded!\n");
+-
+-1330 
+-	`ex
+-();
+-
+-1332 
+-fd
+- = 
+-	`
+-(".", 0);
+-
+-1333 if(
+-	`wre
+-(
+-fd
+-, "x", 1) > 0){
+-
+-1334 
+-	`tf
+-(1, "write . succeeded!\n");
+-
+-1335 
+-	`ex
+-();
+-
+-1337 
+-	`o
+-(
+-fd
+-);
+-
+-1339 
+-	`tf
+-(1, "dir vs file OK\n");
+-
+-1340 
+-	}
+-}
+-
+-1344 
+-	$ef
+-()
+-
+-1346 
+-i
+-, 
+-fd
+-;
+-
+-1348 
+-	`tf
+-(1, "empty fileame\n");
+-
+-1351 
+-i
+- = 0; i < 50 + 1; i++){
+-
+-1352 if(
+-	`mkd
+-("irefd") != 0){
+-
+-1353 
+-	`tf
+-(1, "mkdir irefd failed\n");
+-
+-1354 
+-	`ex
+-();
+-
+-1356 if(
+-	`chd
+-("irefd") != 0){
+-
+-1357 
+-	`tf
+-(1, "chdir irefd failed\n");
+-
+-1358 
+-	`ex
+-();
+-
+-1361 
+-	`mkd
+-("");
+-
+-1362 
+-	`lk
+-("README", "");
+-
+-1363 
+-fd
+- = 
+-	`
+-("", 
+-O_CREATE
+-);
+-
+-1364 if(
+-fd
+- >= 0)
+-
+-1365 
+-	`o
+-(
+-fd
+-);
+-
+-1366 
+-fd
+- = 
+-	`
+-("xx", 
+-O_CREATE
+-);
+-
+-1367 if(
+-fd
+- >= 0)
+-
+-1368 
+-	`o
+-(
+-fd
+-);
+-
+-1369 
+-	`uk
+-("xx");
+-
+-1372 
+-	`chd
+-("/");
+-
+-1373 
+-	`tf
+-(1, "empty fileame OK\n");
+-
+-1374 
+-	}
+-}
+-
+-1380 
+-	$fk
+-()
+-
+-1382 
+-n
+-, 
+-pid
+-;
+-
+-1384 
+-	`tf
+-(1, "forkest\n");
+-
+-1386 
+-n
+-=0;<1000;++){
+-
+-1387 
+-pid
+- = 
+-	`fk
+-();
+-
+-1388 if(
+-pid
+- < 0)
+-
+-1390 if(
+-pid
+- == 0)
+-
+-1391 
+-	`ex
+-();
+-
+-1394 if(
+-n
+- == 1000){
+-
+-1395 
+-	`tf
+-(1, "fork claimedo work 1000imes!\n");
+-
+-1396 
+-	`ex
+-();
+-
+-1399 ; 
+-n
+- > 0;--){
+-
+-1400 if(
+-	`wa
+-() < 0){
+-
+-1401 
+-	`tf
+-(1, "wait stoppedarly\n");
+-
+-1402 
+-	`ex
+-();
+-
+-1406 if(
+-	`wa
+-() != -1){
+-
+-1407 
+-	`tf
+-(1, "wait gotoo many\n");
+-
+-1408 
+-	`ex
+-();
+-
+-1411 
+-	`tf
+-(1, "forkest OK\n");
+-
+-1412 
+-	}
+-}
+-
+-1415 
+-	$sbrk
+-()
+-
+-1417 
+-fds
+-[2], 
+-pid
+-, 
+-pids
+-[10], 
+-id
+-;
+-
+-1418 *
+-a
+-, *
+-b
+-, *
+-c
+-, *
+-addr
+-, *
+-dbrk
+-, *
+-p
+-, 
+-sch
+-;
+-
+-1419 
+-ut
+- 
+-amt
+-;
+-
+-1421 
+-	`tf
+-(
+-dout
+-, "sbrkest\n");
+-
+-1422 
+-dbrk
+- = 
+-	`sbrk
+-(0);
+-
+-1425 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1426 
+-i
+-;
+-
+-1427 
+-i
+- = 0; i < 5000; i++){
+-
+-1428 
+-b
+- = 
+-	`sbrk
+-(1);
+-
+-1429 if(
+-b
+- !
+-a
+-){
+-
+-1430 
+-	`tf
+-(
+-dout
+-, "sbrke faed %d %x %x\n", 
+-i
+-, 
+-a
+-, 
+-b
+-);
+-
+-1431 
+-	`ex
+-();
+-
+-1433 *
+-b
+- = 1;
+-
+-1434 
+-a
+- = 
+-b
+- + 1;
+-
+-1436 
+-pid
+- = 
+-	`fk
+-();
+-
+-1437 if(
+-pid
+- < 0){
+-
+-1438 
+-	`tf
+-(
+-dout
+-, "sbrkest fork failed\n");
+-
+-1439 
+-	`ex
+-();
+-
+-1441 
+-c
+- = 
+-	`sbrk
+-(1);
+-
+-1442 
+-c
+- = 
+-	`sbrk
+-(1);
+-
+-1443 if(
+-c
+- !
+-a
+- + 1){
+-
+-1444 
+-	`tf
+-(
+-dout
+-, "sbrkest failedost-fork\n");
+-
+-1445 
+-	`ex
+-();
+-
+-1447 if(
+-pid
+- == 0)
+-
+-1448 
+-	`ex
+-();
+-
+-1449 
+-	`wa
+-();
+-
+-1452 
+-	#BIG
+- (100*1024*1024)
+-
+-	)
+-
+-1453 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1454 
+-amt
+- = (
+-BIG
+-- (
+-ut
+-)
+-a
+-;
+-
+-1455 
+-p
+- = 
+-	`sbrk
+-(
+-amt
+-);
+-
+-1456 i(
+-p
+- !
+-a
+-) {
+-
+-1457 
+-	`tf
+-(
+-dout
+-, "sbrkest failedo grow bigddress space;noughhys mem?\n");
+-
+-1458 
+-	`ex
+-();
+-
+-1460 
+-addr
+- = (*(
+-BIG
+--1);
+-
+-1461 *
+-addr
+- = 99;
+-
+-1464 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1465 
+-c
+- = 
+-	`sbrk
+-(-4096);
+-
+-1466 if(
+-c
+- == (*)0xffffffff){
+-
+-1467 
+-	`tf
+-(
+-dout
+-, "sbrk couldot deallocate\n");
+-
+-1468 
+-	`ex
+-();
+-
+-1470 
+-c
+- = 
+-	`sbrk
+-(0);
+-
+-1471 if(
+-c
+- !
+-a
+- - 4096){
+-
+-1472 
+-	`tf
+-(
+-dout
+-, "sbrk dotirodud wrgddss, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1473 
+-	`ex
+-();
+-
+-1477 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1478 
+-c
+- = 
+-	`sbrk
+-(4096);
+-
+-1479 if(
+-c
+- !
+-a
+- || 
+-	`sbrk
+-(0) != + 4096){
+-
+-1480 
+-	`tf
+-(
+-dout
+-, "sbrke-loti faed, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1481 
+-	`ex
+-();
+-
+-1483 if(*
+-addr
+- == 99){
+-
+-1485 
+-	`tf
+-(
+-dout
+-, "sbrk de-allocation didn'teally deallocate\n");
+-
+-1486 
+-	`ex
+-();
+-
+-1489 
+-a
+- = 
+-	`sbrk
+-(0);
+-
+-1490 
+-c
+- = 
+-	`sbrk
+-(-(sbrk(0- 
+-dbrk
+-));
+-
+-1491 if(
+-c
+- !
+-a
+-){
+-
+-1492 
+-	`tf
+-(
+-dout
+-, "sbrk downsized, %x c %x\n", 
+-a
+-, 
+-c
+-);
+-
+-1493 
+-	`ex
+-();
+-
+-1497 
+-a
+- = (*)(
+-KERNBASE
+-); < (*) (KERNBASE+2000000); += 50000){
+-
+-1498 
+-id
+- = 
+-	`gpid
+-();
+-
+-1499 
+-pid
+- = 
+-	`fk
+-();
+-
+-1500 if(
+-pid
+- < 0){
+-
+-1501 
+-	`tf
+-(
+-dout
+-, "fork failed\n");
+-
+-1502 
+-	`ex
+-();
+-
+-1504 if(
+-pid
+- == 0){
+-
+-1505 
+-	`tf
+-(
+-dout
+-, "ocouldd %x = %x\n", 
+-a
+-, *a);
+-
+-1506 
+-	`kl
+-(
+-id
+-);
+-
+-1507 
+-	`ex
+-();
+-
+-1509 
+-	`wa
+-();
+-
+-1514 if(
+-	`pe
+-(
+-fds
+-) != 0){
+-
+-1515 
+-	`tf
+-(1, "pipe() failed\n");
+-
+-1516 
+-	`ex
+-();
+-
+-1518 
+-i
+- = 0; i < (
+-pids
+-)/(pids[0]); i++){
+-
+-1519 if((
+-pids
+-[
+-i
+-] = 
+-	`fk
+-()) == 0){
+-
+-1521 
+-	`sbrk
+-(
+-BIG
+- - (
+-ut
+-)sbrk(0));
+-
+-1522 
+-	`wre
+-(
+-fds
+-[1], "x", 1);
+-
+-1524 ;;
+-	`p
+-(1000);
+-
+-1526 if(
+-pids
+-[
+-i
+-] != -1)
+-
+-1527 
+-	`ad
+-(
+-fds
+-[0], &
+-sch
+-, 1);
+-
+-1531 
+-c
+- = 
+-	`sbrk
+-(4096);
+-
+-1532 
+-i
+- = 0; i < (
+-pids
+-)/(pids[0]); i++){
+-
+-1533 if(
+-pids
+-[
+-i
+-] == -1)
+-
+-1535 
+-	`kl
+-(
+-pids
+-[
+-i
+-]);
+-
+-1536 
+-	`wa
+-();
+-
+-1538 if(
+-c
+- == (*)0xffffffff){
+-
+-1539 
+-	`tf
+-(
+-dout
+-, "failed sbrkeaked memory\n");
+-
+-1540 
+-	`ex
+-();
+-
+-1543 if(
+-	`sbrk
+-(0> 
+-dbrk
+-)
+-
+-1544 
+-	`sbrk
+-(-(sbrk(0- 
+-dbrk
+-));
+-
+-1546 
+-	`tf
+-(
+-dout
+-, "sbrkest OK\n");
+-
+-1547 
+-	}
+-}
+-
+-1550 
+-	$videt
+-(*
+-p
+-)
+-
+-1552 
+-s
+-;
+-
+-1553 
+-	`asm
+-("mov %%esp, %%ebx\n\t"
+-
+-1557 "" (
+-s
+-) :
+-
+-1558 "a" (
+-SYS_p
+-), "n" (
+-T_SYSCALL
+-), "c" (
+-p
+-) :
+-
+-1560 
+-	}
+-}
+-
+-1563 
+-	$vide
+-()
+-
+-1565 
+-hi
+-, 
+-pid
+-;
+-
+-1566 
+-ut
+- 
+-p
+-;
+-
+-1568 
+-	`tf
+-(
+-dout
+-, "validateest\n");
+-
+-1569 
+-hi
+- = 1100*1024;
+-
+-1571 
+-p
+- = 0; <(
+-ut
+-)
+-hi
+-; += 4096){
+-
+-1572 if((
+-pid
+- = 
+-	`fk
+-()) == 0){
+-
+-1574 
+-	`videt
+-((*)
+-p
+-);
+-
+-1575 
+-	`ex
+-();
+-
+-1577 
+-	`p
+-(0);
+-
+-1578 
+-	`p
+-(0);
+-
+-1579 
+-	`kl
+-(
+-pid
+-);
+-
+-1580 
+-	`wa
+-();
+-
+-1583 if(
+-	`lk
+-("nosuchfe", (*)
+-p
+-) != -1){
+-
+-1584 
+-	`tf
+-(
+-dout
+-, "link shouldot succeed\n");
+-
+-1585 
+-	`ex
+-();
+-
+-1589 
+-	`tf
+-(
+-dout
+-, "validate ok\n");
+-
+-1590 
+-	}
+-}
+-
+-1593 
+-	gun
+-[10000];
+-
+-1595 
+-	$bse
+-()
+-
+-1597 
+-i
+-;
+-
+-1599 
+-	`tf
+-(
+-dout
+-, "bssest\n");
+-
+-1600 
+-i
+- = 0; i < (
+-un
+-); i++){
+-
+-1601 if(
+-un
+-[
+-i
+-] != '\0'){
+-
+-1602 
+-	`tf
+-(
+-dout
+-, "bssest failed\n");
+-
+-1603 
+-	`ex
+-();
+-
+-1606 
+-	`tf
+-(
+-dout
+-, "bssest ok\n");
+-
+-1607 
+-	}
+-}
+-
+-1613 
+-	$bigg
+-()
+-
+-1615 
+-pid
+-, 
+-fd
+-;
+-
+-1617 
+-	`uk
+-("bigarg-ok");
+-
+-1618 
+-pid
+- = 
+-	`fk
+-();
+-
+-1619 if(
+-pid
+- == 0){
+-
+-1620 *
+-gs
+-[
+-MAXARG
+-];
+-
+-1621 
+-i
+-;
+-
+-1622 
+-i
+- = 0; i < 
+-MAXARG
+--1; i++)
+-
+-1623 
+-gs
+-[
+-i
+-] = "bigargsest: failed\n ";
+-
+-1624 
+-gs
+-[
+-MAXARG
+--1] = 0;
+-
+-1625 
+-	`tf
+-(
+-dout
+-, "bigargest\n");
+-
+-1626 
+-	`exec
+-("echo", 
+-gs
+-);
+-
+-1627 
+-	`tf
+-(
+-dout
+-, "bigargest ok\n");
+-
+-1628 
+-fd
+- = 
+-	`
+-("bigg-ok", 
+-O_CREATE
+-);
+-
+-1629 
+-	`o
+-(
+-fd
+-);
+-
+-1630 
+-	`ex
+-();
+-
+-1631 } if(
+-pid
+- < 0){
+-
+-1632 
+-	`tf
+-(
+-dout
+-, "bigargtest: fork failed\n");
+-
+-1633 
+-	`ex
+-();
+-
+-1635 
+-	`wa
+-();
+-
+-1636 
+-fd
+- = 
+-	`
+-("bigarg-ok", 0);
+-
+-1637 if(
+-fd
+- < 0){
+-
+-1638 
+-	`tf
+-(
+-dout
+-, "bigargest failed!\n");
+-
+-1639 
+-	`ex
+-();
+-
+-1641 
+-	`o
+-(
+-fd
+-);
+-
+-1642 
+-	`uk
+-("bigarg-ok");
+-
+-1643 
+-	}
+-}
+-
+-1648 
+-	$fsfu
+-()
+-
+-1650 
+-nfes
+-;
+-
+-1651 
+-fsblocks
+- = 0;
+-
+-1653 
+-	`tf
+-(1, "fsfullest\n");
+-
+-1655 
+-nfes
+- = 0; ;files++){
+-
+-1656 
+-me
+-[64];
+-
+-1657 
+-me
+-[0] = 'f';
+-
+-1658 
+-me
+-[1] = '0' + 
+-nfes
+- / 1000;
+-
+-1659 
+-me
+-[2] = '0' + (
+-nfes
+- % 1000) / 100;
+-
+-1660 
+-me
+-[3] = '0' + (
+-nfes
+- % 100) / 10;
+-
+-1661 
+-me
+-[4] = '0' + (
+-nfes
+- % 10);
+-
+-1662 
+-me
+-[5] = '\0';
+-
+-1663 
+-	`tf
+-(1, "wrg %s\n", 
+-me
+-);
+-
+-1664 
+-fd
+- = 
+-	`
+-(
+-me
+-, 
+-O_CREATE
+-|
+-O_RDWR
+-);
+-
+-1665 if(
+-fd
+- < 0){
+-
+-1666 
+-	`tf
+-(1, " %ed\n", 
+-me
+-);
+-
+-1669 
+-t
+- = 0;
+-
+-1671 
+-cc
+- = 
+-	`wre
+-(
+-fd
+-, 
+-buf
+-, 512);
+-
+-1672 if(
+-cc
+- < 512)
+-
+-1674 
+-t
+- +
+-cc
+-;
+-
+-1675 
+-fsblocks
+-++;
+-
+-1677 
+-	`tf
+-(1, "wr%d bys\n", 
+-t
+-);
+-
+-1678 
+-	`o
+-(
+-fd
+-);
+-
+-1679 if(
+-t
+- == 0)
+-
+-1683 
+-nfes
+- >= 0){
+-
+-1684 
+-me
+-[64];
+-
+-1685 
+-me
+-[0] = 'f';
+-
+-1686 
+-me
+-[1] = '0' + 
+-nfes
+- / 1000;
+-
+-1687 
+-me
+-[2] = '0' + (
+-nfes
+- % 1000) / 100;
+-
+-1688 
+-me
+-[3] = '0' + (
+-nfes
+- % 100) / 10;
+-
+-1689 
+-me
+-[4] = '0' + (
+-nfes
+- % 10);
+-
+-1690 
+-me
+-[5] = '\0';
+-
+-1691 
+-	`uk
+-(
+-me
+-);
+-
+-1692 
+-nfes
+---;
+-
+-1695 
+-	`tf
+-(1, "fsfullest finished\n");
+-
+-1696 
+-	}
+-}
+-
+-1699 
+-	$uio
+-()
+-
+-1701 
+-	#RTC_ADDR
+- 0x70
+-
+-	)
+-
+-1702 
+-	#RTC_DATA
+- 0x71
+-
+-	)
+-
+-1704 
+-usht
+- 
+-pt
+- = 0;
+-
+-1705 
+-uch
+- 
+-v
+- = 0;
+-
+-1706 
+-pid
+-;
+-
+-1708 
+-	`tf
+-(1, "uioest\n");
+-
+-1709 
+-pid
+- = 
+-	`fk
+-();
+-
+-1710 if(
+-pid
+- == 0){
+-
+-1711 
+-pt
+- = 
+-RTC_ADDR
+-;
+-
+-1712 
+-v
+- = 0x09;
+-
+-1714 
+-asm
+- ve("outb %0,%1"::"a"(
+-v
+-), "d" (
+-pt
+-));
+-
+-1715 
+-pt
+- = 
+-RTC_DATA
+-;
+-
+-1716 
+-asm
+- ve("b %1,%0" : "" (
+-v
+-: "d" (
+-pt
+-));
+-
+-1717 
+-	`tf
+-(1, "uio: uio succeeded;est FAILED\n");
+-
+-1718 
+-	`ex
+-();
+-
+-1719 } if(
+-pid
+- < 0){
+-
+-1720 
+-	`tf
+- (1, "fork failed\n");
+-
+-1721 
+-	`ex
+-();
+-
+-1723 
+-	`wa
+-();
+-
+-1724 
+-	`tf
+-(1, "uioest done\n");
+-
+-1725 
+-	}
+-}
+-
+-1727 
+-	$ge
+-()
+-
+-1729 
+-fd
+-;
+-
+-1730 
+-fd
+- = 
+-	`
+-("", 
+-O_RDONLY
+-);
+-
+-1731 i(
+-fd
+- < 0) {
+-
+-1732 
+-	`tf
+-(2, "open failed\n");
+-
+-1733 
+-	`ex
+-();
+-
+-1735 
+-	`ad
+-(
+-fd
+-, 
+-	`sbrk
+-(0) - 1, -1);
+-
+-1736 
+-	`o
+-(
+-fd
+-);
+-
+-1737 
+-	`tf
+-(1, "argestassed\n");
+-
+-1738 
+-	}
+-}
+-
+-1740 
+-	gnde
+- = 1;
+-
+-1742 
+-	$nd
+-()
+-
+-1744 
+-nde
+- =andstate * 1664525 + 1013904223;
+-
+-1745  
+-nde
+-;
+-
+-1746 
+-	}
+-}
+-
+-1749 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-1751 
+-	`tf
+-(1, "usertests starting\n");
+-
+-1753 if(
+-	`
+-("usertests.ran", 0) >= 0){
+-
+-1754 
+-	`tf
+-(1, "alreadyan userests --ebuild fs.img\n");
+-
+-1755 
+-	`ex
+-();
+-
+-1757 
+-	`o
+-(
+-	`
+-("ues.n", 
+-O_CREATE
+-));
+-
+-1759 
+-	`ge
+-();
+-
+-1760 
+-	`de
+-();
+-
+-1761 
+-	`lkuk
+-();
+-
+-1762 
+-	`c
+-();
+-
+-1763 
+-	`fourfes
+-();
+-
+-1764 
+-	`shedfd
+-();
+-
+-1766 
+-	`bigg
+-();
+-
+-1767 
+-	`bigwre
+-();
+-
+-1768 
+-	`bigg
+-();
+-
+-1769 
+-	`bse
+-();
+-
+-1770 
+-	`sbrk
+-();
+-
+-1771 
+-	`vide
+-();
+-
+-1773 
+-	`
+-();
+-
+-1774 
+-	`wre
+-();
+-
+-1775 
+-	`wre1
+-();
+-
+-1776 
+-	`
+-();
+-
+-1778 
+-	`ue
+-();
+-
+-1779 
+-	`exue
+-();
+-
+-1780 
+-	`ue
+-();
+-
+-1782 
+-	`mem
+-();
+-
+-1783 
+-	`pe1
+-();
+-
+-1784 
+-	`m
+-();
+-
+-1785 
+-	`exwa
+-();
+-
+-1787 
+-	`rmd
+-();
+-
+-1788 
+-	`foun
+-();
+-
+-1789 
+-	`bigfe
+-();
+-
+-1790 
+-	`subd
+-();
+-
+-1791 
+-	`lk
+-();
+-
+-1792 
+-	`ukad
+-();
+-
+-1793 
+-	`dfe
+-();
+-
+-1794 
+-	`ef
+-();
+-
+-1795 
+-	`fk
+-();
+-
+-1796 
+-	`bigd
+-();
+-
+-1798 
+-	`uio
+-();
+-
+-1800 
+-	`exee
+-();
+-
+-1802 
+-	`ex
+-();
+-
+-1803 
+-	}
+-}
+-
+-	@usys.S
+-
+-1 
+-	~"sys.h
+-"
+-
+-2 
+-	~"s.h
+-"
+-
+-4 
+-	#SYSCALL
+-(
+-me
+-) \
+-
+-5 .
+-globl
+- 
+-me
+-; \
+-
+-6 
+-me
+-: \
+-
+-7 
+-movl
+- 
+-$SYS_
+- ## 
+-me
+-, %
+-x
+-; \
+-
+-8 
+-$T_SYSCALL
+-; \
+-
+-9 
+-t
+-
+-
+-	)
+-
+-11 
+-	$SYSCALL
+-(
+-fk
+-)
+-
+-12 
+-	$SYSCALL
+-(
+-ex
+-)
+-
+-13 
+-	$SYSCALL
+-(
+-wa
+-)
+-
+-14 
+-	$SYSCALL
+-(
+-pe
+-)
+-
+-15 
+-	$SYSCALL
+-(
+-ad
+-)
+-
+-16 
+-	$SYSCALL
+-(
+-wre
+-)
+-
+-17 
+-	$SYSCALL
+-(
+-o
+-)
+-
+-18 
+-	$SYSCALL
+-(
+-kl
+-)
+-
+-19 
+-	$SYSCALL
+-(
+-exec
+-)
+-
+-20 
+-	$SYSCALL
+-(
+-
+-)
+-
+-21 
+-	$SYSCALL
+-(
+-mknod
+-)
+-
+-22 
+-	$SYSCALL
+-(
+-uk
+-)
+-
+-23 
+-	$SYSCALL
+-(
+-f
+-)
+-
+-24 
+-	$SYSCALL
+-(
+-lk
+-)
+-
+-25 
+-	$SYSCALL
+-(
+-mkd
+-)
+-
+-26 
+-	$SYSCALL
+-(
+-chd
+-)
+-
+-27 
+-	$SYSCALL
+-(
+-dup
+-)
+-
+-28 
+-	$SYSCALL
+-(
+-gpid
+-)
+-
+-29 
+-	$SYSCALL
+-(
+-sbrk
+-)
+-
+-30 
+-	$SYSCALL
+-(
+-p
+-)
+-
+-31 
+-	$SYSCALL
+-(
+-uime
+-)
+-
+-32 
+-	$SYSCALL
+-(
+-mm
+-)
+-
+-33 
+-	`SYSCALL
+-(
+-munm
+-)
+-
+-	@vectors.S
+-
+-1 #ged 
+-by
+- 
+-ves
+-.
+-
+- - d
+-n
+- 
+-ed
+-
+-
+-3 .
+-globl
+- 
+-	gps
+-
+-
+-4 .
+-globl
+- 
+-ve0
+-
+-
+-5 
+-	gve0
+-:
+-
+-6 
+-pushl
+- 
+-$0
+-
+-
+-7 
+-pushl
+- 
+-$0
+-
+-
+-8 
+-jmp
+- 
+-ps
+-
+-
+-9 .
+-globl
+- 
+-ve1
+-
+-
+-10 
+-ve1
+-:
+-
+-11 
+-pushl
+- 
+-$0
+-
+-
+-12 
+-pushl
+- 
+-$1
+-
+-
+-13 
+-jmp
+- 
+-ps
+-
+-
+-14 .
+-globl
+- 
+-ve2
+-
+-
+-15 
+-ve2
+-:
+-
+-16 
+-pushl
+- 
+-$0
+-
+-
+-17 
+-pushl
+- 
+-$2
+-
+-
+-18 
+-jmp
+- 
+-ps
+-
+-
+-19 .
+-globl
+- 
+-ve3
+-
+-
+-20 
+-ve3
+-:
+-
+-21 
+-pushl
+- 
+-$0
+-
+-
+-22 
+-pushl
+- 
+-$3
+-
+-
+-23 
+-jmp
+- 
+-ps
+-
+-
+-24 .
+-globl
+- 
+-ve4
+-
+-
+-25 
+-ve4
+-:
+-
+-26 
+-pushl
+- 
+-$0
+-
+-
+-27 
+-pushl
+- 
+-$4
+-
+-
+-28 
+-jmp
+- 
+-ps
+-
+-
+-29 .
+-globl
+- 
+-ve5
+-
+-
+-30 
+-ve5
+-:
+-
+-31 
+-pushl
+- 
+-$0
+-
+-
+-32 
+-pushl
+- 
+-$5
+-
+-
+-33 
+-jmp
+- 
+-ps
+-
+-
+-34 .
+-globl
+- 
+-ve6
+-
+-
+-35 
+-ve6
+-:
+-
+-36 
+-pushl
+- 
+-$0
+-
+-
+-37 
+-pushl
+- 
+-$6
+-
+-
+-38 
+-jmp
+- 
+-ps
+-
+-
+-39 .
+-globl
+- 
+-ve7
+-
+-
+-40 
+-ve7
+-:
+-
+-41 
+-pushl
+- 
+-$0
+-
+-
+-42 
+-pushl
+- 
+-$7
+-
+-
+-43 
+-jmp
+- 
+-ps
+-
+-
+-44 .
+-globl
+- 
+-ve8
+-
+-
+-45 
+-ve8
+-:
+-
+-46 
+-pushl
+- 
+-$8
+-
+-
+-47 
+-jmp
+- 
+-ps
+-
+-
+-48 .
+-globl
+- 
+-ve9
+-
+-
+-49 
+-ve9
+-:
+-
+-50 
+-pushl
+- 
+-$0
+-
+-
+-51 
+-pushl
+- 
+-$9
+-
+-
+-52 
+-jmp
+- 
+-ps
+-
+-
+-53 .
+-globl
+- 
+-ve10
+-
+-
+-54 
+-ve10
+-:
+-
+-55 
+-pushl
+- 
+-$10
+-
+-
+-56 
+-jmp
+- 
+-ps
+-
+-
+-57 .
+-globl
+- 
+-ve11
+-
+-
+-58 
+-ve11
+-:
+-
+-59 
+-pushl
+- 
+-$11
+-
+-
+-60 
+-jmp
+- 
+-ps
+-
+-
+-61 .
+-globl
+- 
+-ve12
+-
+-
+-62 
+-ve12
+-:
+-
+-63 
+-pushl
+- 
+-$12
+-
+-
+-64 
+-jmp
+- 
+-ps
+-
+-
+-65 .
+-globl
+- 
+-ve13
+-
+-
+-66 
+-ve13
+-:
+-
+-67 
+-pushl
+- 
+-$13
+-
+-
+-68 
+-jmp
+- 
+-ps
+-
+-
+-69 .
+-globl
+- 
+-ve14
+-
+-
+-70 
+-ve14
+-:
+-
+-71 
+-pushl
+- 
+-$14
+-
+-
+-72 
+-jmp
+- 
+-ps
+-
+-
+-73 .
+-globl
+- 
+-ve15
+-
+-
+-74 
+-ve15
+-:
+-
+-75 
+-pushl
+- 
+-$0
+-
+-
+-76 
+-pushl
+- 
+-$15
+-
+-
+-77 
+-jmp
+- 
+-ps
+-
+-
+-78 .
+-globl
+- 
+-ve16
+-
+-
+-79 
+-ve16
+-:
+-
+-80 
+-pushl
+- 
+-$0
+-
+-
+-81 
+-pushl
+- 
+-$16
+-
+-
+-82 
+-jmp
+- 
+-ps
+-
+-
+-83 .
+-globl
+- 
+-ve17
+-
+-
+-84 
+-ve17
+-:
+-
+-85 
+-pushl
+- 
+-$17
+-
+-
+-86 
+-jmp
+- 
+-ps
+-
+-
+-87 .
+-globl
+- 
+-ve18
+-
+-
+-88 
+-ve18
+-:
+-
+-89 
+-pushl
+- 
+-$0
+-
+-
+-90 
+-pushl
+- 
+-$18
+-
+-
+-91 
+-jmp
+- 
+-ps
+-
+-
+-92 .
+-globl
+- 
+-ve19
+-
+-
+-93 
+-ve19
+-:
+-
+-94 
+-pushl
+- 
+-$0
+-
+-
+-95 
+-pushl
+- 
+-$19
+-
+-
+-96 
+-jmp
+- 
+-ps
+-
+-
+-97 .
+-globl
+- 
+-ve20
+-
+-
+-98 
+-ve20
+-:
+-
+-99 
+-pushl
+- 
+-$0
+-
+-
+-100 
+-pushl
+- 
+-$20
+-
+-
+-101 
+-jmp
+- 
+-ps
+-
+-
+-102 .
+-globl
+- 
+-ve21
+-
+-
+-103 
+-ve21
+-:
+-
+-104 
+-pushl
+- 
+-$0
+-
+-
+-105 
+-pushl
+- 
+-$21
+-
+-
+-106 
+-jmp
+- 
+-ps
+-
+-
+-107 .
+-globl
+- 
+-ve22
+-
+-
+-108 
+-ve22
+-:
+-
+-109 
+-pushl
+- 
+-$0
+-
+-
+-110 
+-pushl
+- 
+-$22
+-
+-
+-111 
+-jmp
+- 
+-ps
+-
+-
+-112 .
+-globl
+- 
+-ve23
+-
+-
+-113 
+-ve23
+-:
+-
+-114 
+-pushl
+- 
+-$0
+-
+-
+-115 
+-pushl
+- 
+-$23
+-
+-
+-116 
+-jmp
+- 
+-ps
+-
+-
+-117 .
+-globl
+- 
+-ve24
+-
+-
+-118 
+-ve24
+-:
+-
+-119 
+-pushl
+- 
+-$0
+-
+-
+-120 
+-pushl
+- 
+-$24
+-
+-
+-121 
+-jmp
+- 
+-ps
+-
+-
+-122 .
+-globl
+- 
+-ve25
+-
+-
+-123 
+-ve25
+-:
+-
+-124 
+-pushl
+- 
+-$0
+-
+-
+-125 
+-pushl
+- 
+-$25
+-
+-
+-126 
+-jmp
+- 
+-ps
+-
+-
+-127 .
+-globl
+- 
+-ve26
+-
+-
+-128 
+-ve26
+-:
+-
+-129 
+-pushl
+- 
+-$0
+-
+-
+-130 
+-pushl
+- 
+-$26
+-
+-
+-131 
+-jmp
+- 
+-ps
+-
+-
+-132 .
+-globl
+- 
+-ve27
+-
+-
+-133 
+-ve27
+-:
+-
+-134 
+-pushl
+- 
+-$0
+-
+-
+-135 
+-pushl
+- 
+-$27
+-
+-
+-136 
+-jmp
+- 
+-ps
+-
+-
+-137 .
+-globl
+- 
+-ve28
+-
+-
+-138 
+-ve28
+-:
+-
+-139 
+-pushl
+- 
+-$0
+-
+-
+-140 
+-pushl
+- 
+-$28
+-
+-
+-141 
+-jmp
+- 
+-ps
+-
+-
+-142 .
+-globl
+- 
+-ve29
+-
+-
+-143 
+-ve29
+-:
+-
+-144 
+-pushl
+- 
+-$0
+-
+-
+-145 
+-pushl
+- 
+-$29
+-
+-
+-146 
+-jmp
+- 
+-ps
+-
+-
+-147 .
+-globl
+- 
+-ve30
+-
+-
+-148 
+-ve30
+-:
+-
+-149 
+-pushl
+- 
+-$0
+-
+-
+-150 
+-pushl
+- 
+-$30
+-
+-
+-151 
+-jmp
+- 
+-ps
+-
+-
+-152 .
+-globl
+- 
+-ve31
+-
+-
+-153 
+-ve31
+-:
+-
+-154 
+-pushl
+- 
+-$0
+-
+-
+-155 
+-pushl
+- 
+-$31
+-
+-
+-156 
+-jmp
+- 
+-ps
+-
+-
+-157 .
+-globl
+- 
+-ve32
+-
+-
+-158 
+-ve32
+-:
+-
+-159 
+-pushl
+- 
+-$0
+-
+-
+-160 
+-pushl
+- 
+-$32
+-
+-
+-161 
+-jmp
+- 
+-ps
+-
+-
+-162 .
+-globl
+- 
+-ve33
+-
+-
+-163 
+-ve33
+-:
+-
+-164 
+-pushl
+- 
+-$0
+-
+-
+-165 
+-pushl
+- 
+-$33
+-
+-
+-166 
+-jmp
+- 
+-ps
+-
+-
+-167 .
+-globl
+- 
+-ve34
+-
+-
+-168 
+-ve34
+-:
+-
+-169 
+-pushl
+- 
+-$0
+-
+-
+-170 
+-pushl
+- 
+-$34
+-
+-
+-171 
+-jmp
+- 
+-ps
+-
+-
+-172 .
+-globl
+- 
+-ve35
+-
+-
+-173 
+-ve35
+-:
+-
+-174 
+-pushl
+- 
+-$0
+-
+-
+-175 
+-pushl
+- 
+-$35
+-
+-
+-176 
+-jmp
+- 
+-ps
+-
+-
+-177 .
+-globl
+- 
+-ve36
+-
+-
+-178 
+-ve36
+-:
+-
+-179 
+-pushl
+- 
+-$0
+-
+-
+-180 
+-pushl
+- 
+-$36
+-
+-
+-181 
+-jmp
+- 
+-ps
+-
+-
+-182 .
+-globl
+- 
+-ve37
+-
+-
+-183 
+-ve37
+-:
+-
+-184 
+-pushl
+- 
+-$0
+-
+-
+-185 
+-pushl
+- 
+-$37
+-
+-
+-186 
+-jmp
+- 
+-ps
+-
+-
+-187 .
+-globl
+- 
+-ve38
+-
+-
+-188 
+-ve38
+-:
+-
+-189 
+-pushl
+- 
+-$0
+-
+-
+-190 
+-pushl
+- 
+-$38
+-
+-
+-191 
+-jmp
+- 
+-ps
+-
+-
+-192 .
+-globl
+- 
+-ve39
+-
+-
+-193 
+-ve39
+-:
+-
+-194 
+-pushl
+- 
+-$0
+-
+-
+-195 
+-pushl
+- 
+-$39
+-
+-
+-196 
+-jmp
+- 
+-ps
+-
+-
+-197 .
+-globl
+- 
+-ve40
+-
+-
+-198 
+-ve40
+-:
+-
+-199 
+-pushl
+- 
+-$0
+-
+-
+-200 
+-pushl
+- 
+-$40
+-
+-
+-201 
+-jmp
+- 
+-ps
+-
+-
+-202 .
+-globl
+- 
+-ve41
+-
+-
+-203 
+-ve41
+-:
+-
+-204 
+-pushl
+- 
+-$0
+-
+-
+-205 
+-pushl
+- 
+-$41
+-
+-
+-206 
+-jmp
+- 
+-ps
+-
+-
+-207 .
+-globl
+- 
+-ve42
+-
+-
+-208 
+-ve42
+-:
+-
+-209 
+-pushl
+- 
+-$0
+-
+-
+-210 
+-pushl
+- 
+-$42
+-
+-
+-211 
+-jmp
+- 
+-ps
+-
+-
+-212 .
+-globl
+- 
+-ve43
+-
+-
+-213 
+-ve43
+-:
+-
+-214 
+-pushl
+- 
+-$0
+-
+-
+-215 
+-pushl
+- 
+-$43
+-
+-
+-216 
+-jmp
+- 
+-ps
+-
+-
+-217 .
+-globl
+- 
+-ve44
+-
+-
+-218 
+-ve44
+-:
+-
+-219 
+-pushl
+- 
+-$0
+-
+-
+-220 
+-pushl
+- 
+-$44
+-
+-
+-221 
+-jmp
+- 
+-ps
+-
+-
+-222 .
+-globl
+- 
+-ve45
+-
+-
+-223 
+-ve45
+-:
+-
+-224 
+-pushl
+- 
+-$0
+-
+-
+-225 
+-pushl
+- 
+-$45
+-
+-
+-226 
+-jmp
+- 
+-ps
+-
+-
+-227 .
+-globl
+- 
+-ve46
+-
+-
+-228 
+-ve46
+-:
+-
+-229 
+-pushl
+- 
+-$0
+-
+-
+-230 
+-pushl
+- 
+-$46
+-
+-
+-231 
+-jmp
+- 
+-ps
+-
+-
+-232 .
+-globl
+- 
+-ve47
+-
+-
+-233 
+-ve47
+-:
+-
+-234 
+-pushl
+- 
+-$0
+-
+-
+-235 
+-pushl
+- 
+-$47
+-
+-
+-236 
+-jmp
+- 
+-ps
+-
+-
+-237 .
+-globl
+- 
+-ve48
+-
+-
+-238 
+-ve48
+-:
+-
+-239 
+-pushl
+- 
+-$0
+-
+-
+-240 
+-pushl
+- 
+-$48
+-
+-
+-241 
+-jmp
+- 
+-ps
+-
+-
+-242 .
+-globl
+- 
+-ve49
+-
+-
+-243 
+-ve49
+-:
+-
+-244 
+-pushl
+- 
+-$0
+-
+-
+-245 
+-pushl
+- 
+-$49
+-
+-
+-246 
+-jmp
+- 
+-ps
+-
+-
+-247 .
+-globl
+- 
+-ve50
+-
+-
+-248 
+-ve50
+-:
+-
+-249 
+-pushl
+- 
+-$0
+-
+-
+-250 
+-pushl
+- 
+-$50
+-
+-
+-251 
+-jmp
+- 
+-ps
+-
+-
+-252 .
+-globl
+- 
+-ve51
+-
+-
+-253 
+-ve51
+-:
+-
+-254 
+-pushl
+- 
+-$0
+-
+-
+-255 
+-pushl
+- 
+-$51
+-
+-
+-256 
+-jmp
+- 
+-ps
+-
+-
+-257 .
+-globl
+- 
+-ve52
+-
+-
+-258 
+-ve52
+-:
+-
+-259 
+-pushl
+- 
+-$0
+-
+-
+-260 
+-pushl
+- 
+-$52
+-
+-
+-261 
+-jmp
+- 
+-ps
+-
+-
+-262 .
+-globl
+- 
+-ve53
+-
+-
+-263 
+-ve53
+-:
+-
+-264 
+-pushl
+- 
+-$0
+-
+-
+-265 
+-pushl
+- 
+-$53
+-
+-
+-266 
+-jmp
+- 
+-ps
+-
+-
+-267 .
+-globl
+- 
+-ve54
+-
+-
+-268 
+-ve54
+-:
+-
+-269 
+-pushl
+- 
+-$0
+-
+-
+-270 
+-pushl
+- 
+-$54
+-
+-
+-271 
+-jmp
+- 
+-ps
+-
+-
+-272 .
+-globl
+- 
+-ve55
+-
+-
+-273 
+-ve55
+-:
+-
+-274 
+-pushl
+- 
+-$0
+-
+-
+-275 
+-pushl
+- 
+-$55
+-
+-
+-276 
+-jmp
+- 
+-ps
+-
+-
+-277 .
+-globl
+- 
+-ve56
+-
+-
+-278 
+-ve56
+-:
+-
+-279 
+-pushl
+- 
+-$0
+-
+-
+-280 
+-pushl
+- 
+-$56
+-
+-
+-281 
+-jmp
+- 
+-ps
+-
+-
+-282 .
+-globl
+- 
+-ve57
+-
+-
+-283 
+-ve57
+-:
+-
+-284 
+-pushl
+- 
+-$0
+-
+-
+-285 
+-pushl
+- 
+-$57
+-
+-
+-286 
+-jmp
+- 
+-ps
+-
+-
+-287 .
+-globl
+- 
+-ve58
+-
+-
+-288 
+-ve58
+-:
+-
+-289 
+-pushl
+- 
+-$0
+-
+-
+-290 
+-pushl
+- 
+-$58
+-
+-
+-291 
+-jmp
+- 
+-ps
+-
+-
+-292 .
+-globl
+- 
+-ve59
+-
+-
+-293 
+-ve59
+-:
+-
+-294 
+-pushl
+- 
+-$0
+-
+-
+-295 
+-pushl
+- 
+-$59
+-
+-
+-296 
+-jmp
+- 
+-ps
+-
+-
+-297 .
+-globl
+- 
+-ve60
+-
+-
+-298 
+-ve60
+-:
+-
+-299 
+-pushl
+- 
+-$0
+-
+-
+-300 
+-pushl
+- 
+-$60
+-
+-
+-301 
+-jmp
+- 
+-ps
+-
+-
+-302 .
+-globl
+- 
+-ve61
+-
+-
+-303 
+-ve61
+-:
+-
+-304 
+-pushl
+- 
+-$0
+-
+-
+-305 
+-pushl
+- 
+-$61
+-
+-
+-306 
+-jmp
+- 
+-ps
+-
+-
+-307 .
+-globl
+- 
+-ve62
+-
+-
+-308 
+-ve62
+-:
+-
+-309 
+-pushl
+- 
+-$0
+-
+-
+-310 
+-pushl
+- 
+-$62
+-
+-
+-311 
+-jmp
+- 
+-ps
+-
+-
+-312 .
+-globl
+- 
+-ve63
+-
+-
+-313 
+-ve63
+-:
+-
+-314 
+-pushl
+- 
+-$0
+-
+-
+-315 
+-pushl
+- 
+-$63
+-
+-
+-316 
+-jmp
+- 
+-ps
+-
+-
+-317 .
+-globl
+- 
+-ve64
+-
+-
+-318 
+-ve64
+-:
+-
+-319 
+-pushl
+- 
+-$0
+-
+-
+-320 
+-pushl
+- 
+-$64
+-
+-
+-321 
+-jmp
+- 
+-ps
+-
+-
+-322 .
+-globl
+- 
+-ve65
+-
+-
+-323 
+-ve65
+-:
+-
+-324 
+-pushl
+- 
+-$0
+-
+-
+-325 
+-pushl
+- 
+-$65
+-
+-
+-326 
+-jmp
+- 
+-ps
+-
+-
+-327 .
+-globl
+- 
+-ve66
+-
+-
+-328 
+-ve66
+-:
+-
+-329 
+-pushl
+- 
+-$0
+-
+-
+-330 
+-pushl
+- 
+-$66
+-
+-
+-331 
+-jmp
+- 
+-ps
+-
+-
+-332 .
+-globl
+- 
+-ve67
+-
+-
+-333 
+-ve67
+-:
+-
+-334 
+-pushl
+- 
+-$0
+-
+-
+-335 
+-pushl
+- 
+-$67
+-
+-
+-336 
+-jmp
+- 
+-ps
+-
+-
+-337 .
+-globl
+- 
+-ve68
+-
+-
+-338 
+-ve68
+-:
+-
+-339 
+-pushl
+- 
+-$0
+-
+-
+-340 
+-pushl
+- 
+-$68
+-
+-
+-341 
+-jmp
+- 
+-ps
+-
+-
+-342 .
+-globl
+- 
+-ve69
+-
+-
+-343 
+-ve69
+-:
+-
+-344 
+-pushl
+- 
+-$0
+-
+-
+-345 
+-pushl
+- 
+-$69
+-
+-
+-346 
+-jmp
+- 
+-ps
+-
+-
+-347 .
+-globl
+- 
+-ve70
+-
+-
+-348 
+-ve70
+-:
+-
+-349 
+-pushl
+- 
+-$0
+-
+-
+-350 
+-pushl
+- 
+-$70
+-
+-
+-351 
+-jmp
+- 
+-ps
+-
+-
+-352 .
+-globl
+- 
+-ve71
+-
+-
+-353 
+-ve71
+-:
+-
+-354 
+-pushl
+- 
+-$0
+-
+-
+-355 
+-pushl
+- 
+-$71
+-
+-
+-356 
+-jmp
+- 
+-ps
+-
+-
+-357 .
+-globl
+- 
+-ve72
+-
+-
+-358 
+-ve72
+-:
+-
+-359 
+-pushl
+- 
+-$0
+-
+-
+-360 
+-pushl
+- 
+-$72
+-
+-
+-361 
+-jmp
+- 
+-ps
+-
+-
+-362 .
+-globl
+- 
+-ve73
+-
+-
+-363 
+-ve73
+-:
+-
+-364 
+-pushl
+- 
+-$0
+-
+-
+-365 
+-pushl
+- 
+-$73
+-
+-
+-366 
+-jmp
+- 
+-ps
+-
+-
+-367 .
+-globl
+- 
+-ve74
+-
+-
+-368 
+-ve74
+-:
+-
+-369 
+-pushl
+- 
+-$0
+-
+-
+-370 
+-pushl
+- 
+-$74
+-
+-
+-371 
+-jmp
+- 
+-ps
+-
+-
+-372 .
+-globl
+- 
+-ve75
+-
+-
+-373 
+-ve75
+-:
+-
+-374 
+-pushl
+- 
+-$0
+-
+-
+-375 
+-pushl
+- 
+-$75
+-
+-
+-376 
+-jmp
+- 
+-ps
+-
+-
+-377 .
+-globl
+- 
+-ve76
+-
+-
+-378 
+-ve76
+-:
+-
+-379 
+-pushl
+- 
+-$0
+-
+-
+-380 
+-pushl
+- 
+-$76
+-
+-
+-381 
+-jmp
+- 
+-ps
+-
+-
+-382 .
+-globl
+- 
+-ve77
+-
+-
+-383 
+-ve77
+-:
+-
+-384 
+-pushl
+- 
+-$0
+-
+-
+-385 
+-pushl
+- 
+-$77
+-
+-
+-386 
+-jmp
+- 
+-ps
+-
+-
+-387 .
+-globl
+- 
+-ve78
+-
+-
+-388 
+-ve78
+-:
+-
+-389 
+-pushl
+- 
+-$0
+-
+-
+-390 
+-pushl
+- 
+-$78
+-
+-
+-391 
+-jmp
+- 
+-ps
+-
+-
+-392 .
+-globl
+- 
+-ve79
+-
+-
+-393 
+-ve79
+-:
+-
+-394 
+-pushl
+- 
+-$0
+-
+-
+-395 
+-pushl
+- 
+-$79
+-
+-
+-396 
+-jmp
+- 
+-ps
+-
+-
+-397 .
+-globl
+- 
+-ve80
+-
+-
+-398 
+-ve80
+-:
+-
+-399 
+-pushl
+- 
+-$0
+-
+-
+-400 
+-pushl
+- 
+-$80
+-
+-
+-401 
+-jmp
+- 
+-ps
+-
+-
+-402 .
+-globl
+- 
+-ve81
+-
+-
+-403 
+-ve81
+-:
+-
+-404 
+-pushl
+- 
+-$0
+-
+-
+-405 
+-pushl
+- 
+-$81
+-
+-
+-406 
+-jmp
+- 
+-ps
+-
+-
+-407 .
+-globl
+- 
+-ve82
+-
+-
+-408 
+-ve82
+-:
+-
+-409 
+-pushl
+- 
+-$0
+-
+-
+-410 
+-pushl
+- 
+-$82
+-
+-
+-411 
+-jmp
+- 
+-ps
+-
+-
+-412 .
+-globl
+- 
+-ve83
+-
+-
+-413 
+-ve83
+-:
+-
+-414 
+-pushl
+- 
+-$0
+-
+-
+-415 
+-pushl
+- 
+-$83
+-
+-
+-416 
+-jmp
+- 
+-ps
+-
+-
+-417 .
+-globl
+- 
+-ve84
+-
+-
+-418 
+-ve84
+-:
+-
+-419 
+-pushl
+- 
+-$0
+-
+-
+-420 
+-pushl
+- 
+-$84
+-
+-
+-421 
+-jmp
+- 
+-ps
+-
+-
+-422 .
+-globl
+- 
+-ve85
+-
+-
+-423 
+-ve85
+-:
+-
+-424 
+-pushl
+- 
+-$0
+-
+-
+-425 
+-pushl
+- 
+-$85
+-
+-
+-426 
+-jmp
+- 
+-ps
+-
+-
+-427 .
+-globl
+- 
+-ve86
+-
+-
+-428 
+-ve86
+-:
+-
+-429 
+-pushl
+- 
+-$0
+-
+-
+-430 
+-pushl
+- 
+-$86
+-
+-
+-431 
+-jmp
+- 
+-ps
+-
+-
+-432 .
+-globl
+- 
+-ve87
+-
+-
+-433 
+-ve87
+-:
+-
+-434 
+-pushl
+- 
+-$0
+-
+-
+-435 
+-pushl
+- 
+-$87
+-
+-
+-436 
+-jmp
+- 
+-ps
+-
+-
+-437 .
+-globl
+- 
+-ve88
+-
+-
+-438 
+-ve88
+-:
+-
+-439 
+-pushl
+- 
+-$0
+-
+-
+-440 
+-pushl
+- 
+-$88
+-
+-
+-441 
+-jmp
+- 
+-ps
+-
+-
+-442 .
+-globl
+- 
+-ve89
+-
+-
+-443 
+-ve89
+-:
+-
+-444 
+-pushl
+- 
+-$0
+-
+-
+-445 
+-pushl
+- 
+-$89
+-
+-
+-446 
+-jmp
+- 
+-ps
+-
+-
+-447 .
+-globl
+- 
+-ve90
+-
+-
+-448 
+-ve90
+-:
+-
+-449 
+-pushl
+- 
+-$0
+-
+-
+-450 
+-pushl
+- 
+-$90
+-
+-
+-451 
+-jmp
+- 
+-ps
+-
+-
+-452 .
+-globl
+- 
+-ve91
+-
+-
+-453 
+-ve91
+-:
+-
+-454 
+-pushl
+- 
+-$0
+-
+-
+-455 
+-pushl
+- 
+-$91
+-
+-
+-456 
+-jmp
+- 
+-ps
+-
+-
+-457 .
+-globl
+- 
+-ve92
+-
+-
+-458 
+-ve92
+-:
+-
+-459 
+-pushl
+- 
+-$0
+-
+-
+-460 
+-pushl
+- 
+-$92
+-
+-
+-461 
+-jmp
+- 
+-ps
+-
+-
+-462 .
+-globl
+- 
+-ve93
+-
+-
+-463 
+-ve93
+-:
+-
+-464 
+-pushl
+- 
+-$0
+-
+-
+-465 
+-pushl
+- 
+-$93
+-
+-
+-466 
+-jmp
+- 
+-ps
+-
+-
+-467 .
+-globl
+- 
+-ve94
+-
+-
+-468 
+-ve94
+-:
+-
+-469 
+-pushl
+- 
+-$0
+-
+-
+-470 
+-pushl
+- 
+-$94
+-
+-
+-471 
+-jmp
+- 
+-ps
+-
+-
+-472 .
+-globl
+- 
+-ve95
+-
+-
+-473 
+-ve95
+-:
+-
+-474 
+-pushl
+- 
+-$0
+-
+-
+-475 
+-pushl
+- 
+-$95
+-
+-
+-476 
+-jmp
+- 
+-ps
+-
+-
+-477 .
+-globl
+- 
+-ve96
+-
+-
+-478 
+-ve96
+-:
+-
+-479 
+-pushl
+- 
+-$0
+-
+-
+-480 
+-pushl
+- 
+-$96
+-
+-
+-481 
+-jmp
+- 
+-ps
+-
+-
+-482 .
+-globl
+- 
+-ve97
+-
+-
+-483 
+-ve97
+-:
+-
+-484 
+-pushl
+- 
+-$0
+-
+-
+-485 
+-pushl
+- 
+-$97
+-
+-
+-486 
+-jmp
+- 
+-ps
+-
+-
+-487 .
+-globl
+- 
+-ve98
+-
+-
+-488 
+-ve98
+-:
+-
+-489 
+-pushl
+- 
+-$0
+-
+-
+-490 
+-pushl
+- 
+-$98
+-
+-
+-491 
+-jmp
+- 
+-ps
+-
+-
+-492 .
+-globl
+- 
+-ve99
+-
+-
+-493 
+-ve99
+-:
+-
+-494 
+-pushl
+- 
+-$0
+-
+-
+-495 
+-pushl
+- 
+-$99
+-
+-
+-496 
+-jmp
+- 
+-ps
+-
+-
+-497 .
+-globl
+- 
+-ve100
+-
+-
+-498 
+-ve100
+-:
+-
+-499 
+-pushl
+- 
+-$0
+-
+-
+-500 
+-pushl
+- 
+-$100
+-
+-
+-501 
+-jmp
+- 
+-ps
+-
+-
+-502 .
+-globl
+- 
+-ve101
+-
+-
+-503 
+-ve101
+-:
+-
+-504 
+-pushl
+- 
+-$0
+-
+-
+-505 
+-pushl
+- 
+-$101
+-
+-
+-506 
+-jmp
+- 
+-ps
+-
+-
+-507 .
+-globl
+- 
+-ve102
+-
+-
+-508 
+-ve102
+-:
+-
+-509 
+-pushl
+- 
+-$0
+-
+-
+-510 
+-pushl
+- 
+-$102
+-
+-
+-511 
+-jmp
+- 
+-ps
+-
+-
+-512 .
+-globl
+- 
+-ve103
+-
+-
+-513 
+-ve103
+-:
+-
+-514 
+-pushl
+- 
+-$0
+-
+-
+-515 
+-pushl
+- 
+-$103
+-
+-
+-516 
+-jmp
+- 
+-ps
+-
+-
+-517 .
+-globl
+- 
+-ve104
+-
+-
+-518 
+-ve104
+-:
+-
+-519 
+-pushl
+- 
+-$0
+-
+-
+-520 
+-pushl
+- 
+-$104
+-
+-
+-521 
+-jmp
+- 
+-ps
+-
+-
+-522 .
+-globl
+- 
+-ve105
+-
+-
+-523 
+-ve105
+-:
+-
+-524 
+-pushl
+- 
+-$0
+-
+-
+-525 
+-pushl
+- 
+-$105
+-
+-
+-526 
+-jmp
+- 
+-ps
+-
+-
+-527 .
+-globl
+- 
+-ve106
+-
+-
+-528 
+-ve106
+-:
+-
+-529 
+-pushl
+- 
+-$0
+-
+-
+-530 
+-pushl
+- 
+-$106
+-
+-
+-531 
+-jmp
+- 
+-ps
+-
+-
+-532 .
+-globl
+- 
+-ve107
+-
+-
+-533 
+-ve107
+-:
+-
+-534 
+-pushl
+- 
+-$0
+-
+-
+-535 
+-pushl
+- 
+-$107
+-
+-
+-536 
+-jmp
+- 
+-ps
+-
+-
+-537 .
+-globl
+- 
+-ve108
+-
+-
+-538 
+-ve108
+-:
+-
+-539 
+-pushl
+- 
+-$0
+-
+-
+-540 
+-pushl
+- 
+-$108
+-
+-
+-541 
+-jmp
+- 
+-ps
+-
+-
+-542 .
+-globl
+- 
+-ve109
+-
+-
+-543 
+-ve109
+-:
+-
+-544 
+-pushl
+- 
+-$0
+-
+-
+-545 
+-pushl
+- 
+-$109
+-
+-
+-546 
+-jmp
+- 
+-ps
+-
+-
+-547 .
+-globl
+- 
+-ve110
+-
+-
+-548 
+-ve110
+-:
+-
+-549 
+-pushl
+- 
+-$0
+-
+-
+-550 
+-pushl
+- 
+-$110
+-
+-
+-551 
+-jmp
+- 
+-ps
+-
+-
+-552 .
+-globl
+- 
+-ve111
+-
+-
+-553 
+-ve111
+-:
+-
+-554 
+-pushl
+- 
+-$0
+-
+-
+-555 
+-pushl
+- 
+-$111
+-
+-
+-556 
+-jmp
+- 
+-ps
+-
+-
+-557 .
+-globl
+- 
+-ve112
+-
+-
+-558 
+-ve112
+-:
+-
+-559 
+-pushl
+- 
+-$0
+-
+-
+-560 
+-pushl
+- 
+-$112
+-
+-
+-561 
+-jmp
+- 
+-ps
+-
+-
+-562 .
+-globl
+- 
+-ve113
+-
+-
+-563 
+-ve113
+-:
+-
+-564 
+-pushl
+- 
+-$0
+-
+-
+-565 
+-pushl
+- 
+-$113
+-
+-
+-566 
+-jmp
+- 
+-ps
+-
+-
+-567 .
+-globl
+- 
+-ve114
+-
+-
+-568 
+-ve114
+-:
+-
+-569 
+-pushl
+- 
+-$0
+-
+-
+-570 
+-pushl
+- 
+-$114
+-
+-
+-571 
+-jmp
+- 
+-ps
+-
+-
+-572 .
+-globl
+- 
+-ve115
+-
+-
+-573 
+-ve115
+-:
+-
+-574 
+-pushl
+- 
+-$0
+-
+-
+-575 
+-pushl
+- 
+-$115
+-
+-
+-576 
+-jmp
+- 
+-ps
+-
+-
+-577 .
+-globl
+- 
+-ve116
+-
+-
+-578 
+-ve116
+-:
+-
+-579 
+-pushl
+- 
+-$0
+-
+-
+-580 
+-pushl
+- 
+-$116
+-
+-
+-581 
+-jmp
+- 
+-ps
+-
+-
+-582 .
+-globl
+- 
+-ve117
+-
+-
+-583 
+-ve117
+-:
+-
+-584 
+-pushl
+- 
+-$0
+-
+-
+-585 
+-pushl
+- 
+-$117
+-
+-
+-586 
+-jmp
+- 
+-ps
+-
+-
+-587 .
+-globl
+- 
+-ve118
+-
+-
+-588 
+-ve118
+-:
+-
+-589 
+-pushl
+- 
+-$0
+-
+-
+-590 
+-pushl
+- 
+-$118
+-
+-
+-591 
+-jmp
+- 
+-ps
+-
+-
+-592 .
+-globl
+- 
+-ve119
+-
+-
+-593 
+-ve119
+-:
+-
+-594 
+-pushl
+- 
+-$0
+-
+-
+-595 
+-pushl
+- 
+-$119
+-
+-
+-596 
+-jmp
+- 
+-ps
+-
+-
+-597 .
+-globl
+- 
+-ve120
+-
+-
+-598 
+-ve120
+-:
+-
+-599 
+-pushl
+- 
+-$0
+-
+-
+-600 
+-pushl
+- 
+-$120
+-
+-
+-601 
+-jmp
+- 
+-ps
+-
+-
+-602 .
+-globl
+- 
+-ve121
+-
+-
+-603 
+-ve121
+-:
+-
+-604 
+-pushl
+- 
+-$0
+-
+-
+-605 
+-pushl
+- 
+-$121
+-
+-
+-606 
+-jmp
+- 
+-ps
+-
+-
+-607 .
+-globl
+- 
+-ve122
+-
+-
+-608 
+-ve122
+-:
+-
+-609 
+-pushl
+- 
+-$0
+-
+-
+-610 
+-pushl
+- 
+-$122
+-
+-
+-611 
+-jmp
+- 
+-ps
+-
+-
+-612 .
+-globl
+- 
+-ve123
+-
+-
+-613 
+-ve123
+-:
+-
+-614 
+-pushl
+- 
+-$0
+-
+-
+-615 
+-pushl
+- 
+-$123
+-
+-
+-616 
+-jmp
+- 
+-ps
+-
+-
+-617 .
+-globl
+- 
+-ve124
+-
+-
+-618 
+-ve124
+-:
+-
+-619 
+-pushl
+- 
+-$0
+-
+-
+-620 
+-pushl
+- 
+-$124
+-
+-
+-621 
+-jmp
+- 
+-ps
+-
+-
+-622 .
+-globl
+- 
+-ve125
+-
+-
+-623 
+-ve125
+-:
+-
+-624 
+-pushl
+- 
+-$0
+-
+-
+-625 
+-pushl
+- 
+-$125
+-
+-
+-626 
+-jmp
+- 
+-ps
+-
+-
+-627 .
+-globl
+- 
+-ve126
+-
+-
+-628 
+-ve126
+-:
+-
+-629 
+-pushl
+- 
+-$0
+-
+-
+-630 
+-pushl
+- 
+-$126
+-
+-
+-631 
+-jmp
+- 
+-ps
+-
+-
+-632 .
+-globl
+- 
+-ve127
+-
+-
+-633 
+-ve127
+-:
+-
+-634 
+-pushl
+- 
+-$0
+-
+-
+-635 
+-pushl
+- 
+-$127
+-
+-
+-636 
+-jmp
+- 
+-ps
+-
+-
+-637 .
+-globl
+- 
+-ve128
+-
+-
+-638 
+-ve128
+-:
+-
+-639 
+-pushl
+- 
+-$0
+-
+-
+-640 
+-pushl
+- 
+-$128
+-
+-
+-641 
+-jmp
+- 
+-ps
+-
+-
+-642 .
+-globl
+- 
+-ve129
+-
+-
+-643 
+-ve129
+-:
+-
+-644 
+-pushl
+- 
+-$0
+-
+-
+-645 
+-pushl
+- 
+-$129
+-
+-
+-646 
+-jmp
+- 
+-ps
+-
+-
+-647 .
+-globl
+- 
+-ve130
+-
+-
+-648 
+-ve130
+-:
+-
+-649 
+-pushl
+- 
+-$0
+-
+-
+-650 
+-pushl
+- 
+-$130
+-
+-
+-651 
+-jmp
+- 
+-ps
+-
+-
+-652 .
+-globl
+- 
+-ve131
+-
+-
+-653 
+-ve131
+-:
+-
+-654 
+-pushl
+- 
+-$0
+-
+-
+-655 
+-pushl
+- 
+-$131
+-
+-
+-656 
+-jmp
+- 
+-ps
+-
+-
+-657 .
+-globl
+- 
+-ve132
+-
+-
+-658 
+-ve132
+-:
+-
+-659 
+-pushl
+- 
+-$0
+-
+-
+-660 
+-pushl
+- 
+-$132
+-
+-
+-661 
+-jmp
+- 
+-ps
+-
+-
+-662 .
+-globl
+- 
+-ve133
+-
+-
+-663 
+-ve133
+-:
+-
+-664 
+-pushl
+- 
+-$0
+-
+-
+-665 
+-pushl
+- 
+-$133
+-
+-
+-666 
+-jmp
+- 
+-ps
+-
+-
+-667 .
+-globl
+- 
+-ve134
+-
+-
+-668 
+-ve134
+-:
+-
+-669 
+-pushl
+- 
+-$0
+-
+-
+-670 
+-pushl
+- 
+-$134
+-
+-
+-671 
+-jmp
+- 
+-ps
+-
+-
+-672 .
+-globl
+- 
+-ve135
+-
+-
+-673 
+-ve135
+-:
+-
+-674 
+-pushl
+- 
+-$0
+-
+-
+-675 
+-pushl
+- 
+-$135
+-
+-
+-676 
+-jmp
+- 
+-ps
+-
+-
+-677 .
+-globl
+- 
+-ve136
+-
+-
+-678 
+-ve136
+-:
+-
+-679 
+-pushl
+- 
+-$0
+-
+-
+-680 
+-pushl
+- 
+-$136
+-
+-
+-681 
+-jmp
+- 
+-ps
+-
+-
+-682 .
+-globl
+- 
+-ve137
+-
+-
+-683 
+-ve137
+-:
+-
+-684 
+-pushl
+- 
+-$0
+-
+-
+-685 
+-pushl
+- 
+-$137
+-
+-
+-686 
+-jmp
+- 
+-ps
+-
+-
+-687 .
+-globl
+- 
+-ve138
+-
+-
+-688 
+-ve138
+-:
+-
+-689 
+-pushl
+- 
+-$0
+-
+-
+-690 
+-pushl
+- 
+-$138
+-
+-
+-691 
+-jmp
+- 
+-ps
+-
+-
+-692 .
+-globl
+- 
+-ve139
+-
+-
+-693 
+-ve139
+-:
+-
+-694 
+-pushl
+- 
+-$0
+-
+-
+-695 
+-pushl
+- 
+-$139
+-
+-
+-696 
+-jmp
+- 
+-ps
+-
+-
+-697 .
+-globl
+- 
+-ve140
+-
+-
+-698 
+-ve140
+-:
+-
+-699 
+-pushl
+- 
+-$0
+-
+-
+-700 
+-pushl
+- 
+-$140
+-
+-
+-701 
+-jmp
+- 
+-ps
+-
+-
+-702 .
+-globl
+- 
+-ve141
+-
+-
+-703 
+-ve141
+-:
+-
+-704 
+-pushl
+- 
+-$0
+-
+-
+-705 
+-pushl
+- 
+-$141
+-
+-
+-706 
+-jmp
+- 
+-ps
+-
+-
+-707 .
+-globl
+- 
+-ve142
+-
+-
+-708 
+-ve142
+-:
+-
+-709 
+-pushl
+- 
+-$0
+-
+-
+-710 
+-pushl
+- 
+-$142
+-
+-
+-711 
+-jmp
+- 
+-ps
+-
+-
+-712 .
+-globl
+- 
+-ve143
+-
+-
+-713 
+-ve143
+-:
+-
+-714 
+-pushl
+- 
+-$0
+-
+-
+-715 
+-pushl
+- 
+-$143
+-
+-
+-716 
+-jmp
+- 
+-ps
+-
+-
+-717 .
+-globl
+- 
+-ve144
+-
+-
+-718 
+-ve144
+-:
+-
+-719 
+-pushl
+- 
+-$0
+-
+-
+-720 
+-pushl
+- 
+-$144
+-
+-
+-721 
+-jmp
+- 
+-ps
+-
+-
+-722 .
+-globl
+- 
+-ve145
+-
+-
+-723 
+-ve145
+-:
+-
+-724 
+-pushl
+- 
+-$0
+-
+-
+-725 
+-pushl
+- 
+-$145
+-
+-
+-726 
+-jmp
+- 
+-ps
+-
+-
+-727 .
+-globl
+- 
+-ve146
+-
+-
+-728 
+-ve146
+-:
+-
+-729 
+-pushl
+- 
+-$0
+-
+-
+-730 
+-pushl
+- 
+-$146
+-
+-
+-731 
+-jmp
+- 
+-ps
+-
+-
+-732 .
+-globl
+- 
+-ve147
+-
+-
+-733 
+-ve147
+-:
+-
+-734 
+-pushl
+- 
+-$0
+-
+-
+-735 
+-pushl
+- 
+-$147
+-
+-
+-736 
+-jmp
+- 
+-ps
+-
+-
+-737 .
+-globl
+- 
+-ve148
+-
+-
+-738 
+-ve148
+-:
+-
+-739 
+-pushl
+- 
+-$0
+-
+-
+-740 
+-pushl
+- 
+-$148
+-
+-
+-741 
+-jmp
+- 
+-ps
+-
+-
+-742 .
+-globl
+- 
+-ve149
+-
+-
+-743 
+-ve149
+-:
+-
+-744 
+-pushl
+- 
+-$0
+-
+-
+-745 
+-pushl
+- 
+-$149
+-
+-
+-746 
+-jmp
+- 
+-ps
+-
+-
+-747 .
+-globl
+- 
+-ve150
+-
+-
+-748 
+-ve150
+-:
+-
+-749 
+-pushl
+- 
+-$0
+-
+-
+-750 
+-pushl
+- 
+-$150
+-
+-
+-751 
+-jmp
+- 
+-ps
+-
+-
+-752 .
+-globl
+- 
+-ve151
+-
+-
+-753 
+-ve151
+-:
+-
+-754 
+-pushl
+- 
+-$0
+-
+-
+-755 
+-pushl
+- 
+-$151
+-
+-
+-756 
+-jmp
+- 
+-ps
+-
+-
+-757 .
+-globl
+- 
+-ve152
+-
+-
+-758 
+-ve152
+-:
+-
+-759 
+-pushl
+- 
+-$0
+-
+-
+-760 
+-pushl
+- 
+-$152
+-
+-
+-761 
+-jmp
+- 
+-ps
+-
+-
+-762 .
+-globl
+- 
+-ve153
+-
+-
+-763 
+-ve153
+-:
+-
+-764 
+-pushl
+- 
+-$0
+-
+-
+-765 
+-pushl
+- 
+-$153
+-
+-
+-766 
+-jmp
+- 
+-ps
+-
+-
+-767 .
+-globl
+- 
+-ve154
+-
+-
+-768 
+-ve154
+-:
+-
+-769 
+-pushl
+- 
+-$0
+-
+-
+-770 
+-pushl
+- 
+-$154
+-
+-
+-771 
+-jmp
+- 
+-ps
+-
+-
+-772 .
+-globl
+- 
+-ve155
+-
+-
+-773 
+-ve155
+-:
+-
+-774 
+-pushl
+- 
+-$0
+-
+-
+-775 
+-pushl
+- 
+-$155
+-
+-
+-776 
+-jmp
+- 
+-ps
+-
+-
+-777 .
+-globl
+- 
+-ve156
+-
+-
+-778 
+-ve156
+-:
+-
+-779 
+-pushl
+- 
+-$0
+-
+-
+-780 
+-pushl
+- 
+-$156
+-
+-
+-781 
+-jmp
+- 
+-ps
+-
+-
+-782 .
+-globl
+- 
+-ve157
+-
+-
+-783 
+-ve157
+-:
+-
+-784 
+-pushl
+- 
+-$0
+-
+-
+-785 
+-pushl
+- 
+-$157
+-
+-
+-786 
+-jmp
+- 
+-ps
+-
+-
+-787 .
+-globl
+- 
+-ve158
+-
+-
+-788 
+-ve158
+-:
+-
+-789 
+-pushl
+- 
+-$0
+-
+-
+-790 
+-pushl
+- 
+-$158
+-
+-
+-791 
+-jmp
+- 
+-ps
+-
+-
+-792 .
+-globl
+- 
+-ve159
+-
+-
+-793 
+-ve159
+-:
+-
+-794 
+-pushl
+- 
+-$0
+-
+-
+-795 
+-pushl
+- 
+-$159
+-
+-
+-796 
+-jmp
+- 
+-ps
+-
+-
+-797 .
+-globl
+- 
+-ve160
+-
+-
+-798 
+-ve160
+-:
+-
+-799 
+-pushl
+- 
+-$0
+-
+-
+-800 
+-pushl
+- 
+-$160
+-
+-
+-801 
+-jmp
+- 
+-ps
+-
+-
+-802 .
+-globl
+- 
+-ve161
+-
+-
+-803 
+-ve161
+-:
+-
+-804 
+-pushl
+- 
+-$0
+-
+-
+-805 
+-pushl
+- 
+-$161
+-
+-
+-806 
+-jmp
+- 
+-ps
+-
+-
+-807 .
+-globl
+- 
+-ve162
+-
+-
+-808 
+-ve162
+-:
+-
+-809 
+-pushl
+- 
+-$0
+-
+-
+-810 
+-pushl
+- 
+-$162
+-
+-
+-811 
+-jmp
+- 
+-ps
+-
+-
+-812 .
+-globl
+- 
+-ve163
+-
+-
+-813 
+-ve163
+-:
+-
+-814 
+-pushl
+- 
+-$0
+-
+-
+-815 
+-pushl
+- 
+-$163
+-
+-
+-816 
+-jmp
+- 
+-ps
+-
+-
+-817 .
+-globl
+- 
+-ve164
+-
+-
+-818 
+-ve164
+-:
+-
+-819 
+-pushl
+- 
+-$0
+-
+-
+-820 
+-pushl
+- 
+-$164
+-
+-
+-821 
+-jmp
+- 
+-ps
+-
+-
+-822 .
+-globl
+- 
+-ve165
+-
+-
+-823 
+-ve165
+-:
+-
+-824 
+-pushl
+- 
+-$0
+-
+-
+-825 
+-pushl
+- 
+-$165
+-
+-
+-826 
+-jmp
+- 
+-ps
+-
+-
+-827 .
+-globl
+- 
+-ve166
+-
+-
+-828 
+-ve166
+-:
+-
+-829 
+-pushl
+- 
+-$0
+-
+-
+-830 
+-pushl
+- 
+-$166
+-
+-
+-831 
+-jmp
+- 
+-ps
+-
+-
+-832 .
+-globl
+- 
+-ve167
+-
+-
+-833 
+-ve167
+-:
+-
+-834 
+-pushl
+- 
+-$0
+-
+-
+-835 
+-pushl
+- 
+-$167
+-
+-
+-836 
+-jmp
+- 
+-ps
+-
+-
+-837 .
+-globl
+- 
+-ve168
+-
+-
+-838 
+-ve168
+-:
+-
+-839 
+-pushl
+- 
+-$0
+-
+-
+-840 
+-pushl
+- 
+-$168
+-
+-
+-841 
+-jmp
+- 
+-ps
+-
+-
+-842 .
+-globl
+- 
+-ve169
+-
+-
+-843 
+-ve169
+-:
+-
+-844 
+-pushl
+- 
+-$0
+-
+-
+-845 
+-pushl
+- 
+-$169
+-
+-
+-846 
+-jmp
+- 
+-ps
+-
+-
+-847 .
+-globl
+- 
+-ve170
+-
+-
+-848 
+-ve170
+-:
+-
+-849 
+-pushl
+- 
+-$0
+-
+-
+-850 
+-pushl
+- 
+-$170
+-
+-
+-851 
+-jmp
+- 
+-ps
+-
+-
+-852 .
+-globl
+- 
+-ve171
+-
+-
+-853 
+-ve171
+-:
+-
+-854 
+-pushl
+- 
+-$0
+-
+-
+-855 
+-pushl
+- 
+-$171
+-
+-
+-856 
+-jmp
+- 
+-ps
+-
+-
+-857 .
+-globl
+- 
+-ve172
+-
+-
+-858 
+-ve172
+-:
+-
+-859 
+-pushl
+- 
+-$0
+-
+-
+-860 
+-pushl
+- 
+-$172
+-
+-
+-861 
+-jmp
+- 
+-ps
+-
+-
+-862 .
+-globl
+- 
+-ve173
+-
+-
+-863 
+-ve173
+-:
+-
+-864 
+-pushl
+- 
+-$0
+-
+-
+-865 
+-pushl
+- 
+-$173
+-
+-
+-866 
+-jmp
+- 
+-ps
+-
+-
+-867 .
+-globl
+- 
+-ve174
+-
+-
+-868 
+-ve174
+-:
+-
+-869 
+-pushl
+- 
+-$0
+-
+-
+-870 
+-pushl
+- 
+-$174
+-
+-
+-871 
+-jmp
+- 
+-ps
+-
+-
+-872 .
+-globl
+- 
+-ve175
+-
+-
+-873 
+-ve175
+-:
+-
+-874 
+-pushl
+- 
+-$0
+-
+-
+-875 
+-pushl
+- 
+-$175
+-
+-
+-876 
+-jmp
+- 
+-ps
+-
+-
+-877 .
+-globl
+- 
+-ve176
+-
+-
+-878 
+-ve176
+-:
+-
+-879 
+-pushl
+- 
+-$0
+-
+-
+-880 
+-pushl
+- 
+-$176
+-
+-
+-881 
+-jmp
+- 
+-ps
+-
+-
+-882 .
+-globl
+- 
+-ve177
+-
+-
+-883 
+-ve177
+-:
+-
+-884 
+-pushl
+- 
+-$0
+-
+-
+-885 
+-pushl
+- 
+-$177
+-
+-
+-886 
+-jmp
+- 
+-ps
+-
+-
+-887 .
+-globl
+- 
+-ve178
+-
+-
+-888 
+-ve178
+-:
+-
+-889 
+-pushl
+- 
+-$0
+-
+-
+-890 
+-pushl
+- 
+-$178
+-
+-
+-891 
+-jmp
+- 
+-ps
+-
+-
+-892 .
+-globl
+- 
+-ve179
+-
+-
+-893 
+-ve179
+-:
+-
+-894 
+-pushl
+- 
+-$0
+-
+-
+-895 
+-pushl
+- 
+-$179
+-
+-
+-896 
+-jmp
+- 
+-ps
+-
+-
+-897 .
+-globl
+- 
+-ve180
+-
+-
+-898 
+-ve180
+-:
+-
+-899 
+-pushl
+- 
+-$0
+-
+-
+-900 
+-pushl
+- 
+-$180
+-
+-
+-901 
+-jmp
+- 
+-ps
+-
+-
+-902 .
+-globl
+- 
+-ve181
+-
+-
+-903 
+-ve181
+-:
+-
+-904 
+-pushl
+- 
+-$0
+-
+-
+-905 
+-pushl
+- 
+-$181
+-
+-
+-906 
+-jmp
+- 
+-ps
+-
+-
+-907 .
+-globl
+- 
+-ve182
+-
+-
+-908 
+-ve182
+-:
+-
+-909 
+-pushl
+- 
+-$0
+-
+-
+-910 
+-pushl
+- 
+-$182
+-
+-
+-911 
+-jmp
+- 
+-ps
+-
+-
+-912 .
+-globl
+- 
+-ve183
+-
+-
+-913 
+-ve183
+-:
+-
+-914 
+-pushl
+- 
+-$0
+-
+-
+-915 
+-pushl
+- 
+-$183
+-
+-
+-916 
+-jmp
+- 
+-ps
+-
+-
+-917 .
+-globl
+- 
+-ve184
+-
+-
+-918 
+-ve184
+-:
+-
+-919 
+-pushl
+- 
+-$0
+-
+-
+-920 
+-pushl
+- 
+-$184
+-
+-
+-921 
+-jmp
+- 
+-ps
+-
+-
+-922 .
+-globl
+- 
+-ve185
+-
+-
+-923 
+-ve185
+-:
+-
+-924 
+-pushl
+- 
+-$0
+-
+-
+-925 
+-pushl
+- 
+-$185
+-
+-
+-926 
+-jmp
+- 
+-ps
+-
+-
+-927 .
+-globl
+- 
+-ve186
+-
+-
+-928 
+-ve186
+-:
+-
+-929 
+-pushl
+- 
+-$0
+-
+-
+-930 
+-pushl
+- 
+-$186
+-
+-
+-931 
+-jmp
+- 
+-ps
+-
+-
+-932 .
+-globl
+- 
+-ve187
+-
+-
+-933 
+-ve187
+-:
+-
+-934 
+-pushl
+- 
+-$0
+-
+-
+-935 
+-pushl
+- 
+-$187
+-
+-
+-936 
+-jmp
+- 
+-ps
+-
+-
+-937 .
+-globl
+- 
+-ve188
+-
+-
+-938 
+-ve188
+-:
+-
+-939 
+-pushl
+- 
+-$0
+-
+-
+-940 
+-pushl
+- 
+-$188
+-
+-
+-941 
+-jmp
+- 
+-ps
+-
+-
+-942 .
+-globl
+- 
+-ve189
+-
+-
+-943 
+-ve189
+-:
+-
+-944 
+-pushl
+- 
+-$0
+-
+-
+-945 
+-pushl
+- 
+-$189
+-
+-
+-946 
+-jmp
+- 
+-ps
+-
+-
+-947 .
+-globl
+- 
+-ve190
+-
+-
+-948 
+-ve190
+-:
+-
+-949 
+-pushl
+- 
+-$0
+-
+-
+-950 
+-pushl
+- 
+-$190
+-
+-
+-951 
+-jmp
+- 
+-ps
+-
+-
+-952 .
+-globl
+- 
+-ve191
+-
+-
+-953 
+-ve191
+-:
+-
+-954 
+-pushl
+- 
+-$0
+-
+-
+-955 
+-pushl
+- 
+-$191
+-
+-
+-956 
+-jmp
+- 
+-ps
+-
+-
+-957 .
+-globl
+- 
+-ve192
+-
+-
+-958 
+-ve192
+-:
+-
+-959 
+-pushl
+- 
+-$0
+-
+-
+-960 
+-pushl
+- 
+-$192
+-
+-
+-961 
+-jmp
+- 
+-ps
+-
+-
+-962 .
+-globl
+- 
+-ve193
+-
+-
+-963 
+-ve193
+-:
+-
+-964 
+-pushl
+- 
+-$0
+-
+-
+-965 
+-pushl
+- 
+-$193
+-
+-
+-966 
+-jmp
+- 
+-ps
+-
+-
+-967 .
+-globl
+- 
+-ve194
+-
+-
+-968 
+-ve194
+-:
+-
+-969 
+-pushl
+- 
+-$0
+-
+-
+-970 
+-pushl
+- 
+-$194
+-
+-
+-971 
+-jmp
+- 
+-ps
+-
+-
+-972 .
+-globl
+- 
+-ve195
+-
+-
+-973 
+-ve195
+-:
+-
+-974 
+-pushl
+- 
+-$0
+-
+-
+-975 
+-pushl
+- 
+-$195
+-
+-
+-976 
+-jmp
+- 
+-ps
+-
+-
+-977 .
+-globl
+- 
+-ve196
+-
+-
+-978 
+-ve196
+-:
+-
+-979 
+-pushl
+- 
+-$0
+-
+-
+-980 
+-pushl
+- 
+-$196
+-
+-
+-981 
+-jmp
+- 
+-ps
+-
+-
+-982 .
+-globl
+- 
+-ve197
+-
+-
+-983 
+-ve197
+-:
+-
+-984 
+-pushl
+- 
+-$0
+-
+-
+-985 
+-pushl
+- 
+-$197
+-
+-
+-986 
+-jmp
+- 
+-ps
+-
+-
+-987 .
+-globl
+- 
+-ve198
+-
+-
+-988 
+-ve198
+-:
+-
+-989 
+-pushl
+- 
+-$0
+-
+-
+-990 
+-pushl
+- 
+-$198
+-
+-
+-991 
+-jmp
+- 
+-ps
+-
+-
+-992 .
+-globl
+- 
+-ve199
+-
+-
+-993 
+-ve199
+-:
+-
+-994 
+-pushl
+- 
+-$0
+-
+-
+-995 
+-pushl
+- 
+-$199
+-
+-
+-996 
+-jmp
+- 
+-ps
+-
+-
+-997 .
+-globl
+- 
+-ve200
+-
+-
+-998 
+-ve200
+-:
+-
+-999 
+-pushl
+- 
+-$0
+-
+-
+-1000 
+-pushl
+- 
+-$200
+-
+-
+-1001 
+-jmp
+- 
+-ps
+-
+-
+-1002 .
+-globl
+- 
+-ve201
+-
+-
+-1003 
+-ve201
+-:
+-
+-1004 
+-pushl
+- 
+-$0
+-
+-
+-1005 
+-pushl
+- 
+-$201
+-
+-
+-1006 
+-jmp
+- 
+-ps
+-
+-
+-1007 .
+-globl
+- 
+-ve202
+-
+-
+-1008 
+-ve202
+-:
+-
+-1009 
+-pushl
+- 
+-$0
+-
+-
+-1010 
+-pushl
+- 
+-$202
+-
+-
+-1011 
+-jmp
+- 
+-ps
+-
+-
+-1012 .
+-globl
+- 
+-ve203
+-
+-
+-1013 
+-ve203
+-:
+-
+-1014 
+-pushl
+- 
+-$0
+-
+-
+-1015 
+-pushl
+- 
+-$203
+-
+-
+-1016 
+-jmp
+- 
+-ps
+-
+-
+-1017 .
+-globl
+- 
+-ve204
+-
+-
+-1018 
+-ve204
+-:
+-
+-1019 
+-pushl
+- 
+-$0
+-
+-
+-1020 
+-pushl
+- 
+-$204
+-
+-
+-1021 
+-jmp
+- 
+-ps
+-
+-
+-1022 .
+-globl
+- 
+-ve205
+-
+-
+-1023 
+-ve205
+-:
+-
+-1024 
+-pushl
+- 
+-$0
+-
+-
+-1025 
+-pushl
+- 
+-$205
+-
+-
+-1026 
+-jmp
+- 
+-ps
+-
+-
+-1027 .
+-globl
+- 
+-ve206
+-
+-
+-1028 
+-ve206
+-:
+-
+-1029 
+-pushl
+- 
+-$0
+-
+-
+-1030 
+-pushl
+- 
+-$206
+-
+-
+-1031 
+-jmp
+- 
+-ps
+-
+-
+-1032 .
+-globl
+- 
+-ve207
+-
+-
+-1033 
+-ve207
+-:
+-
+-1034 
+-pushl
+- 
+-$0
+-
+-
+-1035 
+-pushl
+- 
+-$207
+-
+-
+-1036 
+-jmp
+- 
+-ps
+-
+-
+-1037 .
+-globl
+- 
+-ve208
+-
+-
+-1038 
+-ve208
+-:
+-
+-1039 
+-pushl
+- 
+-$0
+-
+-
+-1040 
+-pushl
+- 
+-$208
+-
+-
+-1041 
+-jmp
+- 
+-ps
+-
+-
+-1042 .
+-globl
+- 
+-ve209
+-
+-
+-1043 
+-ve209
+-:
+-
+-1044 
+-pushl
+- 
+-$0
+-
+-
+-1045 
+-pushl
+- 
+-$209
+-
+-
+-1046 
+-jmp
+- 
+-ps
+-
+-
+-1047 .
+-globl
+- 
+-ve210
+-
+-
+-1048 
+-ve210
+-:
+-
+-1049 
+-pushl
+- 
+-$0
+-
+-
+-1050 
+-pushl
+- 
+-$210
+-
+-
+-1051 
+-jmp
+- 
+-ps
+-
+-
+-1052 .
+-globl
+- 
+-ve211
+-
+-
+-1053 
+-ve211
+-:
+-
+-1054 
+-pushl
+- 
+-$0
+-
+-
+-1055 
+-pushl
+- 
+-$211
+-
+-
+-1056 
+-jmp
+- 
+-ps
+-
+-
+-1057 .
+-globl
+- 
+-ve212
+-
+-
+-1058 
+-ve212
+-:
+-
+-1059 
+-pushl
+- 
+-$0
+-
+-
+-1060 
+-pushl
+- 
+-$212
+-
+-
+-1061 
+-jmp
+- 
+-ps
+-
+-
+-1062 .
+-globl
+- 
+-ve213
+-
+-
+-1063 
+-ve213
+-:
+-
+-1064 
+-pushl
+- 
+-$0
+-
+-
+-1065 
+-pushl
+- 
+-$213
+-
+-
+-1066 
+-jmp
+- 
+-ps
+-
+-
+-1067 .
+-globl
+- 
+-ve214
+-
+-
+-1068 
+-ve214
+-:
+-
+-1069 
+-pushl
+- 
+-$0
+-
+-
+-1070 
+-pushl
+- 
+-$214
+-
+-
+-1071 
+-jmp
+- 
+-ps
+-
+-
+-1072 .
+-globl
+- 
+-ve215
+-
+-
+-1073 
+-ve215
+-:
+-
+-1074 
+-pushl
+- 
+-$0
+-
+-
+-1075 
+-pushl
+- 
+-$215
+-
+-
+-1076 
+-jmp
+- 
+-ps
+-
+-
+-1077 .
+-globl
+- 
+-ve216
+-
+-
+-1078 
+-ve216
+-:
+-
+-1079 
+-pushl
+- 
+-$0
+-
+-
+-1080 
+-pushl
+- 
+-$216
+-
+-
+-1081 
+-jmp
+- 
+-ps
+-
+-
+-1082 .
+-globl
+- 
+-ve217
+-
+-
+-1083 
+-ve217
+-:
+-
+-1084 
+-pushl
+- 
+-$0
+-
+-
+-1085 
+-pushl
+- 
+-$217
+-
+-
+-1086 
+-jmp
+- 
+-ps
+-
+-
+-1087 .
+-globl
+- 
+-ve218
+-
+-
+-1088 
+-ve218
+-:
+-
+-1089 
+-pushl
+- 
+-$0
+-
+-
+-1090 
+-pushl
+- 
+-$218
+-
+-
+-1091 
+-jmp
+- 
+-ps
+-
+-
+-1092 .
+-globl
+- 
+-ve219
+-
+-
+-1093 
+-ve219
+-:
+-
+-1094 
+-pushl
+- 
+-$0
+-
+-
+-1095 
+-pushl
+- 
+-$219
+-
+-
+-1096 
+-jmp
+- 
+-ps
+-
+-
+-1097 .
+-globl
+- 
+-ve220
+-
+-
+-1098 
+-ve220
+-:
+-
+-1099 
+-pushl
+- 
+-$0
+-
+-
+-1100 
+-pushl
+- 
+-$220
+-
+-
+-1101 
+-jmp
+- 
+-ps
+-
+-
+-1102 .
+-globl
+- 
+-ve221
+-
+-
+-1103 
+-ve221
+-:
+-
+-1104 
+-pushl
+- 
+-$0
+-
+-
+-1105 
+-pushl
+- 
+-$221
+-
+-
+-1106 
+-jmp
+- 
+-ps
+-
+-
+-1107 .
+-globl
+- 
+-ve222
+-
+-
+-1108 
+-ve222
+-:
+-
+-1109 
+-pushl
+- 
+-$0
+-
+-
+-1110 
+-pushl
+- 
+-$222
+-
+-
+-1111 
+-jmp
+- 
+-ps
+-
+-
+-1112 .
+-globl
+- 
+-ve223
+-
+-
+-1113 
+-ve223
+-:
+-
+-1114 
+-pushl
+- 
+-$0
+-
+-
+-1115 
+-pushl
+- 
+-$223
+-
+-
+-1116 
+-jmp
+- 
+-ps
+-
+-
+-1117 .
+-globl
+- 
+-ve224
+-
+-
+-1118 
+-ve224
+-:
+-
+-1119 
+-pushl
+- 
+-$0
+-
+-
+-1120 
+-pushl
+- 
+-$224
+-
+-
+-1121 
+-jmp
+- 
+-ps
+-
+-
+-1122 .
+-globl
+- 
+-ve225
+-
+-
+-1123 
+-ve225
+-:
+-
+-1124 
+-pushl
+- 
+-$0
+-
+-
+-1125 
+-pushl
+- 
+-$225
+-
+-
+-1126 
+-jmp
+- 
+-ps
+-
+-
+-1127 .
+-globl
+- 
+-ve226
+-
+-
+-1128 
+-ve226
+-:
+-
+-1129 
+-pushl
+- 
+-$0
+-
+-
+-1130 
+-pushl
+- 
+-$226
+-
+-
+-1131 
+-jmp
+- 
+-ps
+-
+-
+-1132 .
+-globl
+- 
+-ve227
+-
+-
+-1133 
+-ve227
+-:
+-
+-1134 
+-pushl
+- 
+-$0
+-
+-
+-1135 
+-pushl
+- 
+-$227
+-
+-
+-1136 
+-jmp
+- 
+-ps
+-
+-
+-1137 .
+-globl
+- 
+-ve228
+-
+-
+-1138 
+-ve228
+-:
+-
+-1139 
+-pushl
+- 
+-$0
+-
+-
+-1140 
+-pushl
+- 
+-$228
+-
+-
+-1141 
+-jmp
+- 
+-ps
+-
+-
+-1142 .
+-globl
+- 
+-ve229
+-
+-
+-1143 
+-ve229
+-:
+-
+-1144 
+-pushl
+- 
+-$0
+-
+-
+-1145 
+-pushl
+- 
+-$229
+-
+-
+-1146 
+-jmp
+- 
+-ps
+-
+-
+-1147 .
+-globl
+- 
+-ve230
+-
+-
+-1148 
+-ve230
+-:
+-
+-1149 
+-pushl
+- 
+-$0
+-
+-
+-1150 
+-pushl
+- 
+-$230
+-
+-
+-1151 
+-jmp
+- 
+-ps
+-
+-
+-1152 .
+-globl
+- 
+-ve231
+-
+-
+-1153 
+-ve231
+-:
+-
+-1154 
+-pushl
+- 
+-$0
+-
+-
+-1155 
+-pushl
+- 
+-$231
+-
+-
+-1156 
+-jmp
+- 
+-ps
+-
+-
+-1157 .
+-globl
+- 
+-ve232
+-
+-
+-1158 
+-ve232
+-:
+-
+-1159 
+-pushl
+- 
+-$0
+-
+-
+-1160 
+-pushl
+- 
+-$232
+-
+-
+-1161 
+-jmp
+- 
+-ps
+-
+-
+-1162 .
+-globl
+- 
+-ve233
+-
+-
+-1163 
+-ve233
+-:
+-
+-1164 
+-pushl
+- 
+-$0
+-
+-
+-1165 
+-pushl
+- 
+-$233
+-
+-
+-1166 
+-jmp
+- 
+-ps
+-
+-
+-1167 .
+-globl
+- 
+-ve234
+-
+-
+-1168 
+-ve234
+-:
+-
+-1169 
+-pushl
+- 
+-$0
+-
+-
+-1170 
+-pushl
+- 
+-$234
+-
+-
+-1171 
+-jmp
+- 
+-ps
+-
+-
+-1172 .
+-globl
+- 
+-ve235
+-
+-
+-1173 
+-ve235
+-:
+-
+-1174 
+-pushl
+- 
+-$0
+-
+-
+-1175 
+-pushl
+- 
+-$235
+-
+-
+-1176 
+-jmp
+- 
+-ps
+-
+-
+-1177 .
+-globl
+- 
+-ve236
+-
+-
+-1178 
+-ve236
+-:
+-
+-1179 
+-pushl
+- 
+-$0
+-
+-
+-1180 
+-pushl
+- 
+-$236
+-
+-
+-1181 
+-jmp
+- 
+-ps
+-
+-
+-1182 .
+-globl
+- 
+-ve237
+-
+-
+-1183 
+-ve237
+-:
+-
+-1184 
+-pushl
+- 
+-$0
+-
+-
+-1185 
+-pushl
+- 
+-$237
+-
+-
+-1186 
+-jmp
+- 
+-ps
+-
+-
+-1187 .
+-globl
+- 
+-ve238
+-
+-
+-1188 
+-ve238
+-:
+-
+-1189 
+-pushl
+- 
+-$0
+-
+-
+-1190 
+-pushl
+- 
+-$238
+-
+-
+-1191 
+-jmp
+- 
+-ps
+-
+-
+-1192 .
+-globl
+- 
+-ve239
+-
+-
+-1193 
+-ve239
+-:
+-
+-1194 
+-pushl
+- 
+-$0
+-
+-
+-1195 
+-pushl
+- 
+-$239
+-
+-
+-1196 
+-jmp
+- 
+-ps
+-
+-
+-1197 .
+-globl
+- 
+-ve240
+-
+-
+-1198 
+-ve240
+-:
+-
+-1199 
+-pushl
+- 
+-$0
+-
+-
+-1200 
+-pushl
+- 
+-$240
+-
+-
+-1201 
+-jmp
+- 
+-ps
+-
+-
+-1202 .
+-globl
+- 
+-ve241
+-
+-
+-1203 
+-ve241
+-:
+-
+-1204 
+-pushl
+- 
+-$0
+-
+-
+-1205 
+-pushl
+- 
+-$241
+-
+-
+-1206 
+-jmp
+- 
+-ps
+-
+-
+-1207 .
+-globl
+- 
+-ve242
+-
+-
+-1208 
+-ve242
+-:
+-
+-1209 
+-pushl
+- 
+-$0
+-
+-
+-1210 
+-pushl
+- 
+-$242
+-
+-
+-1211 
+-jmp
+- 
+-ps
+-
+-
+-1212 .
+-globl
+- 
+-ve243
+-
+-
+-1213 
+-ve243
+-:
+-
+-1214 
+-pushl
+- 
+-$0
+-
+-
+-1215 
+-pushl
+- 
+-$243
+-
+-
+-1216 
+-jmp
+- 
+-ps
+-
+-
+-1217 .
+-globl
+- 
+-ve244
+-
+-
+-1218 
+-ve244
+-:
+-
+-1219 
+-pushl
+- 
+-$0
+-
+-
+-1220 
+-pushl
+- 
+-$244
+-
+-
+-1221 
+-jmp
+- 
+-ps
+-
+-
+-1222 .
+-globl
+- 
+-ve245
+-
+-
+-1223 
+-ve245
+-:
+-
+-1224 
+-pushl
+- 
+-$0
+-
+-
+-1225 
+-pushl
+- 
+-$245
+-
+-
+-1226 
+-jmp
+- 
+-ps
+-
+-
+-1227 .
+-globl
+- 
+-ve246
+-
+-
+-1228 
+-ve246
+-:
+-
+-1229 
+-pushl
+- 
+-$0
+-
+-
+-1230 
+-pushl
+- 
+-$246
+-
+-
+-1231 
+-jmp
+- 
+-ps
+-
+-
+-1232 .
+-globl
+- 
+-ve247
+-
+-
+-1233 
+-ve247
+-:
+-
+-1234 
+-pushl
+- 
+-$0
+-
+-
+-1235 
+-pushl
+- 
+-$247
+-
+-
+-1236 
+-jmp
+- 
+-ps
+-
+-
+-1237 .
+-globl
+- 
+-ve248
+-
+-
+-1238 
+-ve248
+-:
+-
+-1239 
+-pushl
+- 
+-$0
+-
+-
+-1240 
+-pushl
+- 
+-$248
+-
+-
+-1241 
+-jmp
+- 
+-ps
+-
+-
+-1242 .
+-globl
+- 
+-ve249
+-
+-
+-1243 
+-ve249
+-:
+-
+-1244 
+-pushl
+- 
+-$0
+-
+-
+-1245 
+-pushl
+- 
+-$249
+-
+-
+-1246 
+-jmp
+- 
+-ps
+-
+-
+-1247 .
+-globl
+- 
+-ve250
+-
+-
+-1248 
+-ve250
+-:
+-
+-1249 
+-pushl
+- 
+-$0
+-
+-
+-1250 
+-pushl
+- 
+-$250
+-
+-
+-1251 
+-jmp
+- 
+-ps
+-
+-
+-1252 .
+-globl
+- 
+-ve251
+-
+-
+-1253 
+-ve251
+-:
+-
+-1254 
+-pushl
+- 
+-$0
+-
+-
+-1255 
+-pushl
+- 
+-$251
+-
+-
+-1256 
+-jmp
+- 
+-ps
+-
+-
+-1257 .
+-globl
+- 
+-ve252
+-
+-
+-1258 
+-ve252
+-:
+-
+-1259 
+-pushl
+- 
+-$0
+-
+-
+-1260 
+-pushl
+- 
+-$252
+-
+-
+-1261 
+-jmp
+- 
+-ps
+-
+-
+-1262 .
+-globl
+- 
+-ve253
+-
+-
+-1263 
+-ve253
+-:
+-
+-1264 
+-pushl
+- 
+-$0
+-
+-
+-1265 
+-pushl
+- 
+-$253
+-
+-
+-1266 
+-jmp
+- 
+-ps
+-
+-
+-1267 .
+-globl
+- 
+-ve254
+-
+-
+-1268 
+-ve254
+-:
+-
+-1269 
+-pushl
+- 
+-$0
+-
+-
+-1270 
+-pushl
+- 
+-$254
+-
+-
+-1271 
+-jmp
+- 
+-ps
+-
+-
+-1272 .
+-globl
+- 
+-ve255
+-
+-
+-1273 
+-ve255
+-:
+-
+-1274 
+-pushl
+- 
+-$0
+-
+-
+-1275 
+-pushl
+- 
+-$255
+-
+-
+-1276 
+-jmp
+- 
+-ps
+-
+-
+-1278 #ve 
+-b
+-
+-
+-1279 .
+-da
+-
+-
+-1280 .
+-globl
+- 
+-ves
+-
+-
+-1281 
+-ves
+-:
+-
+-1282 .
+-ve0
+-
+-
+-1283 .
+-ve1
+-
+-
+-1284 .
+-ve2
+-
+-
+-1285 .
+-ve3
+-
+-
+-1286 .
+-ve4
+-
+-
+-1287 .
+-ve5
+-
+-
+-1288 .
+-ve6
+-
+-
+-1289 .
+-ve7
+-
+-
+-1290 .
+-ve8
+-
+-
+-1291 .
+-ve9
+-
+-
+-1292 .
+-ve10
+-
+-
+-1293 .
+-ve11
+-
+-
+-1294 .
+-ve12
+-
+-
+-1295 .
+-ve13
+-
+-
+-1296 .
+-ve14
+-
+-
+-1297 .
+-ve15
+-
+-
+-1298 .
+-ve16
+-
+-
+-1299 .
+-ve17
+-
+-
+-1300 .
+-ve18
+-
+-
+-1301 .
+-ve19
+-
+-
+-1302 .
+-ve20
+-
+-
+-1303 .
+-ve21
+-
+-
+-1304 .
+-ve22
+-
+-
+-1305 .
+-ve23
+-
+-
+-1306 .
+-ve24
+-
+-
+-1307 .
+-ve25
+-
+-
+-1308 .
+-ve26
+-
+-
+-1309 .
+-ve27
+-
+-
+-1310 .
+-ve28
+-
+-
+-1311 .
+-ve29
+-
+-
+-1312 .
+-ve30
+-
+-
+-1313 .
+-ve31
+-
+-
+-1314 .
+-ve32
+-
+-
+-1315 .
+-ve33
+-
+-
+-1316 .
+-ve34
+-
+-
+-1317 .
+-ve35
+-
+-
+-1318 .
+-ve36
+-
+-
+-1319 .
+-ve37
+-
+-
+-1320 .
+-ve38
+-
+-
+-1321 .
+-ve39
+-
+-
+-1322 .
+-ve40
+-
+-
+-1323 .
+-ve41
+-
+-
+-1324 .
+-ve42
+-
+-
+-1325 .
+-ve43
+-
+-
+-1326 .
+-ve44
+-
+-
+-1327 .
+-ve45
+-
+-
+-1328 .
+-ve46
+-
+-
+-1329 .
+-ve47
+-
+-
+-1330 .
+-ve48
+-
+-
+-1331 .
+-ve49
+-
+-
+-1332 .
+-ve50
+-
+-
+-1333 .
+-ve51
+-
+-
+-1334 .
+-ve52
+-
+-
+-1335 .
+-ve53
+-
+-
+-1336 .
+-ve54
+-
+-
+-1337 .
+-ve55
+-
+-
+-1338 .
+-ve56
+-
+-
+-1339 .
+-ve57
+-
+-
+-1340 .
+-ve58
+-
+-
+-1341 .
+-ve59
+-
+-
+-1342 .
+-ve60
+-
+-
+-1343 .
+-ve61
+-
+-
+-1344 .
+-ve62
+-
+-
+-1345 .
+-ve63
+-
+-
+-1346 .
+-ve64
+-
+-
+-1347 .
+-ve65
+-
+-
+-1348 .
+-ve66
+-
+-
+-1349 .
+-ve67
+-
+-
+-1350 .
+-ve68
+-
+-
+-1351 .
+-ve69
+-
+-
+-1352 .
+-ve70
+-
+-
+-1353 .
+-ve71
+-
+-
+-1354 .
+-ve72
+-
+-
+-1355 .
+-ve73
+-
+-
+-1356 .
+-ve74
+-
+-
+-1357 .
+-ve75
+-
+-
+-1358 .
+-ve76
+-
+-
+-1359 .
+-ve77
+-
+-
+-1360 .
+-ve78
+-
+-
+-1361 .
+-ve79
+-
+-
+-1362 .
+-ve80
+-
+-
+-1363 .
+-ve81
+-
+-
+-1364 .
+-ve82
+-
+-
+-1365 .
+-ve83
+-
+-
+-1366 .
+-ve84
+-
+-
+-1367 .
+-ve85
+-
+-
+-1368 .
+-ve86
+-
+-
+-1369 .
+-ve87
+-
+-
+-1370 .
+-ve88
+-
+-
+-1371 .
+-ve89
+-
+-
+-1372 .
+-ve90
+-
+-
+-1373 .
+-ve91
+-
+-
+-1374 .
+-ve92
+-
+-
+-1375 .
+-ve93
+-
+-
+-1376 .
+-ve94
+-
+-
+-1377 .
+-ve95
+-
+-
+-1378 .
+-ve96
+-
+-
+-1379 .
+-ve97
+-
+-
+-1380 .
+-ve98
+-
+-
+-1381 .
+-ve99
+-
+-
+-1382 .
+-ve100
+-
+-
+-1383 .
+-ve101
+-
+-
+-1384 .
+-ve102
+-
+-
+-1385 .
+-ve103
+-
+-
+-1386 .
+-ve104
+-
+-
+-1387 .
+-ve105
+-
+-
+-1388 .
+-ve106
+-
+-
+-1389 .
+-ve107
+-
+-
+-1390 .
+-ve108
+-
+-
+-1391 .
+-ve109
+-
+-
+-1392 .
+-ve110
+-
+-
+-1393 .
+-ve111
+-
+-
+-1394 .
+-ve112
+-
+-
+-1395 .
+-ve113
+-
+-
+-1396 .
+-ve114
+-
+-
+-1397 .
+-ve115
+-
+-
+-1398 .
+-ve116
+-
+-
+-1399 .
+-ve117
+-
+-
+-1400 .
+-ve118
+-
+-
+-1401 .
+-ve119
+-
+-
+-1402 .
+-ve120
+-
+-
+-1403 .
+-ve121
+-
+-
+-1404 .
+-ve122
+-
+-
+-1405 .
+-ve123
+-
+-
+-1406 .
+-ve124
+-
+-
+-1407 .
+-ve125
+-
+-
+-1408 .
+-ve126
+-
+-
+-1409 .
+-ve127
+-
+-
+-1410 .
+-ve128
+-
+-
+-1411 .
+-ve129
+-
+-
+-1412 .
+-ve130
+-
+-
+-1413 .
+-ve131
+-
+-
+-1414 .
+-ve132
+-
+-
+-1415 .
+-ve133
+-
+-
+-1416 .
+-ve134
+-
+-
+-1417 .
+-ve135
+-
+-
+-1418 .
+-ve136
+-
+-
+-1419 .
+-ve137
+-
+-
+-1420 .
+-ve138
+-
+-
+-1421 .
+-ve139
+-
+-
+-1422 .
+-ve140
+-
+-
+-1423 .
+-ve141
+-
+-
+-1424 .
+-ve142
+-
+-
+-1425 .
+-ve143
+-
+-
+-1426 .
+-ve144
+-
+-
+-1427 .
+-ve145
+-
+-
+-1428 .
+-ve146
+-
+-
+-1429 .
+-ve147
+-
+-
+-1430 .
+-ve148
+-
+-
+-1431 .
+-ve149
+-
+-
+-1432 .
+-ve150
+-
+-
+-1433 .
+-ve151
+-
+-
+-1434 .
+-ve152
+-
+-
+-1435 .
+-ve153
+-
+-
+-1436 .
+-ve154
+-
+-
+-1437 .
+-ve155
+-
+-
+-1438 .
+-ve156
+-
+-
+-1439 .
+-ve157
+-
+-
+-1440 .
+-ve158
+-
+-
+-1441 .
+-ve159
+-
+-
+-1442 .
+-ve160
+-
+-
+-1443 .
+-ve161
+-
+-
+-1444 .
+-ve162
+-
+-
+-1445 .
+-ve163
+-
+-
+-1446 .
+-ve164
+-
+-
+-1447 .
+-ve165
+-
+-
+-1448 .
+-ve166
+-
+-
+-1449 .
+-ve167
+-
+-
+-1450 .
+-ve168
+-
+-
+-1451 .
+-ve169
+-
+-
+-1452 .
+-ve170
+-
+-
+-1453 .
+-ve171
+-
+-
+-1454 .
+-ve172
+-
+-
+-1455 .
+-ve173
+-
+-
+-1456 .
+-ve174
+-
+-
+-1457 .
+-ve175
+-
+-
+-1458 .
+-ve176
+-
+-
+-1459 .
+-ve177
+-
+-
+-1460 .
+-ve178
+-
+-
+-1461 .
+-ve179
+-
+-
+-1462 .
+-ve180
+-
+-
+-1463 .
+-ve181
+-
+-
+-1464 .
+-ve182
+-
+-
+-1465 .
+-ve183
+-
+-
+-1466 .
+-ve184
+-
+-
+-1467 .
+-ve185
+-
+-
+-1468 .
+-ve186
+-
+-
+-1469 .
+-ve187
+-
+-
+-1470 .
+-ve188
+-
+-
+-1471 .
+-ve189
+-
+-
+-1472 .
+-ve190
+-
+-
+-1473 .
+-ve191
+-
+-
+-1474 .
+-ve192
+-
+-
+-1475 .
+-ve193
+-
+-
+-1476 .
+-ve194
+-
+-
+-1477 .
+-ve195
+-
+-
+-1478 .
+-ve196
+-
+-
+-1479 .
+-ve197
+-
+-
+-1480 .
+-ve198
+-
+-
+-1481 .
+-ve199
+-
+-
+-1482 .
+-ve200
+-
+-
+-1483 .
+-ve201
+-
+-
+-1484 .
+-ve202
+-
+-
+-1485 .
+-ve203
+-
+-
+-1486 .
+-ve204
+-
+-
+-1487 .
+-ve205
+-
+-
+-1488 .
+-ve206
+-
+-
+-1489 .
+-ve207
+-
+-
+-1490 .
+-ve208
+-
+-
+-1491 .
+-ve209
+-
+-
+-1492 .
+-ve210
+-
+-
+-1493 .
+-ve211
+-
+-
+-1494 .
+-ve212
+-
+-
+-1495 .
+-ve213
+-
+-
+-1496 .
+-ve214
+-
+-
+-1497 .
+-ve215
+-
+-
+-1498 .
+-ve216
+-
+-
+-1499 .
+-ve217
+-
+-
+-1500 .
+-ve218
+-
+-
+-1501 .
+-ve219
+-
+-
+-1502 .
+-ve220
+-
+-
+-1503 .
+-ve221
+-
+-
+-1504 .
+-ve222
+-
+-
+-1505 .
+-ve223
+-
+-
+-1506 .
+-ve224
+-
+-
+-1507 .
+-ve225
+-
+-
+-1508 .
+-ve226
+-
+-
+-1509 .
+-ve227
+-
+-
+-1510 .
+-ve228
+-
+-
+-1511 .
+-ve229
+-
+-
+-1512 .
+-ve230
+-
+-
+-1513 .
+-ve231
+-
+-
+-1514 .
+-ve232
+-
+-
+-1515 .
+-ve233
+-
+-
+-1516 .
+-ve234
+-
+-
+-1517 .
+-ve235
+-
+-
+-1518 .
+-ve236
+-
+-
+-1519 .
+-ve237
+-
+-
+-1520 .
+-ve238
+-
+-
+-1521 .
+-ve239
+-
+-
+-1522 .
+-ve240
+-
+-
+-1523 .
+-ve241
+-
+-
+-1524 .
+-ve242
+-
+-
+-1525 .
+-ve243
+-
+-
+-1526 .
+-ve244
+-
+-
+-1527 .
+-ve245
+-
+-
+-1528 .
+-ve246
+-
+-
+-1529 .
+-ve247
+-
+-
+-1530 .
+-ve248
+-
+-
+-1531 .
+-ve249
+-
+-
+-1532 .
+-ve250
+-
+-
+-1533 .
+-ve251
+-
+-
+-1534 .
+-ve252
+-
+-
+-1535 .
+-ve253
+-
+-
+-1536 .
+-ve254
+-
+-
+-1537 .
+-ve255
+-
+-
+-	@vm.c
+-
+-1 
+-	~"m.h
+-"
+-
+-2 
+-	~"tys.h
+-"
+-
+-3 
+-	~"defs.h
+-"
+-
+-4 
+-	~"x86.h
+-"
+-
+-5 
+-	~"memyout.h
+-"
+-
+-6 
+-	~"mmu.h
+-"
+-
+-7 
+-	~"oc.h
+-"
+-
+-8 
+-	~"f.h
+-"
+-
+-10 

+-da
+-[];
+-
+-11 
+-pde_t
+- *
+-	gkpgd
+-;
+-
+-16 
+-	$g
+-()
+-
+-18 
+-u
+- *
+-c
+-;
+-
+-24 
+-c
+- = &
+-us
+-[
+-	`uid
+-()];
+-
+-25 
+-c
+-->
+-gdt
+-[
+-SEG_KCODE
+-] = 
+-	`SEG
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff, 0);
+-
+-26 
+-c
+-->
+-gdt
+-[
+-SEG_KDATA
+-] = 
+-	`SEG
+-(
+-STA_W
+-, 0, 0xffffffff, 0);
+-
+-27 
+-c
+-->
+-gdt
+-[
+-SEG_UCODE
+-] = 
+-	`SEG
+-(
+-STA_X
+-|
+-STA_R
+-, 0, 0xffffffff, 
+-DPL_USER
+-);
+-
+-28 
+-c
+-->
+-gdt
+-[
+-SEG_UDATA
+-] = 
+-	`SEG
+-(
+-STA_W
+-, 0, 0xffffffff, 
+-DPL_USER
+-);
+-
+-29 
+-	`lgdt
+-(
+-c
+-->
+-gdt
+-, (c->gdt));
+-
+-30 
+-	}
+-}
+-
+-35 
+-e_t
+- *
+-
+-36 
+-	$wkpgd
+-(
+-pde_t
+- *
+-pgd
+-, c *
+-va
+-, 
+-loc
+-)
+-
+-38 
+-pde_t
+- *
+-pde
+-;
+-
+-39 
+-e_t
+- *
+-pgb
+-;
+-
+-41 
+-pde
+- = &
+-pgd
+-[
+-	`PDX
+-(
+-va
+-)];
+-
+-42 if(*
+-pde
+- & 
+-PTE_P
+-){
+-
+-43 
+-pgb
+- = (
+-e_t
+-*)
+-	`P2V
+-(
+-	`PTE_ADDR
+-(*
+-pde
+-));
+-
+-45 if(!
+-loc
+- || (
+-pgb
+- = (
+-e_t
+-*)
+-	`kloc
+-()) == 0)
+-
+-48 
+-	`memt
+-(
+-pgb
+-, 0, 
+-PGSIZE
+-);
+-
+-52 *
+-pde
+- = 
+-	`V2P
+-(
+-pgb
+-| 
+-PTE_P
+- | 
+-PTE_W
+- | 
+-PTE_U
+-;
+-
+-54  &
+-pgb
+-[
+-	`PTX
+-(
+-va
+-)];
+-
+-55 
+-	}
+-}
+-
+-61 
+-	$mges
+-(
+-pde_t
+- *
+-pgd
+-, *
+-va
+-, 
+-ut
+- 
+-size
+-, u
+-
+-, 
+-rm
+-)
+-
+-63 *
+-a
+-, *
+-
+-;
+-
+-64 
+-e_t
+- *
+-e
+-;
+-
+-66 
+-a
+- = (*)
+-	`PGROUNDDOWN
+-((
+-ut
+-)
+-va
+-);
+-
+-67 
+-
+- = (*)
+-	`PGROUNDDOWN
+-(((
+-ut
+-)
+-va
+-+ 
+-size
+- - 1);
+-
+-69 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-a
+-, 1)) == 0)
+-
+-71 if(*
+-e
+- & 
+-PTE_P
+-)
+-
+-72 
+-	`nic
+-("remap");
+-
+-73 *
+-e
+- = 
+-
+- | 
+-rm
+- | 
+-PTE_P
+-;
+-
+-74 if(
+-a
+- =
+-
+-)
+-
+-76 
+-a
+- +
+-PGSIZE
+-;
+-
+-77 
+-
+- +
+-PGSIZE
+-;
+-
+-80 
+-	}
+-}
+-
+-105 
+-	skm
+- {
+-
+-106 *
+-	mvt
+-;
+-
+-107 
+-ut
+- 
+-	mphys_t
+-;
+-
+-108 
+-ut
+- 
+-	mphys_d
+-;
+-
+-109 
+-	mrm
+-;
+-
+-110 } 
+-	gkm
+-[] = {
+-
+-111 { (*)
+-KERNBASE
+-, 0, 
+-EXTMEM
+-, 
+-PTE_W
+-},
+-
+-112 { (*)
+-KERNLINK
+-, 
+-V2P
+-(KERNLINK), V2P(
+-da
+-), 0},
+-
+-113 { (*)
+-da
+-, 
+-V2P
+-(da), 
+-PHYSTOP
+-, 
+-PTE_W
+-},
+-
+-114 { (*)
+-DEVSPACE
+-, DEVSPACE, 0, 
+-PTE_W
+-},
+-
+-118 
+-pde_t
+-*
+-
+-119 
+-	$tupkvm
+-()
+-
+-121 
+-pde_t
+- *
+-pgd
+-;
+-
+-122 
+-km
+- *
+-k
+-;
+-
+-124 if((
+-pgd
+- = (
+-pde_t
+-*)
+-	`kloc
+-()) == 0)
+-
+-126 
+-	`memt
+-(
+-pgd
+-, 0, 
+-PGSIZE
+-);
+-
+-127 i(
+-	`P2V
+-(
+-PHYSTOP
+-> (*)
+-DEVSPACE
+-)
+-
+-128 
+-	`nic
+-("PHYSTOPoo high");
+-
+-129 
+-k
+- = 
+-km
+-; k < &km[
+-	`NELEM
+-(kmap)]; k++)
+-
+-130 if(
+-	`mges
+-(
+-pgd
+-, 
+-k
+-->
+-vt
+-, k->
+-phys_d
+- - k->
+-phys_t
+-,
+-
+-131 (
+-ut
+-)
+-k
+-->
+-phys_t
+-, k->
+-rm
+-) < 0) {
+-
+-132 
+-	`vm
+-(
+-pgd
+-);
+-
+-135  
+-pgd
+-;
+-
+-136 
+-	}
+-}
+-
+-141 
+-	$kvmloc
+-()
+-
+-143 
+-kpgd
+- = 
+-	`tupkvm
+-();
+-
+-144 
+-	`swchkvm
+-();
+-
+-145 
+-	}
+-}
+-
+-150 
+-	$swchkvm
+-()
+-
+-152 
+-	`l3
+-(
+-	`V2P
+-(
+-kpgd
+-));
+-
+-153 
+-	}
+-}
+-
+-157 
+-	$swchuvm
+-(
+-oc
+- *
+-p
+-)
+-
+-159 if(
+-p
+- == 0)
+-
+-160 
+-	`nic
+-("switchuvm:orocess");
+-
+-161 if(
+-p
+-->
+-kack
+- == 0)
+-
+-162 
+-	`nic
+-("switchuvm:o kstack");
+-
+-163 if(
+-p
+-->
+-pgd
+- == 0)
+-
+-164 
+-	`nic
+-("switchuvm:ogdir");
+-
+-166 
+-	`pushi
+-();
+-
+-167 
+-	`myu
+-()->
+-gdt
+-[
+-SEG_TSS
+-] = 
+-	`SEG16
+-(
+-STS_T32A
+-, &myu()->
+-ts
+-,
+-
+-168 (
+-	`myu
+-()->
+-ts
+-)-1, 0);
+-
+-169 
+-	`myu
+-()->
+-gdt
+-[
+-SEG_TSS
+-].
+-s
+- = 0;
+-
+-170 
+-	`myu
+-()->
+-ts
+-.
+-ss0
+- = 
+-SEG_KDATA
+- << 3;
+-
+-171 
+-	`myu
+-()->
+-ts
+-.
+-e0
+- = (
+-ut
+-)
+-p
+-->
+-kack
+- + 
+-KSTACKSIZE
+-;
+-
+-174 
+-	`myu
+-()->
+-ts
+-.
+-iomb
+- = (
+-usht
+-) 0xFFFF;
+-
+-175 
+-	`r
+-(
+-SEG_TSS
+- << 3);
+-
+-176 
+-	`l3
+-(
+-	`V2P
+-(
+-p
+-->
+-pgd
+-));
+-
+-177 
+-	`pi
+-();
+-
+-178 
+-	}
+-}
+-
+-183 
+-	$uvm
+-(
+-pde_t
+- *
+-pgd
+-, *
+-
+-, 
+-ut
+- 
+-sz
+-)
+-
+-185 *
+-mem
+-;
+-
+-187 if(
+-sz
+- >
+-PGSIZE
+-)
+-
+-188 
+-	`nic
+-("inituvm: morehanage");
+-
+-189 
+-mem
+- = 
+-	`kloc
+-();
+-
+-190 
+-	`memt
+-(
+-mem
+-, 0, 
+-PGSIZE
+-);
+-
+-191 
+-	`mges
+-(
+-pgd
+-, 0, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-PTE_W
+-|
+-PTE_U
+-);
+-
+-192 
+-	`memmove
+-(
+-mem
+-, 
+-
+-, 
+-sz
+-);
+-
+-193 
+-	}
+-}
+-
+-198 
+-	$lduvm
+-(
+-pde_t
+- *
+-pgd
+-, *
+-addr
+-, 
+-ode
+- *
+-
+-, 
+-ut
+- 
+-offt
+-, u
+-sz
+-)
+-
+-200 
+-ut
+- 
+-i
+-, 
+-
+-, 
+-n
+-;
+-
+-201 
+-e_t
+- *
+-e
+-;
+-
+-203 if((
+-ut
+-
+-addr
+- % 
+-PGSIZE
+- != 0)
+-
+-204 
+-	`nic
+-("loaduvm:ddr must beageligned");
+-
+-205 
+-i
+- = 0; i < 
+-sz
+-; i +
+-PGSIZE
+-){
+-
+-206 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-addr
+-+
+-i
+-, 0)) == 0)
+-
+-207 
+-	`nic
+-("loaduvm:ddress shouldxist");
+-
+-208 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-209 if(
+-sz
+- - 
+-i
+- < 
+-PGSIZE
+-)
+-
+-210 
+-n
+- = 
+-sz
+- - 
+-i
+-;
+-
+-212 
+-n
+- = 
+-PGSIZE
+-;
+-
+-213 if(
+-	`adi
+-(
+-
+-, 
+-	`P2V
+-(
+-
+-), 
+-offt
+-+
+-i
+-, 
+-n
+-) !=)
+-
+-217 
+-	}
+-}
+-
+-222 
+-	$locuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-dsz
+-, u
+-wsz
+-)
+-
+-224 *
+-mem
+-;
+-
+-225 
+-ut
+- 
+-a
+-;
+-
+-227 if(
+-wsz
+- >
+-KERNBASE
+-)
+-
+-229 if(
+-wsz
+- < 
+-dsz
+-)
+-
+-230  
+-dsz
+-;
+-
+-232 
+-a
+- = 
+-	`PGROUNDUP
+-(
+-dsz
+-);
+-
+-233 ; 
+-a
+- < 
+-wsz
+-; +
+-PGSIZE
+-){
+-
+-234 
+-mem
+- = 
+-	`kloc
+-();
+-
+-235 if(
+-mem
+- == 0){
+-
+-236 
+-	`rtf
+-("allocuvm out of memory\n");
+-
+-237 
+-	`docuvm
+-(
+-pgd
+-, 
+-wsz
+-, 
+-dsz
+-);
+-
+-240 
+-	`memt
+-(
+-mem
+-, 0, 
+-PGSIZE
+-);
+-
+-241 if(
+-	`mges
+-(
+-pgd
+-, (*)
+-a
+-, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-PTE_W
+-|
+-PTE_U
+-) < 0){
+-
+-242 
+-	`rtf
+-("allocuvm out of memory (2)\n");
+-
+-243 
+-	`docuvm
+-(
+-pgd
+-, 
+-wsz
+-, 
+-dsz
+-);
+-
+-244 
+-	`k
+-(
+-mem
+-);
+-
+-248  
+-wsz
+-;
+-
+-249 
+-	}
+-}
+-
+-256 
+-	$docuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-dsz
+-, u
+-wsz
+-)
+-
+-258 
+-e_t
+- *
+-e
+-;
+-
+-259 
+-ut
+- 
+-a
+-, 
+-
+-;
+-
+-261 if(
+-wsz
+- >
+-dsz
+-)
+-
+-262  
+-dsz
+-;
+-
+-264 
+-a
+- = 
+-	`PGROUNDUP
+-(
+-wsz
+-);
+-
+-265 ; 
+-a
+- < 
+-dsz
+-; +
+-PGSIZE
+-){
+-
+-266 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, (*)
+-a
+-, 0);
+-
+-267 if(!
+-e
+-)
+-
+-268 
+-a
+- = 
+-	`PGADDR
+-(
+-	`PDX
+-+ 1, 0, 0- 
+-PGSIZE
+-;
+-
+-269 if((*
+-e
+- & 
+-PTE_P
+-) != 0){
+-
+-270 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-271 if(
+-
+- == 0)
+-
+-272 
+-	`nic
+-("kfree");
+-
+-273 *
+-v
+- = 
+-	`P2V
+-(
+-
+-);
+-
+-274 
+-	`k
+-(
+-v
+-);
+-
+-275 *
+-e
+- = 0;
+-
+-278  
+-wsz
+-;
+-
+-279 
+-	}
+-}
+-
+-284 
+-	$vm
+-(
+-pde_t
+- *
+-pgd
+-)
+-
+-286 
+-ut
+- 
+-i
+-;
+-
+-288 if(
+-pgd
+- == 0)
+-
+-289 
+-	`nic
+-("freevm:ogdir");
+-
+-290 
+-	`docuvm
+-(
+-pgd
+-, 
+-KERNBASE
+-, 0);
+-
+-291 
+-i
+- = 0; i < 
+-NPDENTRIES
+-; i++){
+-
+-292 if(
+-pgd
+-[
+-i
+-] & 
+-PTE_P
+-){
+-
+-293 * 
+-v
+- = 
+-	`P2V
+-(
+-	`PTE_ADDR
+-(
+-pgd
+-[
+-i
+-]));
+-
+-294 
+-	`k
+-(
+-v
+-);
+-
+-297 
+-	`k
+-((*)
+-pgd
+-);
+-
+-298 
+-	}
+-}
+-
+-303 
+-	$u
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-)
+-
+-305 
+-e_t
+- *
+-e
+-;
+-
+-307 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-uva
+-, 0);
+-
+-308 if(
+-e
+- == 0)
+-
+-309 
+-	`nic
+-("clearpteu");
+-
+-310 *
+-e
+- &~
+-PTE_U
+-;
+-
+-311 
+-	}
+-}
+-
+-315 
+-pde_t
+-*
+-
+-316 
+-	$cyuvm
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-sz
+-)
+-
+-318 
+-pde_t
+- *
+-d
+-;
+-
+-319 
+-e_t
+- *
+-e
+-;
+-
+-320 
+-ut
+- 
+-
+-, 
+-i
+-, 
+-ags
+-;
+-
+-321 *
+-mem
+-;
+-
+-323 if((
+-d
+- = 
+-	`tupkvm
+-()) == 0)
+-
+-325 
+-i
+- = 0; i < 
+-sz
+-; i +
+-PGSIZE
+-){
+-
+-326 if((
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, (*
+-i
+-, 0)) == 0)
+-
+-327 
+-	`nic
+-("copyuvm:te shouldxist");
+-
+-328 if(!(*
+-e
+- & 
+-PTE_P
+-))
+-
+-329 
+-	`nic
+-("copyuvm:ageotresent");
+-
+-330 
+-
+- = 
+-	`PTE_ADDR
+-(*
+-e
+-);
+-
+-331 
+-ags
+- = 
+-	`PTE_FLAGS
+-(*
+-e
+-);
+-
+-332 if((
+-mem
+- = 
+-	`kloc
+-()) == 0)
+-
+-333 
+-bad
+-;
+-
+-334 
+-	`memmove
+-(
+-mem
+-, (*)
+-	`P2V
+-(
+-
+-), 
+-PGSIZE
+-);
+-
+-335 if(
+-	`mges
+-(
+-d
+-, (*)
+-i
+-, 
+-PGSIZE
+-, 
+-	`V2P
+-(
+-mem
+-), 
+-ags
+-) < 0) {
+-
+-336 
+-	`k
+-(
+-mem
+-);
+-
+-337 
+-bad
+-;
+-
+-340  
+-d
+-;
+-
+-342 
+-bad
+-:
+-
+-343 
+-	`vm
+-(
+-d
+-);
+-
+-345 
+-	}
+-}
+-
+-350 
+-	$uva2ka
+-(
+-pde_t
+- *
+-pgd
+-, *
+-uva
+-)
+-
+-352 
+-e_t
+- *
+-e
+-;
+-
+-354 
+-e
+- = 
+-	`wkpgd
+-(
+-pgd
+-, 
+-uva
+-, 0);
+-
+-355 if((*
+-e
+- & 
+-PTE_P
+-) == 0)
+-
+-357 if((*
+-e
+- & 
+-PTE_U
+-) == 0)
+-
+-359  (*)
+-	`P2V
+-(
+-	`PTE_ADDR
+-(*
+-e
+-));
+-
+-360 
+-	}
+-}
+-
+-366 
+-	$cyout
+-(
+-pde_t
+- *
+-pgd
+-, 
+-ut
+- 
+-va
+-, *
+-p
+-, u
+-n
+-)
+-
+-368 *
+-buf
+-, *
+-0
+-;
+-
+-369 
+-ut
+- 
+-n
+-, 
+-va0
+-;
+-
+-371 
+-buf
+- = (*)
+-p
+-;
+-
+-372 
+-n
+- > 0){
+-
+-373 
+-va0
+- = (
+-ut
+-)
+-	`PGROUNDDOWN
+-(
+-va
+-);
+-
+-374 
+-0
+- = 
+-	`uva2ka
+-(
+-pgd
+-, (*)
+-va0
+-);
+-
+-375 if(
+-0
+- == 0)
+-
+-377 
+-n
+- = 
+-PGSIZE
+- - (
+-va
+- - 
+-va0
+-);
+-
+-378 if(
+-n
+- > 
+-n
+-)
+-
+-379 
+-n
+- = 
+-n
+-;
+-
+-380 
+-	`memmove
+-(
+-0
+- + (
+-va
+- - 
+-va0
+-), 
+-buf
+-, 
+-n
+-);
+-
+-381 
+-n
+- -
+-n
+-;
+-
+-382 
+-buf
+- +
+-n
+-;
+-
+-383 
+-va
+- = 
+-va0
+- + 
+-PGSIZE
+-;
+-
+-386 
+-	}
+-}
+-
+-	@wc.c
+-
+-1 
+-	~"tys.h
+-"
+-
+-2 
+-	~".h
+-"
+-
+-3 
+-	~"ur.h
+-"
+-
+-5 
+-	gbuf
+-[512];
+-
+-8 
+-	$wc
+-(
+-fd
+-, *
+-me
+-)
+-
+-10 
+-i
+-, 
+-n
+-;
+-
+-11 
+-l
+-, 
+-w
+-, 
+-c
+-, 
+-wd
+-;
+-
+-13 
+-l
+- = 
+-w
+- = 
+-c
+- = 0;
+-
+-14 
+-wd
+- = 0;
+-
+-15 (
+-n
+- = 
+-	`ad
+-(
+-fd
+-, 
+-buf
+-, (buf))) > 0){
+-
+-16 
+-i
+-=0; i<
+-n
+-; i++){
+-
+-17 
+-c
+-++;
+-
+-18 if(
+-buf
+-[
+-i
+-] == '\n')
+-
+-19 
+-l
+-++;
+-
+-20 if(
+-	`rchr
+-(" \r\t\n\v", 
+-buf
+-[
+-i
+-]))
+-
+-21 
+-wd
+- = 0;
+-
+-22 if(!
+-wd
+-){
+-
+-23 
+-w
+-++;
+-
+-24 
+-wd
+- = 1;
+-
+-28 if(
+-n
+- < 0){
+-
+-29 
+-	`tf
+-(1, "wc:eadrror\n");
+-
+-30 
+-	`ex
+-();
+-
+-32 
+-	`tf
+-(1, "%d %d %d %s\n", 
+-l
+-, 
+-w
+-, 
+-c
+-, 
+-me
+-);
+-
+-33 
+-	}
+-}
+-
+-36 
+-	$ma
+-(
+-gc
+-, *
+-gv
+-[])
+-
+-38 
+-fd
+-, 
+-i
+-;
+-
+-40 if(
+-gc
+- <= 1){
+-
+-41 
+-	`wc
+-(0, "");
+-
+-42 
+-	`ex
+-();
+-
+-45 
+-i
+- = 1; i < 
+-gc
+-; i++){
+-
+-46 if((
+-fd
+- = 
+-	`
+-(
+-gv
+-[
+-i
+-], 0)) < 0){
+-
+-47 
+-	`tf
+-(1, "wc: cn o%s\n", 
+-gv
+-[
+-i
+-]);
+-
+-48 
+-	`ex
+-();
+-
+-50 
+-	`wc
+-(
+-fd
+-, 
+-gv
+-[
+-i
+-]);
+-
+-51 
+-	`o
+-(
+-fd
+-);
+-
+-53 
+-	`ex
+-();
+-
+-54 
+-	}
+-}
+-
+-	@x86.h
+-
+-3 
+-le
+- 
+-uch
+-
+-
+-4 
+-	$b
+-(
+-usht
+- 
+-pt
+-)
+-
+-6 
+-uch
+- 
+-da
+-;
+-
+-8 
+-asm
+- ve(" %1,%0" : "" (
+-da
+-: "d" (
+-pt
+-));
+-
+-9  
+-da
+-;
+-
+-10 
+-	}
+-}
+-
+-12 
+-le
+- 
+-
+-13 
+-	$
+-(
+-pt
+-, *
+-addr
+-, 
+-t
+-)
+-
+-15 
+-asm
+- volatile("cld;ep insl" :
+-
+-16 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-17 "d" (
+-pt
+-), "0" (
+-addr
+-), "1" (
+-t
+-) :
+-
+-19 
+-	}
+-}
+-
+-21 
+-le
+- 
+-
+-22 
+-	$outb
+-(
+-usht
+- 
+-pt
+-, 
+-uch
+- 
+-da
+-)
+-
+-24 
+-asm
+- ve("ou%0,%1" : : "a" (
+-da
+-), "d" (
+-pt
+-));
+-
+-25 
+-	}
+-}
+-
+-27 
+-le
+- 
+-
+-28 
+-	$outw
+-(
+-usht
+- 
+-pt
+-, ush
+-da
+-)
+-
+-30 
+-asm
+- ve("ou%0,%1" : : "a" (
+-da
+-), "d" (
+-pt
+-));
+-
+-31 
+-	}
+-}
+-
+-33 
+-le
+- 
+-
+-34 
+-	$out
+-(
+-pt
+-, c *
+-addr
+-, 
+-t
+-)
+-
+-36 
+-asm
+- volatile("cld;ep outsl" :
+-
+-37 "=S" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-38 "d" (
+-pt
+-), "0" (
+-addr
+-), "1" (
+-t
+-) :
+-
+-40 
+-	}
+-}
+-
+-42 
+-le
+- 
+-
+-43 
+-	$osb
+-(*
+-addr
+-, 
+-da
+-, 
+-t
+-)
+-
+-45 
+-asm
+- volatile("cld;ep stosb" :
+-
+-46 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-47 "0" (
+-addr
+-), "1" (
+-t
+-), "a" (
+-da
+-) :
+-
+-49 
+-	}
+-}
+-
+-51 
+-le
+- 
+-
+-52 
+-	$o
+-(*
+-addr
+-, 
+-da
+-, 
+-t
+-)
+-
+-54 
+-asm
+- volatile("cld;ep stosl" :
+-
+-55 "=D" (
+-addr
+-), "=c" (
+-t
+-) :
+-
+-56 "0" (
+-addr
+-), "1" (
+-t
+-), "a" (
+-da
+-) :
+-
+-58 
+-	}
+-}
+-
+-60 
+-	ggdesc
+-;
+-
+-62 
+-le
+- 
+-
+-63 
+-	$lgdt
+-(
+-gdesc
+- *
+-p
+-, 
+-size
+-)
+-
+-65 v
+-usht
+- 
+-pd
+-[3];
+-
+-67 
+-pd
+-[0] = 
+-size
+--1;
+-
+-68 
+-pd
+-[1] = (
+-ut
+-)
+-p
+-;
+-
+-69 
+-pd
+-[2] = (
+-ut
+-)
+-p
+- >> 16;
+-
+-71 
+-asm
+- ve("lgd(%0)" : : "r" (
+-pd
+-));
+-
+-72 
+-	}
+-}
+-
+-74 
+-	ggedesc
+-;
+-
+-76 
+-le
+- 
+-
+-77 
+-	$lidt
+-(
+-gedesc
+- *
+-p
+-, 
+-size
+-)
+-
+-79 v
+-usht
+- 
+-pd
+-[3];
+-
+-81 
+-pd
+-[0] = 
+-size
+--1;
+-
+-82 
+-pd
+-[1] = (
+-ut
+-)
+-p
+-;
+-
+-83 
+-pd
+-[2] = (
+-ut
+-)
+-p
+- >> 16;
+-
+-85 
+-asm
+- ve("lid(%0)" : : "r" (
+-pd
+-));
+-
+-86 
+-	}
+-}
+-
+-88 
+-le
+- 
+-
+-89 
+-	$r
+-(
+-usht
+- 
+-l
+-)
+-
+-91 
+-asm
+- ve("%0" : : "r" (
+-l
+-));
+-
+-92 
+-	}
+-}
+-
+-94 
+-le
+- 
+-ut
+-
+-
+-95 
+-	$adeags
+-()
+-
+-97 
+-ut
+- 
+-eags
+-;
+-
+-98 
+-asm
+- ve("push;%0" : "" (
+-eags
+-));
+-
+-99  
+-eags
+-;
+-
+-100 
+-	}
+-}
+-
+-102 
+-le
+- 
+-
+-103 
+-	$ldgs
+-(
+-usht
+- 
+-v
+-)
+-
+-105 
+-asm
+- ve("movw %0, %%gs" : : "r" (
+-v
+-));
+-
+-106 
+-	}
+-}
+-
+-108 
+-le
+- 
+-
+-109 
+-	$i
+-()
+-
+-111 
+-asm
+- volatile("cli");
+-
+-112 
+-	}
+-}
+-
+-114 
+-le
+- 
+-
+-115 
+-	$i
+-()
+-
+-117 
+-asm
+- volatile("sti");
+-
+-118 
+-	}
+-}
+-
+-120 
+-le
+- 
+-ut
+-
+-
+-121 
+-	$xchg
+-(v
+-ut
+- *
+-addr
+-, u
+-wv
+-)
+-
+-123 
+-ut
+- 
+-su
+-;
+-
+-126 
+-asm
+- volatile("lock; xchgl %0, %1" :
+-
+-127 "+m" (*
+-addr
+-), "" (
+-su
+-) :
+-
+-128 "1" (
+-wv
+-) :
+-
+-130  
+-su
+-;
+-
+-131 
+-	}
+-}
+-
+-133 
+-le
+- 
+-ut
+-
+-
+-134 
+-	$r2
+-()
+-
+-136 
+-ut
+- 
+-v
+-;
+-
+-137 
+-asm
+- ve("mov%%2,%0" : "" (
+-v
+-));
+-
+-138  
+-v
+-;
+-
+-139 
+-	}
+-}
+-
+-141 
+-le
+- 
+-
+-142 
+-	$l3
+-(
+-ut
+- 
+-v
+-)
+-
+-144 
+-asm
+- ve("mov%0,%%3" : : "r" (
+-v
+-));
+-
+-145 
+-	}
+-}
+-
+-150 
+-	same
+- {
+-
+-152 
+-ut
+- 
+-	medi
+-;
+-
+-153 
+-ut
+- 
+-	mesi
+-;
+-
+-154 
+-ut
+- 
+-	mebp
+-;
+-
+-155 
+-ut
+- 
+-	m
+-;
+-
+-156 
+-ut
+- 
+-	mebx
+-;
+-
+-157 
+-ut
+- 
+-	medx
+-;
+-
+-158 
+-ut
+- 
+-	mecx
+-;
+-
+-159 
+-ut
+- 
+-	mx
+-;
+-
+-162 
+-usht
+- 
+-	mgs
+-;
+-
+-163 
+-usht
+- 
+-	mddg1
+-;
+-
+-164 
+-usht
+- 
+-	mfs
+-;
+-
+-165 
+-usht
+- 
+-	mddg2
+-;
+-
+-166 
+-usht
+- 
+-	mes
+-;
+-
+-167 
+-usht
+- 
+-	mddg3
+-;
+-
+-168 
+-usht
+- 
+-	mds
+-;
+-
+-169 
+-usht
+- 
+-	mddg4
+-;
+-
+-170 
+-ut
+- 
+-	mno
+-;
+-
+-173 
+-ut
+- 
+-	mr
+-;
+-
+-174 
+-ut
+- 
+-	me
+-;
+-
+-175 
+-usht
+- 
+-	mcs
+-;
+-
+-176 
+-usht
+- 
+-	mddg5
+-;
+-
+-177 
+-ut
+- 
+-	meags
+-;
+-
+-180 
+-ut
+- 
+-	me
+-;
+-
+-181 
+-usht
+- 
+-	mss
+-;
+-
+-182 
+-usht
+- 
+-	mddg6
+-;
+-
+-	@zombie.c
+-
+-4 
+-	~"tys.h
+-"
+-
+-5 
+-	~".h
+-"
+-
+-6 
+-	~"ur.h
+-"
+-
+-9 
+-	$ma
+-()
+-
+-11 if(
+-	`fk
+-() > 0)
+-
+-12 
+-	`p
+-(5);
+-
+-13 
+-	`ex
+-();
+-
+-14 
+-	}
+-}
+-
+-	@/usr/include/assert.h
+-
+-22 #ifdef 
+-_ASSERT_H
+-
+-
+-24 #unde
+-_ASSERT_H
+-
+-
+-25 #unde
+-as
+-
+-
+-26 #unde
+-__ASSERT_VOID_CAST
+-
+-
+-28 #ifdef 
+-__USE_GNU
+-
+-
+-29 #unde
+-as_
+-
+-
+-34 
+-	#_ASSERT_H
+- 1
+-
+-	)
+-
+-35 
+-	~<us.h
+->
+-
+-37 #i
+-defed
+- 
+-__lulus
+- && 
+-__GNUC_PREREQ
+- (2,95)
+-
+-38 
+-	#__ASSERT_VOID_CAST
+- 
+-ic_
+-<>
+-
+-	)
+-
+-40 
+-	#__ASSERT_VOID_CAST
+- ()
+-
+-	)
+-
+-48 #ifdef 
+-NDEBUG
+-
+-
+-50 
+-	#as
+-(
+-ex
+-(
+-	`__ASSERT_VOID_CAST
+- (0))
+-
+-	)
+-
+-58 #ifdef 
+-__USE_GNU
+-
+-
+-59 
+-	#as_
+-(
+-um
+-(
+-	`__ASSERT_VOID_CAST
+- (0))
+-
+-	)
+-
+-64 #ide
+-_ASSERT_H_DECLS
+-
+-
+-65 
+-	#_ASSERT_H_DECLS
+-
+-
+-	)
+-
+-66 
+-__BEGIN_DECLS
+-
+-
+-69 

+-	$__as_
+- (c *
+-__asi
+-, c *
+-__fe
+-,
+-
+-70 
+-__le
+-, c *
+-__funi
+-)
+-
+-71 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-74 

+-	$__as__
+- (
+-__um
+-, c *
+-__fe
+-,
+-
+-75 
+-__le
+-, c *
+-__funi
+-)
+-
+-76 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-81 

+-	$__as
+- (c *
+-__asi
+-, c *
+-__fe
+-, 
+-__le
+-)
+-
+-82 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-85 
+-__END_DECLS
+-
+-
+-91 #i
+-defed
+- 
+-__lulus
+-
+-
+-92 
+-	#as
+-(
+-ex
+-) \
+-
+-93 (
+-ic_
+- <
+-bo
+-> (
+-ex
+-) \
+-
+-95 : 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-96 #i!
+-defed
+- 
+-__GNUC__
+- || defed 
+-__STRICT_ANSI__
+-
+-
+-97 
+-	#as
+-(
+-ex
+-) \
+-
+-98 ((
+-ex
+-) \
+-
+-99 ? 
+-	`__ASSERT_VOID_CAST
+- (0) \
+-
+-100 : 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-107 
+-	#as
+-(
+-ex
+-) \
+-
+-108 (( ((
+-ex
+-? 1 : 0), 
+-	`__exnsi__
+- ({ \
+-
+-109 i(
+-ex
+-) \
+-
+-112 
+-	`__as_
+- (#ex, 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-); \
+-
+-113 
+-	}
+-}))
+-
+-	)
+-
+-116 #ifdef 
+-__USE_GNU
+-
+-
+-117 
+-	#as_
+-(
+-um
+-) \
+-
+-118 (!(
+-um
+-) \
+-
+-119 ? 
+-	`__ASSERT_VOID_CAST
+- (0) \
+-
+-120 : 
+-	`__as__
+- ((
+-um
+-), 
+-__FILE__
+-, 
+-__LINE__
+-, 
+-__ASSERT_FUNCTION
+-))
+-
+-	)
+-
+-128 #i
+-defed
+- 
+-__lulus
+- ? 
+-__GNUC_PREREQ
+- (2, 6) : __GNUC_PREREQ (2, 4)
+-
+-129 
+-	#__ASSERT_FUNCTION
+- 
+-__exnsi__
+- 
+-__PRETTY_FUNCTION__
+-
+-
+-	)
+-
+-131 #i
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199901L
+-
+-132 
+-	#__ASSERT_FUNCTION
+- 
+-__func__
+-
+-
+-	)
+-
+-134 
+-	#__ASSERT_FUNCTION
+- ((c *0)
+-
+-	)
+-
+-141 #i
+-defed
+- 
+-__USE_ISOC11
+- && !defed 
+-__lulus
+-
+-
+-142 #unde
+-ic_as
+-
+-
+-143 
+-	#ic_as
+- 
+-_Stic_as
+-
+-
+-	)
+-
+-	@/usr/include/stdio.h
+-
+-23 #ide
+-_STDIO_H
+-
+-
+-24 
+-	#_STDIO_H
+- 1
+-
+-	)
+-
+-26 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-27 
+-	~<bs/libc-hd-t.h
+->
+-
+-29 
+-	g__BEGIN_DECLS
+-
+-
+-31 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-32 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-33 
+-	~<ddef.h
+->
+-
+-35 
+-	#__ed___va_li
+-
+-
+-	)
+-
+-36 
+-	~<dg.h
+->
+-
+-38 
+-	~<bs/tys.h
+->
+-
+-39 
+-	~<bs/tys/__os_t.h
+->
+-
+-40 
+-	~<bs/tys/__os64_t.h
+->
+-
+-41 
+-	~<bs/tys/__FILE.h
+->
+-
+-42 
+-	~<bs/tys/FILE.h
+->
+-
+-43 
+-	~<bs/tys/ru_FILE.h
+->
+-
+-45 #ifde
+-__USE_GNU
+-
+-
+-46 
+-	~<bs/tys/cook_io_funis_t.h
+->
+-
+-49 #i
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-50 #ifde
+-__GNUC__
+-
+-
+-51 #ide
+-_VA_LIST_DEFINED
+-
+-
+-52 
+-__gnuc_va_li
+- 
+-	tva_li
+-;
+-
+-53 
+-	#_VA_LIST_DEFINED
+-
+-
+-	)
+-
+-56 
+-	~<dg.h
+->
+-
+-60 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-61 #ide
+-__off_t_defed
+-
+-
+-62 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-63 
+-__off_t
+- 
+-	toff_t
+-;
+-
+-65 
+-__off64_t
+- 
+-	toff_t
+-;
+-
+-67 
+-	#__off_t_defed
+-
+-
+-	)
+-
+-69 #i
+-defed
+- 
+-__USE_LARGEFILE64
+- && !defed 
+-__off64_t_defed
+-
+-
+-70 
+-__off64_t
+- 
+-	toff64_t
+-;
+-
+-71 
+-	#__off64_t_defed
+-
+-
+-	)
+-
+-75 #ifde
+-__USE_XOPEN2K8
+-
+-
+-76 #ide
+-__ssize_t_defed
+-
+-
+-77 
+-__ssize_t
+- 
+-	tssize_t
+-;
+-
+-78 
+-	#__ssize_t_defed
+-
+-
+-	)
+-
+-83 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-84 
+-__os_t
+- 
+-	tos_t
+-;
+-
+-86 
+-__os64_t
+- 
+-	tos_t
+-;
+-
+-88 #ifde
+-__USE_LARGEFILE64
+-
+-
+-89 
+-__os64_t
+- 
+-	tos64_t
+-;
+-
+-93 
+-	#_IOFBF
+- 0
+-
+-	)
+-
+-94 
+-	#_IOLBF
+- 1
+-
+-	)
+-
+-95 
+-	#_IONBF
+- 2
+-
+-	)
+-
+-99 
+-	#BUFSIZ
+- 8192
+-
+-	)
+-
+-104 
+-	#EOF
+- (-1)
+-
+-	)
+-
+-109 
+-	#SEEK_SET
+- 0
+-
+-	)
+-
+-110 
+-	#SEEK_CUR
+- 1
+-
+-	)
+-
+-111 
+-	#SEEK_END
+- 2
+-
+-	)
+-
+-112 #ifde
+-__USE_GNU
+-
+-
+-113 
+-	#SEEK_DATA
+- 3
+-
+-	)
+-
+-114 
+-	#SEEK_HOLE
+- 4
+-
+-	)
+-
+-118 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-120 
+-	#P_tmpd
+- "/tmp"
+-
+-	)
+-
+-133 
+-	~<bs/dio_lim.h
+->
+-
+-136 #i
+-__GLIBC_USE
+- (
+-ISOC2X
+-)
+-
+-138 
+-	#_PRINTF_NAN_LEN_MAX
+- 4
+-
+-	)
+-
+-143 
+-FILE
+- *
+-d
+-;
+-
+-144 
+-FILE
+- *
+-dout
+-;
+-
+-145 
+-FILE
+- *
+-dr
+-;
+-
+-147 
+-	#d
+- 
+-d
+-
+-
+-	)
+-
+-148 
+-	#dout
+- 
+-dout
+-
+-
+-	)
+-
+-149 
+-	#dr
+- 
+-dr
+-
+-
+-	)
+-
+-152 

+-	$move
+- (c *
+-__fame
+-
+-__THROW
+-;
+-
+-154 

+-	$me
+- (c *
+-__d
+-, c *
+-__w
+-
+-__THROW
+-;
+-
+-156 #ifde
+-__USE_ATFILE
+-
+-
+-158 

+-	$mt
+- (
+-__dfd
+-, c *
+-__d
+-, 
+-__wfd
+-,
+-
+-159 c *
+-__w
+-
+-__THROW
+-;
+-
+-162 #ifde
+-__USE_GNU
+-
+-
+-164 
+-	#RENAME_NOREPLACE
+- (1 << 0)
+-
+-	)
+-
+-165 
+-	#RENAME_EXCHANGE
+- (1 << 1)
+-
+-	)
+-
+-166 
+-	#RENAME_WHITEOUT
+- (1 << 2)
+-
+-	)
+-
+-170 

+-	$mt2
+- (
+-__dfd
+-, c *
+-__d
+-, 
+-__wfd
+-,
+-
+-171 c *
+-__w
+-, 
+-__ags
+-
+-__THROW
+-;
+-
+-178 

+-	`fo
+- (
+-FILE
+- *
+-__am
+-);
+-
+-180 #unde
+-___doc_fo
+-
+-
+-181 
+-	#___doc_fo
+- 
+-	`___doc
+- (
+-fo
+-, 1)
+-
+-	)
+-
+-187 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-188 
+-FILE
+- *
+-	$tmpfe
+- ()
+-
+-189 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-191 #ifde
+-__REDIRECT
+-
+-
+-192 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-tmpfe
+-, (), 
+-tmpfe64
+-)
+-
+-193 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-195 
+-	#tmpfe
+- 
+-tmpfe64
+-
+-
+-	)
+-
+-199 #ifde
+-__USE_LARGEFILE64
+-
+-
+-200 
+-FILE
+- *
+-	$tmpfe64
+- ()
+-
+-201 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-205 
*
+-	$tmam
+- ([
+-L_tmam
+-]
+-__THROW
+- 
+-__wur
+-;
+-
+-207 #ifde
+-__USE_MISC
+-
+-
+-210 
*
+-	$tmam_r
+- (
+-__s
+-[
+-L_tmam
+-]
+-__THROW
+- 
+-__wur
+-;
+-
+-214 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-222 
*
+-	$mam
+- (c *
+-__d
+-, c *
+-__pfx
+-)
+-
+-223 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-__wur
+- 
+-___doc_
+-;
+-
+-230 

+-	`fush
+- (
+-FILE
+- *
+-__am
+-);
+-
+-232 #ifde
+-__USE_MISC
+-
+-
+-239 

+-	`fush_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-242 #ifde
+-__USE_GNU
+-
+-
+-249 

+-	`fol
+- ();
+-
+-253 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-258 
+-FILE
+- *
+-	$f
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-259 c *
+-__ri
+- 
+-__modes
+-)
+-
+-260 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-265 
+-FILE
+- *
+-	$e
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-266 c *
+-__ri
+- 
+-__modes
+-,
+-
+-267 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-269 #ifde
+-__REDIRECT
+-
+-
+-270 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-f
+-, (c *
+-__ri
+- 
+-__fame
+-,
+-
+-271 c *
+-__ri
+- 
+-__modes
+-), 
+-f64
+-)
+-
+-272 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-273 
+-FILE
+- *
+-	`__REDIRECT
+- (
+-e
+-, (c *
+-__ri
+- 
+-__fame
+-,
+-
+-274 c *
+-__ri
+- 
+-__modes
+-,
+-
+-275 
+-FILE
+- *
+-__ri
+- 
+-__am
+-), 
+-e64
+-)
+-
+-276 
+-__wur
+-;
+-
+-278 
+-	#f
+- 
+-f64
+-
+-
+-	)
+-
+-279 
+-	#e
+- 
+-e64
+-
+-
+-	)
+-
+-282 #ifde
+-__USE_LARGEFILE64
+-
+-
+-283 
+-FILE
+- *
+-	$f64
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-284 c *
+-__ri
+- 
+-__modes
+-)
+-
+-285 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-286 
+-FILE
+- *
+-	$e64
+- (c *
+-__ri
+- 
+-__fame
+-,
+-
+-287 c *
+-__ri
+- 
+-__modes
+-,
+-
+-288 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-291 #ifdef 
+-__USE_POSIX
+-
+-
+-293 
+-FILE
+- *
+-	$fd
+- (
+-__fd
+-, c *
+-__modes
+-
+-__THROW
+-
+-
+-294 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-297 #ifdef 
+-__USE_GNU
+-
+-
+-300 
+-FILE
+- *
+-	$fcook
+- (*
+-__ri
+- 
+-__magic_cook
+-,
+-
+-301 c *
+-__ri
+- 
+-__modes
+-,
+-
+-302 
+-cook_io_funis_t
+- 
+-__io_funcs
+-
+-__THROW
+-
+-
+-303 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-306 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-308 
+-FILE
+- *
+-	$fmem
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-, c *
+-__modes
+-)
+-
+-309 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-314 
+-FILE
+- *
+-	$_memam
+- (**
+-__buoc
+-, 
+-size_t
+- *
+-__sizoc
+-
+-__THROW
+-
+-
+-315 
+-__ibu_mloc__
+- 
+-___doc_fo
+- 
+-__wur
+-;
+-
+-317 #ifde
+-_WCHAR_H
+-
+-
+-321 
+-__FILE
+- *
+-	$_wmemam
+- (
+-wch_t
+- **
+-__buoc
+-, 
+-size_t
+- *
+-__sizoc
+-
+-__THROW
+-
+-
+-322 
+-__ibu_mloc__
+- 
+-___doc_fo
+-;
+-
+-328 

+-	$tbuf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-
+-__THROW
+-;
+-
+-332 

+-	$tvbuf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-,
+-
+-333 
+-__modes
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-335 #ifdef 
+-__USE_MISC
+-
+-
+-338 

+-	$tbufr
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, *__ri 
+-__buf
+-,
+-
+-339 
+-size_t
+- 
+-__size
+-
+-__THROW
+-;
+-
+-342 

+-	$ebuf
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-350 

+-	`rtf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-351 c *
+-__ri
+- 
+-__fm
+-, ...);
+-
+-356 

+-	`tf
+- (c *
+-__ri
+- 
+-__fm
+-, ...);
+-
+-358 

+-	$rtf
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-359 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROWNL
+-;
+-
+-365 

+-	`vrtf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-366 
+-__gnuc_va_li
+- 
+-__g
+-);
+-
+-371 

+-	`vtf
+- (c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-);
+-
+-373 

+-	$vrtf
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-374 
+-__gnuc_va_li
+- 
+-__g
+-
+-__THROWNL
+-;
+-
+-376 #i
+-defed
+- 
+-__USE_ISOC99
+- || defed 
+-__USE_UNIX98
+-
+-
+-378 

+-	$tf
+- (*
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__maxn
+-,
+-
+-379 c *
+-__ri
+- 
+-__fm
+-, ...)
+-
+-380 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 3, 4)));
+-
+-382 

+-	$vtf
+- (*
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__maxn
+-,
+-
+-383 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-384 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 3, 0)));
+-
+-387 #i
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-390 

+-	$vartf
+- (**
+-__ri
+- 
+-__r
+-, c *__ri 
+-__f
+-,
+-
+-391 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-392 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 0))
+-__wur
+-;
+-
+-393 

+-	$__artf
+- (**
+-__ri
+- 
+-__r
+-,
+-
+-394 c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-395 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 3))
+-__wur
+-;
+-
+-396 

+-	$artf
+- (**
+-__ri
+- 
+-__r
+-,
+-
+-397 c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-398 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__tf__
+-, 2, 3))
+-__wur
+-;
+-
+-401 #ifde
+-__USE_XOPEN2K8
+-
+-
+-403 

+-	$vdtf
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__fmt
+-,
+-
+-404 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-405 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 0)));
+-
+-406 

+-	$dtf
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__fmt
+-, ...)
+-
+-407 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 3)));
+-
+-415 

+-	$fsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-416 c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-421 

+-	$snf
+- (c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-423 

+-	$ssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-424 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROW
+-;
+-
+-430 
+-	~<bs/.h
+->
+-
+-431 #i!
+-	`__GLIBC_USE
+- (
+-DEPRECATED_SCANF
+-&& !
+-defed
+- 
+-__LDBL_COMPAT
+- \
+-
+-432 && 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 0
+-
+-433 #ifde
+-__REDIRECT
+-
+-
+-434 

+-	`__REDIRECT
+- (
+-fsnf
+-, (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-435 c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-436 
+-__isoc99_fsnf
+-
+-__wur
+-;
+-
+-437 

+-	`__REDIRECT
+- (
+-snf
+-, (c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-438 
+-__isoc99_snf
+-
+-__wur
+-;
+-
+-439 

+-	`__REDIRECT_NTH
+- (
+-ssnf
+-, (c *
+-__ri
+- 
+-__s
+-,
+-
+-440 c *
+-__ri
+- 
+-__fm
+-, ...),
+-
+-441 
+-__isoc99_ssnf
+-);
+-
+-443 

+-	$__isoc99_fsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-444 c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-445 

+-	$__isoc99_snf
+- (c *
+-__ri
+- 
+-__fm
+-, ...
+-__wur
+-;
+-
+-446 

+-	$__isoc99_ssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-447 c *
+-__ri
+- 
+-__fm
+-, ...
+-__THROW
+-;
+-
+-448 
+-	#fsnf
+- 
+-__isoc99_fsnf
+-
+-
+-	)
+-
+-449 
+-	#snf
+- 
+-__isoc99_snf
+-
+-
+-	)
+-
+-450 
+-	#ssnf
+- 
+-__isoc99_ssnf
+-
+-
+-	)
+-
+-454 #ifdef 
+-__USE_ISOC99
+-
+-
+-459 

+-	$vfsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-, c *__ri 
+-__fm
+-,
+-
+-460 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-461 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 2, 0))
+-__wur
+-;
+-
+-467 

+-	$vsnf
+- (c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-468 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 1, 0))
+-__wur
+-;
+-
+-471 

+-	$vssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-472 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-)
+-
+-473 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__snf__
+-, 2, 0)));
+-
+-476 #i!
+-	`__GLIBC_USE
+- (
+-DEPRECATED_SCANF
+-)
+-
+-477 #i
+-defed
+- 
+-__REDIRECT
+- && !defed 
+-__LDBL_COMPAT
+- \
+-
+-478 && 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 0
+-
+-479 

+-	`__REDIRECT
+- (
+-vfsnf
+-,
+-
+-480 (
+-FILE
+- *
+-__ri
+- 
+-__s
+-,
+-
+-481 c *
+-__ri
+- 
+-__fm
+-, 
+-__gnuc_va_li
+- 
+-__g
+-),
+-
+-482 
+-__isoc99_vfsnf
+-)
+-
+-483 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 2, 0))
+-__wur
+-;
+-
+-484 

+-	`__REDIRECT
+- (
+-vsnf
+-, (c *
+-__ri
+- 
+-__fm
+-,
+-
+-485 
+-__gnuc_va_li
+- 
+-__g
+-), 
+-__isoc99_vsnf
+-)
+-
+-486 
+-	`__ibu__
+- ((
+-	$__fm__
+- (
+-__snf__
+-, 1, 0))
+-__wur
+-;
+-
+-487 

+-	`__REDIRECT_NTH
+- (
+-vssnf
+-,
+-
+-488 (c *
+-__ri
+- 
+-__s
+-,
+-
+-489 c *
+-__ri
+- 
+-__fm
+-,
+-
+-490 
+-__gnuc_va_li
+- 
+-__g
+-), 
+-__isoc99_vssnf
+-)
+-
+-491 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__snf__
+-, 2, 0)));
+-
+-492 #i!
+-defed
+- 
+-__REDIRECT
+-
+-
+-493 

+-	$__isoc99_vfsnf
+- (
+-FILE
+- *
+-__ri
+- 
+-__s
+-,
+-
+-494 c *
+-__ri
+- 
+-__fm
+-,
+-
+-495 
+-__gnuc_va_li
+- 
+-__g
+-
+-__wur
+-;
+-
+-496 

+-	$__isoc99_vsnf
+- (c *
+-__ri
+- 
+-__fm
+-,
+-
+-497 
+-__gnuc_va_li
+- 
+-__g
+-
+-__wur
+-;
+-
+-498 

+-	$__isoc99_vssnf
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-499 c *
+-__ri
+- 
+-__fm
+-,
+-
+-500 
+-__gnuc_va_li
+- 
+-__g
+-
+-__THROW
+-;
+-
+-501 
+-	#vfsnf
+- 
+-__isoc99_vfsnf
+-
+-
+-	)
+-
+-502 
+-	#vsnf
+- 
+-__isoc99_vsnf
+-
+-
+-	)
+-
+-503 
+-	#vssnf
+- 
+-__isoc99_vssnf
+-
+-
+-	)
+-
+-513 

+-	`fgc
+- (
+-FILE
+- *
+-__am
+-);
+-
+-514 

+-	`gc
+- (
+-FILE
+- *
+-__am
+-);
+-
+-520 

+-	`gch
+- ();
+-
+-522 #ifde
+-__USE_POSIX199506
+-
+-
+-527 

+-	`gc_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-528 

+-	`gch_uocked
+- ();
+-
+-531 #ifde
+-__USE_MISC
+-
+-
+-538 

+-	`fgc_uocked
+- (
+-FILE
+- *
+-__am
+-);
+-
+-549 

+-	`utc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-550 

+-	`putc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-556 

+-	`putch
+- (
+-__c
+-);
+-
+-558 #ifde
+-__USE_MISC
+-
+-
+-565 

+-	`utc_uocked
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-568 #ifde
+-__USE_POSIX199506
+-
+-
+-573 

+-	`putc_uocked
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-574 

+-	`putch_uocked
+- (
+-__c
+-);
+-
+-578 #i
+-defed
+- 
+-__USE_MISC
+- \
+-
+-579 || (
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-)
+-
+-581 

+-	`gw
+- (
+-FILE
+- *
+-__am
+-);
+-
+-584 

+-	`putw
+- (
+-__w
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-592 
*
+-	$fgs
+- (*
+-__ri
+- 
+-__s
+-, 
+-__n
+-, 
+-FILE
+- *__ri 
+-__am
+-)
+-
+-593 
+-__wur
+- 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-595 #i
+-	`__GLIBC_USE
+- (
+-DEPRECATED_GETS
+-)
+-
+-605 
*
+-	$gs
+- (*
+-__s
+-
+-__wur
+- 
+-__ibu_dd__
+-;
+-
+-608 #ifde
+-__USE_GNU
+-
+-
+-615 
*
+-	$fgs_uocked
+- (*
+-__ri
+- 
+-__s
+-, 
+-__n
+-,
+-
+-616 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-
+-
+-617 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-621 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-)
+-
+-632 
+-__ssize_t
+- 
+-	$__gdim
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-633 
+-size_t
+- *
+-__ri
+- 
+-__n
+-, 
+-__dim
+-,
+-
+-634 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-635 
+-__ssize_t
+- 
+-	$gdim
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-636 
+-size_t
+- *
+-__ri
+- 
+-__n
+-, 
+-__dim
+-,
+-
+-637 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-645 
+-__ssize_t
+- 
+-	$gle
+- (**
+-__ri
+- 
+-__l
+-,
+-
+-646 
+-size_t
+- *
+-__ri
+- 
+-__n
+-,
+-
+-647 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-655 

+-	`uts
+- (c *
+-__ri
+- 
+-__s
+-, 
+-FILE
+- *__ri 
+-__am
+-);
+-
+-661 

+-	`puts
+- (c *
+-__s
+-);
+-
+-668 

+-	`ungc
+- (
+-__c
+-, 
+-FILE
+- *
+-__am
+-);
+-
+-675 
+-size_t
+- 
+-	$d
+- (*
+-__ri
+- 
+-__r
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-676 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-681 
+-size_t
+- 
+-	`fwre
+- (c *
+-__ri
+- 
+-__r
+-, size_
+-__size
+-,
+-
+-682 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__s
+-);
+-
+-684 #ifde
+-__USE_GNU
+-
+-
+-691 

+-	`uts_uocked
+- (c *
+-__ri
+- 
+-__s
+-,
+-
+-692 
+-FILE
+- *
+-__ri
+- 
+-__am
+-);
+-
+-695 #ifde
+-__USE_MISC
+-
+-
+-702 
+-size_t
+- 
+-	$d_uocked
+- (*
+-__ri
+- 
+-__r
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-703 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-
+-__wur
+-;
+-
+-704 
+-size_t
+- 
+-	`fwre_uocked
+- (c *
+-__ri
+- 
+-__r
+-, size_
+-__size
+-,
+-
+-705 
+-size_t
+- 
+-__n
+-, 
+-FILE
+- *
+-__ri
+- 
+-__am
+-);
+-
+-713 

+-	`fek
+- (
+-FILE
+- *
+-__am
+-, 
+-__off
+-, 
+-__wh
+-);
+-
+-718 

+-	$l
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-723 

+-	`wd
+- (
+-FILE
+- *
+-__am
+-);
+-
+-730 #i
+-defed
+- 
+-__USE_LARGEFILE
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-731 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-736 

+-	`feko
+- (
+-FILE
+- *
+-__am
+-, 
+-__off_t
+- 
+-__off
+-, 
+-__wh
+-);
+-
+-741 
+-__off_t
+- 
+-	$lo
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-743 #ifde
+-__REDIRECT
+-
+-
+-744 

+-	`__REDIRECT
+- (
+-feko
+-,
+-
+-745 (
+-FILE
+- *
+-__am
+-, 
+-__off64_t
+- 
+-__off
+-, 
+-__wh
+-),
+-
+-746 
+-feko64
+-);
+-
+-747 
+-__off64_t
+- 
+-	`__REDIRECT
+- (
+-lo
+-, (
+-FILE
+- *
+-__am
+-), 
+-lo64
+-);
+-
+-749 
+-	#feko
+- 
+-feko64
+-
+-
+-	)
+-
+-750 
+-	#lo
+- 
+-lo64
+-
+-
+-	)
+-
+-755 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-760 

+-	`fgpos
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, 
+-os_t
+- *__ri 
+-__pos
+-);
+-
+-765 

+-	`fos
+- (
+-FILE
+- *
+-__am
+-, c 
+-os_t
+- *
+-__pos
+-);
+-
+-767 #ifde
+-__REDIRECT
+-
+-
+-768 

+-	`__REDIRECT
+- (
+-fgpos
+-, (
+-FILE
+- *
+-__ri
+- 
+-__am
+-,
+-
+-769 
+-os_t
+- *
+-__ri
+- 
+-__pos
+-), 
+-fgpos64
+-);
+-
+-770 

+-	`__REDIRECT
+- (
+-fos
+-,
+-
+-771 (
+-FILE
+- *
+-__am
+-, c 
+-os_t
+- *
+-__pos
+-), 
+-fos64
+-);
+-
+-773 
+-	#fgpos
+- 
+-fgpos64
+-
+-
+-	)
+-
+-774 
+-	#fos
+- 
+-fos64
+-
+-
+-	)
+-
+-778 #ifde
+-__USE_LARGEFILE64
+-
+-
+-779 

+-	`feko64
+- (
+-FILE
+- *
+-__am
+-, 
+-__off64_t
+- 
+-__off
+-, 
+-__wh
+-);
+-
+-780 
+-__off64_t
+- 
+-	$lo64
+- (
+-FILE
+- *
+-__am
+-
+-__wur
+-;
+-
+-781 

+-	`fgpos64
+- (
+-FILE
+- *
+-__ri
+- 
+-__am
+-, 
+-os64_t
+- *__ri 
+-__pos
+-);
+-
+-782 

+-	`fos64
+- (
+-FILE
+- *
+-__am
+-, c 
+-os64_t
+- *
+-__pos
+-);
+-
+-786 

+-	$
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-788 

+-	$of
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-790 

+-	$
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-792 #ifde
+-__USE_MISC
+-
+-
+-794 

+-	$_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-795 

+-	$of_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-796 

+-	$_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-804 

+-	`
+- (c *
+-__s
+-);
+-
+-807 #ifdef 
+-__USE_POSIX
+-
+-
+-809 

+-	$fo
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-812 #ifde
+-__USE_MISC
+-
+-
+-814 

+-	$fo_uocked
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-818 #ifde
+-__USE_POSIX2
+-
+-
+-823 

+-	`po
+- (
+-FILE
+- *
+-__am
+-);
+-
+-829 
+-FILE
+- *
+-	$p
+- (c *
+-__commd
+-, c *
+-__modes
+-)
+-
+-830 
+-__ibu_mloc__
+- 
+-	$___doc
+- (
+-po
+-, 1
+-__wur
+-;
+-
+-835 #ifdef 
+-__USE_POSIX
+-
+-
+-837 
*
+-	$mid
+- (*
+-__s
+-
+-__THROW
+-
+-
+-838 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-842 #i(
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-|| defed 
+-__USE_GNU
+-
+-
+-844 
*
+-	$curid
+- (*
+-__s
+-)
+-
+-845 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-849 #ifdef 
+-__USE_GNU
+-
+-
+-850 
+-oback
+-;
+-
+-853 

+-	$oback_tf
+- (
+-oback
+- *
+-__ri
+- 
+-__oback
+-,
+-
+-854 c *
+-__ri
+- 
+-__fm
+-, ...)
+-
+-855 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 3)));
+-
+-856 

+-	$oback_vtf
+- (
+-oback
+- *
+-__ri
+- 
+-__oback
+-,
+-
+-857 c *
+-__ri
+- 
+-__fm
+-,
+-
+-858 
+-__gnuc_va_li
+- 
+-__gs
+-)
+-
+-859 
+-__THROWNL
+- 
+-	`__ibu__
+- ((
+-	`__fm__
+- (
+-__tf__
+-, 2, 0)));
+-
+-863 #ifde
+-__USE_POSIX199506
+-
+-
+-867 

+-	$ockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-871 

+-	$rylockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-874 

+-	$fuockfe
+- (
+-FILE
+- *
+-__am
+-
+-__THROW
+-;
+-
+-877 #i
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+- && !defed 
+-__USE_GNU
+-
+-
+-880 
+-	~<bs/gt_posix.h
+->
+-
+-885 

+-	`__uow
+- (
+-FILE
+- *);
+-
+-886 

+-	`__ovow
+- (
+-FILE
+- *, );
+-
+-890 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-891 
+-	~<bs/dio.h
+->
+-
+-893 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-894 
+-	~<bs/dio2.h
+->
+-
+-897 
+-	~<bs/.h
+->
+-
+-898 #i
+-defed
+- 
+-__LDBL_COMPAT
+- || 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 1
+-
+-899 
+-	~<bs/dio-ldbl.h
+->
+-
+-902 
+-__END_DECLS
+-
+-
+-	@/usr/include/stdlib.h
+-
+-23 #idef 
+-_STDLIB_H
+-
+-
+-25 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-26 
+-	~<bs/libc-hd-t.h
+->
+-
+-29 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-30 
+-	#__ed_wch_t
+-
+-
+-	)
+-
+-31 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-32 
+-	~<ddef.h
+->
+-
+-34 
+-	g__BEGIN_DECLS
+-
+-
+-36 
+-	#_STDLIB_H
+- 1
+-
+-	)
+-
+-38 #i(
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K8
+-&& !defed 
+-_SYS_WAIT_H
+-
+-
+-40 
+-	~<bs/waags.h
+->
+-
+-41 
+-	~<bs/waus.h
+->
+-
+-44 
+-	#WEXITSTATUS
+-(
+-us
+-
+-	`__WEXITSTATUS
+- (us)
+-
+-	)
+-
+-45 
+-	#WTERMSIG
+-(
+-us
+-
+-	`__WTERMSIG
+- (us)
+-
+-	)
+-
+-46 
+-	#WSTOPSIG
+-(
+-us
+-
+-	`__WSTOPSIG
+- (us)
+-
+-	)
+-
+-47 
+-	#WIFEXITED
+-(
+-us
+-
+-	`__WIFEXITED
+- (us)
+-
+-	)
+-
+-48 
+-	#WIFSIGNALED
+-(
+-us
+-
+-	`__WIFSIGNALED
+- (us)
+-
+-	)
+-
+-49 
+-	#WIFSTOPPED
+-(
+-us
+-
+-	`__WIFSTOPPED
+- (us)
+-
+-	)
+-
+-50 #ifde
+-__WIFCONTINUED
+-
+-
+-51 
+-	#WIFCONTINUED
+-(
+-us
+-
+-	`__WIFCONTINUED
+- (us)
+-
+-	)
+-
+-56 
+-	~<bs/.h
+->
+-
+-61 
+-	mqu
+-;
+-
+-62 
+-	mm
+-;
+-
+-63 } 
+-	tdiv_t
+-;
+-
+-66 #ide
+-__ldiv_t_defed
+-
+-
+-69 
+-	mqu
+-;
+-
+-70 
+-	mm
+-;
+-
+-71 } 
+-	tldiv_t
+-;
+-
+-72 
+-	#__ldiv_t_defed
+- 1
+-
+-	)
+-
+-75 #i
+-defed
+- 
+-__USE_ISOC99
+- && !defed 
+-__div_t_defed
+-
+-
+-77 
+-__exnsi__
+- struct
+-
+-79 
+-	mqu
+-;
+-
+-80 
+-	mm
+-;
+-
+-81 } 
+-	tdiv_t
+-;
+-
+-82 
+-	#__div_t_defed
+- 1
+-
+-	)
+-
+-87 
+-	#RAND_MAX
+- 2147483647
+-
+-	)
+-
+-92 
+-	#EXIT_FAILURE
+- 1
+-
+-	)
+-
+-93 
+-	#EXIT_SUCCESS
+- 0
+-
+-	)
+-
+-97 
+-	#MB_CUR_MAX
+- (
+-	`__y_g_mb_cur_max
+- ())
+-
+-	)
+-
+-98 
+-size_t
+- 
+-	$__y_g_mb_cur_max
+- (
+-__THROW
+- 
+-__wur
+-;
+-
+-102 

+-	$of
+- (c *
+-__
+-)
+-
+-103 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-105 

+-	$oi
+- (c *
+-__
+-)
+-
+-106 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-108 

+-	$
+- (c *
+-__
+-)
+-
+-109 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-111 #ifde
+-__USE_ISOC99
+-
+-
+-113 
+-__exnsi__
+- 

+-	$l
+- (c *
+-__
+-)
+-
+-114 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-118 

+-	$od
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-119 **
+-__ri
+- 
+-__dr
+-)
+-
+-120 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-122 #ifdef 
+-__USE_ISOC99
+-
+-
+-124 

+-	$of
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-125 **
+-__ri
+- 
+-__dr
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-127 

+-	$d
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-128 **
+-__ri
+- 
+-__dr
+-)
+-
+-129 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-134 #i
+-__HAVE_FLOAT16
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-135 
+-_Flt16
+- 
+-	$of16
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-136 **
+-__ri
+- 
+-__dr
+-)
+-
+-137 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-140 #i
+-__HAVE_FLOAT32
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-141 
+-_Flt32
+- 
+-	$of32
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-142 **
+-__ri
+- 
+-__dr
+-)
+-
+-143 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-146 #i
+-__HAVE_FLOAT64
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-147 
+-_Flt64
+- 
+-	$of64
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-148 **
+-__ri
+- 
+-__dr
+-)
+-
+-149 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-152 #i
+-__HAVE_FLOAT128
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-153 
+-_Flt128
+- 
+-	$of128
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-154 **
+-__ri
+- 
+-__dr
+-)
+-
+-155 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-158 #i
+-__HAVE_FLOAT32X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-159 
+-_Flt32x
+- 
+-	$of32x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-160 **
+-__ri
+- 
+-__dr
+-)
+-
+-161 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-164 #i
+-__HAVE_FLOAT64X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-165 
+-_Flt64x
+- 
+-	$of64x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-166 **
+-__ri
+- 
+-__dr
+-)
+-
+-167 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-170 #i
+-__HAVE_FLOAT128X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-171 
+-_Flt128x
+- 
+-	$of128x
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-172 **
+-__ri
+- 
+-__dr
+-)
+-
+-173 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-177 

+-	$
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-178 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-179 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-181 

+-	$oul
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-182 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-183 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-185 #ifde
+-__USE_MISC
+-
+-
+-187 
+-__exnsi__
+-
+-
+-188 

+-	$oq
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-189 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-190 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-192 
+-__exnsi__
+-
+-
+-193 

+-	$ouq
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-194 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-195 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-198 #ifde
+-__USE_ISOC99
+-
+-
+-200 
+-__exnsi__
+-
+-
+-201 

+-	$l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-202 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-203 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-205 
+-__exnsi__
+-
+-
+-206 

+-	$ou
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-207 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-)
+-
+-208 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-212 #i
+-	`__GLIBC_USE
+- (
+-IEC_60559_BFP_EXT_C2X
+-)
+-
+-213 

+-	$romd
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-214 
+-__f
+-)
+-
+-215 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-217 

+-	$romf
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-218 
+-__f
+-)
+-
+-219 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-221 

+-	$roml
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c *
+-__fm
+-,
+-
+-222 
+-__f
+-)
+-
+-223 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-226 #i
+-__HAVE_FLOAT16
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-227 

+-	$romf16
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-228 
+-_Flt16
+- 
+-__f
+-)
+-
+-229 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-232 #i
+-__HAVE_FLOAT32
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-233 

+-	$romf32
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-234 
+-_Flt32
+- 
+-__f
+-)
+-
+-235 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-238 #i
+-__HAVE_FLOAT64
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-239 

+-	$romf64
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-240 
+-_Flt64
+- 
+-__f
+-)
+-
+-241 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-244 #i
+-__HAVE_FLOAT128
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-245 

+-	$romf128
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-246 
+-_Flt128
+- 
+-__f
+-)
+-
+-247 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-250 #i
+-__HAVE_FLOAT32X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-251 

+-	$romf32x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-252 
+-_Flt32x
+- 
+-__f
+-)
+-
+-253 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-256 #i
+-__HAVE_FLOAT64X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-257 

+-	$romf64x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-258 
+-_Flt64x
+- 
+-__f
+-)
+-
+-259 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-262 #i
+-__HAVE_FLOAT128X
+- && 
+-	`__GLIBC_USE
+- (
+-IEC_60559_TYPES_EXT
+-)
+-
+-263 

+-	$romf128x
+- (*
+-__de
+-, 
+-size_t
+- 
+-__size
+-, c * 
+-__fm
+-,
+-
+-264 
+-_Flt128x
+- 
+-__f
+-)
+-
+-265 
+-__THROW
+- 
+-	`__nnu
+- ((3));
+-
+-269 #ifde
+-__USE_GNU
+-
+-
+-273 
+-	~<bs/tys/lo_t.h
+->
+-
+-275 

+-	$_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-276 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-,
+-
+-277 
+-lo_t
+- 
+-__loc
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-279 

+-	$oul_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-280 **
+-__ri
+- 
+-__dr
+-,
+-
+-281 
+-__ba
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-282 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-284 
+-__exnsi__
+-
+-
+-285 

+-	$l_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-286 **
+-__ri
+- 
+-__dr
+-, 
+-__ba
+-,
+-
+-287 
+-lo_t
+- 
+-__loc
+-)
+-
+-288 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-290 
+-__exnsi__
+-
+-
+-291 

+-	$ou_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-292 **
+-__ri
+- 
+-__dr
+-,
+-
+-293 
+-__ba
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-294 
+-__THROW
+- 
+-	`__nnu
+- ((1, 4));
+-
+-296 

+-	$od_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-297 **
+-__ri
+- 
+-__dr
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-298 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-300 

+-	$of_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-301 **
+-__ri
+- 
+-__dr
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-302 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-304 

+-	$d_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-305 **
+-__ri
+- 
+-__dr
+-,
+-
+-306 
+-lo_t
+- 
+-__loc
+-)
+-
+-307 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-309 #i
+-__HAVE_FLOAT16
+-
+-
+-310 
+-_Flt16
+- 
+-	$of16_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-311 **
+-__ri
+- 
+-__dr
+-,
+-
+-312 
+-lo_t
+- 
+-__loc
+-)
+-
+-313 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-316 #i
+-__HAVE_FLOAT32
+-
+-
+-317 
+-_Flt32
+- 
+-	$of32_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-318 **
+-__ri
+- 
+-__dr
+-,
+-
+-319 
+-lo_t
+- 
+-__loc
+-)
+-
+-320 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-323 #i
+-__HAVE_FLOAT64
+-
+-
+-324 
+-_Flt64
+- 
+-	$of64_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-325 **
+-__ri
+- 
+-__dr
+-,
+-
+-326 
+-lo_t
+- 
+-__loc
+-)
+-
+-327 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-330 #i
+-__HAVE_FLOAT128
+-
+-
+-331 
+-_Flt128
+- 
+-	$of128_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-332 **
+-__ri
+- 
+-__dr
+-,
+-
+-333 
+-lo_t
+- 
+-__loc
+-)
+-
+-334 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-337 #i
+-__HAVE_FLOAT32X
+-
+-
+-338 
+-_Flt32x
+- 
+-	$of32x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-339 **
+-__ri
+- 
+-__dr
+-,
+-
+-340 
+-lo_t
+- 
+-__loc
+-)
+-
+-341 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-344 #i
+-__HAVE_FLOAT64X
+-
+-
+-345 
+-_Flt64x
+- 
+-	$of64x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-346 **
+-__ri
+- 
+-__dr
+-,
+-
+-347 
+-lo_t
+- 
+-__loc
+-)
+-
+-348 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-351 #i
+-__HAVE_FLOAT128X
+-
+-
+-352 
+-_Flt128x
+- 
+-	$of128x_l
+- (c *
+-__ri
+- 
+-__
+-,
+-
+-353 **
+-__ri
+- 
+-__dr
+-,
+-
+-354 
+-lo_t
+- 
+-__loc
+-)
+-
+-355 
+-__THROW
+- 
+-	`__nnu
+- ((1, 3));
+-
+-360 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-361 
+-__ex_le
+- 
+-
+-362 
+-	`__NTH
+- (
+-	$oi
+- (c *
+-__
+-))
+-
+-364  (
+-	`
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-365 
+-	}
+-}
+-
+-366 
+-__ex_le
+- 
+-
+-367 
+-__NTH
+- (
+-	$
+- (c *
+-__
+-))
+-
+-369  
+-	`
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-370 
+-	}
+-}
+-
+-372 #ifde
+-__USE_ISOC99
+-
+-
+-373 
+-__exnsi__
+- 
+-__ex_le
+- 
+-
+-374 
+-__NTH
+- (
+-	$l
+- (c *
+-__
+-))
+-
+-376  
+-	`l
+- (
+-__
+-, (**
+-NULL
+-, 10);
+-
+-377 
+-	}
+-}
+-
+-382 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-386 
*
+-	$l64a
+- (
+-__n
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-389 

+-	$a64l
+- (c *
+-__s
+-)
+-
+-390 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-394 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-395 
+-	~<sys/tys.h
+->
+-
+-402 

+-	$ndom
+- (
+-__THROW
+-;
+-
+-405 

+-	$dom
+- (
+-__ed
+-
+-__THROW
+-;
+-
+-411 
*
+-	$e
+- (
+-__ed
+-, *
+-__ebuf
+-,
+-
+-412 
+-size_t
+- 
+-__
+-
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-416 
*
+-	$te
+- (*
+-__ebuf
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-419 #ifde
+-__USE_MISC
+-
+-
+-424 
+-	sndom_da
+-
+-
+-426 
+-t32_t
+- *
+-
+-;
+-
+-427 
+-t32_t
+- *
+-
+-;
+-
+-428 
+-t32_t
+- *
+-e
+-;
+-
+-429 
+-nd_ty
+-;
+-
+-430 
+-nd_deg
+-;
+-
+-431 
+-nd_p
+-;
+-
+-432 
+-t32_t
+- *
+-d_r
+-;
+-
+-435 

+-	$ndom_r
+- (
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-,
+-
+-436 
+-t32_t
+- *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-438 

+-	$dom_r
+- (
+-__ed
+-, 
+-ndom_da
+- *
+-__buf
+-)
+-
+-439 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-441 

+-	$e_r
+- (
+-__ed
+-, *
+-__ri
+- 
+-__ebuf
+-,
+-
+-442 
+-size_t
+- 
+-__
+-,
+-
+-443 
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-)
+-
+-444 
+-__THROW
+- 
+-	`__nnu
+- ((2, 4));
+-
+-446 

+-	$te_r
+- (*
+-__ri
+- 
+-__ebuf
+-,
+-
+-447 
+-ndom_da
+- *
+-__ri
+- 
+-__buf
+-)
+-
+-448 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-454 

+-	$nd
+- (
+-__THROW
+-;
+-
+-456 

+-	$d
+- (
+-__ed
+-
+-__THROW
+-;
+-
+-458 #ifde
+-__USE_POSIX199506
+-
+-
+-460 

+-	$nd_r
+- (*
+-__ed
+-
+-__THROW
+-;
+-
+-464 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-468 

+-	$dnd48
+- (
+-__THROW
+-;
+-
+-469 

+-	$d48
+- (
+-__xsubi
+-[3]
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-472 

+-	$d48
+- (
+-__THROW
+-;
+-
+-473 

+-	$d48
+- (
+-__xsubi
+-[3])
+-
+-474 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-477 

+-	$mnd48
+- (
+-__THROW
+-;
+-
+-478 

+-	$jnd48
+- (
+-__xsubi
+-[3])
+-
+-479 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-482 

+-	$d48
+- (
+-__edv
+-
+-__THROW
+-;
+-
+-483 
*
+-	$ed48
+- (
+-__ed16v
+-[3])
+-
+-484 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-485 

+-	$lcg48
+- (
+-__m
+-[7]
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-487 #ifde
+-__USE_MISC
+-
+-
+-491 
+-	sdnd48_da
+-
+-
+-493 
+-__x
+-[3];
+-
+-494 
+-__d_x
+-[3];
+-
+-495 
+-__c
+-;
+-
+-496 
+-__
+-;
+-
+-497 
+-__exnsi__
+- 
+-__a
+-;
+-
+-502 

+-	$dnd48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-503 *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-504 

+-	$d48_r
+- (
+-__xsubi
+-[3],
+-
+-505 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-506 *
+-__ri
+- 
+-__su
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-509 

+-	$d48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-510 *
+-__ri
+- 
+-__su
+-)
+-
+-511 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-512 

+-	$d48_r
+- (
+-__xsubi
+-[3],
+-
+-513 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-514 *
+-__ri
+- 
+-__su
+-)
+-
+-515 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-518 

+-	$mnd48_r
+- (
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-519 *
+-__ri
+- 
+-__su
+-)
+-
+-520 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-521 

+-	$jnd48_r
+- (
+-__xsubi
+-[3],
+-
+-522 
+-dnd48_da
+- *
+-__ri
+- 
+-__bufr
+-,
+-
+-523 *
+-__ri
+- 
+-__su
+-)
+-
+-524 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-527 

+-	$d48_r
+- (
+-__edv
+-, 
+-dnd48_da
+- *
+-__bufr
+-)
+-
+-528 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-530 

+-	$ed48_r
+- (
+-__ed16v
+-[3],
+-
+-531 
+-dnd48_da
+- *
+-__bufr
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-533 

+-	$lcg48_r
+- (
+-__m
+-[7],
+-
+-534 
+-dnd48_da
+- *
+-__bufr
+-)
+-
+-535 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-540 
*
+-	$mloc
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__ibu_mloc__
+-
+-
+-541 
+-	`__ibu_loc_size__
+- ((1)
+-__wur
+-;
+-
+-543 
*
+-	$oc
+- (
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-544 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__ibu_loc_size__
+- ((1, 2)
+-__wur
+-;
+-
+-551 
*
+-	$loc
+- (*
+-__r
+-, 
+-size_t
+- 
+-__size
+-)
+-
+-552 
+-__THROW
+- 
+-__ibu_wn_unud_su__
+- 
+-	`__ibu_loc_size__
+- ((2));
+-
+-555 

+-	$
+- (*
+-__r
+-
+-__THROW
+-;
+-
+-557 #ifde
+-__USE_MISC
+-
+-
+-563 
*
+-	$loay
+- (*
+-__r
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-564 
+-__THROW
+- 
+-__ibu_wn_unud_su__
+-
+-
+-565 
+-	`__ibu_loc_size__
+- ((2, 3))
+-
+-566 
+-___doc_
+-;
+-
+-569 
*
+-	$loay
+- (*
+-__r
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-)
+-
+-570 
+-__THROW
+- 
+-	`___doc
+- (
+-loay
+-, 1);
+-
+-573 #ifde
+-__USE_MISC
+-
+-
+-574 
+-	~<lo.h
+->
+-
+-577 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-) \
+-
+-578 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-580 
*
+-	$vloc
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__ibu_mloc__
+-
+-
+-581 
+-	`__ibu_loc_size__
+- ((1)
+-__wur
+-;
+-
+-584 #ifde
+-__USE_XOPEN2K
+-
+-
+-586 

+-	$posix_memign
+- (**
+-__memr
+-, 
+-size_t
+- 
+-__ignmt
+-, size_
+-__size
+-)
+-
+-587 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-590 #ifde
+-__USE_ISOC11
+-
+-
+-592 
*
+-	$igd_loc
+- (
+-size_t
+- 
+-__ignmt
+-, size_
+-__size
+-)
+-
+-593 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__ibu_loc_ign__
+- ((1))
+-
+-594 
+-	`__ibu_loc_size__
+- ((2)
+-__wur
+-;
+-
+-598 

+-	$abt
+- (
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-602 

+-	$ex
+- ((*
+-__func
+-()
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-604 #i
+-defed
+- 
+-__USE_ISOC11
+- || defed 
+-__USE_ISOCXX11
+-
+-
+-606 #ifde
+-__lulus
+-
+-
+-607 
"C++" 
+-	$_quick_ex
+- ((*
+-__func
+-) ())
+-
+-608 
+-__THROW
+- 
+-	`__asm
+- ("_quick_ex"
+-	`__nnu
+- ((1));
+-
+-610 

+-	$_quick_ex
+- ((*
+-__func
+-()
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-614 #ifdef 
+-__USE_MISC
+-
+-
+-617 

+-	$_ex
+- ((*
+-__func
+-(
+-__us
+-, *
+-__g
+-), *__arg)
+-
+-618 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-624 

+-	$ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-626 #i
+-defed
+- 
+-__USE_ISOC11
+- || defed 
+-__USE_ISOCXX11
+-
+-
+-630 

+-	$quick_ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-633 #ifde
+-__USE_ISOC99
+-
+-
+-636 

+-	$_Ex
+- (
+-__us
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-641 
*
+-	$gv
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-643 #ifde
+-__USE_GNU
+-
+-
+-646 
*
+-	$cu_gv
+- (c *
+-__me
+-)
+-
+-647 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-650 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-654 

+-	$punv
+- (*
+-__rg
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-657 #ifde
+-__USE_XOPEN2K
+-
+-
+-660 

+-	$nv
+- (c *
+-__me
+-, c *
+-__vue
+-, 
+-__a
+-)
+-
+-661 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-664 

+-	$unnv
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-667 #ifdef 
+-__USE_MISC
+-
+-
+-671 

+-	$nv
+- (
+-__THROW
+-;
+-
+-675 #i
+-defed
+- 
+-__USE_MISC
+- \
+-
+-676 || (
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-)
+-
+-682 
*
+-	$mkmp
+- (*
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-685 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-694 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-695 

+-	$mkemp
+- (*
+-__me
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-697 #ifde
+-__REDIRECT
+-
+-
+-698 

+-	`__REDIRECT
+- (
+-mkemp
+-, (*
+-__me
+-), 
+-mkemp64
+-)
+-
+-699 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-701 
+-	#mkemp
+- 
+-mkemp64
+-
+-
+-	)
+-
+-704 #ifde
+-__USE_LARGEFILE64
+-
+-
+-705 

+-	$mkemp64
+- (*
+-__me
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-709 #ifde
+-__USE_MISC
+-
+-
+-716 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-717 

+-	$mkemps
+- (*
+-__me
+-, 
+-__suffixn
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-719 #ifde
+-__REDIRECT
+-
+-
+-720 

+-	`__REDIRECT
+- (
+-mkemps
+-, (*
+-__me
+-, 
+-__suffixn
+-),
+-
+-721 
+-mkemps64
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-723 
+-	#mkemps
+- 
+-mkemps64
+-
+-
+-	)
+-
+-726 #ifde
+-__USE_LARGEFILE64
+-
+-
+-727 

+-	$mkemps64
+- (*
+-__me
+-, 
+-__suffixn
+-)
+-
+-728 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-732 #ifde
+-__USE_XOPEN2K8
+-
+-
+-738 
*
+-	$mkdmp
+- (*
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-741 #ifde
+-__USE_GNU
+-
+-
+-748 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-749 

+-	$mkoemp
+- (*
+-__me
+-, 
+-__ags
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-751 #ifde
+-__REDIRECT
+-
+-
+-752 

+-	`__REDIRECT
+- (
+-mkoemp
+-, (*
+-__me
+-, 
+-__ags
+-), 
+-mkoemp64
+-)
+-
+-753 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-755 
+-	#mkoemp
+- 
+-mkoemp64
+-
+-
+-	)
+-
+-758 #ifde
+-__USE_LARGEFILE64
+-
+-
+-759 

+-	$mkoemp64
+- (*
+-__me
+-, 
+-__ags
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-768 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-769 

+-	$mkoemps
+- (*
+-__me
+-, 
+-__suffixn
+-, 
+-__ags
+-)
+-
+-770 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-772 #ifde
+-__REDIRECT
+-
+-
+-773 

+-	`__REDIRECT
+- (
+-mkoemps
+-, (*
+-__me
+-, 
+-__suffixn
+-,
+-
+-774 
+-__ags
+-), 
+-mkoemps64
+-)
+-
+-775 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-777 
+-	#mkoemps
+- 
+-mkoemps64
+-
+-
+-	)
+-
+-780 #ifde
+-__USE_LARGEFILE64
+-
+-
+-781 

+-	$mkoemps64
+- (*
+-__me
+-, 
+-__suffixn
+-, 
+-__ags
+-)
+-
+-782 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-791 

+-	$syem
+- (c *
+-__commd
+-
+-__wur
+-;
+-
+-794 #ifdef 
+-__USE_GNU
+-
+-
+-797 
*
+-	$nilize_fe_me
+- (c *
+-__me
+-)
+-
+-798 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__ibu_mloc__
+-
+-
+-799 
+-___doc_
+- 
+-__wur
+-;
+-
+-802 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-808 
*
+-	$th
+- (c *
+-__ri
+- 
+-__me
+-,
+-
+-809 *
+-__ri
+- 
+-__sved
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-814 #ide
+-__COMPAR_FN_T
+-
+-
+-815 
+-	#__COMPAR_FN_T
+-
+-
+-	)
+-
+-816 (*
+-	t__comr__t
+-) (const *, const *);
+-
+-818 #ifdef 
+-__USE_GNU
+-
+-
+-819 
+-__comr__t
+- 
+-	tcomris__t
+-;
+-
+-822 #ifde
+-__USE_GNU
+-
+-
+-823 (*
+-	t__comr_d__t
+-) (const *, const *, *);
+-
+-828 
*
+-	$bch
+- (c *
+-__key
+-, c *
+-__ba
+-,
+-
+-829 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-, 
+-__comr__t
+- 
+-__comr
+-)
+-
+-830 
+-	`__nnu
+- ((1, 2, 5)
+-__wur
+-;
+-
+-832 #ifde
+-__USE_EXTERN_INLINES
+-
+-
+-833 
+-	~<bs/dlib-bch.h
+->
+-
+-838 

+-	$qst
+- (*
+-__ba
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-,
+-
+-839 
+-__comr__t
+- 
+-__comr
+-
+-	`__nnu
+- ((1, 4));
+-
+-840 #ifde
+-__USE_GNU
+-
+-
+-841 

+-	$qst_r
+- (*
+-__ba
+-, 
+-size_t
+- 
+-__nmemb
+-, size_
+-__size
+-,
+-
+-842 
+-__comr_d__t
+- 
+-__comr
+-, *
+-__g
+-)
+-
+-843 
+-	`__nnu
+- ((1, 4));
+-
+-848 

+-	$abs
+- (
+-__x
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-849 

+-	$bs
+- (
+-__x
+-
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-851 #ifde
+-__USE_ISOC99
+-
+-
+-852 
+-__exnsi__
+- 

+-	$abs
+- (
+-__x
+-)
+-
+-853 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-860 
+-div_t
+- 
+-	$div
+- (
+-__num
+-, 
+-__dom
+-)
+-
+-861 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-862 
+-ldiv_t
+- 
+-	$ldiv
+- (
+-__num
+-, 
+-__dom
+-)
+-
+-863 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-865 #ifde
+-__USE_ISOC99
+-
+-
+-866 
+-__exnsi__
+- 
+-div_t
+- 
+-	$div
+- (
+-__num
+-,
+-
+-867 
+-__dom
+-)
+-
+-868 
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-)
+-__wur
+-;
+-
+-872 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-873 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-880 
*
+-	$ecvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-881 *
+-__ri
+- 
+-__sign
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-886 
*
+-	$fcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-887 *
+-__ri
+- 
+-__sign
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-892 
*
+-	$gcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__buf
+-)
+-
+-893 
+-__THROW
+- 
+-	`__nnu
+- ((3)
+-__wur
+-;
+-
+-896 #ifde
+-__USE_MISC
+-
+-
+-898 
*
+-	$qecvt
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-899 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-)
+-
+-900 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-901 
*
+-	$qfcvt
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-902 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-)
+-
+-903 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4)
+-__wur
+-;
+-
+-904 
*
+-	$qgcvt
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__buf
+-)
+-
+-905 
+-__THROW
+- 
+-	`__nnu
+- ((3)
+-__wur
+-;
+-
+-910 

+-	$ecvt_r
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-911 *
+-__ri
+- 
+-__sign
+-, *__ri 
+-__buf
+-,
+-
+-912 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-913 

+-	$fcvt_r
+- (
+-__vue
+-, 
+-__ndig
+-, *
+-__ri
+- 
+-__det
+-,
+-
+-914 *
+-__ri
+- 
+-__sign
+-, *__ri 
+-__buf
+-,
+-
+-915 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-917 

+-	$qecvt_r
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-918 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-,
+-
+-919 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-920 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-921 

+-	$qfcvt_r
+- (
+-__vue
+-, 
+-__ndig
+-,
+-
+-922 *
+-__ri
+- 
+-__det
+-, *__ri 
+-__sign
+-,
+-
+-923 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-924 
+-__THROW
+- 
+-	`__nnu
+- ((3, 4, 5));
+-
+-930 

+-	$mbn
+- (c *
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-933 

+-	$mbtowc
+- (
+-wch_t
+- *
+-__ri
+- 
+-__pwc
+-,
+-
+-934 c *
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-;
+-
+-937 

+-	$womb
+- (*
+-__s
+-, 
+-wch_t
+- 
+-__wch
+-
+-__THROW
+-;
+-
+-941 
+-size_t
+- 
+-	$mbowcs
+- (
+-wch_t
+- *
+-__ri
+- 
+-__pwcs
+-,
+-
+-942 c *
+-__ri
+- 
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-943 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2));
+-
+-945 
+-size_t
+- 
+-	$wcombs
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-946 c 
+-wch_t
+- *
+-__ri
+- 
+-__pwcs
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-947 
+-__THROW
+-
+-
+-948 
+-	$__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 3)
+-
+-949 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2));
+-
+-951 #ifde
+-__USE_MISC
+-
+-
+-956 

+-	$mch
+- (c *
+-__
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-960 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-967 

+-	$gsubt
+- (**
+-__ri
+- 
+-__tip
+-,
+-
+-968 *c *
+-__ri
+- 
+-__toks
+-,
+-
+-969 **
+-__ri
+- 
+-__vu
+-)
+-
+-970 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2, 3)
+-__wur
+-;
+-
+-976 #ifde
+-__USE_XOPEN2KXSI
+-
+-
+-978 

+-	$posix_
+- (
+-__oag
+-
+-__wur
+-;
+-
+-981 #ifde
+-__USE_XOPEN_EXTENDED
+-
+-
+-986 

+-	$g
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-990 

+-	$uock
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-995 
*
+-	$ame
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-998 #ifde
+-__USE_GNU
+-
+-
+-1002 

+-	$ame_r
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-1003 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-1006 

+-	`g
+- ();
+-
+-1009 #ifde
+-__USE_MISC
+-
+-
+-1013 

+-	$gldavg
+- (
+-__ldavg
+-[], 
+-__m
+-)
+-
+-1014 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-1017 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1020 

+-	$y
+- (
+-__THROW
+-;
+-
+-1023 
+-	~<bs/dlib-t.h
+->
+-
+-1026 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-1027 
+-	~<bs/dlib.h
+->
+-
+-1030 
+-	~<bs/.h
+->
+-
+-1031 #i
+-defed
+- 
+-__LDBL_COMPAT
+- || 
+-__LDOUBLE_REDIRECTS_TO_FLOAT128_ABI
+- == 1
+-
+-1032 
+-	~<bs/dlib-ldbl.h
+->
+-
+-1035 
+-__END_DECLS
+-
+-
+-	@/usr/include/string.h
+-
+-22 #idef 
+-_STRING_H
+-
+-
+-23 
+-	#_STRING_H
+- 1
+-
+-	)
+-
+-25 
+-	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION
+-
+-
+-	)
+-
+-26 
+-	~<bs/libc-hd-t.h
+->
+-
+-28 
+-	g__BEGIN_DECLS
+-
+-
+-31 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-32 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-33 
+-	~<ddef.h
+->
+-
+-36 #i
+-defed
+- 
+-__lulus
+- && (
+-__GNUC_PREREQ
+- (4, 4) \
+-
+-37 || 
+-	$__glibc_g_eq
+- (3, 5))
+-
+-38 
+-	#__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-	)
+-
+-43 
*
+-	$memy
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-44 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-47 
*
+-	$memmove
+- (*
+-__de
+-, c *
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-48 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-53 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+- || 
+-	`__GLIBC_USE
+- (
+-ISOC2X
+-)
+-
+-54 
*
+-	$memcy
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-55 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-56 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 4));
+-
+-61 
*
+-	$memt
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-64 

+-	$memcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-65 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-80 

+-	$__memcmq
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-81 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-84 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-87 
*
+-	`memchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-88 
+-__THROW
+- 
+-	`__asm
+- ("memchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-89 
c *
+-	`memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-90 
+-__THROW
+- 
+-	`__asm
+- ("memchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-92 #ifde
+-__OPTIMIZE__
+-
+-
+-93 
+-__ex_ways_le
+- *
+-
+-94 
+-	`memchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-96  
+-	`__but_memchr
+- (
+-__s
+-, 
+-__c
+-, 
+-__n
+-);
+-
+-99 
+-__ex_ways_le
+- const *
+-
+-100 
+-	`memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-102  
+-	`__but_memchr
+- (
+-__s
+-, 
+-__c
+-, 
+-__n
+-);
+-
+-105 
+-	}
+-}
+-
+-107 
*
+-	$memchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-108 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-111 #ifde
+-__USE_GNU
+-
+-
+-114 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-115 
"C++" *
+-	$wmemchr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-116 
+-__THROW
+- 
+-	`__asm
+- ("wmemchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-117 
"C++" c *
+-	$wmemchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-118 
+-__THROW
+- 
+-	`__asm
+- ("wmemchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-120 
*
+-	$wmemchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-121 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-125 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-126 
"C++" *
+-	$memrchr
+- (*
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-127 
+-__THROW
+- 
+-	`__asm
+- ("memrchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-128 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-129 
"C++" c *
+-	$memrchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-130 
+-__THROW
+- 
+-	`__asm
+- ("memrchr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-131 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-133 
*
+-	$memrchr
+- (c *
+-__s
+-, 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-134 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1))
+-
+-135 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3));
+-
+-141 
*
+-	$ry
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-142 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-144 
*
+-	$y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-145 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-146 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-149 
*
+-	$rt
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-150 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-152 
*
+-	$t
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-,
+-
+-153 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-156 

+-	$rcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-157 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-159 

+-	$cmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-160 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-163 

+-	$rcl
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-164 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-166 
+-size_t
+- 
+-	$rxm
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-167 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-168 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 3));
+-
+-170 #ifde
+-__USE_XOPEN2K8
+-
+-
+-172 
+-	~<bs/tys/lo_t.h
+->
+-
+-175 

+-	$rcl_l
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-lo_t
+- 
+-__l
+-)
+-
+-176 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 3));
+-
+-179 
+-size_t
+- 
+-	$rxm_l
+- (*
+-__de
+-, c *
+-__c
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-180 
+-lo_t
+- 
+-__l
+-
+-__THROW
+- 
+-	`__nnu
+- ((2, 4))
+-
+-181 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 3));
+-
+-184 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+- \
+-
+-185 || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-|| 
+-	$__GLIBC_USE
+- (
+-ISOC2X
+-))
+-
+-187 
*
+-	$rdup
+- (c *
+-__s
+-)
+-
+-188 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__nnu
+- ((1));
+-
+-194 #i
+-defed
+- 
+-__USE_XOPEN2K8
+- || 
+-	`__GLIBC_USE
+- (
+-LIB_EXT2
+-|| __GLIBC_USE (
+-ISOC2X
+-)
+-
+-195 
*
+-	$dup
+- (c *
+-__rg
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-196 
+-__THROW
+- 
+-__ibu_mloc__
+- 
+-	`__nnu
+- ((1));
+-
+-199 #i
+-defed
+- 
+-__USE_GNU
+- && defed 
+-__GNUC__
+-
+-
+-201 
+-	#rdu
+-(
+-s
+-) \
+-
+-202 (
+-__exnsi__
+- \
+-
+-204 c *
+-__d
+- = (
+-s
+-); \
+-
+-205 
+-size_t
+- 
+-__n
+- = 
+-	`
+- (
+-__d
+-) + 1; \
+-
+-206 *
+-__w
+- = (*
+-	`__but_lo
+- (
+-__n
+-); \
+-
+-207 (*
+-	`memy
+- (
+-__w
+-, 
+-__d
+-, 
+-__n
+-); \
+-
+-208 
+-	}
+-}))
+-
+-	)
+-
+-211 
+-	#du
+-(
+-s
+-, 
+-n
+-) \
+-
+-212 (
+-__exnsi__
+- \
+-
+-214 c *
+-__d
+- = (
+-s
+-); \
+-
+-215 
+-size_t
+- 
+-__n
+- = 
+-	`n
+- (
+-__d
+-, (
+-n
+-)); \
+-
+-216 *
+-__w
+- = (*
+-	`__but_lo
+- (
+-__n
+- + 1); \
+-
+-217 
+-__w
+-[
+-__n
+-] = '\0'; \
+-
+-218 (*
+-	`memy
+- (
+-__w
+-, 
+-__d
+-, 
+-__n
+-); \
+-
+-219 }))
+-
+-	)
+-
+-223 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-226 
*
+-rchr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-227 
+-__THROW
+- 
+-__asm
+- ("rchr"
+-__ibu_pu__
+- 
+-__nnu
+- ((1));
+-
+-228 
c *
+-rchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-229 
+-__THROW
+- 
+-__asm
+- ("rchr"
+-__ibu_pu__
+- 
+-__nnu
+- ((1));
+-
+-231 #ifde
+-__OPTIMIZE__
+-
+-
+-232 
+-__ex_ways_le
+- *
+-
+-233 
+-rchr
+- (*
+-__s
+-, 
+-__c
+-
+-	g__THROW
+-
+-
+-235  
+-__but_rchr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-238 
+-__ex_ways_le
+- const *
+-
+-239 
+-rchr
+- (c *
+-__s
+-, 
+-__c
+-
+-	g__THROW
+-
+-
+-241  
+-__but_rchr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-246 
*
+-	$rchr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-247 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-250 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-253 
*
+-	`chr
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-254 
+-__THROW
+- 
+-	`__asm
+- ("chr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-255 
c *
+-	`chr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-256 
+-__THROW
+- 
+-	`__asm
+- ("chr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-258 #ifde
+-__OPTIMIZE__
+-
+-
+-259 
+-__ex_ways_le
+- *
+-
+-260 
+-	`chr
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-262  
+-	`__but_chr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-265 
+-__ex_ways_le
+- const *
+-
+-266 
+-	`chr
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-268  
+-	`__but_chr
+- (
+-__s
+-, 
+-__c
+-);
+-
+-271 
+-	}
+-}
+-
+-273 
*
+-	$chr
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-274 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-277 #ifde
+-__USE_GNU
+-
+-
+-280 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-281 
"C++" *
+-	$rchul
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-282 
+-__THROW
+- 
+-	`__asm
+- ("rchul"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-283 
"C++" c *
+-	$rchul
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-284 
+-__THROW
+- 
+-	`__asm
+- ("rchul"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-286 
*
+-	$rchul
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-287 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-293 
+-size_t
+- 
+-	$rcn
+- (c *
+-__s
+-, c *
+-__je
+-)
+-
+-294 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-297 
+-size_t
+- 
+-	$rn
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-298 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-300 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-303 
*
+-	`brk
+- (*
+-__s
+-, c *
+-__ac
+-)
+-
+-304 
+-__THROW
+- 
+-	`__asm
+- ("brk"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-305 
c *
+-	`brk
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-306 
+-__THROW
+- 
+-	`__asm
+- ("brk"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-308 #ifde
+-__OPTIMIZE__
+-
+-
+-309 
+-__ex_ways_le
+- *
+-
+-310 
+-	`brk
+- (*
+-__s
+-, c *
+-__ac
+-
+-__THROW
+-
+-
+-312  
+-	`__but_brk
+- (
+-__s
+-, 
+-__ac
+-);
+-
+-315 
+-__ex_ways_le
+- const *
+-
+-316 
+-	`brk
+- (c *
+-__s
+-, c *
+-__ac
+-
+-__THROW
+-
+-
+-318  
+-	`__but_brk
+- (
+-__s
+-, 
+-__ac
+-);
+-
+-321 
+-	}
+-}
+-
+-323 
*
+-	$brk
+- (c *
+-__s
+-, c *
+-__ac
+-)
+-
+-324 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-327 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-330 
*
+-	`rr
+- (*
+-__hayack
+-, c *
+-__ed
+-)
+-
+-331 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-332 
c *
+-	`rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-333 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-335 #ifde
+-__OPTIMIZE__
+-
+-
+-336 
+-__ex_ways_le
+- *
+-
+-337 
+-	`rr
+- (*
+-__hayack
+-, c *
+-__ed
+-
+-__THROW
+-
+-
+-339  
+-	`__but_rr
+- (
+-__hayack
+-, 
+-__ed
+-);
+-
+-342 
+-__ex_ways_le
+- const *
+-
+-343 
+-	`rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-
+-__THROW
+-
+-
+-345  
+-	`__but_rr
+- (
+-__hayack
+-, 
+-__ed
+-);
+-
+-348 
+-	}
+-}
+-
+-350 
*
+-	$rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-351 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-356 
*
+-	$ok
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__dim
+-)
+-
+-357 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-361 
*
+-	$__ok_r
+- (*
+-__ri
+- 
+-__s
+-,
+-
+-362 c *
+-__ri
+- 
+-__dim
+-,
+-
+-363 **
+-__ri
+- 
+-__ve_r
+-)
+-
+-364 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-365 #ifde
+-__USE_POSIX
+-
+-
+-366 
*
+-	$ok_r
+- (*
+-__ri
+- 
+-__s
+-, c *__ri 
+-__dim
+-,
+-
+-367 **
+-__ri
+- 
+-__ve_r
+-)
+-
+-368 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-371 #ifde
+-__USE_GNU
+-
+-
+-373 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-374 
"C++" *
+-	$rr
+- (*
+-__hayack
+-, c *
+-__ed
+-)
+-
+-375 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-376 
"C++" c *
+-	$rr
+- (c *
+-__hayack
+-,
+-
+-377 c *
+-__ed
+-)
+-
+-378 
+-__THROW
+- 
+-	`__asm
+- ("rr"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-380 
*
+-	$rr
+- (c *
+-__hayack
+-, c *
+-__ed
+-)
+-
+-381 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-385 #ifde
+-__USE_GNU
+-
+-
+-389 
*
+-	$memmem
+- (c *
+-__hayack
+-, 
+-size_t
+- 
+-__hayackn
+-,
+-
+-390 c *
+-__ed
+-, 
+-size_t
+- 
+-__edn
+-)
+-
+-391 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 3))
+-
+-392 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2))
+-
+-393 
+-	`___acss
+- ((
+-__ad_ly__
+-, 3, 4));
+-
+-397 
*
+-	$__mempy
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-398 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-399 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-400 
*
+-	$mempy
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-401 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-402 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-407 
+-size_t
+- 
+-	$
+- (c *
+-__s
+-)
+-
+-408 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-410 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-413 
+-size_t
+- 
+-	$n
+- (c *
+-__rg
+-, 
+-size_t
+- 
+-__maxn
+-)
+-
+-414 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-419 
*
+-	$
+- (
+-__um
+-
+-__THROW
+-;
+-
+-420 #ifde
+-__USE_XOPEN2K
+-
+-
+-428 #i
+-defed
+- 
+-__USE_XOPEN2K
+- && !defed 
+-__USE_GNU
+-
+-
+-431 #ifde
+-__REDIRECT_NTH
+-
+-
+-432 

+-	`__REDIRECT_NTH
+- (
+-_r
+-,
+-
+-433 (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-),
+-
+-434 
+-__xpg__r
+-
+-	`__nnu
+- ((2))
+-
+-435 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-437 

+-	$__xpg__r
+- (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-438 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-439 
+-	#_r
+- 
+-__xpg__r
+-
+-
+-	)
+-
+-444 
*
+-	$_r
+- (
+-__um
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-445 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+- 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-448 #ifde
+-__USE_GNU
+-
+-
+-450 
c *
+-	$desc_
+- (
+-__r
+-
+-__THROW
+-;
+-
+-452 
c *
+-	$me_
+- (
+-__r
+-
+-__THROW
+-;
+-
+-456 #ifde
+-__USE_XOPEN2K8
+-
+-
+-458 
*
+-	$_l
+- (
+-__um
+-, 
+-lo_t
+- 
+-__l
+-
+-__THROW
+-;
+-
+-461 #ifde
+-__USE_MISC
+-
+-
+-462 
+-	~<rgs.h
+->
+-
+-466 

+-	$exic_bzo
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-467 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-471 
*
+-	$rp
+- (**
+-__ri
+- 
+-__rgp
+-,
+-
+-472 c *
+-__ri
+- 
+-__dim
+-)
+-
+-473 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-476 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-478 
*
+-	$rsigl
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-480 #ifde
+-__USE_GNU
+-
+-
+-482 
c *
+-	$sigabbv_
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-485 
c *
+-	$sigdes_
+- (
+-__sig
+-
+-__THROW
+-;
+-
+-489 
*
+-	$__py
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-490 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-491 
*
+-	$py
+- (*
+-__ri
+- 
+-__de
+-, c *__ri 
+-__c
+-)
+-
+-492 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-496 
*
+-	$__y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-497 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-498 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-499 
*
+-	$y
+- (*
+-__ri
+- 
+-__de
+-,
+-
+-500 c *
+-__ri
+- 
+-__c
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-501 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-504 #ifdef 
+-__USE_GNU
+-
+-
+-506 

+-	$rvscmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-507 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-510 
*
+-	$ry
+- (*
+-__rg
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-513 
*
+-	$memob
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-514 
+-	`___acss
+- ((
+-__ad_wre__
+-, 1, 2));
+-
+-516 #ide
+-bame
+-
+-
+-521 #ifde
+-__CORRECT_ISO_CPP_STRING_H_PROTO
+-
+-
+-522 
"C++" *
+-	$bame
+- (*
+-__fame
+-)
+-
+-523 
+-__THROW
+- 
+-	`__asm
+- ("bame"
+-	`__nnu
+- ((1));
+-
+-524 
"C++" c *
+-	$bame
+- (c *
+-__fame
+-)
+-
+-525 
+-__THROW
+- 
+-	`__asm
+- ("bame"
+-	`__nnu
+- ((1));
+-
+-527 
*
+-	$bame
+- (c *
+-__fame
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-532 #i
+-	`__GNUC_PREREQ
+- (3,4)
+-
+-533 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-535 
+-	~<bs/rg_ftifd.h
+->
+-
+-539 
+-__END_DECLS
+-
+-
+-	@/usr/include/unistd.h
+-
+-22 #idef 
+-_UNISTD_H
+-
+-
+-23 
+-	#_UNISTD_H
+- 1
+-
+-	)
+-
+-25 
+-	~<us.h
+->
+-
+-27 
+-	g__BEGIN_DECLS
+-
+-
+-32 #ifde
+-__USE_XOPEN2K8
+-
+-
+-34 
+-	#_POSIX_VERSION
+- 200809L
+-
+-	)
+-
+-35 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-37 
+-	#_POSIX_VERSION
+- 200112L
+-
+-	)
+-
+-38 #i
+-defed
+- 
+-__USE_POSIX199506
+-
+-
+-40 
+-	#_POSIX_VERSION
+- 199506L
+-
+-	)
+-
+-41 #i
+-defed
+- 
+-__USE_POSIX199309
+-
+-
+-43 
+-	#_POSIX_VERSION
+- 199309L
+-
+-	)
+-
+-46 
+-	#_POSIX_VERSION
+- 199009L
+-
+-	)
+-
+-52 #ifde
+-__USE_XOPEN2K8
+-
+-
+-53 
+-	#__POSIX2_THIS_VERSION
+- 200809L
+-
+-	)
+-
+-55 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-57 
+-	#__POSIX2_THIS_VERSION
+- 200112L
+-
+-	)
+-
+-58 #i
+-defed
+- 
+-__USE_POSIX199506
+-
+-
+-60 
+-	#__POSIX2_THIS_VERSION
+- 199506L
+-
+-	)
+-
+-63 
+-	#__POSIX2_THIS_VERSION
+- 199209L
+-
+-	)
+-
+-67 
+-	#_POSIX2_VERSION
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-70 
+-	#_POSIX2_C_VERSION
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-74 
+-	#_POSIX2_C_BIND
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-78 
+-	#_POSIX2_C_DEV
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-82 
+-	#_POSIX2_SW_DEV
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-86 
+-	#_POSIX2_LOCALEDEF
+- 
+-__POSIX2_THIS_VERSION
+-
+-
+-	)
+-
+-89 #ifde
+-__USE_XOPEN2K8
+-
+-
+-90 
+-	#_XOPEN_VERSION
+- 700
+-
+-	)
+-
+-91 #i
+-defed
+- 
+-__USE_XOPEN2K
+-
+-
+-92 
+-	#_XOPEN_VERSION
+- 600
+-
+-	)
+-
+-93 #i
+-defed
+- 
+-__USE_UNIX98
+-
+-
+-94 
+-	#_XOPEN_VERSION
+- 500
+-
+-	)
+-
+-96 
+-	#_XOPEN_VERSION
+- 4
+-
+-	)
+-
+-100 
+-	#_XOPEN_XCU_VERSION
+- 4
+-
+-	)
+-
+-103 
+-	#_XOPEN_XPG2
+- 1
+-
+-	)
+-
+-104 
+-	#_XOPEN_XPG3
+- 1
+-
+-	)
+-
+-105 
+-	#_XOPEN_XPG4
+- 1
+-
+-	)
+-
+-108 
+-	#_XOPEN_UNIX
+- 1
+-
+-	)
+-
+-112 
+-	#_XOPEN_ENH_I18N
+- 1
+-
+-	)
+-
+-115 
+-	#_XOPEN_LEGACY
+- 1
+-
+-	)
+-
+-202 
+-	~<bs/posix_t.h
+->
+-
+-205 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-206 
+-	~<bs/vmts.h
+->
+-
+-210 
+-	#STDIN_FILENO
+- 0
+-
+-	)
+-
+-211 
+-	#STDOUT_FILENO
+- 1
+-
+-	)
+-
+-212 
+-	#STDERR_FILENO
+- 2
+-
+-	)
+-
+-217 
+-	~<bs/tys.h
+->
+-
+-219 #idef 
+-__ssize_t_defed
+-
+-
+-220 
+-__ssize_t
+- 
+-	tssize_t
+-;
+-
+-221 
+-	#__ssize_t_defed
+-
+-
+-	)
+-
+-224 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-225 
+-	#__ed_NULL
+-
+-
+-	)
+-
+-226 
+-	~<ddef.h
+->
+-
+-228 #i
+-defed
+- 
+-__USE_XOPEN
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-231 #ide
+-__gid_t_defed
+-
+-
+-232 
+-__gid_t
+- 
+-	tgid_t
+-;
+-
+-233 
+-	#__gid_t_defed
+-
+-
+-	)
+-
+-236 #ide
+-__uid_t_defed
+-
+-
+-237 
+-__uid_t
+- 
+-	tuid_t
+-;
+-
+-238 
+-	#__uid_t_defed
+-
+-
+-	)
+-
+-241 #ide
+-__off_t_defed
+-
+-
+-242 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-243 
+-__off_t
+- 
+-	toff_t
+-;
+-
+-245 
+-__off64_t
+- 
+-	toff_t
+-;
+-
+-247 
+-	#__off_t_defed
+-
+-
+-	)
+-
+-249 #i
+-defed
+- 
+-__USE_LARGEFILE64
+- && !defed 
+-__off64_t_defed
+-
+-
+-250 
+-__off64_t
+- 
+-	toff64_t
+-;
+-
+-251 
+-	#__off64_t_defed
+-
+-
+-	)
+-
+-254 #ide
+-__ucds_t_defed
+-
+-
+-255 
+-__ucds_t
+- 
+-	tucds_t
+-;
+-
+-256 
+-	#__ucds_t_defed
+-
+-
+-	)
+-
+-259 #ide
+-__pid_t_defed
+-
+-
+-260 
+-__pid_t
+- 
+-	tpid_t
+-;
+-
+-261 
+-	#__pid_t_defed
+-
+-
+-	)
+-
+-265 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-266 #ide
+-___t_defed
+-
+-
+-267 
+-___t
+- 
+-	t_t
+-;
+-
+-268 
+-	#___t_defed
+-
+-
+-	)
+-
+-272 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-273 #ide
+-__sockn_t_defed
+-
+-
+-274 
+-__sockn_t
+- 
+-	tsockn_t
+-;
+-
+-275 
+-	#__sockn_t_defed
+-
+-
+-	)
+-
+-281 
+-	#R_OK
+- 4
+-
+-	)
+-
+-282 
+-	#W_OK
+- 2
+-
+-	)
+-
+-283 
+-	#X_OK
+- 1
+-
+-	)
+-
+-284 
+-	#F_OK
+- 0
+-
+-	)
+-
+-287 

+-	$acss
+- (c *
+-__me
+-, 
+-__ty
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-289 #ifde
+-__USE_GNU
+-
+-
+-292 

+-	$euidacss
+- (c *
+-__me
+-, 
+-__ty
+-)
+-
+-293 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-296 

+-	$css
+- (c *
+-__me
+-, 
+-__ty
+-)
+-
+-297 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-300 

+-	$execvt
+- (
+-__fd
+-, c *
+-__th
+-, *c 
+-__gv
+-[],
+-
+-301 *c 
+-__vp
+-[], 
+-__ags
+-)
+-
+-302 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3));
+-
+-305 #ifde
+-__USE_ATFILE
+-
+-
+-309 

+-	$cst
+- (
+-__fd
+-, c *
+-__fe
+-, 
+-__ty
+-, 
+-__ag
+-)
+-
+-310 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-;
+-
+-315 #idef 
+-_STDIO_H
+-
+-
+-316 
+-	#SEEK_SET
+- 0
+-
+-	)
+-
+-317 
+-	#SEEK_CUR
+- 1
+-
+-	)
+-
+-318 
+-	#SEEK_END
+- 2
+-
+-	)
+-
+-319 #ifde
+-__USE_GNU
+-
+-
+-320 
+-	#SEEK_DATA
+- 3
+-
+-	)
+-
+-321 
+-	#SEEK_HOLE
+- 4
+-
+-	)
+-
+-325 #i
+-defed
+- 
+-__USE_MISC
+- && !defed 
+-L_SET
+-
+-
+-327 
+-	#L_SET
+- 
+-SEEK_SET
+-
+-
+-	)
+-
+-328 
+-	#L_INCR
+- 
+-SEEK_CUR
+-
+-
+-	)
+-
+-329 
+-	#L_XTND
+- 
+-SEEK_END
+-
+-
+-	)
+-
+-338 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-339 
+-__off_t
+- 
+-	$lek
+- (
+-__fd
+-, 
+-__off_t
+- 
+-__offt
+-, 
+-__wh
+-
+-__THROW
+-;
+-
+-341 #ifde
+-__REDIRECT_NTH
+-
+-
+-342 
+-__off64_t
+- 
+-	`__REDIRECT_NTH
+- (
+-lek
+-,
+-
+-343 (
+-__fd
+-, 
+-__off64_t
+- 
+-__offt
+-, 
+-__wh
+-),
+-
+-344 
+-lek64
+-);
+-
+-346 
+-	#lek
+- 
+-lek64
+-
+-
+-	)
+-
+-349 #ifde
+-__USE_LARGEFILE64
+-
+-
+-350 
+-__off64_t
+- 
+-	$lek64
+- (
+-__fd
+-, 
+-__off64_t
+- 
+-__offt
+-, 
+-__wh
+-)
+-
+-351 
+-__THROW
+-;
+-
+-358 

+-	`o
+- (
+-__fd
+-);
+-
+-360 #ifde
+-__USE_MISC
+-
+-
+-363 

+-	$oom
+- (
+-__lowfd
+-
+-__THROW
+-;
+-
+-371 
+-ssize_t
+- 
+-	$ad
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-
+-__wur
+-
+-
+-372 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-378 
+-ssize_t
+- 
+-	$wre
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-
+-__wur
+-
+-
+-379 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-381 #i
+-defed
+- 
+-__USE_UNIX98
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-382 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-389 
+-ssize_t
+- 
+-	$d
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-390 
+-__off_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-391 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-398 
+-ssize_t
+- 
+-	$pwre
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-399 
+-__off_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-400 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-403 #ifde
+-__REDIRECT
+-
+-
+-404 
+-ssize_t
+- 
+-	`__REDIRECT
+- (
+-d
+-, (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-405 
+-__off64_t
+- 
+-__offt
+-),
+-
+-406 
+-d64
+-
+-__wur
+-
+-
+-407 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-408 
+-ssize_t
+- 
+-	`__REDIRECT
+- (
+-pwre
+-, (
+-__fd
+-, c *
+-__buf
+-,
+-
+-409 
+-size_t
+- 
+-__nbys
+-, 
+-__off64_t
+- 
+-__offt
+-),
+-
+-410 
+-pwre64
+-
+-__wur
+-
+-
+-411 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-413 
+-	#d
+- 
+-d64
+-
+-
+-	)
+-
+-414 
+-	#pwre
+- 
+-pwre64
+-
+-
+-	)
+-
+-418 #ifde
+-__USE_LARGEFILE64
+-
+-
+-422 
+-ssize_t
+- 
+-	$d64
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__nbys
+-,
+-
+-423 
+-__off64_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-424 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-427 
+-ssize_t
+- 
+-	$pwre64
+- (
+-__fd
+-, c *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-,
+-
+-428 
+-__off64_t
+- 
+-__offt
+-
+-__wur
+-
+-
+-429 
+-	`___acss
+- ((
+-__ad_ly__
+-, 2, 3));
+-
+-437 

+-	$pe
+- (
+-__pedes
+-[2]
+-__THROW
+- 
+-__wur
+-;
+-
+-439 #ifde
+-__USE_GNU
+-
+-
+-442 

+-	$pe2
+- (
+-__pedes
+-[2], 
+-__ags
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-452 

+-	$m
+- (
+-__cds
+-
+-__THROW
+-;
+-
+-464 

+-	`p
+- (
+-__cds
+-);
+-
+-466 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-467 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-472 
+-__ucds_t
+- 
+-	$um
+- (
+-__ucds_t
+- 
+-__vue
+-, __ucds_
+-__rv
+-)
+-
+-473 
+-__THROW
+-;
+-
+-480 

+-	`up
+- (
+-__ucds_t
+- 
+-__ucds
+-);
+-
+-489 

+-	`u
+- ();
+-
+-493 

+-	$chown
+- (c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-)
+-
+-494 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-496 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-498 

+-	$fchown
+- (
+-__fd
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-503 

+-	$lchown
+- (c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-, 
+-__gid_t
+- 
+-__group
+-)
+-
+-504 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-508 #ifde
+-__USE_ATFILE
+-
+-
+-511 

+-	$fchowt
+- (
+-__fd
+-, c *
+-__fe
+-, 
+-__uid_t
+- 
+-__owr
+-,
+-
+-512 
+-__gid_t
+- 
+-__group
+-, 
+-__ag
+-)
+-
+-513 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-;
+-
+-517 

+-	$chd
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-519 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-521 

+-	$fchd
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-531 
*
+-	$gcwd
+- (*
+-__buf
+-, 
+-size_t
+- 
+-__size
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-533 #ifdef 
+-__USE_GNU
+-
+-
+-537 
*
+-	$g_cut_d_me
+- (
+-__THROW
+-;
+-
+-540 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-541 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-545 
*
+-	$gwd
+- (*
+-__buf
+-)
+-
+-546 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__ibu_dd__
+- 
+-__wur
+-
+-
+-547 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1));
+-
+-552 

+-	$dup
+- (
+-__fd
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-555 

+-	$dup2
+- (
+-__fd
+-, 
+-__fd2
+-
+-__THROW
+-;
+-
+-557 #ifde
+-__USE_GNU
+-
+-
+-560 

+-	$dup3
+- (
+-__fd
+-, 
+-__fd2
+-, 
+-__ags
+-
+-__THROW
+-;
+-
+-564 
**
+-__v
+-;
+-
+-565 #ifde
+-__USE_GNU
+-
+-
+-566 
**
+-v
+-;
+-
+-572 

+-	$execve
+- (c *
+-__th
+-, *c 
+-__gv
+-[],
+-
+-573 *c 
+-__vp
+-[]
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-575 #ifde
+-__USE_XOPEN2K8
+-
+-
+-578 

+-	$xecve
+- (
+-__fd
+-, *c 
+-__gv
+-[], *c 
+-__vp
+-[])
+-
+-579 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-584 

+-	$execv
+- (c *
+-__th
+-, *c 
+-__gv
+-[])
+-
+-585 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-589 

+-	$exee
+- (c *
+-__th
+-, c *
+-__g
+-, ...)
+-
+-590 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-594 

+-	$exe
+- (c *
+-__th
+-, c *
+-__g
+-, ...)
+-
+-595 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-599 

+-	$execvp
+- (c *
+-__fe
+-, *c 
+-__gv
+-[])
+-
+-600 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-605 

+-	$exep
+- (c *
+-__fe
+-, c *
+-__g
+-, ...)
+-
+-606 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-608 #ifde
+-__USE_GNU
+-
+-
+-611 

+-	$execv
+- (c *
+-__fe
+-, *c 
+-__gv
+-[],
+-
+-612 *c 
+-__vp
+-[])
+-
+-613 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-617 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN
+-
+-
+-619 

+-	$ni
+- (
+-__c
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-624 

+-	$_ex
+- (
+-__us
+-
+-	`__ibu__
+- ((
+-__nu__
+-));
+-
+-630 
+-	~<bs/came.h
+->
+-
+-633 

+-	$thcf
+- (c *
+-__th
+-, 
+-__me
+-)
+-
+-634 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-637 

+-	$hcf
+- (
+-__fd
+-, 
+-__me
+-
+-__THROW
+-;
+-
+-640 

+-	$syscf
+- (
+-__me
+-
+-__THROW
+-;
+-
+-642 #ifdef 
+-__USE_POSIX2
+-
+-
+-644 
+-size_t
+- 
+-	$cfr
+- (
+-__me
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+-
+-
+-645 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-650 
+-__pid_t
+- 
+-	$gpid
+- (
+-__THROW
+-;
+-
+-653 
+-__pid_t
+- 
+-	$gid
+- (
+-__THROW
+-;
+-
+-656 
+-__pid_t
+- 
+-	$gpg
+- (
+-__THROW
+-;
+-
+-659 
+-__pid_t
+- 
+-	$__gpgid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-660 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-661 
+-__pid_t
+- 
+-	$gpgid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-668 

+-	$gid
+- (
+-__pid_t
+- 
+-__pid
+-, __pid_
+-__pgid
+-
+-__THROW
+-;
+-
+-670 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-682 

+-	$g
+- (
+-__THROW
+-;
+-
+-689 
+-__pid_t
+- 
+-	$tsid
+- (
+-__THROW
+-;
+-
+-691 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-693 
+-__pid_t
+- 
+-	$gsid
+- (
+-__pid_t
+- 
+-__pid
+-
+-__THROW
+-;
+-
+-697 
+-__uid_t
+- 
+-	$guid
+- (
+-__THROW
+-;
+-
+-700 
+-__uid_t
+- 
+-	$geuid
+- (
+-__THROW
+-;
+-
+-703 
+-__gid_t
+- 
+-	$ggid
+- (
+-__THROW
+-;
+-
+-706 
+-__gid_t
+- 
+-	$gegid
+- (
+-__THROW
+-;
+-
+-711 

+-	$ggroups
+- (
+-__size
+-, 
+-__gid_t
+- 
+-__li
+-[]
+-__THROW
+- 
+-__wur
+-
+-
+-712 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 1);
+-
+-713 #ifdef 
+-__USE_GNU
+-
+-
+-715 

+-	$group_memb
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+-;
+-
+-722 

+-	$tuid
+- (
+-__uid_t
+- 
+-__uid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-724 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-727 

+-	$euid
+- (
+-__uid_t
+- 
+-__ruid
+-, __uid_
+-__euid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-730 #ifde
+-__USE_XOPEN2K
+-
+-
+-732 

+-	$uid
+- (
+-__uid_t
+- 
+-__uid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-739 

+-	$tgid
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-741 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-744 

+-	$egid
+- (
+-__gid_t
+- 
+-__rgid
+-, __gid_
+-__egid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-747 #ifde
+-__USE_XOPEN2K
+-
+-
+-749 

+-	$gid
+- (
+-__gid_t
+- 
+-__gid
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-752 #ifde
+-__USE_GNU
+-
+-
+-755 

+-	$gsuid
+- (
+-__uid_t
+- *
+-__ruid
+-, __uid_*
+-__euid
+-, __uid_*
+-__suid
+-)
+-
+-756 
+-__THROW
+-;
+-
+-760 

+-	$gsgid
+- (
+-__gid_t
+- *
+-__rgid
+-, __gid_*
+-__egid
+-, __gid_*
+-__sgid
+-)
+-
+-761 
+-__THROW
+-;
+-
+-765 

+-	$esuid
+- (
+-__uid_t
+- 
+-__ruid
+-, __uid_
+-__euid
+-, __uid_
+-__suid
+-)
+-
+-766 
+-__THROW
+- 
+-__wur
+-;
+-
+-770 

+-	$esgid
+- (
+-__gid_t
+- 
+-__rgid
+-, __gid_
+-__egid
+-, __gid_
+-__sgid
+-)
+-
+-771 
+-__THROW
+- 
+-__wur
+-;
+-
+-778 
+-__pid_t
+- 
+-	$fk
+- (
+-__THROWNL
+-;
+-
+-780 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K8
+-) \
+-
+-781 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-786 
+-__pid_t
+- 
+-	$vfk
+- (
+-__THROW
+-;
+-
+-789 #ifde
+-__USE_GNU
+-
+-
+-793 
+-__pid_t
+- 
+-	$_Fk
+- (
+-__THROW
+-;
+-
+-799 
*
+-	$yme
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-803 

+-	$yme_r
+- (
+-__fd
+-, *
+-__buf
+-, 
+-size_t
+- 
+-__bu
+-)
+-
+-804 
+-__THROW
+- 
+-	`__nnu
+- ((2)
+-__wur
+-
+-
+-805 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-809 

+-	$iy
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-811 #ifde
+-__USE_MISC
+-
+-
+-814 

+-	$y
+- (
+-__THROW
+-;
+-
+-819 

+-	$lk
+- (c *
+-__om
+-, c *
+-__to
+-)
+-
+-820 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-;
+-
+-822 #ifde
+-__USE_ATFILE
+-
+-
+-825 

+-	$lk
+- (
+-__omfd
+-, c *
+-__om
+-, 
+-__tofd
+-,
+-
+-826 c *
+-__to
+-, 
+-__ags
+-)
+-
+-827 
+-__THROW
+- 
+-	`__nnu
+- ((2, 4)
+-__wur
+-;
+-
+-830 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-832 

+-	$symlk
+- (c *
+-__om
+-, c *
+-__to
+-)
+-
+-833 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-;
+-
+-838 
+-ssize_t
+- 
+-	$adlk
+- (c *
+-__ri
+- 
+-__th
+-,
+-
+-839 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-840 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2)
+-__wur
+-
+-
+-841 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 2, 3);
+-
+-845 #ifde
+-__USE_ATFILE
+-
+-
+-847 

+-	$symlk
+- (c *
+-__om
+-, 
+-__tofd
+-,
+-
+-848 c *
+-__to
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 3)
+-__wur
+-;
+-
+-851 
+-ssize_t
+- 
+-	$adlk
+- (
+-__fd
+-, c *
+-__ri
+- 
+-__th
+-,
+-
+-852 *
+-__ri
+- 
+-__buf
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-853 
+-__THROW
+- 
+-	`__nnu
+- ((2, 3)
+-__wur
+-
+-
+-854 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 3, 4);
+-
+-858 

+-	$uk
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-860 #ifde
+-__USE_ATFILE
+-
+-
+-862 

+-	$uk
+- (
+-__fd
+-, c *
+-__me
+-, 
+-__ag
+-)
+-
+-863 
+-__THROW
+- 
+-	`__nnu
+- ((2));
+-
+-867 

+-	$rmd
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-871 
+-__pid_t
+- 
+-	$tcgpg
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-874 

+-	$tcg
+- (
+-__fd
+-, 
+-__pid_t
+- 
+-__pg_id
+-
+-__THROW
+-;
+-
+-881 
*
+-	`glog
+- ();
+-
+-882 #ifde
+-__USE_POSIX199506
+-
+-
+-889 

+-	$glog_r
+- (*
+-__me
+-, 
+-size_t
+- 
+-__me_n
+-
+-	`__nnu
+- ((1))
+-
+-890 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-893 #ifdef 
+-__USE_MISC
+-
+-
+-895 

+-	$og
+- (c *
+-__me
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-899 #ifdef 
+-__USE_POSIX2
+-
+-
+-903 
+-	~<bs/gt_posix.h
+->
+-
+-907 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-911 

+-	$ghome
+- (*
+-__me
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1))
+-
+-912 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-916 #i
+-defed
+- 
+-__USE_MISC
+-
+-
+-919 

+-	$thome
+- (c *
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-920 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+- 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2));
+-
+-924 

+-	$thoid
+- (
+-__id
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-930 

+-	$gdomame
+- (*
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-931 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-
+-
+-932 
+-	`__ftifd__acss
+- (
+-__wre_ly__
+-, 1, 2);
+-
+-933 

+-	$tdomame
+- (c *
+-__me
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-934 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+- 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 2));
+-
+-939 

+-	$vhgup
+- (
+-__THROW
+-;
+-
+-942 

+-	$voke
+- (c *
+-__fe
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-950 

+-	$of
+- (*
+-__me_bufr
+-, 
+-size_t
+- 
+-__size
+-,
+-
+-951 
+-size_t
+- 
+-__offt
+-, 
+-__s
+-)
+-
+-952 
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-958 

+-	$ac
+- (c *
+-__me
+-
+-__THROW
+-;
+-
+-962 
*
+-	$gurshl
+- (
+-__THROW
+-;
+-
+-963 

+-	$durshl
+- (
+-__THROW
+-;
+-
+-964 

+-	$turshl
+- (
+-__THROW
+-;
+-
+-970 

+-	$dm
+- (
+-__nochd
+-, 
+-__noo
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-974 #i
+-defed
+- 
+-__USE_MISC
+- || (defed 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-)
+-
+-977 

+-	$chro
+- (c *
+-__th
+-
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-981 
*
+-	$gss
+- (c *
+-__om
+-
+-	`__nnu
+- ((1));
+-
+-989 

+-	`fsync
+- (
+-__fd
+-);
+-
+-992 #ifde
+-__USE_GNU
+-
+-
+-995 

+-	$syncfs
+- (
+-__fd
+-
+-__THROW
+-;
+-
+-999 #i
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-
+-
+-1002 

+-	`ghoid
+- ();
+-
+-1005 

+-	$sync
+- (
+-__THROW
+-;
+-
+-1008 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K
+-
+-
+-1011 

+-	$ggesize
+- (
+-__THROW
+- 
+-	`__ibu__
+- ((
+-__c__
+-));
+-
+-1016 

+-	$gdbsize
+- (
+-__THROW
+-;
+-
+-1022 #i
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K8
+-
+-
+-1025 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1026 

+-	$un
+- (c *
+-__fe
+-, 
+-__off_t
+- 
+-__ngth
+-)
+-
+-1027 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1029 #ifde
+-__REDIRECT_NTH
+-
+-
+-1030 

+-	`__REDIRECT_NTH
+- (
+-un
+-,
+-
+-1031 (c *
+-__fe
+-, 
+-__off64_t
+- 
+-__ngth
+-),
+-
+-1032 
+-un64
+-
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1034 
+-	#un
+- 
+-un64
+-
+-
+-	)
+-
+-1037 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1038 

+-	$un64
+- (c *
+-__fe
+-, 
+-__off64_t
+- 
+-__ngth
+-)
+-
+-1039 
+-__THROW
+- 
+-	`__nnu
+- ((1)
+-__wur
+-;
+-
+-1044 #i
+-defed
+- 
+-__USE_POSIX199309
+- \
+-
+-1045 || 
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- || defed 
+-__USE_XOPEN2K
+-
+-
+-1048 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1049 

+-	$run
+- (
+-__fd
+-, 
+-__off_t
+- 
+-__ngth
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1051 #ifde
+-__REDIRECT_NTH
+-
+-
+-1052 

+-	`__REDIRECT_NTH
+- (
+-run
+-, (
+-__fd
+-, 
+-__off64_t
+- 
+-__ngth
+-),
+-
+-1053 
+-run64
+-
+-__wur
+-;
+-
+-1055 
+-	#run
+- 
+-run64
+-
+-
+-	)
+-
+-1058 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1059 

+-	$run64
+- (
+-__fd
+-, 
+-__off64_t
+- 
+-__ngth
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1065 #i(
+-defed
+- 
+-__USE_XOPEN_EXTENDED
+- && !defed 
+-__USE_XOPEN2K
+-) \
+-
+-1066 || 
+-defed
+- 
+-__USE_MISC
+-
+-
+-1070 

+-	$brk
+- (*
+-__addr
+-
+-__THROW
+- 
+-__wur
+-;
+-
+-1076 
*
+-	$sbrk
+- (
+-_t
+- 
+-__d
+-
+-__THROW
+-;
+-
+-1080 #ifde
+-__USE_MISC
+-
+-
+-1091 

+-	$sys
+- (
+-__syo
+-, ...
+-__THROW
+-;
+-
+-1096 #i(
+-defed
+- 
+-__USE_MISC
+- || defed 
+-__USE_XOPEN_EXTENDED
+-&& !defed 
+-F_LOCK
+-
+-
+-1108 
+-	#F_ULOCK
+- 0
+-
+-	)
+-
+-1109 
+-	#F_LOCK
+- 1
+-
+-	)
+-
+-1110 
+-	#F_TLOCK
+- 2
+-
+-	)
+-
+-1111 
+-	#F_TEST
+- 3
+-
+-	)
+-
+-1113 #ide
+-__USE_FILE_OFFSET64
+-
+-
+-1114 

+-	$lockf
+- (
+-__fd
+-, 
+-__cmd
+-, 
+-__off_t
+- 
+-__n
+-
+-__wur
+-;
+-
+-1116 #ifde
+-__REDIRECT
+-
+-
+-1117 

+-	`__REDIRECT
+- (
+-lockf
+-, (
+-__fd
+-, 
+-__cmd
+-, 
+-__off64_t
+- 
+-__n
+-),
+-
+-1118 
+-lockf64
+-
+-__wur
+-;
+-
+-1120 
+-	#lockf
+- 
+-lockf64
+-
+-
+-	)
+-
+-1123 #ifde
+-__USE_LARGEFILE64
+-
+-
+-1124 

+-	$lockf64
+- (
+-__fd
+-, 
+-__cmd
+-, 
+-__off64_t
+- 
+-__n
+-
+-__wur
+-;
+-
+-1129 #ifde
+-__USE_GNU
+-
+-
+-1134 
+-	#TEMP_FAILURE_RETRY
+-(
+-exessi
+-) \
+-
+-1135 (
+-__exnsi__
+- \
+-
+-1136 ({ 
+-__su
+-; \
+-
+-1137 d
+-__su
+- = ((
+-exessi
+-); \
+-
+-1138 
+-__su
+- =-1L && 
+-o
+- =
+-EINTR
+-); \
+-
+-1139 
+-__su
+-; 
+-	}
+-}))
+-
+-	)
+-
+-1142 
+-ssize_t
+- 
+-cy_fe_nge
+- (
+-__fd
+-, 
+-__off64_t
+- *
+-__poff
+-,
+-
+-1143 
+-__outfd
+-, 
+-__off64_t
+- *
+-__poutoff
+-,
+-
+-1144 
+-size_t
+- 
+-__ngth
+-, 
+-__ags
+-);
+-
+-1147 #i
+-defed
+- 
+-__USE_POSIX199309
+- || defed 
+-__USE_UNIX98
+-
+-
+-1150 

+-fdasync
+- (
+-__fdes
+-);
+-
+-1153 #ifde
+-__USE_MISC
+-
+-
+-1159 
*
+-	$y
+- (c *
+-__key
+-, c *
+-__
+-)
+-
+-1160 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-1163 #ifdef 
+-__USE_XOPEN
+-
+-
+-1168 

+-	$swab
+- (c *
+-__ri
+- 
+-__om
+-, *__ri 
+-__to
+-,
+-
+-1169 
+-ssize_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1, 2))
+-
+-1170 
+-	`___acss
+- ((
+-__ad_ly__
+-, 1, 3))
+-
+-1171 
+-	`___acss
+- ((
+-__wre_ly__
+-, 2, 3));
+-
+-1178 #i
+-defed
+- 
+-__USE_XOPEN
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1180 
*
+-	$mid
+- (*
+-__s
+-
+-__THROW
+-;
+-
+-1183 
*
+-	`curid
+- (*
+-__s
+-);
+-
+-1189 #i
+-defed
+- 
+-__USE_UNIX98
+- && !defed 
+-__USE_XOPEN2K
+-
+-
+-1190 

+-	$had_fk
+- ((*
+-__e
+-) (),
+-
+-1191 (*
+-__
+-) (),
+-
+-1192 (*
+-__chd
+-()
+-__THROW
+-;
+-
+-1195 #ifde
+-__USE_MISC
+-
+-
+-1198 
+-	$gy
+- (*
+-__bufr
+-, 
+-size_t
+- 
+-__ngth
+-
+-__wur
+-
+-
+-1199 
+-	`___acss
+- ((
+-__wre_ly__
+-, 1, 2));
+-
+-1202 #ifde
+-__USE_GNU
+-
+-
+-1208 

+-	$o_nge
+- (
+-__fd
+-, 
+-__max_fd
+-,
+-
+-1209 
+-__ags
+-
+-__THROW
+-;
+-
+-1213 #i
+-__USE_FORTIFY_LEVEL
+- > 0 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-1214 
+-	~<bs/unid.h
+->
+-
+-1218 
+-	~<bs/unid_ext.h
+->
+-
+-1220 
+-__END_DECLS
+-
+-
+-	@/usr/include/alloca.h
+-
+-18 #idef 
+-_ALLOCA_H
+-
+-
+-19 
+-	#_ALLOCA_H
+- 1
+-
+-	)
+-
+-21 
+-	~<us.h
+->
+-
+-23 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-24 
+-	~<ddef.h
+->
+-
+-26 
+-	g__BEGIN_DECLS
+-
+-
+-29 #unde
+-lo
+-
+-
+-32 
*
+-	$lo
+- (
+-size_t
+- 
+-__size
+-
+-__THROW
+-;
+-
+-34 #ifdef 
+-__GNUC__
+-
+-
+-35 
+-	#lo
+-(
+-size
+-
+-	`__but_lo
+- (size)
+-
+-	)
+-
+-38 
+-__END_DECLS
+-
+-
+-	@/usr/include/features.h
+-
+-18 #idef 
+-_FEATURES_H
+-
+-
+-19 
+-	#_FEATURES_H
+- 1
+-
+-	)
+-
+-126 #unde
+-__USE_ISOC11
+-
+-
+-127 #unde
+-__USE_ISOC99
+-
+-
+-128 #unde
+-__USE_ISOC95
+-
+-
+-129 #unde
+-__USE_ISOCXX11
+-
+-
+-130 #unde
+-__USE_POSIX
+-
+-
+-131 #unde
+-__USE_POSIX2
+-
+-
+-132 #unde
+-__USE_POSIX199309
+-
+-
+-133 #unde
+-__USE_POSIX199506
+-
+-
+-134 #unde
+-__USE_XOPEN
+-
+-
+-135 #unde
+-__USE_XOPEN_EXTENDED
+-
+-
+-136 #unde
+-__USE_UNIX98
+-
+-
+-137 #unde
+-__USE_XOPEN2K
+-
+-
+-138 #unde
+-__USE_XOPEN2KXSI
+-
+-
+-139 #unde
+-__USE_XOPEN2K8
+-
+-
+-140 #unde
+-__USE_XOPEN2K8XSI
+-
+-
+-141 #unde
+-__USE_LARGEFILE
+-
+-
+-142 #unde
+-__USE_LARGEFILE64
+-
+-
+-143 #unde
+-__USE_FILE_OFFSET64
+-
+-
+-144 #unde
+-__USE_MISC
+-
+-
+-145 #unde
+-__USE_ATFILE
+-
+-
+-146 #unde
+-__USE_DYNAMIC_STACK_SIZE
+-
+-
+-147 #unde
+-__USE_GNU
+-
+-
+-148 #unde
+-__USE_FORTIFY_LEVEL
+-
+-
+-149 #unde
+-__KERNEL_STRICT_NAMES
+-
+-
+-150 #unde
+-__GLIBC_USE_ISOC2X
+-
+-
+-151 #unde
+-__GLIBC_USE_DEPRECATED_GETS
+-
+-
+-152 #unde
+-__GLIBC_USE_DEPRECATED_SCANF
+-
+-
+-156 #ide
+-_LOOSE_KERNEL_NAMES
+-
+-
+-157 
+-	#__KERNEL_STRICT_NAMES
+-
+-
+-	)
+-
+-167 #i
+-defed
+- 
+-__GNUC__
+- && defed 
+-__GNUC_MINOR__
+-
+-
+-168 
+-	#__GNUC_PREREQ
+-(
+-maj
+-, 
+-m
+-) \
+-
+-169 ((
+-__GNUC__
+- << 16+ 
+-__GNUC_MINOR__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-171 
+-	#__GNUC_PREREQ
+-(
+-maj
+-, 
+-m
+-0
+-
+-	)
+-
+-178 #i
+-defed
+- 
+-__g_maj__
+- && defed 
+-__g_m__
+-
+-
+-179 
+-	#__glibc_g_eq
+-(
+-maj
+-, 
+-m
+-) \
+-
+-180 ((
+-__g_maj__
+- << 16+ 
+-__g_m__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-182 
+-	#__glibc_g_eq
+-(
+-maj
+-, 
+-m
+-0
+-
+-	)
+-
+-186 
+-	#__GLIBC_USE
+-(
+-F
+-
+-__GLIBC_USE_
+- ## 
+-	)
+-F
+-
+-192 #i(
+-defed
+- 
+-_BSD_SOURCE
+- || defed 
+-_SVID_SOURCE
+-) \
+-
+-193 && !
+-defed
+- 
+-	g_DEFAULT_SOURCE
+-
+-
+-195 #unde
+-_DEFAULT_SOURCE
+-
+-
+-196 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-200 #ifde
+-_GNU_SOURCE
+-
+-
+-201 #unde
+-_ISOC95_SOURCE
+-
+-
+-202 
+-	#_ISOC95_SOURCE
+- 1
+-
+-	)
+-
+-203 #unde
+-_ISOC99_SOURCE
+-
+-
+-204 
+-	#_ISOC99_SOURCE
+- 1
+-
+-	)
+-
+-205 #unde
+-_ISOC11_SOURCE
+-
+-
+-206 
+-	#_ISOC11_SOURCE
+- 1
+-
+-	)
+-
+-207 #unde
+-_ISOC2X_SOURCE
+-
+-
+-208 
+-	#_ISOC2X_SOURCE
+- 1
+-
+-	)
+-
+-209 #unde
+-_POSIX_SOURCE
+-
+-
+-210 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-211 #unde
+-_POSIX_C_SOURCE
+-
+-
+-212 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-213 #unde
+-_XOPEN_SOURCE
+-
+-
+-214 
+-	#_XOPEN_SOURCE
+- 700
+-
+-	)
+-
+-215 #unde
+-_XOPEN_SOURCE_EXTENDED
+-
+-
+-216 
+-	#_XOPEN_SOURCE_EXTENDED
+- 1
+-
+-	)
+-
+-217 #unde
+-_LARGEFILE64_SOURCE
+-
+-
+-218 
+-	#_LARGEFILE64_SOURCE
+- 1
+-
+-	)
+-
+-219 #unde
+-_DEFAULT_SOURCE
+-
+-
+-220 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-221 #unde
+-_ATFILE_SOURCE
+-
+-
+-222 
+-	#_ATFILE_SOURCE
+- 1
+-
+-	)
+-
+-223 #unde
+-_DYNAMIC_STACK_SIZE_SOURCE
+-
+-
+-224 
+-	#_DYNAMIC_STACK_SIZE_SOURCE
+- 1
+-
+-	)
+-
+-229 #i(
+-defed
+- 
+-_DEFAULT_SOURCE
+- \
+-
+-230 || (!
+-defed
+- 
+-	g__STRICT_ANSI__
+- \
+-
+-231 && !
+-defed
+- 
+-	g_ISOC99_SOURCE
+- && !defed 
+-	g_ISOC11_SOURCE
+- \
+-
+-232 && !
+-defed
+- 
+-	g_ISOC2X_SOURCE
+- \
+-
+-233 && !
+-defed
+- 
+-	g_POSIX_SOURCE
+- && !defed 
+-	g_POSIX_C_SOURCE
+- \
+-
+-234 && !
+-defed
+- 
+-	g_XOPEN_SOURCE
+-))
+-
+-235 #unde
+-_DEFAULT_SOURCE
+-
+-
+-236 
+-	#_DEFAULT_SOURCE
+- 1
+-
+-	)
+-
+-240 #i(
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-241 || (
+-defed
+- 
+-	g__STDC_VERSION__
+- && __STDC_VERSION__ > 201710L))
+-
+-242 
+-	#__GLIBC_USE_ISOC2X
+- 1
+-
+-	)
+-
+-244 
+-	#__GLIBC_USE_ISOC2X
+- 0
+-
+-	)
+-
+-248 #i(
+-defed
+- 
+-_ISOC11_SOURCE
+- || defed 
+-_ISOC2X_SOURCE
+- \
+-
+-249 || (
+-defed
+- 
+-	g__STDC_VERSION__
+- && __STDC_VERSION__ >= 201112L))
+-
+-250 
+-	#__USE_ISOC11
+- 1
+-
+-	)
+-
+-254 #i(
+-defed
+- 
+-_ISOC99_SOURCE
+- || defed 
+-_ISOC11_SOURCE
+- \
+-
+-255 || 
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-256 || (
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199901L))
+-
+-257 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-261 #i(
+-defed
+- 
+-_ISOC99_SOURCE
+- || defed 
+-_ISOC11_SOURCE
+- \
+-
+-262 || 
+-defed
+- 
+-_ISOC2X_SOURCE
+- \
+-
+-263 || (
+-defed
+- 
+-__STDC_VERSION__
+- && __STDC_VERSION__ >= 199409L))
+-
+-264 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-267 #ifde
+-__lulus
+-
+-
+-269 #i
+-__lulus
+- >= 201703L
+-
+-270 
+-	#__USE_ISOC11
+- 1
+-
+-	)
+-
+-274 #i
+-__lulus
+- >201103L || 
+-defed
+- 
+-__GXX_EXPERIMENTAL_CXX0X__
+-
+-
+-275 
+-	#__USE_ISOCXX11
+- 1
+-
+-	)
+-
+-276 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-283 #ifde
+-_DEFAULT_SOURCE
+-
+-
+-284 #i!
+-defed
+- 
+-_POSIX_SOURCE
+- && !defed 
+-_POSIX_C_SOURCE
+-
+-
+-285 
+-	#__USE_POSIX_IMPLICITLY
+- 1
+-
+-	)
+-
+-287 #unde
+-_POSIX_SOURCE
+-
+-
+-288 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-289 #unde
+-_POSIX_C_SOURCE
+-
+-
+-290 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-293 #i((!
+-defed
+- 
+-__STRICT_ANSI__
+- \
+-
+-294 || (
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) >= 500)) \
+-
+-295 && !
+-defed
+- 
+-_POSIX_SOURCE
+- && !defed 
+-_POSIX_C_SOURCE
+-)
+-
+-296 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-297 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 500
+-
+-298 
+-	#_POSIX_C_SOURCE
+- 2
+-
+-	)
+-
+-299 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 600
+-
+-300 
+-	#_POSIX_C_SOURCE
+- 199506L
+-
+-	)
+-
+-301 #i
+-defed
+- 
+-_XOPEN_SOURCE
+- && (_XOPEN_SOURCE - 0) < 700
+-
+-302 
+-	#_POSIX_C_SOURCE
+- 200112L
+-
+-	)
+-
+-304 
+-	#_POSIX_C_SOURCE
+- 200809L
+-
+-	)
+-
+-306 
+-	#__USE_POSIX_IMPLICITLY
+- 1
+-
+-	)
+-
+-315 #i((!
+-defed
+- 
+-_POSIX_C_SOURCE
+- || (_POSIX_C_SOURCE - 0) < 199506L) \
+-
+-316 && (
+-defed
+- 
+-_REENTRANT
+- || defed 
+-_THREAD_SAFE
+-))
+-
+-317 
+-	#_POSIX_SOURCE
+- 1
+-
+-	)
+-
+-318 #unde
+-_POSIX_C_SOURCE
+-
+-
+-319 
+-	#_POSIX_C_SOURCE
+- 199506L
+-
+-	)
+-
+-322 #i(
+-defed
+- 
+-_POSIX_SOURCE
+- \
+-
+-323 || (
+-defed
+- 
+-_POSIX_C_SOURCE
+- && _POSIX_C_SOURCE >= 1) \
+-
+-324 || 
+-defed
+- 
+-_XOPEN_SOURCE
+-)
+-
+-325 
+-	#__USE_POSIX
+- 1
+-
+-	)
+-
+-328 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && _POSIX_C_SOURCE >2 || defed 
+-_XOPEN_SOURCE
+-
+-
+-329 
+-	#__USE_POSIX2
+- 1
+-
+-	)
+-
+-332 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 199309L
+-
+-333 
+-	#__USE_POSIX199309
+- 1
+-
+-	)
+-
+-336 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 199506L
+-
+-337 
+-	#__USE_POSIX199506
+- 1
+-
+-	)
+-
+-340 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 200112L
+-
+-341 
+-	#__USE_XOPEN2K
+- 1
+-
+-	)
+-
+-342 #unde
+-__USE_ISOC95
+-
+-
+-343 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-344 #unde
+-__USE_ISOC99
+-
+-
+-345 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-348 #i
+-defed
+- 
+-_POSIX_C_SOURCE
+- && (_POSIX_C_SOURCE - 0) >= 200809L
+-
+-349 
+-	#__USE_XOPEN2K8
+- 1
+-
+-	)
+-
+-350 #unde
+-_ATFILE_SOURCE
+-
+-
+-351 
+-	#_ATFILE_SOURCE
+- 1
+-
+-	)
+-
+-354 #ifdef 
+-_XOPEN_SOURCE
+-
+-
+-355 
+-	#__USE_XOPEN
+- 1
+-
+-	)
+-
+-356 #i(
+-_XOPEN_SOURCE
+- - 0) >= 500
+-
+-357 
+-	#__USE_XOPEN_EXTENDED
+- 1
+-
+-	)
+-
+-358 
+-	#__USE_UNIX98
+- 1
+-
+-	)
+-
+-359 #unde
+-_LARGEFILE_SOURCE
+-
+-
+-360 
+-	#_LARGEFILE_SOURCE
+- 1
+-
+-	)
+-
+-361 #i(
+-_XOPEN_SOURCE
+- - 0) >= 600
+-
+-362 #i(
+-_XOPEN_SOURCE
+- - 0) >= 700
+-
+-363 
+-	#__USE_XOPEN2K8
+- 1
+-
+-	)
+-
+-364 
+-	#__USE_XOPEN2K8XSI
+- 1
+-
+-	)
+-
+-366 
+-	#__USE_XOPEN2K
+- 1
+-
+-	)
+-
+-367 
+-	#__USE_XOPEN2KXSI
+- 1
+-
+-	)
+-
+-368 #unde
+-__USE_ISOC95
+-
+-
+-369 
+-	#__USE_ISOC95
+- 1
+-
+-	)
+-
+-370 #unde
+-__USE_ISOC99
+-
+-
+-371 
+-	#__USE_ISOC99
+- 1
+-
+-	)
+-
+-374 #ifde
+-_XOPEN_SOURCE_EXTENDED
+-
+-
+-375 
+-	#__USE_XOPEN_EXTENDED
+- 1
+-
+-	)
+-
+-380 #ifde
+-_LARGEFILE_SOURCE
+-
+-
+-381 
+-	#__USE_LARGEFILE
+- 1
+-
+-	)
+-
+-384 #ifde
+-_LARGEFILE64_SOURCE
+-
+-
+-385 
+-	#__USE_LARGEFILE64
+- 1
+-
+-	)
+-
+-388 #i
+-defed
+- 
+-_FILE_OFFSET_BITS
+- && _FILE_OFFSET_BITS == 64
+-
+-389 
+-	#__USE_FILE_OFFSET64
+- 1
+-
+-	)
+-
+-392 
+-	~<us-time64.h
+->
+-
+-394 #i
+-defed
+- 
+-_DEFAULT_SOURCE
+-
+-
+-395 
+-	#__USE_MISC
+- 1
+-
+-	)
+-
+-398 #ifdef 
+-_ATFILE_SOURCE
+-
+-
+-399 
+-	#__USE_ATFILE
+- 1
+-
+-	)
+-
+-402 #ifdef 
+-_DYNAMIC_STACK_SIZE_SOURCE
+-
+-
+-403 
+-	#__USE_DYNAMIC_STACK_SIZE
+- 1
+-
+-	)
+-
+-406 #ifdef 
+-_GNU_SOURCE
+-
+-
+-407 
+-	#__USE_GNU
+- 1
+-
+-	)
+-
+-410 #i
+-defed
+- 
+-_FORTIFY_SOURCE
+- && _FORTIFY_SOURCE > 0
+-
+-411 #i!
+-defed
+- 
+-__OPTIMIZE__
+- || __OPTIMIZE__ <= 0
+-
+-412 #i!
+-__GNUC_PREREQ
+- (4, 1)
+-
+-413 #i
+-_FORTIFY_SOURCE
+- > 2 && (
+-__glibc_g_eq
+- (9, 0) \
+-
+-414 || 
+-	$__GNUC_PREREQ
+- (12, 0))
+-
+-416 #i
+-_FORTIFY_SOURCE
+- > 3
+-
+-418 
+-	#__USE_FORTIFY_LEVEL
+- 3
+-
+-	)
+-
+-419 #i
+-_FORTIFY_SOURCE
+- > 1
+-
+-420 #i
+-_FORTIFY_SOURCE
+- > 2
+-
+-422 
+-	#__USE_FORTIFY_LEVEL
+- 2
+-
+-	)
+-
+-424 
+-	#__USE_FORTIFY_LEVEL
+- 1
+-
+-	)
+-
+-427 #ide
+-__USE_FORTIFY_LEVEL
+-
+-
+-428 
+-	#__USE_FORTIFY_LEVEL
+- 0
+-
+-	)
+-
+-435 #i
+-defed
+- 
+-__lulus
+- ? __lulu>201402L : defed 
+-__USE_ISOC11
+-
+-
+-436 
+-	#__GLIBC_USE_DEPRECATED_GETS
+- 0
+-
+-	)
+-
+-438 
+-	#__GLIBC_USE_DEPRECATED_GETS
+- 1
+-
+-	)
+-
+-453 #i(
+-defed
+- 
+-__USE_GNU
+- \
+-
+-454 && (
+-defed
+- 
+-__lulus
+- \
+-
+-455 ? (
+-__lulus
+- < 201103L && !
+-defed
+- 
+-__GXX_EXPERIMENTAL_CXX0X__
+-) \
+-
+-456 : (!
+-defed
+- 
+-__STDC_VERSION__
+- || __STDC_VERSION__ < 199901L)))
+-
+-457 
+-	#__GLIBC_USE_DEPRECATED_SCANF
+- 1
+-
+-	)
+-
+-459 
+-	#__GLIBC_USE_DEPRECATED_SCANF
+- 0
+-
+-	)
+-
+-464 
+-	~<dc-edef.h
+->
+-
+-472 #unde
+-__GNU_LIBRARY__
+-
+-
+-473 
+-	#__GNU_LIBRARY__
+- 6
+-
+-	)
+-
+-477 
+-	#__GLIBC__
+- 2
+-
+-	)
+-
+-478 
+-	#__GLIBC_MINOR__
+- 35
+-
+-	)
+-
+-480 
+-	#__GLIBC_PREREQ
+-(
+-maj
+-, 
+-m
+-) \
+-
+-481 ((
+-__GLIBC__
+- << 16+ 
+-__GLIBC_MINOR__
+- >((
+-maj
+-<< 16+ (
+-m
+-))
+-
+-	)
+-
+-484 #ide
+-__ASSEMBLER__
+-
+-
+-485 #ide
+-_SYS_CDEFS_H
+-
+-
+-486 
+-	~<sys/cdefs.h
+->
+-
+-491 #i
+-defed
+- 
+-__USE_FILE_OFFSET64
+- && !defed 
+-__REDIRECT
+-
+-
+-492 
+-	#__USE_LARGEFILE
+- 1
+-
+-	)
+-
+-493 
+-	#__USE_LARGEFILE64
+- 1
+-
+-	)
+-
+-499 #i
+-	`__GNUC_PREREQ
+- (2, 7&& 
+-defed
+- 
+-__OPTIMIZE__
+- \
+-
+-500 && !
+-defed
+- 
+-__OPTIMIZE_SIZE__
+- && !defed 
+-__NO_INLINE__
+- \
+-
+-501 && 
+-defed
+- 
+-__ex_le
+-
+-
+-502 
+-	#__USE_EXTERN_INLINES
+- 1
+-
+-	)
+-
+-510 
+-	~<gnu/ubs.h
+->
+-
+-	@/usr/include/strings.h
+-
+-18 #idef 
+-_STRINGS_H
+-
+-
+-19 
+-	#_STRINGS_H
+- 1
+-
+-	)
+-
+-21 
+-	~<us.h
+->
+-
+-22 
+-	#__ed_size_t
+-
+-
+-	)
+-
+-23 
+-	~<ddef.h
+->
+-
+-26 #i
+-defed
+- 
+-__lulus
+- && 
+-__GNUC_PREREQ
+- (4, 4)
+-
+-27 
+-	#__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-	)
+-
+-30 
+-	g__BEGIN_DECLS
+-
+-
+-32 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+-
+-
+-34 

+-	$bcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-35 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-38 

+-	$bcy
+- (c *
+-__c
+-, *
+-__de
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-39 
+-__THROW
+- 
+-	`__nnu
+- ((1, 2));
+-
+-42 

+-	$bzo
+- (*
+-__s
+-, 
+-size_t
+- 
+-__n
+-
+-__THROW
+- 
+-	`__nnu
+- ((1));
+-
+-45 #ifde
+-__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-48 
*
+-	`dex
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-49 
+-__THROW
+- 
+-	`__asm
+- ("dex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-50 
c *
+-	`dex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-51 
+-__THROW
+- 
+-	`__asm
+- ("dex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-53 #i
+-defed
+- 
+-__OPTIMIZE__
+-
+-
+-54 
+-__ex_ways_le
+- *
+-
+-55 
+-	`dex
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-57  
+-	`__but_dex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-60 
+-__ex_ways_le
+- const *
+-
+-61 
+-	`dex
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-63  
+-	`__but_dex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-66 
+-	}
+-}
+-
+-68 
*
+-	$dex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-69 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-73 #ifde
+-__CORRECT_ISO_CPP_STRINGS_H_PROTO
+-
+-
+-76 
*
+-	`rdex
+- (*
+-__s
+-, 
+-__c
+-)
+-
+-77 
+-__THROW
+- 
+-	`__asm
+- ("rdex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-78 
c *
+-	`rdex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-79 
+-__THROW
+- 
+-	`__asm
+- ("rdex"
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-81 #i
+-defed
+- 
+-__OPTIMIZE__
+-
+-
+-82 
+-__ex_ways_le
+- *
+-
+-83 
+-	`rdex
+- (*
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-85  
+-	`__but_rdex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-88 
+-__ex_ways_le
+- const *
+-
+-89 
+-	`rdex
+- (c *
+-__s
+-, 
+-__c
+-
+-__THROW
+-
+-
+-91  
+-	`__but_rdex
+- (
+-__s
+-, 
+-__c
+-);
+-
+-94 
+-	}
+-}
+-
+-96 
*
+-	$rdex
+- (c *
+-__s
+-, 
+-__c
+-)
+-
+-97 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1));
+-
+-101 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+- || defed 
+-__USE_XOPEN2K8XSI
+-
+-
+-104 

+-	$ffs
+- (
+-__i
+-
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-109 #ifdef 
+-__USE_MISC
+-
+-
+-110 

+-	$ff
+- (
+-__l
+-
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-111 
+-__exnsi__
+- 

+-	$ffl
+- (
+-__
+-)
+-
+-112 
+-__THROW
+- 
+-__ibu_c__
+-;
+-
+-116 

+-	$rcmp
+- (c *
+-__s1
+-, c *
+-__s2
+-)
+-
+-117 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-120 

+-	$cmp
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-size_t
+- 
+-__n
+-)
+-
+-121 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2));
+-
+-123 #ifdef 
+-__USE_XOPEN2K8
+-
+-
+-125 
+-	~<bs/tys/lo_t.h
+->
+-
+-128 

+-	$rcmp_l
+- (c *
+-__s1
+-, c *
+-__s2
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-129 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 3));
+-
+-133 

+-	$cmp_l
+- (c *
+-__s1
+-, c *
+-__s2
+-,
+-
+-134 
+-size_t
+- 
+-__n
+-, 
+-lo_t
+- 
+-__loc
+-)
+-
+-135 
+-__THROW
+- 
+-__ibu_pu__
+- 
+-	`__nnu
+- ((1, 2, 4));
+-
+-138 
+-__END_DECLS
+-
+-
+-140 #i
+-	`__GNUC_PREREQ
+- (3,4&& 
+-__USE_FORTIFY_LEVEL
+- > 0 \
+-
+-141 && 
+-defed
+- 
+-__ftify_funi
+-
+-
+-143 #i
+-defed
+- 
+-__USE_MISC
+- || !defed 
+-__USE_XOPEN2K8
+-
+-
+-144 
+-	~<bs/rgs_ftifd.h
+->
+-
+-	@/usr/include/features-time64.h
+-
+-20 
+-	~<bs/wdsize.h
+->
+-
+-21 
+-	~<bs/timesize.h
+->
+-
+-23 #i
+-defed
+- 
+-_TIME_BITS
+-
+-
+-24 #i
+-_TIME_BITS
+- == 64
+-
+-25 #i! 
+-defed
+- (
+-_FILE_OFFSET_BITS
+-) || _FILE_OFFSET_BITS != 64
+-
+-27 #i
+-__TIMESIZE
+- == 32
+-
+-28 
+-	#__USE_TIME_BITS64
+- 1
+-
+-	)
+-
+-30 #i
+-_TIME_BITS
+- == 32
+-
+-31 #i
+-__TIMESIZE
+- > 32
+-
+-35 #r 
+-Invid
+- 
+-_TIME_BITS
+- 
+-vue
+- (
+-n
+- 
+-ly
+- 
+-be
+- 32 
+-
+- 64-
+-b
+-)
+-
+-	@/usr/include/stdc-predef.h
+-
+-18 #idef 
+-_STDC_PREDEF_H
+-
+-
+-19 
+-	#_STDC_PREDEF_H
+- 1
+-
+-	)
+-
+-36 #ifde
+-__GCC_IEC_559
+-
+-
+-37 #i
+-__GCC_IEC_559
+- > 0
+-
+-38 
+-	#__STDC_IEC_559__
+- 1
+-
+-	)
+-
+-39 
+-	#__STDC_IEC_60559_BFP__
+- 201404L
+-
+-	)
+-
+-42 
+-	#__STDC_IEC_559__
+- 1
+-
+-	)
+-
+-43 
+-	#__STDC_IEC_60559_BFP__
+- 201404L
+-
+-	)
+-
+-46 #ifde
+-__GCC_IEC_559_COMPLEX
+-
+-
+-47 #i
+-__GCC_IEC_559_COMPLEX
+- > 0
+-
+-48 
+-	#__STDC_IEC_559_COMPLEX__
+- 1
+-
+-	)
+-
+-49 
+-	#__STDC_IEC_60559_COMPLEX__
+- 201404L
+-
+-	)
+-
+-52 
+-	#__STDC_IEC_559_COMPLEX__
+- 1
+-
+-	)
+-
+-53 
+-	#__STDC_IEC_60559_COMPLEX__
+- 201404L
+-
+-	)
+-
+-62 
+-	#__STDC_ISO_10646__
+- 201706L
+-
+-	)
+-
+-	@
+-1
+-.
+-1
+-/usr/include
+-87
+-843
+-asm.h
+-bio.c
+-bootasm.S
+-bootmain.c
+-buf.h
+-cat.c
+-console.c
+-date.h
+-defs.h
+-echo.c
+-elf.h
+-entry.S
+-entryother.S
+-exec.c
+-fcntl.h
+-file.c
+-file.h
+-forktest.c
+-fs.c
+-fs.h
+-grep.c
+-ide.c
+-init.c
+-initcode.S
+-ioapic.c
+-kalloc.c
+-kbd.c
+-kbd.h
+-kill.c
+-lapic.c
+-ln.c
+-log.c
+-ls.c
+-main.c
+-memide.c
+-memlayout.h
+-mkdir.c
+-mkfs.c
+-mman.c
+-mmu.h
+-mp.c
+-mp.h
+-param.h
+-picirq.c
+-pipe.c
+-printf.c
+-proc.c
+-proc.h
+-rm.c
+-sh.c
+-sleeplock.c
+-sleeplock.h
+-spinlock.c
+-spinlock.h
+-stat.h
+-stressfs.c
+-string.c
+-swtch.S
+-syscall.c
+-syscall.h
+-sysfile.c
+-sysproc.c
+-trap.c
+-trapasm.S
+-traps.h
+-types.h
+-uart.c
+-ulib.c
+-umalloc.c
+-user.h
+-usertests.c
+-usys.S
+-vectors.S
+-vm.c
+-wc.c
+-x86.h
+-zombie.c
+-/usr/include/assert.h
+-/usr/include/stdio.h
+-/usr/include/stdlib.h
+-/usr/include/string.h
+-/usr/include/unistd.h
+-/usr/include/alloca.h
+-/usr/include/features.h
+-/usr/include/strings.h
+-/usr/include/features-time64.h
+-/usr/include/stdc-predef.h
+diff --git a/cscope.po.out b/cscope.po.out
+deleted file mode 100644
+index f0d5be1..0000000
+Binary files a/cscope.po.out and /dev/null differ
+diff --git a/mman.c b/mman.c
+index 72a8352..f45e33f 100644
+--- a/mman.c
++++ b/mman.c
+@@ -18,11 +18,11 @@ int main(int argc, char *argv[]){
+ 
+ 	printf(1, "char: %c\n", ret[0]);
+ 	printf(1, "############################\n");
+-	printf(1, "char: %c\n", ret[4096]);
++	ret[0] = 'a';
+ 
+-	// munmap(ret, 4096);
++	munmap(ret+4096, 4096);
+ 
+-	// printf(1, "char: %c\n", ret[0]);
++	printf(1, "char: %c\n", ret[0]);
+ 
+ 	close(fd);
+ 	exit();
+diff --git a/mmu.h b/mmu.h
+index 59a4e01..2e9bfee 100644
+--- a/mmu.h
++++ b/mmu.h
+@@ -141,10 +141,12 @@ struct mmapInfo{
+   int flags;
+   struct legend2 *pages;
+   struct anon *anonMaps;
+-  int valid;
++  int ref;
+   int actualFlags;
+ };
+ 
++void freeVMA(struct mmapInfo *vma);
++
+ void *mmap_helper(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+ 
+ int munmap_helper(void *addr, unsigned int length);
+diff --git a/proc.c b/proc.c
+index 5a671da..537549e 100644
+--- a/proc.c
++++ b/proc.c
+@@ -215,7 +215,7 @@ fork(void)
+       np->ofile[i] = filedup(curproc->ofile[i]);
+   
+   for(i = 0; i < NOMAPS; i++)
+-    if(curproc->maps[i] && curproc->maps[i]->valid){
++    if(curproc->maps[i] && curproc->maps[i]->ref){
+       if (curproc->maps[i]->anonMaps){
+         cprintf("Anonymous %x\n", curproc->maps[i]->start);
+       }
+@@ -261,8 +261,9 @@ exit(void)
+   // Clear PTEs of mapped files if their ref count is 1
+   // cprintf("Exiting\n");
+   for (md = 0; md<NOMAPS; md++){
+-    if (curproc->maps[md] && curproc->maps[md]->valid==1){
++    if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
+       if (curproc->maps[md]->pages && curproc->maps[md]->pages->mapRef>1){
++        // Clear the PTEs to save the pages
+         clear(curproc->pgdir, curproc->maps[md]);
+       } else if (curproc->maps[md]->pages){
+         // Clear the struct out globally
+@@ -271,8 +272,11 @@ exit(void)
+       if (curproc->maps[md]->anonMaps && curproc->maps[md]->anonMaps->ref > 1){
+         clear(curproc->pgdir, curproc->maps[md]);
+       }
+-      curproc->maps[md]--;
+-      curproc->maps[md]->valid = 0;
++      curproc->maps[md]->ref--;
++
++      if (curproc->maps[md]->ref == 0){
++        freeVMA(curproc->maps[md]);
++      }
+       curproc->maps[md] = 0;
+     }
+   }
+@@ -334,6 +338,26 @@ wait(void)
+         // for (int i=0; i<NOMAPS; i++){
+         //   p->maps[i] = 0;
+         // }
++        for (int md = 0; md<NOMAPS; md++){
++          if (curproc->maps[md] && curproc->maps[md]->ref >= 1){
++            if (curproc->maps[md]->pages && curproc->maps[md]->pages->mapRef>1){
++              // Clear the PTEs to save the pages
++              clear(curproc->pgdir, curproc->maps[md]);
++            } else if (curproc->maps[md]->pages){
++              // Clear the struct out globally
++              clearMap(curproc->maps[md]->pages);
++            }
++            if (curproc->maps[md]->anonMaps && curproc->maps[md]->anonMaps->ref > 1){
++              clear(curproc->pgdir, curproc->maps[md]);
++            }
++            curproc->maps[md]->ref--;
++
++            if (curproc->maps[md]->ref == 0){
++              freeVMA(curproc->maps[md]);
++            }
++            curproc->maps[md] = 0;
++          }
++        }
+         release(&ptable.lock);
+         return pid;
+       }
+diff --git a/vm.c b/vm.c
+index 61449cb..26e7b31 100644
+--- a/vm.c
++++ b/vm.c
+@@ -364,7 +364,7 @@ copyuvm(pde_t *pgdir, uint sz)
+   for (int i=0; i<NOMAPS; i++){
+     struct mmapInfo *vma = currproc->maps[i];
+     // Get a new VMA, set the appropriate flags
+-    if (vma && vma->valid){
++    if (vma && vma->ref){
+       // Get the pte, mark the AVL bits]
+       char *start = vma->start;
+       char *end = (char *) PGROUNDUP((uint) vma->end);
+@@ -469,6 +469,7 @@ struct mmapInfo *mmapdup(struct mmapInfo *m){
+   } else{
+     m->anonMaps->ref++;
+   }
++  m->ref++;
+   return m;
+ }
+ 
+@@ -572,7 +573,7 @@ struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int
+ 
+   struct mmapInfo *mI = 0;
+   for (int i=0; i<NMAPS; i++){
+-    if (mtable.info[i].valid==0){
++    if (mtable.info[i].ref==0){
+       mI = &mtable.info[i];
+       break;
+     }
+@@ -585,7 +586,7 @@ struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int
+   mI->start = start;
+   mI->end = start + length;
+   mI->pages = m;
+-  mI->valid = 1;
++  mI->ref = 1;
+   mI->firstPageIndex = offset / PGSIZE;
+   mI->numPages = numPages;
+   mI->prot = prot;
+@@ -695,7 +696,7 @@ void freeVMA(struct mmapInfo *vma){
+   vma->prot = 0;
+   vma->numPages = 0;
+   vma->pages = 0;
+-  vma->valid = 0;
++  vma->ref = 0;
+   vma->anonMaps = 0;
+ }
+ 
+@@ -1015,7 +1016,7 @@ int munmap_helper(void *addr, unsigned int length){
+   // Find the VMA
+   struct proc *currproc = myproc();
+   for (int i=0; i<NOMAPS; i++){
+-    if (currproc->maps[i] && currproc->maps[i]->valid){
++    if (currproc->maps[i] && currproc->maps[i]->ref){
+       if (currproc->maps[i]->start <= roundAddr && roundAddr < currproc->maps[i]->end){
+         vma = currproc->maps[i];
+         break;
+@@ -1061,11 +1062,12 @@ int munmap_helper(void *addr, unsigned int length){
+   }
+ 
+   // So, we have to deallocate the memory of the process and possibly flush it back to disk
+-  char *start = vma->start;
+-  char *end = vma->end;
++  char *start = roundAddr;
++  char *end = (char *) min(PGROUNDUP((uint) (vma->start + length)), PGROUNDUP((uint) vma->end));
++  cprintf("Unmapping from %x-%x\n", start, end);
+   char *va = start;
+   pte_t *pte;
+-  int pageIndex = (int) (roundAddr - start) / PGSIZE;
++  int pageIndex = (int) (roundAddr - vma->start) / PGSIZE;
+   uint pa;
+ 
+   struct legend2 *m;
+@@ -1081,6 +1083,10 @@ int munmap_helper(void *addr, unsigned int length){
+       if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+         panic("munmap: pte should exist");
+       }
++      if (!(*pte & PTE_P)){
++        // This region wasn't mapped. Skip it
++        continue;
++      }
+       // Decrement the page reference count
+       ref[pageIndex]--;
+       cprintf("Legend %d %d\n", pageIndex, ref[pageIndex]);
diff --git a/trap.c b/trap.c
index 41c66eb..9db7f42 100644
--- a/trap.c
+++ b/trap.c
@@ -77,6 +77,13 @@ trap(struct trapframe *tf)
             cpuid(), tf->cs, tf->eip);
     lapiceoi();
     break;
+  case T_PGFLT:
+    // If payheed, then only handle, else this is not what we are capable of
+    char *faultedOn = (char *) rcr2();
+    cprintf("Faulted on %x\n", faultedOn);
+    handleMapFault(faultedOn);
+    switchuvm(myproc());
+    break;
 
   //PAGEBREAK: 13
   default:
diff --git a/user.h b/user.h
index 4f99c52..2eefcec 100644
--- a/user.h
+++ b/user.h
@@ -23,6 +23,8 @@ int getpid(void);
 char* sbrk(int);
 int sleep(int);
 int uptime(void);
+void *mmap(void *addr, unsigned int length, int prot, int flags, int fd, int offset);
+int munmap(void *addr, unsigned int length);
 
 // ulib.c
 int stat(const char*, struct stat*);
diff --git a/usertests.c b/usertests.c
index a1e97e7..18ebdfb 100644
--- a/usertests.c
+++ b/usertests.c
@@ -477,12 +477,15 @@ sharedfd(void)
   }
   pid = fork();
   memset(buf, pid==0?'c':'p', sizeof(buf));
+  printf(1, "writing\n");
   for(i = 0; i < 1000; i++){
+    printf(1, "i: %d\n", i);
     if(write(fd, buf, sizeof(buf)) != sizeof(buf)){
       printf(1, "fstests: write sharedfd failed\n");
       break;
     }
   }
+  printf(1, "child exiting\n");
   if(pid == 0)
     exit();
   else
@@ -494,6 +497,7 @@ sharedfd(void)
     return;
   }
   nc = np = 0;
+  printf(1, "reading\n");
   while((n = read(fd, buf, sizeof(buf))) > 0){
     for(i = 0; i < sizeof(buf); i++){
       if(buf[i] == 'c')
@@ -504,6 +508,7 @@ sharedfd(void)
   }
   close(fd);
   unlink("sharedfd");
+  printf(1, "%d %d\n", nc, np);
   if(nc == 10000 && np == 10000){
     printf(1, "sharedfd ok\n");
   } else {
@@ -555,6 +560,8 @@ fourfiles(void)
     wait();
   }
 
+  printf(1, "!!!!!!!!!!!!!!! In parent\n");
+
   for(i = 0; i < 2; i++){
     fname = names[i];
     fd = open(fname, 0);
@@ -1756,10 +1763,10 @@ main(int argc, char *argv[])
   }
   close(open("usertests.ran", O_CREATE));
 
-  argptest();
-  createdelete();
-  linkunlink();
-  concreate();
+  // argptest();
+  // createdelete();
+  // linkunlink();
+  // concreate();
   fourfiles();
   sharedfd();
 
diff --git a/usys.S b/usys.S
index 8bfd8a1..9ac03b2 100644
--- a/usys.S
+++ b/usys.S
@@ -29,3 +29,5 @@ SYSCALL(getpid)
 SYSCALL(sbrk)
 SYSCALL(sleep)
 SYSCALL(uptime)
+SYSCALL(mmap)
+SYSCALL(munmap)
diff --git a/vm.c b/vm.c
index 7134cff..54bfe9c 100644
--- a/vm.c
+++ b/vm.c
@@ -5,11 +5,36 @@
 #include "memlayout.h"
 #include "mmu.h"
 #include "proc.h"
+#include "spinlock.h"
+#include "sleeplock.h"
 #include "elf.h"
+#include "fs.h"
+#include "file.h"
+#include "mman.h"
 
 extern char data[];  // defined by kernel.ld
 pde_t *kpgdir;  // for use in scheduler()
 
+int mmapAssignProc(struct proc *currproc, struct mmapInfo *vma);
+
+// General map cache
+struct {
+  struct spinlock lock;
+  struct legend2 maps[NMAPS];
+} mmapCache;
+
+// Anonymous map cache
+struct {
+  struct spinlock lock;
+  struct anon anonMaps[NMAPS];
+} anonCache;
+
+// mmapInfo structs
+struct {
+  struct spinlock lock;
+  struct mmapInfo info[NMAPS];
+} mtable;
+
 // Set up CPU's kernel segment descriptors.
 // Run once on entry on each CPU.
 void
@@ -70,7 +95,13 @@ mappages(pde_t *pgdir, void *va, uint size, uint pa, int perm)
       return -1;
     if(*pte & PTE_P)
       panic("remap");
-    *pte = pa | perm | PTE_P;
+    if (PTE_META(*pte) == (PTE_PRIVATE >> 8)){
+      *pte &= ~PTE_W;
+      *pte |= PTE_P;
+      *pte &= ~PTE_PRIVATE;
+    } else{
+      *pte = pa | perm | PTE_P;
+    }
     if(a == last)
       break;
     a += PGSIZE;
@@ -126,12 +157,13 @@ setupkvm(void)
   memset(pgdir, 0, PGSIZE);
   if (P2V(PHYSTOP) > (void*)DEVSPACE)
     panic("PHYSTOP too high");
-  for(k = kmap; k < &kmap[NELEM(kmap)]; k++)
+  for(k = kmap; k < &kmap[NELEM(kmap)]; k++){
     if(mappages(pgdir, k->virt, k->phys_end - k->phys_start,
                 (uint)k->phys_start, k->perm) < 0) {
       freevm(pgdir);
       return 0;
     }
+  }
   return pgdir;
 }
 
@@ -192,6 +224,14 @@ inituvm(pde_t *pgdir, char *init, uint sz)
   memmove(mem, init, sz);
 }
 
+// MINE: Get details of the pte
+void getDetails(pte_t *pte){
+}
+
+int isDirty(pte_t *pte){
+  return *pte & 0x40;
+}
+
 // Load a program segment into pgdir.  addr must be page-aligned
 // and the pages from addr to addr+sz must already be mapped.
 int
@@ -216,6 +256,10 @@ loaduvm(pde_t *pgdir, char *addr, struct inode *ip, uint offset, uint sz)
   return 0;
 }
 
+int isMapped(char *v){
+  return 0;
+}
+
 // Allocate page tables and physical memory to grow process from oldsz to
 // newsz, which need not be page aligned.  Returns new size or 0 on error.
 int
@@ -284,7 +328,7 @@ void
 freevm(pde_t *pgdir)
 {
   uint i;
-
+  
   if(pgdir == 0)
     panic("freevm: no pgdir");
   deallocuvm(pgdir, KERNBASE, 0);
@@ -322,11 +366,64 @@ copyuvm(pde_t *pgdir, uint sz)
 
   if((d = setupkvm()) == 0)
     return 0;
+  
+  // If this address lies in the range of a map, handle it by pointing mem to the correct page. Or best, don't map it only. Let it page fault. Ensure but pte is with correct permissions. Map Private should be marked as Read-only, that's it. Set the AVL bit to some value, we have three bits for the purpose. Let's set them to an alternating pattern of 101
+  // Actual flags of VMA never change, so processes can share VMAs as well. Need refCount on vma
+  // Nullify pte
+  struct proc *currproc = myproc();
+  int pid = currproc->pid;
+  if (pid != 1 && pid!=2){
+    for (int i=0; i<NOMAPS; i++){
+      struct mmapInfo *vma = currproc->maps[i];
+      // Get a new VMA, set the appropriate flags
+      if (vma && vma->ref){
+        // Get the pte, mark the AVL bits]
+        char *start = vma->start;
+        char *end = (char *) PGROUNDUP((uint) vma->end);
+        char *a = start;
+        for (; a < end; a += PGSIZE){
+          if ( (pte = walkpgdir(pgdir, a, 0)) == 0){
+            panic("copyuvm: pte should exist");
+          }
+          if (!(*pte & PTE_P)){
+            *pte |= PTE_SKIP;
+            continue;
+          }
+          if (vma->flags & MAP_PRIVATE){
+            *pte |= PTE_PRIVATE;
+            *pte &= ~PTE_P;
+          } else{
+            *pte |= PTE_AVL;
+            *pte &= ~PTE_P;
+          }
+        }
+      }
+    }
+  }
+
   for(i = 0; i < sz; i += PGSIZE){
     if((pte = walkpgdir(pgdir, (void *) i, 0)) == 0)
       panic("copyuvm: pte should exist");
-    if(!(*pte & PTE_P))
-      panic("copyuvm: page not present");
+    if(!(*pte & PTE_P)){
+      if (PTE_META(*pte)==(PTE_AVL >> 8)){
+        *pte |=  PTE_P;
+        *pte &= ~PTE_AVL;
+        continue;
+      } else if (PTE_META(*pte)==(PTE_PRIVATE >> 8)){
+        pte_t *newPte;
+        if ((newPte = walkpgdir(d, (void *) i, 0)) == 0){
+          panic("Copying MAP_PRIVATE went wrong");
+        }
+        *newPte = *pte;
+        *pte |= PTE_P;
+        *pte &= ~PTE_PRIVATE;
+      } else if (*pte & PTE_SKIP){
+        *pte &= ~PTE_SKIP;
+        continue;
+      }
+      // panic("copyuvm: page not present");
+      continue;
+    }
     pa = PTE_ADDR(*pte);
     flags = PTE_FLAGS(*pte);
     if((mem = kalloc()) == 0)
@@ -385,10 +482,1056 @@ copyout(pde_t *pgdir, uint va, void *p, uint len)
   return 0;
 }
 
+char *extend(struct proc *p, uint oldsz, uint newsz){
+  p->sz += newsz;
+  return (char *) oldsz;
+}
+
+struct mmapInfo *mmapdup(struct mmapInfo *m){
+  if (m->pages && m->pages->f->ref < 1){
+    panic("filedup");
+  } else if (m->pages){
+    m->pages->f->ref++;
+    m->pages->mapRef++;
+  } else{
+    m->anonMaps->ref++;
+  }
+  m->ref++;
+  return m;
+}
+
+// Print all the maps of the process
+void unfoldMaps(){
+}
+
+void mmapCopyUvm(pde_t *pgdir, struct mmapInfo *vma){
+
+}
+
+// VMA carries the entire information of how we want to map the pages
+int mmapAllocUvm(pde_t *pgdir, struct mmapInfo *vma, int reload, char *faultedAddr){
+  char *mem;
+  uint a;
+  int mappingPagesFrom;
+  struct legend2 *m = vma->pages;
+  struct anon *am = vma->anonMaps;
+  char **physicalPages = 0;
+  int anonFlag = 0;
+  char *end, *start;
+
+  acquire(&mmapCache.lock);
+  if (m){
+    physicalPages = m->physicalPages;
+  } else if (am){
+    physicalPages = am->physicalPages;
+  } else{
+    panic("Incorrect VMA");
+  }
+
+  if (!faultedAddr){
+    mappingPagesFrom = vma->firstPageIndex;
+    a = (uint) vma->start;
+    end = vma->end;
+    start = vma->start;
+  } else{
+    mappingPagesFrom = ((uint) (faultedAddr - vma->start) / PGSIZE) + vma->firstPageIndex;
+    a = PGROUNDDOWN((uint) faultedAddr);
+    end = (char *) PGROUNDDOWN((uint) faultedAddr + PGSIZE);
+    start = (char *) PGROUNDDOWN((uint) faultedAddr);
+  }
+
+  for(; a < (uint) end; a += PGSIZE){
+    if (reload || !physicalPages[mappingPagesFrom]){
+      if (!physicalPages[mappingPagesFrom] && am && (vma->prot & PROT_WRITE)){
+        anonFlag = PTE_W;
+      }
+      mem = kalloc();
+      memset(mem, 0, PGSIZE);
+      if(mem == 0){
+        cprintf("allocuvm out of memory\n");
+        deallocuvm(pgdir, (uint) end, (uint) start);
+        release(&mmapCache.lock);
+        return -1;
+      }
+    }
+    if (reload){
+      pte_t *pte;
+      if ( (pte = walkpgdir(pgdir, (void *) a, 0)) == 0){
+        panic("Drunken walk\n");
+      }
+      memmove(mem, P2V(PTE_ADDR(*pte)), PGSIZE);
+      *pte = 0;
+    }
+    if (!reload && !physicalPages[mappingPagesFrom]){
+      physicalPages[mappingPagesFrom] = mem;
+    } else if (!reload && physicalPages[mappingPagesFrom]){
+      mem = physicalPages[mappingPagesFrom];
+    }
+    if(mappages(pgdir, (char*)a, PGSIZE, V2P(mem), vma->actualFlags | anonFlag) < 0){
+      cprintf("allocuvm out of memory (2)\n");
+      deallocuvm(pgdir, (uint) end, (uint) start);
+      kfree(mem);
+      release(&mmapCache.lock);
+      return -1;
+    }
+    mappingPagesFrom++;
+  }
+  release(&mmapCache.lock);
+  return 0;
+}
+
+struct legend2 *mmapAlloc(){
+  acquire(&mmapCache.lock);
+  for (int i=0; i<NMAPS; i++){
+    if (mmapCache.maps[i].mapRef == 0){
+      for (int j=0; j<MAX_PAGES; j++){
+        mmapCache.maps[i].physicalPages[j] = 0;
+      }
+      release(&mmapCache.lock);
+      return &mmapCache.maps[i];
+    }
+  }
+  release(&mmapCache.lock);
+  return 0;
+}
+
+struct mmapInfo *mmapAssign(struct legend2 *m, struct anon *am, char *start, int offset, int length, int prot, int flags, char fileOp){
+  int numPages = (PGROUNDUP(offset + length) - PGROUNDDOWN(offset)) / PGSIZE;
+
+  acquire(&mtable.lock);
+  struct mmapInfo *vma = 0;
+  for (int i=0; i<NMAPS; i++){
+    if (mtable.info[i].ref==0){
+      vma = &mtable.info[i];
+      break;
+    }
+  }
+
+  if (!vma){
+    return 0;
+  }
+
+  vma->start = start;
+  vma->end = vma->start + offset + length - PGROUNDDOWN(offset);
+  vma->pages = m;
+  vma->ref = 1;
+  vma->firstPageIndex = (PGROUNDDOWN(offset)) / PGSIZE;
+  vma->numPages = numPages;
+  vma->prot = prot;
+  vma->flags = flags;
+  vma->anonMaps = am;
+  vma->fileOp = fileOp;
+
+  // If MAP_PRIVATE is present, mark the page as read-only. When page fault occurs, then we'll decide if the page was actually writable or not using the prot field
+  if (flags & MAP_PRIVATE){
+    vma->actualFlags = PTE_P | PTE_U;
+  } else{
+    if (prot & PROT_WRITE){
+      vma->actualFlags = PTE_P | PTE_W | PTE_U;
+    } else{
+      vma->actualFlags = PTE_P | PTE_U;
+    }
+  }
+
+  if (vma->prot == PROT_NONE){
+    vma->actualFlags = PTE_U;
+  }
+  release(&mtable.lock);
+
+  return vma;
+}
+
+int min(int a, int b){
+  return a<b?a:b;
+}
+
+int max(int a, int b){
+  return a>b?a:b;
+}
+
+void printInfo(struct legend2 *m){
+  for (int i=0; i<MAX_PAGES; i++){
+    // cprintf("%x\n", m->physicalPages[i]);
+  }
+}
+
+// Map the pages into struct legend2 only if they could be loaded
+int mmapLoadUvm(pde_t *pgdir, struct legend2 *map, struct mmapInfo *m, int reload, char *faultedAddr){
+  // pde_t *pgdir, char *addr, struct inode *ip, uint offset, uint sz
+  uint i, pa, n, sz, offset;
+  pte_t *pte;
+  int pageNum;
+  char *addr;
+  int firstPageIndex, numPages;
+
+  if (!faultedAddr){
+    addr = m->start;
+    sz = min(m->numPages*PGSIZE, map->f->ip->size - m->firstPageIndex*PGSIZE);
+    offset = m->firstPageIndex * PGSIZE;
+    pageNum = m->firstPageIndex;
+  } else{
+    addr = (char *) PGROUNDDOWN((uint) faultedAddr);
+    firstPageIndex = (int) (faultedAddr - m->start) / PGSIZE + m->firstPageIndex;
+    numPages = 1;
+    sz = min(numPages*PGSIZE, map->f->ip->size - firstPageIndex*PGSIZE);
+    offset = firstPageIndex * PGSIZE;
+    pageNum = firstPageIndex;
+  }
+
+  if((uint) addr % PGSIZE != 0)
+    panic("loaduvm: addr must be page aligned");
+  for(i = 0; i < sz; i += PGSIZE){
+    if((pte = walkpgdir(pgdir, addr+i, 0)) == 0)
+      panic("loaduvm: address should exist");
+    pa = PTE_ADDR(*pte);
+    // If the page was not in the cache
+    if (!map->ref[pageNum]){
+      if(sz - i < PGSIZE)
+        n = sz - i;
+      else
+        n = PGSIZE;
+      int written;
+      begin_op();
+      if(( written = readi(map->f->ip, P2V(pa), offset+i, n) ) != n){
+        end_op();
+        return -1;
+      }
+      end_op();
+    }
+    map->ref[pageNum]++;
+    pageNum++;
+  }
+  return 0;
+}
+
+struct legend2 *findInCache(struct file *f){
+  acquire(&mmapCache.lock);
+  struct legend2 *old;
+  struct legend2 *m = 0;
+
+  for (int i=0; i<NMAPS; i++){
+    if ( (old = &mmapCache.maps[i])->mapRef != 0){
+      if (old->f->ip == f->ip){
+        m = &mmapCache.maps[i];
+        break;
+      }
+    }
+  }
+  release(&mmapCache.lock);
+  return m;
+}
+
+void freeVMA(struct mmapInfo *vma){
+  int shouldRelease = 0;
+  if (!holding(&mtable.lock)){
+    acquire(&mtable.lock);
+    shouldRelease = 1;
+  }
+  vma->start = 0;
+  vma->end = 0;
+  vma->firstPageIndex = -1;
+  vma->flags = 0;
+  vma->prot = 0;
+  vma->numPages = 0;
+  vma->pages = 0;
+  vma->ref = 0;
+  vma->anonMaps = 0;
+  if (shouldRelease){
+    release(&mtable.lock);
+  }
+}
+
+int readFromPageCache(struct legend2 *m, char *addr, int offset, int length){
+  int toRead, lastPage, canRead, readFrom, actualRead;
+  char *page;
+
+  if (offset > m->f->ip->size){
+    return 0;
+  }
+
+  toRead = length;
+  lastPage = m->f->ip->size / PGSIZE;
+  if (m->f->ip->size % PGSIZE == 0){
+    lastPage--;
+  }
+  actualRead = 0;
+  // cprintf("Reading %d from %d\n", length, offset);
+
+  while (toRead){
+    int pageNum = (offset / PGSIZE);
+    page = m->physicalPages[pageNum];
+    readFrom = offset % PGSIZE;
+    canRead = min(PGSIZE - readFrom, toRead);
+    if (pageNum == lastPage){
+      int bytes = (m->f->ip->size % PGSIZE);
+      if (bytes == 0){
+        canRead = min(toRead, PGSIZE);
+      } else{
+        canRead = min(bytes - readFrom, toRead);
+      }
+      // cprintf("-------------------------------%d %d %d %d-----------------------------------\n", lastPage, toRead, bytes, canRead);
+    }
+    // cprintf("From page %d at %d can read %d | File size: %d\n", pageNum, readFrom, canRead, m->f->ip->size);
+
+    memmove(addr + actualRead, page + readFrom, canRead);
+
+    toRead -= canRead;
+    offset += canRead;
+    actualRead += canRead;
+    // Have you read the last page? If yes, break;
+    if (pageNum == lastPage){
+      break;
+    }
+  }
+
+  if (length - toRead != actualRead){
+    panic("Incorrect logic\n");
+  }
+
+  return actualRead;
+}
+
+int mmapdeallocuvm(pde_t *pgdir, uint oldsz, uint newsz){
+  pte_t *pte;
+  uint a, pa;
+
+  if(newsz >= oldsz)
+    return oldsz;
+
+  a = PGROUNDUP(newsz);
+  for(; a  < oldsz; a += PGSIZE){
+    pte = walkpgdir(pgdir, (char*)a, 0);
+    if(!pte)
+      a = PGADDR(PDX(a) + 1, 0, 0) - PGSIZE;
+    else if((*pte & PTE_P) != 0){
+      pa = PTE_ADDR(*pte);
+      if(pa == 0)
+        panic("kfree");
+      *pte = 0;
+    }
+  }
+  return newsz;
+}
+
+struct mmapInfo *readIntoPageCache(void *addr, unsigned int length, int prot, int flags, struct file *f, int offset){
+  struct proc *currproc = myproc();
+  struct legend2 *m = 0;
+  // cprintf("Reading into Page Cache\n");
+
+  // Find in the global cache
+  m = findInCache(f);
+
+  if (!m && ((m = mmapAlloc()) == 0)){
+    cprintf("Call a geographer: I'm out of maps!\n");
+    return 0;
+  }
+
+  acquire(&mmapCache.lock);
+  m->f = f;
+  m->mapRef++;
+  m->f->ref++;
+  release(&mmapCache.lock);
+
+  // Check if fd prot and map prot are compatible
+  int fileProt = m->f->readable?1:0 | m->f->writable?2:0;
+  if ( (fileProt & prot) == 0){
+    return (void *) 0xffffffff;
+  }
+
+  // Extend the process size if necessary - you could check if such a mapping already exists in the process address space (not doing this currently)
+  int newSz;
+  char *start;
+
+  newSz = PGROUNDUP(offset+length) - PGROUNDDOWN(offset);
+  start = extend(currproc, currproc->sz, newSz);
+
+  struct mmapInfo *vma = mmapAssign(m, 0, start, offset, length, prot, flags, '1');
+  offset = PGROUNDDOWN(offset);
+
+  int status = 0;
+  if ((status = mmapAssignProc(currproc, vma)) == -1){
+    return 0;
+  }
+
+  // Use the VMA
+
+  // Allocate PTEs
+  if (( status = mmapAllocUvm(currproc->pgdir, vma, 0, 0)) <0 ){
+    cprintf("Couldn't allocate\n");
+    return 0;
+  }
+
+  // Load the pages
+    // Use the struct legend and the vma to figure out which pages are needed and load only the necessary pages
+  int written;
+
+  if (offset >= f->ip->size){
+    // Need to allocate pages still
+    int pageIndex = vma->firstPageIndex;
+    for (int i=0; i < vma->numPages; i++){
+      vma->pages->ref[pageIndex]++;
+    }
+  } else{
+    ilock(m->f->ip);
+    if (( written = mmapLoadUvm(currproc->pgdir, m, vma, 0, 0)) < 0){
+      cprintf("Loading failed\n");
+      iunlock(m->f->ip);
+      return 0;
+    }
+    iunlock(m->f->ip);
+  }
+
+  // printInfo(m);
+  mmapdeallocuvm(currproc->pgdir, currproc->sz, currproc->sz - newSz);
+  currproc->sz -= newSz;
+
+  // freeVMA(vma);
+  return vma;
+}
+
+int writeToPageCache(struct legend2 *map, char *addr, int offset, int length){
+  // This needs to update the VMA end
+  char *pagePointer;
+  int pageIndex, toWrite, canWrite;
+
+  pageIndex = PGROUNDDOWN(offset) / PGSIZE;
+  toWrite = length;
+
+  offset = offset % PGSIZE;
+  while (toWrite){
+    pagePointer = map->physicalPages[pageIndex];
+    if (!pagePointer){
+      panic("871 Unmapped\n");
+    }
+    pagePointer += offset;
+
+    canWrite = min(toWrite, PGSIZE - offset);
+    memmove(pagePointer, addr, canWrite);
+
+    toWrite = toWrite - canWrite;
+    offset  = (offset + canWrite) % PGSIZE;
+
+    addr = addr + canWrite;
+    pageIndex++;
+  }
+
+  return length - toWrite;
+}
+
+int mmapAssignProc(struct proc *currproc, struct mmapInfo *vma){
+  for (int i=0; i < NOMAPS; i++){
+    if (!currproc->maps[i] || currproc->maps[i]->ref == 0){
+      currproc->maps[i] = vma;
+      return 0;
+    }
+  }
+  return -1;
+}
+
+struct legend2 *findInCachePage(struct file *f, int offset, int length, int op){
+  struct legend2 *map = findInCache(f);
+  if (!map && ((map = mmapAlloc())) == 0){
+    panic("Out of maps\n");
+    return 0;
+  }
+  if (!op && offset >= f->ip->size){
+    return 0;
+  }
+  int pageNum = offset / PGSIZE;
+  int lastPage = (offset + length) / PGSIZE;
+  if ((offset + length) % PGSIZE == 0){
+    lastPage--;
+  }
+  int prot = f->readable?PROT_READ:0 | f->writable?PROT_WRITE:0;
+  for (int page = pageNum; page <= lastPage; page++){
+    // Check if page is present
+    if (map->physicalPages[page]){
+    } else{
+      // If not, read into the cache
+      readIntoPageCache(0, PGSIZE, prot, MAP_SHARED, f, page * PGSIZE);
+      // cprintf("\n#########################################\n");
+      // cprintf("Read in page num %d\n", page);
+      // cprintf("#########################################\n");
+    }
+  }
+  return map;
+}
+
+void *mmap_helper(void *addr, int length, int prot, int flags, int fd, int offset){
+  // Anonymous Maps aren't cached, do you need to?
+  // Process calls MAP_ANON and MAP_SHARED, you note this in the struct proc
+
+  if (length <= 0){
+    return MAP_FAILED;
+  }
+
+  if (PGROUNDDOWN(offset) != offset){
+    return MAP_FAILED;
+  }
+
+  struct proc *currproc = myproc();
+  struct legend2 *m = 0;
+  struct anon *anonMap = 0;
+  struct file *f = 0;
+
+  switch(flags){
+    case MAP_SHARED: 
+    case MAP_PRIVATE:
+      if (fd < 0 || fd > NOFILE){
+        return MAP_FAILED;
+      }
+      f = currproc->ofile[fd];
+      if (f->ip == (struct inode *) 0x80112a24){
+        return MAP_FAILED;
+      }
+      break;
+    case MAP_ANONYMOUS | MAP_PRIVATE: 
+    case MAP_ANONYMOUS | MAP_SHARED: 
+      offset = 0;
+      break;
+    default: return MAP_FAILED;
+  }
+
+  if (!(flags & MAP_ANONYMOUS)){
+    // Find in the global cache
+    m = findInCache(f);
+
+    if (!m && ((m = mmapAlloc()) == 0)){
+      cprintf("Call a geographer: I'm out of maps!\n");
+      return (void *) 0xffffffff;
+    }
+
+    acquire(&mmapCache.lock);
+    m->f = currproc->ofile[fd];
+    m->mapRef++;
+    m->f->ref++;
+    release(&mmapCache.lock);
+
+    // Check if fd prot and map prot are compatible
+    int fileProt = (m->f->readable?1:0) | (m->f->writable?2:0);
+    if ( (fileProt & prot) != prot){
+      if (prot == PROT_NONE){
+      } else{
+        return (void *) 0xffffffff;
+      }
+    }
+  } else{
+    // This is anonymous mapping
+    // Get a struct anon from anonCache
+    acquire(&anonCache.lock);
+    for (int i=0; i<NMAPS; i++){
+      if (anonCache.anonMaps[i].ref == 0){
+        anonMap = &anonCache.anonMaps[i];
+        break;
+      }
+    }
+
+    if (!anonMap){
+      release(&anonCache.lock);
+      return MAP_FAILED;
+    }
+
+    anonMap->ref++;
+    release(&anonCache.lock);
+    offset = 0;
+  }
+
+  // Extend the process size if necessary - you could check if such a mapping already exists in the process address space (not doing this currently)
+  int newSz;
+  char *start;
+
+  newSz = PGROUNDUP(length);
+  start = extend(currproc, currproc->sz, newSz);
+
+  struct mmapInfo *vma = mmapAssign(m, anonMap, start, offset, length, prot, flags, '\0');
+  offset = PGROUNDDOWN(offset);
+
+  int status = 0;
+  if ((status = mmapAssignProc(currproc, vma)) == -1){
+    freeVMA(vma);
+    return MAP_FAILED;
+  }
+
+  return vma->start;
+}
+
+void clearAnon(struct anon *am){
+  for (int i=0; i<3; i++){
+    am->physicalPages[i] = 0;
+  }
+  am->ref = 0;
+}
+
+void clearMap(struct legend2 *m){
+  m->f->ref--;
+  m->f = 0;
+  m->mapRef = 0;
+  for (int i=0; i<MAX_PAGES; i++){
+    m->physicalPages[i] = 0;
+    m->ref[i] = 0;
+  }
+}
+
+// Write to disk function
+  // returns success or fail
+int writeToDisk(struct mmapInfo *vma, int pageIndex){
+  acquire(&mmapCache.lock);
+  int n = PGSIZE;
+  struct legend2 *m = vma->pages;
+  char *addr = m->physicalPages[pageIndex];
+  
+  if (!m){
+    panic("Should have had a legend\n");
+  }
+
+  m->f->off = pageIndex * PGSIZE;
+
+  if (pageIndex==vma->firstPageIndex+vma->numPages-1){
+    // We're writing the last page, do not write beyond the vma specified
+    if (((uint) vma->end % PGSIZE) == 0){
+      // Skip
+    } else{
+      n = min((uint) vma->end - PGROUNDDOWN((uint) vma->end), PGSIZE);
+      // int checkForHole = 0;
+      // int lastByteWritten = 0;
+      // int hole = 1;
+      // // Or till the actual number of bytes written. Was there an intentions to create a hole?
+      // for (int i=0; i<PGSIZE; i++){
+      //   if (addr[i]=='\0'){
+      //     lastByteWritten = i;
+      //     checkForHole = 1;
+      //   }
+      //   if (checkForHole && addr[i]!='\0'){
+      //     hole = 1;
+      //   }
+      // }
+    }
+  }
+  int r = 0;
+  int max = ((MAXOPBLOCKS-1-1-2) / 2) * 512;
+  int i = 0;
+  while(i < n){
+    int n1 = n - i;
+    if(n1 > max)
+      n1 = max;
+    release(&mmapCache.lock);
+    begin_op();
+    ilock(m->f->ip);
+    if ((r = writei(m->f->ip, addr + i, m->f->off, n1)) > 0)
+      m->f->off += r;
+    iunlock(m->f->ip);
+    end_op();
+    acquire(&mmapCache.lock);
+    if(r < 0){
+      break;
+    }
+    if(r != n1)
+      panic("short filewrite");
+    i += r;
+  }
+
+  release(&mmapCache.lock);
+  return 0;
+}
+
+void clearPTE(pde_t *pgdir, char *va, int numPTEs){
+  // Since VMA allocates consecutive PTEs, we just need to find the first PTE to clear and then we clear numPTEs
+  pte_t *pte;
+
+  pte = walkpgdir(pgdir, va, 0);
+  if (!pte){
+    panic("Yet to handle");
+  }
+
+  for (int i=0; i < numPTEs; i++){
+    if (!(*pte & PTE_P)){
+      pte++;
+      continue;
+    }
+    *pte = 0;
+    pte++;
+  }
+}
+
+void freeMap(struct legend2 *map, int clearAll){
+  // This should only happen when mapRef is 0
+  if (map->mapRef != 0){
+    panic("Freeing map that is referenced");
+  }
+  // We don't need to clear the PTEs. It will be cleared in freevm as well as the pages, but we need to check if the pages are dirty or not
+  clearMap(map);
+}
+
+void freeAnon(struct anon *anon, int clearAll){
+  // This should only happen when anon ref is 0
+  if (anon->ref != 0){
+    panic("Freeing map that is referenced");
+  }
+  // We don't need to clear the PTEs. It will be cleared in freevm as well as the pages, but we need to check if the pages are dirty or not
+  clearAnon(anon);
+}
+
+void printVMAStatistics(struct mmapInfo *vma){
+  cprintf("Ref: %d | %d | %d | %c %d\n", vma->ref, vma->firstPageIndex, vma->numPages, vma->fileOp, vma->fileOp=='1'?vma->fileOp:0);
+  if (vma->pages){
+    for (int i=vma->firstPageIndex; i < vma->firstPageIndex + vma->numPages; i++){
+      cprintf("---%d ", vma->pages->ref[i]);
+    }
+  }
+  cprintf("\n");
+}
+
+void setDirty(pte_t *pte, int bit){
+  *pte &= ~PTE_DIRTY;
+}
+
+void cleanUpVMA(struct mmapInfo *vma){
+  struct proc *currproc = myproc();
+  pte_t *pteIndex;
+  char *addr = vma->start;
+  acquire(&mtable.lock);
+  if ((vma->flags & (MAP_ANONYMOUS)) == 0){
+    if (vma->flags & MAP_SHARED){
+      // int update = 0;
+      // if (vma->pages->f->off >= vma->pages->f->ip->size){
+      //   update = 1;
+      // }
+      // Use MAXPAGES if any process can write other processes' changes to the file back to disk
+      // printVMAStatistics(vma);
+      for (int i=vma->firstPageIndex; i < vma->firstPageIndex + vma->numPages; i++, addr+=PGSIZE){
+        if (vma->pages && (uint) vma->pages->physicalPages[i] > 0){
+          vma->pages->ref[i]--;
+          pteIndex = walkpgdir(currproc->pgdir, addr, 0);
+          if (!pteIndex){
+            panic("Yet to handled 1078");
+          }
+          if (!(*pteIndex & PTE_P) && !vma->fileOp){
+            continue;
+          }
+          if (isDirty(pteIndex) || vma->fileOp){
+            release(&mtable.lock);
+            writeToDisk(vma, i);
+            acquire(&mtable.lock);
+            setDirty(pteIndex, 0);
+          }
+          if (vma->pages->ref[i] == 0){
+            vma->pages->physicalPages[i] = 0;
+          } else{
+            clearPTE(currproc->pgdir, addr, 1);
+          }
+        }
+      }
+      vma->ref--;
+      vma->pages->mapRef--;
+      if (vma->pages->mapRef == 0){
+        freeMap(vma->pages, 0);
+      }
+      if (vma->ref == 0){
+        freeVMA(vma);
+      }
+    } else{
+      vma->ref--;
+      vma->pages->mapRef--;
+      if (vma->ref == 0){
+        if (vma->pages->mapRef == 0){
+          freeMap(vma->pages, 0);
+        }
+        freeVMA(vma);
+      } else{
+        clearPTE(currproc->pgdir, vma->start, vma->numPages);
+      }
+    }
+  } else{
+    vma->ref--;
+    vma->anonMaps->ref--;
+    if (vma->ref==0){
+      if (vma->anonMaps->ref == 0){
+        freeAnon(vma->anonMaps, 1);
+      }
+      freeVMA(vma);
+    } else{
+      clearPTE(currproc->pgdir, vma->start, vma->numPages);
+    }
+  }
+  release(&mtable.lock);
+}
+
+int munmap_helper(void *addr, unsigned int length){
+  if (length <= 0){
+    return -1;
+  }
+  if (!addr || (PGROUNDDOWN((uint) addr) != (uint) addr )){
+    return -1;
+  }
+
+  char *roundAddr;
+  struct mmapInfo *vma = 0;
+  int vmaIndex = 0;
+
+  roundAddr = (char *) PGROUNDDOWN((uint) addr);
+
+  // Find the VMA
+  struct proc *currproc = myproc();
+  for (int i=0; i<NOMAPS; i++){
+    if (currproc->maps[i] && currproc->maps[i]->ref){
+      if (currproc->maps[i]->start <= roundAddr && roundAddr < currproc->maps[i]->end){
+        vma = currproc->maps[i];
+        vmaIndex = i;
+        break;
+      }
+    }
+  }
+
+  if (!vma){
+    return 0;
+  }
+
+  // Possibly divide the VMA into 2
+  // Does it span the entire VMA?
+  struct mmapInfo *leftVMA = 0;
+  struct mmapInfo *rightVMA = 0;
+  if (roundAddr == vma->start && roundAddr + length >= vma->end){
+    // Entire VMA
+  } else if (roundAddr == vma->start){
+    // Divide into right-side VMA
+    char *newStart = (char *) PGROUNDDOWN((uint) (vma->start + length));
+    int newOffset = PGROUNDUP(vma->firstPageIndex * PGSIZE + length);
+    rightVMA = mmapAssign(vma->pages, vma->anonMaps, newStart, newOffset, (uint) vma->end - (uint) newStart, vma->prot, vma->flags, '\0');
+    if (!rightVMA){
+      return -1;
+    }
+  } else if (roundAddr + length >= vma->end){
+    // Divide into left-side VMA
+    char *newStart = vma->start;
+    int newOffset = (uint) roundAddr - (uint) vma->start;
+    leftVMA = mmapAssign(vma->pages, vma->anonMaps, newStart, newOffset, newOffset, vma->prot, vma->flags, '\0');
+    if (!leftVMA){
+      return -1;
+    }
+  } else{
+    // Divide into left-and-right-side VMA
+    char *left = vma->start;
+    char *leftEnd = roundAddr;
+    int leftOffset = (uint) leftEnd - (uint) left;
+    char *right = (char *) PGROUNDUP((uint) (roundAddr + length));
+    char *rightEnd = vma->end;
+    int rightOffset = (uint) rightEnd - (uint) right;
+    leftVMA = mmapAssign(vma->pages, vma->anonMaps, left, leftOffset, leftOffset, vma->prot, vma->flags, '\0');
+    rightVMA = mmapAssign(vma->pages, vma->anonMaps, right, rightOffset, rightOffset, vma->prot, vma->flags, '\0');
+    if (!leftVMA || !rightVMA){
+      if (leftVMA){
+        freeVMA(leftVMA);
+      } else if (rightVMA){
+        freeVMA(rightVMA);
+      }
+      return -1;
+    }
+  }
+
+  int status = 0;
+  if (leftVMA){
+    // Switch the VMAs in current process
+    currproc->maps[vmaIndex] = leftVMA;
+
+    // Now assign the rightVMA if it exists
+    if (rightVMA){
+      if ((status = mmapAssignProc(currproc, rightVMA)) == -1){
+        return -1;
+      }
+    }
+  } else if (rightVMA){
+    currproc->maps[vmaIndex] = rightVMA;
+  }
+
+  // So, we have to deallocate the memory of the process and possibly flush it back to disk
+  char *start = roundAddr;
+  char *end = (char *) min(PGROUNDUP((uint) (start + length)), PGROUNDUP((uint) vma->end));
+  char *va = start;
+  pte_t *pte;
+  int pageIndex = (int) (roundAddr - vma->start) / PGSIZE + vma->firstPageIndex;
+  // cprintf("------------------%d %d--------------------\n", (int) (roundAddr - vma->start) / PGSIZE, vma->firstPageIndex);
+  // cprintf("---------------------------------%d-----------------------------------\n", vma->pages->f->ip->size);
+  if (vma->fileOp){
+    vma->end = vma->start + vma->pages->f->ip->size;
+  }
+  uint pa;
+
+  struct legend2 *m;
+  struct anon *am;
+  int *ref;
+  int *count = 0;
+
+  m = vma->pages;
+  am = vma->anonMaps;
+
+  // For MAP_PRIVATE, we would like to discard the pages
+  // For MAP_SHARED, check if the page's reference count has gone down or not and write to the disk
+  if (m){
+    ref = vma->pages->ref;
+    for (; va < end; va += PGSIZE){
+      if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+        panic("munmap: pte should exist");
+      }
+      if (!(*pte & PTE_P)){
+        continue;
+      }
+      // Decrement the page reference count
+      ref[pageIndex]--;
+      if (ref[pageIndex] == 0){
+        // Check if the page is dirty and write it back to the disks
+        if (isDirty(pte)){
+          writeToDisk(vma, pageIndex);
+        }
+        m->physicalPages[pageIndex] = 0;
+        if(!pte)
+          va = (char *) (PGADDR(PDX((uint) va) + 1, 0, 0) - PGSIZE);
+        else if((*pte & PTE_P) != 0){
+          pa = PTE_ADDR(*pte);
+          if(pa == 0)
+            panic("kfree");
+          char *v = P2V(pa);
+          kfree(v);
+          *pte = 0;
+        }
+      }
+      // THIS IS DOUBTFUL
+      *pte = 0;
+      pageIndex++;
+    }
+  } else{
+    va = start;
+    count = &vma->anonMaps->ref;
+    for (; va < end; va += PGSIZE){
+      if ((pte = walkpgdir(currproc->pgdir, va, 0)) == 0){
+        panic("munmap: pte should exist");
+      }
+      // Decrement the page reference count
+      (*count)--;
+      if (*count == 0){
+        clearAnon(am);
+
+        if(!pte)
+          va = (char *) (PGADDR(PDX((uint) va) + 1, 0, 0) - PGSIZE);
+        else if((*pte & PTE_P) != 0){
+          pa = PTE_ADDR(*pte);
+          if(pa == 0)
+            panic("kfree");
+          char *v = P2V(pa);
+          kfree(v);
+          *pte = 0;
+        }
+      }
+      // Remove the page table entry
+      *pte = 0;
+      pageIndex++;
+    }
+  }
+  
+  // Remove VMA from struct proc
+  // Decrement the ref count. If the ref count is 0, free the VMA
+  vma->ref--;
+  if (vma->ref == 0){
+    freeVMA(vma);
+  } else{
+    // Assign the leftVMA and rightVMA
+  }
+  lcr3(V2P(currproc->pgdir));
+  return 0;
+}
+
+void handleMapFault(char *addr){
+  struct mmapInfo *vma = 0;
+  struct proc *currproc = myproc();
+
+  acquire(&mtable.lock);
+  for (int i=0; i<NOMAPS; i++){
+    struct mmapInfo *map = currproc->maps[i];
+    if (map && map->start <= addr && addr < map->end){
+      vma = map;
+      break;
+    }
+  }
+  release(&mtable.lock);
+
+  pte_t *pte;
+  if (( pte = walkpgdir(currproc->pgdir, (void *) addr, 0)) == 0){
+    panic("Something's wrong");
+  }
+  if (!vma){
+    // We shouldn't be handling this
+    cprintf("Paging fault 1\n");
+    exit();
+    return;
+  }
+
+  if (*pte & PTE_P){
+    if (*pte & PTE_W){
+      panic("There shouldn't have been any fault\n");
+    } else{
+      if (vma->prot & PROT_WRITE){
+        // This would only happen for MAP_PRIVATE maps
+        // 1. Alloc new pages over the same range
+        // 2. Clear the initial page table entries with correct permissions
+        acquire(&mtable.lock);
+        vma->actualFlags |= PTE_W;
+        mmapAllocUvm(currproc->pgdir, vma, 1, addr);
+        vma->actualFlags &= ~PTE_W;
+        // 3. Flush TLB: Reload the base register cr3
+        // 4. Should I clear the map? Need to experiment with actual mmap You don't need to keep track of the private mappings
+        release(&mtable.lock);
+        return;
+      } else{
+        cprintf("Paging fault 2\n");
+        exit();
+        return;
+      }
+    }
+  } else{
+    if (vma->prot == PROT_NONE){
+      cprintf("Paging fault 3\n");
+      exit();
+      return;
+    }
+    struct legend2 *m = vma->pages;
+    int status;
+    if (( status = mmapAllocUvm(currproc->pgdir, vma, 0, addr)) < 0 ){
+      return;
+    }
+
+    if (!(vma->flags & MAP_ANONYMOUS)){
+      // Load the pages
+      int written;
+      ilock(m->f->ip);
+      if (( written = mmapLoadUvm(currproc->pgdir, m, vma, 0, addr)) < 0){
+        iunlock(m->f->ip);
+        return;
+      }
+      iunlock(m->f->ip);
+      return;
+    } else{
+      return;
+    }
+  }
+  return;
+}
+
+void clear(pde_t *pgdir, struct mmapInfo *m){
+  // Get the pte, clear it
+  pte_t *pte;
+
+  pte = walkpgdir(pgdir, m->start, 0);
+  for (int i=0; i<m->numPages; i++){
+    if (!(*pte & PTE_P)){
+      continue;
+    }
+    *pte = 0;
+    pte++;
+  }
+}
+
 //PAGEBREAK!
 // Blank page.
 //PAGEBREAK!
 // Blank page.
 //PAGEBREAK!
 // Blank page.
-
